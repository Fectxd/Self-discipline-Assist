# âš¡ ç«‹å³å¼€å§‹

## ç¬¬ä¸€æ­¥ï¼šè®¾ç½®é•œåƒï¼ˆé‡è¦ï¼ï¼‰

åœ¨ PowerShell ä¸­è¿è¡Œï¼š

```powershell
$env:PUB_HOSTED_URL="https://pub.flutter-io.cn"
$env:FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"
```

## ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–

```powershell
cd "d:\è‡ªå¾‹åŠ©æ‰‹\self_discipline_assistant"
flutter pub get
```

## ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œåº”ç”¨

```powershell
# Windows æ¡Œé¢ç‰ˆï¼ˆæ¨èç”¨äºè°ƒè¯•ï¼‰
flutter run -d windows

# æˆ–è€… Web ç‰ˆ
flutter run -d chrome
```

---

## ğŸ“¦ é¡¹ç›®å·²åŒ…å«çš„åŠŸèƒ½

### âœ… æ—¥ç¨‹ç®¡ç†
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤æ—¥ç¨‹
- è®¾ç½®å¼€å§‹å’Œç»“æŸæ—¶é—´
- æ ‡è®°å®ŒæˆçŠ¶æ€
- æŒ‰æ—¥æœŸç­›é€‰æŸ¥çœ‹

### âœ… æ™ºèƒ½æ—¥å†
- æœˆè§†å›¾å±•ç¤º
- è‡ªåŠ¨æ ‡è®°ï¼šå·¥ä½œæ—¥ï¼ˆè“ï¼‰ã€å‘¨æœ«ï¼ˆç»¿ï¼‰ã€èŠ‚å‡æ—¥ï¼ˆçº¢ï¼‰
- **é•¿æŒ‰æ—¥æœŸå¯æ‰‹åŠ¨è¦†ç›–ç±»å‹**
- æ‰‹åŠ¨è®¾ç½®ä¼˜å…ˆçº§æœ€é«˜

### âœ… ä¸­å›½èŠ‚å‡æ—¥
- å®æ—¶ API è·å–ï¼ˆhttps://timor.tech/api/holiday/ï¼‰
- æœ¬åœ°ç¼“å­˜åŠ é€Ÿ
- è‡ªåŠ¨è¯†åˆ«è°ƒä¼‘å·¥ä½œæ—¥

### âœ… æ•°æ®å­˜å‚¨
- SQLite æœ¬åœ°æ•°æ®åº“
- æ‰€æœ‰æ•°æ®ç¦»çº¿å¯ç”¨
- è‡ªåŠ¨åˆå§‹åŒ–

---

## ğŸ¯ ä½¿ç”¨æŠ€å·§

### å¿«é€Ÿæ·»åŠ æ—¥ç¨‹
1. ç‚¹å‡»æ—¥ç¨‹é¡µå³ä¸‹è§’ â•
2. å¡«å†™æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
3. å¯é€‰ï¼šæè¿°ã€æ—¶é—´èŒƒå›´
4. ä¿å­˜

### ä¿®æ”¹æ—¥æœŸç±»å‹
1. åˆ‡æ¢åˆ°"æ—¥å†"æ ‡ç­¾
2. **é•¿æŒ‰**è¦ä¿®æ”¹çš„æ—¥æœŸ
3. é€‰æ‹©ï¼šå·¥ä½œæ—¥ / å‘¨æœ« / èŠ‚å‡æ—¥
4. å¯éšæ—¶"æ¢å¤é»˜è®¤"

### æŸ¥çœ‹æŸå¤©æ—¥ç¨‹
1. åœ¨æ—¥ç¨‹é¡µç‚¹å‡»é¡¶éƒ¨æ—¥æœŸ
2. é€‰æ‹©æ—¥æœŸ
3. æŸ¥çœ‹/ç¼–è¾‘è¯¥å¤©æ‰€æœ‰æ—¥ç¨‹

---

## ğŸ”§ å¸¸è§é—®é¢˜

**Q: Windows æ„å»ºå¤±è´¥ï¼ˆMSB8066 é”™è¯¯ï¼‰ï¼Ÿ**
```powershell
# æ–¹æ³•1: è¿è¡Œä¿®å¤è„šæœ¬
.\fix_build.ps1

# æ–¹æ³•2: æ‰‹åŠ¨æ¸…ç†
flutter clean
Remove-Item -Recurse -Force build
flutter pub get
flutter run -d windows

# æ–¹æ³•3: ä½¿ç”¨ Web ç‰ˆæœ¬ï¼ˆæ¨èç”¨äºå¿«é€Ÿæµ‹è¯•ï¼‰
flutter run -d chrome
```

**Q: ä¾èµ–å®‰è£…æŠ¥é”™ï¼Ÿ**
```powershell
# ç¡®ä¿è®¾ç½®äº†é•œåƒ
$env:PUB_HOSTED_URL="https://pub.flutter-io.cn"
$env:FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"

# æ¸…ç†ç¼“å­˜é‡è¯•
flutter clean
flutter pub get
```

**Q: è¿è¡ŒæŠ¥é”™ï¼Ÿ**
```powershell
# æ£€æŸ¥ Flutter ç‰ˆæœ¬
flutter doctor

# ç¡®ä¿ Windows å¹³å°å·²å¯ç”¨
flutter config --enable-windows-desktop
```

**Q: èŠ‚å‡æ—¥æ•°æ®ä¸æ˜¾ç¤ºï¼Ÿ**
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®ä¿èƒ½è®¿é—® https://timor.tech
- é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ä¸‹è½½å½“å¹´å’Œæ˜å¹´æ•°æ®

**Q: æƒ³é‡ç½®æ‰€æœ‰æ•°æ®ï¼Ÿ**
```powershell
# åˆ é™¤æ•°æ®åº“æ–‡ä»¶
Remove-Item "$env:LOCALAPPDATA\SelfDiscipline\databases\self_discipline.db"
# é‡æ–°è¿è¡Œåº”ç”¨å³å¯
```

---

## ğŸ“± ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

- [ ] æ¥å…¥ GPT API æ™ºèƒ½è§„åˆ’
- [ ] æ™ºèƒ½è°ƒæ•´æ—¥ç¨‹åº”å¯¹çªå‘æƒ…å†µ
- [ ] ä¹ æƒ¯è¿½è¸ª
- [ ] æ•°æ®ç»Ÿè®¡åˆ†æ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] äº‘ç«¯åŒæ­¥

---

## ğŸ“„ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schedule.dart    # æ—¥ç¨‹
â”‚   â”œâ”€â”€ day_type.dart    # æ—¥æœŸç±»å‹
â”‚   â””â”€â”€ holiday.dart     # èŠ‚å‡æ—¥
â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ database_service.dart  # æ•°æ®åº“
â”‚   â”œâ”€â”€ holiday_service.dart   # èŠ‚å‡æ—¥API
â”‚   â””â”€â”€ day_service.dart       # æ—¥æœŸç®¡ç†
â”œâ”€â”€ screens/          # é¡µé¢
â”‚   â”œâ”€â”€ schedule_screen.dart   # æ—¥ç¨‹ç•Œé¢
â”‚   â””â”€â”€ calendar_screen.dart   # æ—¥å†ç•Œé¢
â””â”€â”€ main.dart         # å…¥å£
```

---

ç°åœ¨å¯ä»¥è¿è¡Œäº†ï¼ğŸš€
