"use strict";(self.homePageWebpackChunks=self.homePageWebpackChunks||[]).push([["common"],{486:function(t,e,n){n.d(e,{B4:function(){return o},L9:function(){return r},wx:function(){return s}});var i=n(44369);const r="stn",o="aad";function s(){return(0,i.l)().useEnterpriseCompliance()}},669:function(t,e,n){n.d(e,{$z:function(){return T},Be:function(){return j},Dv:function(){return M},FU:function(){return z},H8:function(){return I},HM:function(){return W},Ie:function(){return S},JF:function(){return D},LT:function(){return E},Mw:function(){return U},NN:function(){return v},Qw:function(){return q},RH:function(){return C},Rj:function(){return O},Tv:function(){return N},UP:function(){return R},Wh:function(){return V},Ww:function(){return B},YA:function(){return x},YI:function(){return F},cZ:function(){return _},nN:function(){return P},p_:function(){return y},s2:function(){return k},tO:function(){return $},wQ:function(){return H},xk:function(){return w},yL:function(){return L}});var i=n(70056),r=n(83003),o=n(80004),s=n(51600),a=n(17254),c=n(12870),u=n(19548),l=n(77246),d=n(30817),f=n(30216),h=n(98216),p=n(50180),m=n(18750);const g=new Set;function v(t){if(!t)return;if(g.has(t))return;const e=document.createElement("link");e.rel="preload",e.as="image",e.href=t,document.head.appendChild(e),g.add(t)}function w(t){try{const e=new Date(t),n=(new Date).getTime()-e.getTime();return Math.ceil(n/864e5)>3}catch(t){return!0}}function y(t,e,n,i,r){if(!t)return{logoImage:"",name:void 0};const o=i??16;let c="";const u={width:o,height:o,enableDpiScaling:!1,quality:100,format:s.f5.PNG},l="zh-cn"===(0,a.rA)().CurrentMarket;!e&&t.logo&&t.logo.id?c=(0,s.XP)(t.logo.id,u):r&&!l?c=`${(0,a.rA)().StaticsUrl}latest/views/img/yt-16.png`:(t.logoUrl||t.logo&&t.logo.url)&&(c=(0,s.oQ)(t.logoUrl||t.logo.url,u));const d={logoImage:c,id:t.id,name:t.name,profileId:t.profileId};return n&&(d.immersiveCardSvgLogo=b(n,t.darkThemeSVGLogo),d.svgLogo=(0,m.ud)()?d.immersiveCardSvgLogo:b(n,t.lightThemeSVGLogo)),d}function b(t,e){if(!e)return e;const n=e.width&&e.height?t*e.width/e.height:void 0;return{url:e.url,height:t,width:n}}function S(t){var e,n,i,r;if(null!=t&&null!==(e=t.cardContent)&&void 0!==e&&e.isPanoCard&&1==(null==t||null===(n=t.cardContent)||void 0===n?void 0:n.panocardType))t.cardContent.images=[{url:null===(i=t.cardContent)||void 0===i||null===(i=i.panoCaption)||void 0===i||null===(i=i.thumbnail)||void 0===i?void 0:i.url,title:null===(r=t.cardContent)||void 0===r||null===(r=r.panoCaption)||void 0===r?void 0:r.title,width:2e3,height:3e3}];else if(!(t&&t.cardContent&&t.cardContent.images&&t.cardContent.images.length&&t.cardContent.images[0]&&t.cardContent.images[0].url)){var o,s;return null!=t&&null!==(o=t.cardContent)&&void 0!==o&&o.isPanoCard&&2==(null==t||null===(s=t.cardContent)||void 0===s?void 0:s.panocardType)&&(t.cardContent.isPanoCard=!1,t.cardContent.panoCaption=null),null}return t.cardContent.images[0]}function x(t){return t&&t.images&&t.images.length&&t.images[0]&&t.images[0].url?t.images[0]:null}function C(t,e){var n,i;const{type:o,cardContent:s}=t;return e&&o==r.pL.Article&&s&&(null==s||null===(n=s.panoCaption)||void 0===n||null===(n=n.publishers)||void 0===n?void 0:n.length)&&(null==s||null===(i=s.panoCaption)||void 0===i?void 0:i.eventId)}function k(t,e){null==e||e.preventDefault(),t&&t.panoCaption&&window.open(t.panoCaption.destinationUrl.toString(),"_blank"),null!=e&&e.currentTarget&&(e.currentTarget.classList.add("clicked"),h.YT.sendActionEvent(null==e?void 0:e.currentTarget))}function T(t,e){t.panoCaption.articleDestinationUrl&&(t&&t.panoCaption&&window.open(t.panoCaption.articleDestinationUrl.toString(),"_blank"),h.YT.sendActionEvent(null==e?void 0:e.currentTarget))}function $(t,e){return"bing"===(null==t?void 0:t.toLowerCase())&&a.T3.IsChinaCompliance&&e}var A;function I(t,e){var n;if(null!=t&&null!==(n=t.placement)&&void 0!==n&&n.isAdFeedbackEnabled&&(e|=f.J.enabled),!(e&&e&f.J.enabled))return f.J.none;let{actions:i=[]}=t.metadata||t;const r=t.cardContent?t.cardContent.badges:t.badges,o=t.metadata?t.metadata.reasons:t.reasons;(r&&r.some(t=>"followedPublisher"===t.type)||o&&o.some(t=>"followPublisher"===t.type))&&(i=[...i||[],A.followedPublisher]),o&&o.some(t=>"followTopic"===t.type)&&(i=[...i||[],A.followedTopic]);let s=f.J.enabled;return i.forEach(t=>{"save"===t&&(t="saved"),"liked"!==t&&"like"!==t||(t="showMore");const n=f.J[t];n&e&&(s|=n)}),s}function P(t,e,n){if(!t)return;if(!e)return t.cardActionsTooltips;const{cardActionsTooltips:r,showMoreV2:o,showFewerV2:s,undoShowMoreV2:a}=t,c=r&&(e.enableSaveButton||!o),u=((e,r,o)=>{switch(null==n?void 0:n.type){case i.ac.FOLLOWEDPUBLISHER:case i.ac.FOLLOWEDTOPIC:return t.followConfirmationText&&(null===(e=n.follow)||void 0===e?void 0:e.name)&&(0,p.GP)(t.followConfirmationText,n.follow.name);case i.ac.LOCAL:return null===(r=t.cardActionsTooltips)||void 0===r?void 0:r.whyAmISeeLocal;case i.ac.TRENDING:return null===(o=t.cardActionsTooltips)||void 0===o?void 0:o.whyAmISeeTrending;case i.ac.EXPLORE:{var s,a;const e=null===(s=t.cardActionsTooltips)||void 0===s?void 0:s.whyAmISeeExplore;return e&&(null==n||null===(a=n.follow)||void 0===a?void 0:a.name)&&(0,p.GP)(e,n.follow.name)}}})()??(null==r?void 0:r.whyAmISee);return{...r,showMore:c?r.showMore:o,showFewer:c?r.showFewer:s,undoShowMore:c?r.undoShowMore:a,whyAmISee:u}}function _(t,e){if(t&&t.cardContent){const e=t.cardContent.destinationUrl;return t.type===r.pL.EventInfopaneShoppingAI&&(t.cardContent.isShoppingArticleCard=!0),e&&(t.cardContent.destinationUrl=M(e)),t}const n=t;let i;i=n.type===r.pL.Slideshow?"SlideshowPreview":n.type===r.pL.Video?"VideoPreview":n.type===r.pL.WebContent?"WebContentPreview":"ArticlePreview",n.cardContent={id:n.id,destinationUrl:M(n.url),type:i,title:n.title,aiComments:n.aiComments,abstract:n.abstract,customTransitionSpeed:n.customTransitionSpeed,provider:n.provider,locale:n.locale,images:n.images,publishedDateTime:n.publishedDateTime,colorSamples:n.colorSamples,badges:n.badges,topics:n.topics,videoFiles:n.externalVideoFiles||[],videoMetadata:n.videoMetadata||{},isLocalContent:n.isLocalContent};const o=n.type;return n.metadata||o===r.pL.AmplifyAd||o===r.pL.NativeAd||o===r.pL.CmsAd||o===r.pL.IntraNativeAd&&e||(n.metadata=function(t){var e,n,i,o,s,a,c;if(t&&t.metadata)return t.metadata;const u=t;if(!u)return null;const l=u.type===r.pL.EventInfopaneShoppingAI?/[/?]/:"/",d=null===(e=u.cardContent)||void 0===e||null===(e=e.destinationUrl)||void 0===e?void 0:e.split(l);return{abstract:u.abstract,abstractLength:null===(n=u.abstract)||void 0===n?void 0:n.length,titleLength:null===(i=u.title)||void 0===i?void 0:i.length,category:u.category||(null==d?void 0:d.length)>=5&&d[4],subCategory:(null==d?void 0:d.length)>=6&&d[5],primaryImage:{height:u.images&&(null===(o=u.images[0])||void 0===o?void 0:o.height),width:u.images&&(null===(s=u.images[0])||void 0===s?void 0:s.width)},locale:u.locale,feed:{id:null===(a=u.feed)||void 0===a?void 0:a.id},kicker:[u.feed],actions:null===(c=u.actions)||void 0===c?void 0:c.map(t=>A[t]||t),reactionStatus:u.reactionStatus,commentStatus:u.commentStatus,reactionSummary:u.reactionSummary,commentSummary:u.commentSummary,topComments:u.topComments,reasons:u.reasons,source:u.source,ref:u.ref,relatedCards:u.relatedCards,topics:u.topics,topQuestions:u.topQuestions,highlights:u.highlights,debugId:u.debugId,isFirstSectionCard:u.isFirstSectionCard,videoMetadata:u.videoMetadata}}(n)),n}function M(t){if(!t)return;const e=new URLSearchParams(window.location.search),n=new URL(t);if(F()){const t=e.get("ocid");if(t){const e=new URLSearchParams(n.search);e.set("ocid",t),n.search=`?${e.toString()}`}}const i=e.getAll("item");return i&&i.length?(i.forEach(t=>{const e=n.search?"&":"?";-1===n.search.indexOf(t)&&(n.search+=`${e}item=${t}`)}),n.toString()):n.toString()}function R(){return null!==u._3.getQueryParameterByName("edge",window.location.href)}function E(){return null!==u._3.getQueryParameterByName("launcher",window.location.href)}function F(){const t=window.location.href;return null!==u._3.getQueryParameterByName("disti",t)}function D(t){const{followText:e,followingText:n,followSuccessMessage:i,unfollowSuccessMessage:r,interestErrorMessage:o}=t;return{followText:e,followingText:n,followSuccessMessage:i,unfollowSuccessMessage:r,interestErrorMessage:o}}function O(t,e){const n=t===r.pL.WebContent,i=n&&Boolean(e);return{isVideo:i||t===r.pL.Video,isWebContent:n,isWebVideo:i}}function N(t){return t&&t.length&&t[0]&&t[0].url?t[0]:null}function U(t,e,n,i){var r,o,a;const{attribution:c,title:u=t.title,url:l,focalRegion:d}=(null===(r=t.images)||void 0===r?void 0:r[0])||(null===(o=t.cardContent.images)||void 0===o?void 0:o[0])||{},f=[];let h;u&&f.push(u),c&&f.push(c),f.length&&(h=f.join(" - "));let p=90;const m=null===(a=window)||void 0===a||null===(a=a.navigator)||void 0===a||null===(a=a.connection)||void 0===a?void 0:a.effectiveType;if(m){p={"slow-2g":20,"2g":40,"3g":60,"4g":80}[m]}else(R()||E()||F())&&(p=70);const{width:g,height:v}=e,w=(0,s.oQ)(l,{width:g,height:v,focalRegion:d,enableDpiScaling:!1,quality:p,devicePixelRatio:1,enableWebpFormat:i});return{imageWidth:g.toString(),imageHeight:v.toString(),source:w,altText:h,visualReadinessCallback:n}}function L(t,e,n,i){if(!t||null==e||!e.name||null==n||!n.contentProviderAttributionLabel||i&&(null==n||!n.contentTypeFormattingAriaLabel))return null;const r=B(n,i);return r?(0,p.GP)(null==n?void 0:n.contentTypeFormattingAriaLabel,r,t,e.name):(0,p.GP)(n.contentProviderAttributionLabel,t,e.name)}function B(t,e){return e===r.pL.Slideshow?null==t?void 0:t.galleryAriaLabel:e===r.pL.Video?null==t?void 0:t.videoAriaLabel:e===r.pL.WebContent?null==t?void 0:t.crawledContentLabel:void 0}function W(t,e){var n,i;return null!=t&&null!==(n=t.find(t=>t.isDarkMode))&&void 0!==n&&n.hexColor&&null!=t&&null!==(i=t.find(t=>!t.isDarkMode))&&void 0!==i&&i.hexColor?t:(0,o.mt)(e)}function H(t,e,n){if(!t||!e||!n)return;const r=(0,i.lP)(e,n);return r&&(r.type,i._Y.OPINION,r.localizedLabel=t[r.type+"BadgeLabel"]),r}function V(t){return t.enableUltraCards}function z(t){return!!t&&("play"===(null==t?void 0:t.category)&&"games"===(null==t?void 0:t.subCategory))}function j(t,e,n){try{var i,r;if(!(null!=e&&e.trackContentCardAge||"edgeChromium"===a.T3.AppType&&null!==(i=c.Rb.CurrentFlightSet)&&void 0!==i&&null!==(r=i.has)&&void 0!==r&&r.call(i,"rprefeedrefreshcont"))||!t||!(0,l.S)())return;const o=(0,d.ZF)();if(o.contentCardAges||(o.contentCardAges=[]),o.contentCardAges.length<4){const e=new Date(t),i=new Date,r=Math.floor((i.getTime()-e.getTime())/6e4);o.contentCardAges.push(r),"BreakingNewsNotification"===n&&(o.BreakingNewsAge=r)}}catch(t){}}function q(t,e,n){var i,r;const o=(null==e?void 0:e.totalCount)||0;return{upvotes:(null==t||null===(i=t.subReactionSummaries)||void 0===i||null===(i=i.find(t=>"upvote"===t.type))||void 0===i?void 0:i.totalCount)??0,downvotes:(null==t||null===(r=t.subReactionSummaries)||void 0===r||null===(r=r.find(t=>"downvote"===t.type))||void 0===r?void 0:r.totalCount)??0,comments:o,disabledComments:"disabled"===n}}!function(t){t.liked="like",t.unliked="unlike",t.saved="save",t.followedPublisher="followedPublisher",t.followedTopic="followedTopic"}(A||(A={}))},930:function(t,e,n){n.d(e,{Cm:function(){return o},KF:function(){return c},P:function(){return l},R3:function(){return u},f1:function(){return s},iw:function(){return a},uE:function(){return i}});var i,r=n(18284);!function(t){t.pill="pill",t._1x_halfy="_1x_halfy",t._2x_halfy="_2x_halfy",t._1x_1y="_1x_1y",t._1x_2y="_1x_2y",t._1x_3y="_1x_3y",t._1x_4y="_1x_4y",t._1x_5y="_1x_5y",t._2x_1y="_2x_1y",t._2x_2y="_2x_2y",t._2x_3y="_2x_3y",t._2x_4y="_2x_4y",t._2x_6y="_2x_6y",t._3x_1y="_3x_1y",t._3x_2y="_3x_2y",t._3x_3y="_3x_3y",t._4x_1y="_4x_1y",t._4x_2y="_4x_2y",t._5x_1y="_5x_1y",t._5x_2y="_5x_2y",t._25u="0.25u",t._05u="0.5u",t._075u="0.75u",t._1u="1u",t._125u="1.25u",t._15u="1.5u",t._175u="1.75u",t._2c="_2x_2y",t._2u="_1x_4y",t._3u="_1x_6y"}(i||(i={}));const o=146,s=300,a=12,c=306,u=16,l=(0,r.A)(t=>Array(t).fill(o))},943:function(t,e,n){n.d(e,{e:function(){return s}});var i=n(12870),r=n(17720);const o="__windowsClientSettings__",s=()=>(r.vv.get(o)||r.vv.set(o,Object.freeze(function(){const t=i.Rb.ClientSettings;if(!t)return{};const e={activityId:t.aid||"",appType:t.apptype,categoryKey:t.categoryKey,pageType:t.pagetype,verticalKey:t.verticalKey||"",ocid:t.ocid};try{if(t.locale)e.market=`${t.locale.language}-${t.locale.market}`;else{const t=location.pathname.split("/");t&&t[1]&&(e.market=t[1].toLowerCase())}}catch(t){}return e}())),r.vv.get(o))},997:function(t,e,n){n.d(e,{D7:function(){return s},T8:function(){return o},VG:function(){return r},u7:function(){return a}});var i=n(85889);function r(t,e,n){const r=n&&"phone"===n.toLowerCase(),o=e&&"enterprise"===e;let s="Edge";(0,i.tl)()?s="swiftKey":(0,i.LT)()?s="Launcher":(0,i.V8)()&&(s="bingHomepageMobile");return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:o?"entnews":"anaheim",hybrid:"spartan",hub:r?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:r?"prime_mobile":"prime",homePage:r?"prime_mobile":"prime",windowsShell:"windowsshell",edgeMobile:s,winWidgets:o?"entwindowsdash":"windowsdash"}[t]}function o(){return window._pgNameOverride}const s={homePage:{vertical:"homepage",category:"",id:"",domainId:"13041",title:"undefined"!=typeof document?document.title:""}};function a(t){let e=t;switch(t){case"windowsshellhp":e="dhp";break;case"video":e="watch";break;case"EdgeMobile":e=(0,i._v)()?"ntp":"dhp"}return e}},1215:function(t,e,n){n.d(e,{$:function(){return r},W:function(){return i}});const i="consent-banner-container",r="onetrust-sdk"},1350:function(t,e,n){n.d(e,{Az:function(){return r},H7:function(){return i},Vq:function(){return s},im:function(){return o}});const i="0067acd6d05f4168b92f510d33b9ed74",r="service::api.msn.com::MBI_SSL",o="service::www.msn.com::MBI_SSL",s="api://www.msn.com/OneService.Read"},1732:function(t,e,n){n.d(e,{sY:function(){return R},Lc:function(){return D},WH:function(){return N},hb:function(){return x},HD:function(){return C},zl:function(){return U},Qn:function(){return A},nX:function(){return z},$2:function(){return W},nm:function(){return j},KQ:function(){return V},YX:function(){return L},cA:function(){return P},ei:function(){return F},Fz:function(){return k},Cw:function(){return K},e7:function(){return M},qC:function(){return q},Z3:function(){return B},Ph:function(){return b},Rx:function(){return E},Il:function(){return T},Xm:function(){return $},h_:function(){return I},Zx:function(){return J},WY:function(){return G},TK:function(){return O}});var i=n(19548),r=n(79426),o=n(53384),s=n(17254),a=n(93468),c=n(65022),u=n(30817),l=n(17720),d=n(77246),f=n(41820),h=n(12870),p=n(89980),m=n(98216);function g(t){if("undefined"==typeof window||!window.document||window.isRenderServiceEnv)return void(0,a.c_)(new Error("DOM is not available"),c.JhR,"DOM is not available to use trusted types API.");const e=window.trustedTypes;if(!e)return void(0,a.c_)(new Error("Trusted types API is not available"),c.NRk,"Trusted types API is not available to use.");if(!e.createPolicy)return void(0,a.c_)(new Error("Trusted types API createPolicy function is not available"),c.Z2S,"Trusted types API createPolicy function is not available to use.");const n=window.trustedTypePolicies||(window.trustedTypePolicies={});if(n[t])return n[t];const i=e.createPolicy(t,{createScriptURL:t=>{const e=function(t){const e=["ntp.msn.com","ntp.msn.cn","assets.msn.cn","assets.msn.com","www.bing.com","assets2.msn.com","assets2.msn.cn","int.msn.com","r.bing.com","business.bing.com","staticview.msn.com","staticview.msn.cn",document.location.hostname],n=["clarity.ms"];let i;try{i=new URL(t,location.origin)}catch(e){return(0,a.c_)(new Error("Failed to construct URL"),c.r4U,"URL is invalid",`Invalid URL: ${t}`),"about:blank#error"}if(i.hostname){const t=e.includes(i.hostname),r=n.some(t=>i.hostname.endsWith(`.${t}`));if(!t&&!r)return(0,a.c_)(new Error("URL violates Trusted Types"),c.Fwv,"URL hostname is not allowed",`Invalid URL hostname: ${i.hostname}`),"about:blank#error"}return t}(t);return e}});return n[t]=i,i}n(43820);var v=n(98793),w=n(48172),y=n(34713);const b="isCoordsCacheInvalid";const S="__cachedClientFeaturesKey__";async function x(){var t,e;const n=C();if(n)return n;let i=void 0!==(null===(t=h.Rb.EdgeNTPHeader)||void 0===t?void 0:t.enabledFeatures);const r=(null===(e=h.Rb.EdgeNTPHeader)||void 0===e?void 0:e.enabledFeatures)||[],o=window.chrome;let s={enabled:r,disabled:[]};if(o){const t=o.ntpSettingsPrivate;if(t&&"function"==typeof t.getConfigData){const e=await new Promise(e=>t.getConfigData(e));i=void 0!==(null==e?void 0:e.enabledFeatures),s={enabled:(null==e?void 0:e.enabledFeatures)||[],disabled:(null==e?void 0:e.disabledFeatures)||[]}}}return i&&l.vv.set(S,s),s}function C(){return l.vv.get(S)}async function k(){const{enabled:t}=await x();return null==t?void 0:t.filter(t=>t.includes("msNtpExp"))}async function T(){const{enabled:t}=await x();return null==t?void 0:t.includes("msReducedNtpAdsForNewDevice_BlockAllAds")}async function $(){const{enabled:t}=await x();return null==t?void 0:t.includes("msReducedNtpAdsForNewDevice_BlockOnly3PAds")}async function A(){const{enabled:t}=await x(),e=null==t?void 0:t.filter(t=>t.startsWith("msNtpReducedAdsSdCards"));return e&&e.length>0?e[0]:null}function I(){var t;if("1"===new URLSearchParams(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.search).get("lowend"))return!0;if(window&&window.deviceMemory)return window.deviceMemory<=4;const e=window&&window.navigator;if(!e)return!1;const{deviceMemory:n=-1}=e;return n<=4}function P(){let t=!1;const e="os-sku";if(!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv))try{if(window&&window.external&&window.external.getHostEnvironmentValue(e)){const n=JSON.parse(window.external.getHostEnvironmentValue(e));t=n&&"192"===n[e]}}catch(t){}return t}async function _(){const t=await w.f.getPreferenceSetting(f.bJ.layoutHistory,!0);return t&&t.value}async function M(){const t=await w.f.getPreferenceSetting(f.bJ.wpo),e=t&&t.value,n=e&&e.recommendedLayoutRetargetHistory&&e.recommendedLayoutRetargetHistory.length;return n?n+"":"0"}function R(){const t=(0,p.Lg)().getObject("AdminPortalSettings");if(!t)return!1;const{isOfficeContentEnabled:e,isShowCompanyAndIndustry:n}=t;return!e&&!n}async function E(){const{enabled:t}=await x();return!(null==t||!t.length)&&t.includes("msNtpExpBlockLayoutPromotions")}async function F(t){try{var e,n;const i=await _();let r=i&&i.wpoLayoutHistory,o=i&&i.userLayoutHistory;const s={};return r||(r=await async function(t){const e=await w.f.getPreferenceSetting(f.bJ.wpo),n=e&&e.value,i=n&&n.layoutHistory;if(i&&i.length){const e=t?i[i.length-1]:i[0];return{time:e.time,changeKey:"layout",from:f.IT[e.from],to:f.IT[e.to]}}return null}(t)),t||o||(o=await async function(){const t=await v.Q.getPreferenceSetting(f.K5.layout_mode,!0),e=t&&t;return e?{time:e.timestamp,changeKey:"layout",from:8,to:e.value}:null}()),null!==(e=r)&&void 0!==e&&e.time&&(s.promotion=`${r.time}_${"layout"==r.changeKey?"l":"f"}_${r.from}_${r.to}`),null!==(n=o)&&void 0!==n&&n.time&&(s.selection=`${o.time}_${"layout"==o.changeKey?"l":"f"}_${o.from}_${o.to}`),s}catch(t){return{}}}async function D(){}function O(t,e){const n=g(e);return n?n.createScriptURL(t):((0,a.c_)(new Error("Trusted Types policy creation error"),c.KSf,"Trusted Types policy creation failed, Trusted Types API is unavailable."),t)}async function N(){var t;const e=await w.f.getPreferenceSetting("background_setting_preferences",!0);return null==e||null===(t=e.value)||void 0===t?void 0:t.backgroundSelectionMetadata}async function U(){const t=window&&window.chrome&&window.chrome.ntpSettingsPrivate;if(t&&t.getPref)return new Promise(e=>{t.getPref("ntp.background_image",function(t){e(null==t?void 0:t.value)})})}(0,d.S)()&&"visible"===document.visibilityState&&async function(){var t;const e=null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.embeddedSearch)||void 0===t||null===(t=t.newTabPage)||void 0===t?void 0:t.getTabTimings;if(!e)return;const n=(0,u.ZF)();e((t,e)=>{t&&e&&void 0!==e.tabStartToNavigationStart&&(n.tabStartToNavigationStart=Math.round(e.tabStartToNavigationStart))})}();async function L(t){let e;var n;if((h.Rb.EdgeNTPHeader||await v.Q.isApiAvailableToUse())&&(e=null===(n=h.Rb.EdgeNTPHeader)||void 0===n||null===(n=n.freSeenCount)||void 0===n?void 0:n.toString(),!e)){const t=await v.Q.getPreferenceSetting(f.K5.seen_interest_fre_count,!0);e=t&&t.value?t.value.toString():"0"}const r=await W(),o=await async function(){const{enabled:t}=await x();return null==t?void 0:t.includes("msNtpExpDisableFre")}(),s=r&&Date.now()-r<864e5,u=i._3.getQueryParameterByName("firstlaunch",window.location.href),l=!e||!isNaN(parseInt(e))&&parseInt(e)<3;t||"1"===u||s||o?e="10":B()&&l&&((0,a.vV)(c.tAV,"FRE overlay is disabled because of auth refresh",`{"seenCountToSend": ${e}}`),e="20");const d=i._3.getQueryParameterByName("overlay",window.location.href);return d&&(e=d),e}function B(){var t;const e=l.vv.get("authRefreshing"),n=null===(t=m.YT.getPageMetadata())||void 0===t||null===(t=t.contract)||void 0===t||null===(t=t.page)||void 0===t?void 0:t.isAutoRefresh;return!(!e&&!n)&&(m.YT.addOrUpdateTmplProperty("isauthrefreshing","1"),!0)}async function W(){return await H()||await z()}async function H(){var t;if(null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.ntpSettingsPrivate)||void 0===t||!t.getConfigData)return;const e=new r.e;return window.chrome.ntpSettingsPrivate.getConfigData(t=>{e.set((null==t?void 0:t.newProfileFreSeenTime)||null)}),e.getResultAsync()}async function V(){var t,e;return null!==(t=h.Rb.EdgeNTPHeader)&&void 0!==t&&t.newProfFreTime?null===(e=h.Rb.EdgeNTPHeader)||void 0===e?void 0:e.newProfFreTime:await H()}async function z(){var t,e,n,i,o,s;if(null!==(t=h.Rb.EdgeNTPHeader)&&void 0!==t&&t.seenNewDevFre&&null!==(e=h.Rb.EdgeNTPHeader)&&void 0!==e&&e.newDevFreTime)return null===(s=h.Rb.EdgeNTPHeader)||void 0===s?void 0:s.newDevFreTime;if(null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n||!n.getPref||null===(i=window)||void 0===i||null===(i=i.chrome)||void 0===i||null===(i=i.ntpSettingsPrivate)||void 0===i||!i.getConfigData)return;const a=new r.e;return null===(o=window)||void 0===o||null===(o=o.chrome)||void 0===o||null===(o=o.ntpSettingsPrivate)||void 0===o||o.getPref(f.JW.hasUserSeenNewFre,t=>a.set(null==t?void 0:t.value)),a.getResultAsync().then(t=>{if(!t)return null;const e=new r.e;return window.chrome.ntpSettingsPrivate.getConfigData(t=>{e.set((null==t?void 0:t.newDeviceFreSeenTime)||null)}),e.getResultAsync()})}async function j(){var t;if(null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.ntpSettingsPrivate)||void 0===t||!t.getConfigData)return;const e=new r.e;return window.chrome.ntpSettingsPrivate.getConfigData(t=>{e.set((null==t?void 0:t.profileCreationTime)||null)}),e.getResultAsync()}async function q(){return new Promise(t=>{var e;const n=null===(e=window)||void 0===e||null===(e=e.chrome)||void 0===e?void 0:e.ntpSettingsPrivate;n?n.getPref(f.JW.widgetsRegion,function(e){t(!1!==(null==e?void 0:e.value))}):t(!1)})}const G=(t,e)=>{var n;if(null!==(n=window.chrome)&&void 0!==n&&null!==(n=n.ntpSettingsPrivate)&&void 0!==n&&n.launchEdgeFeedback){const n=new CustomEvent("EdgeFeedbackDialogOpened");document.dispatchEvent(n);const i=(0,o.KI)();if(i){const n=new URL(window.location.href),r=n.hash;n.hash=t||`${e}${i}`,history.replaceState(history.state,void 0,n),window.location.reload(),window.chrome.ntpSettingsPrivate.launchEdgeFeedback(),window.stop(),n.hash=r||"",history.replaceState(history.state,void 0,n)}else window.chrome.ntpSettingsPrivate.launchEdgeFeedback()}},J=t=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[t];function K(){if((0,y.aG)()&&"ru-ru"!==s.T3.CurrentMarket)return{enableNTPStaticRoutes:!0,enableStaticAdsRouting:false}}},1755:function(t,e,n){function i(t){for(const[e,n]of t)window[e]=n;const e=new CustomEvent(o,{detail:{adUniqueIds:Array.from(t.keys())}});document.dispatchEvent(e)}function r(t){for(const e of t)delete window[e]}n.d(e,{YW:function(){return i},r6:function(){return r},rz:function(){return o}});const o="nativeAdRendered"},2429:function(t,e,n){n.d(e,{Be:function(){return u},JQ:function(){return l},Re:function(){return c},V1:function(){return h},bJ:function(){return a},ul:function(){return f}});var i=n(12870),r=n(33918),o=n(65022),s=n(93468);function a(t){var e,n;if(!(null!==i.Rb&&void 0!==i.Rb&&null!==(e=i.Rb.CurrentFlightSet)&&void 0!==e&&e.has("prg-ad-mon-feedback")||null!==i.Rb&&void 0!==i.Rb&&null!==(n=i.Rb.CurrentFlightSet)&&void 0!==n&&n.has(r.pL)))return!1;if(!t)return!1;const o=/\$\{[A-Z_]+\}/.test(t),s=t.includes("${FEEDBACK}")||t.includes("${RLINK}")||t.includes("${CANVAS}")||t.includes("${ADVERTISER_DOMAIN}");return o&&s}function c(t,e,n,i){return t.includes(e)?t.replace(e,n):t.concat(`&${i}=${n}`)}function u(t,e,n){const i=`&${e}=${n}`;return t.replaceAll(i,"")}function l(t){if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("rlink");if(n)return n;const i=e.searchParams.get("clickenc");if(i)return d(i);const r=t.match(/[&/]clickenc=([^&/]*)/);return r?d(r[1]):null}catch{return null}}function d(t){try{const e=decodeURIComponent(t).match(/[&?]rlink=([^&]*)/);return e?decodeURIComponent(e[1]):null}catch{return null}}function f(t,e){if(t)try{const e=JSON.parse(t);if(null!=e&&e.adDomain)return e.adDomain}catch(e){(0,s.c_)(e,o.cgf,`Failed to parse adSelectionCriteria: ${null==t?void 0:t.substring(0,200)}`)}if(e)try{var n;const t=JSON.parse(e),i=null==t||null===(n=t.ads)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.advertiserDomain;if(i)return i}catch(t){(0,s.c_)(t,o.cgf,`Failed to parse adSelectionReason: ${null==e?void 0:e.substring(0,200)}`)}}function h(t){return null!=t&&""!==t}},2462:function(t,e,n){n.d(e,{Ri:function(){return w},ab:function(){return y},Ti:function(){return b},Ub:function(){return S}});var i=n(46117),r=n(99893),o=n(79742),s=n(9774);const a={[s.j.Essential]:["AL","ALS","AL_ANON","AL_APP_ANNON","AL_STATE","ANON","ANONCKNM","APP_ANON","APP_TWID","APP_WID","BFB","BFBUSR","DefaultLocation","Edgecac","FreWv","GalleryMode","MC1","MS0","MSCC","MSFPC","MSPRequ","MUID","MUIDB","MicrosoftApplicationsTelemetryDeviceId","OSAT","OSATE","OptanonAlertBoxClosed","OptanonConsent","OvrlyTrf","PreferencesMsn","RC","RUM","RecentStocks","SRCHD","SRCHHPGUSR","SRCHUID","SRCHUSR","Sample","TOptOut","TWID","UMH2E","WID","WLMMAC","_EDGE_S","_EDGE_V","_SS","_U","__rubyState","__rubyUX","_cb","_cb_ls","_cb_svref","_copilotDiscoverUX","_hpFeedView","_switchBannerClosed","aace","ace","afdprotocol","ahs-dismissed","ahs-installed","ahs-showings","ai_session","aqp","at-bing","bcookie","bingimage","bwssoc","cac","cb","cbypass","cfrecnt","cg_new_visit_timestamp","cgusc","child","cmdisp","cmwr","currentaccount","ddlcur","df","ecasession","elt","eub","eupubconsent","eupubconsent-v2","gfrecnt","hidebn","i18next","ipt","ipv6","isdomainmigrated","lt","marketPref","mktreset","mniotd","mnmarket","msaOptout","msaoptout","nactk","no_read_more","notiStats","ntps","numac","orfc_feeds","pbmi","pglt-edgeChromium-dhp","pglt-edgeChromium-ntp","pglt-microsoftNews-msnews","pglt-microsoftNews-startpage","pop","refresh-reason","sbc-dismissed","sbc-installed","sbc-showings","smd","sptmarket","sptmarket_restored","theme","timeZoneOffsetInMins","uaid","videoCookiesLastCategory","videoerrorcount","w10rp","w10rpls"],[s.j.Advertising]:["BizoID","adslrid","dub_downlevel","eAPID","ecadprovider","ecisession","ecmsession","ecsession"],[s.j.SocialMedia]:["promptDisplayCount"],[s.j.ThirdPartyAnalytics]:[]};var c=n(92261),u=n(93468),l=n(65022),d=n(45181),f=n(27261),h=n(77246);const p=["at-bing","elt","eupubconsent-v2","lt","AL","ALS","MSNRPSSecAuth","OSAT"],m=[";",","," "];var g=n(98216),v=n(18605);function w(t){const e=(0,f.gH)();return(0,v._)(e,t)}function y(){return w(i.ri)}function b(){return w(i.Ii)}function S(t,e,n,i,f,v,w){try{if(!d.n.get(d.Y.Initialized))return(0,h.S)()&&(0,u.vV)(l.Y1k,""),!1;if(void 0===n||n>0){if(!function(t){if(!(0,h.S)())return!1;const e=d.n.get(d.Y.CookieConsentStatus),n=d.n.get(d.Y.CookieConsentProvider),i=d.n.get(d.Y.ActiveCookieCategories);let c=!1;switch(n){case r.O.MSCCBanner:case r.O.OneTrustBanner:case r.O.WidgetHost:return function(t,e){for(const n of e){if(a[n].includes(t))return!0}let n=!1;const i=Object.keys(a).filter(t=>!e.includes(s.j[t]));for(const e of i){if(a[e].includes(t)){n=!0;break}}n||(0,u.vV)(l.lVo,`Attempting to write a cookie: "${t}" not present in the cookie category mapping.`);return!1}(t,i);default:c=e===o.z.NotRequired,c||(0,u.vV)(l.djn,`Consent status should be '2' (NotRequired), but is set to '${e}'`)}return c}(t))return!1;if(null==e)return(0,u.vV)(l.Iig,`Cookie value is being set to either 'undefined' or 'null'. cookie name: "${t}", cookie value: "${e}"`),!1;const i=typeof e;"string"!==i&&(e=JSON.stringify(e),(0,u.vV)(l.mVb,`Cookie value is not of string type. observed type: "${i}". cookie name: "${t}"`));for(const n of m)if(t.includes(n)||e.includes(n))return(0,u.vV)(l.Iig,`Cookie name and/or value contains invalid character: '${n}'. cookie name: "${t}"`),!1;n>365&&(0,u.vV)(l.w0w,`Cookie expiration time: ${n} days is greater than suggested max duration of 365 days (1 year). cookie name: "${t}"`);const c=t.length+(e&&e.length||0);c>1e3&&!p.includes(t)&&(0,u.vV)(l.k_z,`Cookie size: "${c} Bytes" is too big (> 1000 Bytes). cookie name: "${t}"`)}return function(t,e,n,i,r,o,s){let a;const u=[t,"=",e];if(n<0)a="Fri, 31 Dec 1999 23:59:59 GMT";else if(n){const t=new Date;t.setTime(t.getTime()+864e5*n),a=t.toUTCString()}a&&u.push(";expires=",a);i&&u.push(";domain=",i);r&&u.push(";path=",r);o&&u.push(";secure");s&&s!==c.a.Lax&&(u.push(";samesite=",s.toString()),s!==c.a.None||o||u.push(";secure"));document&&(/muid/i.test(t)&&g.YT&&g.YT.addOrUpdateTmplProperty(`cookie_muid_set_${t}_${+new Date}`,"1"),document.cookie=u.join(""))}(t,e,n,i,f,v,w),!0}catch(e){return(0,u.vV)(l.yAh,`trySetCookie() failed with error: "${e.message}". cookie name: "${t}"`),!1}}},2509:function(t,e,n){n.d(e,{DZ:function(){return h},X4:function(){return f},wE:function(){return d}});var i=n(65022),r=n(93468),o=n(16091),s=n(17720),a=n(86676),c=n(49084);const u=Symbol("__DigitalIdSubscription__"),l=Symbol("__DigitalIdSubscriptionEvents__"),d=s.vv.get(l,()=>({DigitalIdUpdate:"DigitalIdUpdate"})),f=(0,o.G)({getInstance:()=>s.vv.get(u,()=>new a.Q)}),h=t=>{if(!(0,c.NY)()||!t)return;const e="string"==typeof t?function(t){if(!t||"string"!=typeof t)return;const e=new Set(["muid","anid","wid","at","it","picassoId"]),n=t.split(";").map(t=>t.trim()),i={};for(const t of n){const[n,r]=t.split("="),o=null==n?void 0:n.trim(),s=null==r?void 0:r.trim();o&&s&&e.has(o)&&(i[o]=s)}if(i.at)return i}(t):t;e&&0!==Object.keys(e).length?(e.at||(0,r.vV)(i.CO2,"No account type in digital ID payload"),f.publish(d.DigitalIdUpdate,e)):(0,r.vV)(i.JYg,"No digital ID payload")}},2543:function(t,e,n){n.d(e,{NT:function(){return a},n_:function(){return r}});const i=2.255859375,r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;if(!t||0===t.length)return 0;const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.13623046875,.3046875,.4375,.8,.6,.9,.8,.3,.4,.4328125,.5,.7,.4,.403125,.3,.6,.6,.403125,.6,.6,.7,.6,.6,.6,.6,.6,.3,.4,.6953125,.7,.6953125,.5,1,.8,.6046875,.7,.71875,.6,.503125,.7,.7359375,.3,.5,.7,.6,.925,.8,.8,.6,.9,.7,.6,.7,.703125,.8,1.1,.8,.8,.7,.4,.6,.3328125,.7,.6,.3,.5234375,.603125,.5,.603125,.6,.5,.603125,.6,.3,.5,.6,.3,.9,.6,.6,.603125,.603125,.4,.5,.5,.6,.7,.9,.7,.7,.6,.4,.3,.4,.7],r=s(n);return t.split("").map(t=>o(t,i,.5944274259868422,1.030769230769231)).reduce((t,e)=>e+t)*e*r},o=(t,e,n,i)=>{const r=t.charCodeAt(0);return r<e.length?e[r]:c(t)?i:n},s=t=>t>=700?1.15:t>=500?1.05:1,a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:265,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;if(!t||0===t.length)return 0;const s=t.split(" ");let a=1,c=e;for(let t=0;t<s.length;t++){const u=r(s[t],n,o);u>c?(a+=1,c=e-u-i):u===c?(a+=1,c=e):c=c-u-i}return a},c=t=>/^[\u4e00-\u9fff\u3040-\u30ff\u1100-\u11ff\u3130-\u318f\uac00-\ud7af]$/.test(t)},2603:function(t,e,n){n.d(e,{V:function(){return l}});var i=n(11372),r=n(29231),o=n(91326),s=n(6727),a=n(18806),c=n(39598),u=n(693);class l{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.enableBatchingForAllEvents=!1,this.enableBatchingEventList={},!0!==t?Array.isArray(t)&&t.forEach(t=>this.enableBatchingEventList[t]=!0):this.enableBatchingForAllEvents=!0}createPageViewPayload(t){if(t){return this.createEvent("PageView",{...t},o.XA.RealTime)}}createContentViewPayload(t,e,n,i,a){if(!e)return;const c=[];t.forEach(t=>{c.push(this.mapTelemetryObject(t))});const{contentViewType:l,isMeaningfulScroll:d}=n,f=(0,s.mm)();let h;(f||void 0!==i||void 0!==a)&&(h={content:{...f&&{docHeight:f},...i&&{vcard:i},...a&&{adDensity:a}}});const p={...e,...h,compressedObject:c,contentViewType:l};if(l===r.ym.Scroll&&(p.isMeaningfulScroll=d),!(0,u.A)(c)){return this.createEvent("ContentView",p,o.XA.RealTime)}}createActionPayload(t,e,n,r){if((0,u.A)(t)||!e)return;let s;n===i.EG.RightClick?s="rightclick":e&&e.browser&&!0===e.browser.isMobile?s="tap":n===i.EG.Click&&(s="click");const a=t.content&&t.content.type,l=t.type||(0,c.k)(a,r);0!==l&&(t.type=l),delete t.action,delete t.behavior,delete t.overrideId,delete t.overrideDestinationUrl,delete t.overrideEmailIdScrubbing;return this.createEvent("UserAction",{actionType:n,behavior:r,object:t,...e,gesture:s},o.XA.RealTime)}createEventPayload(t,e,n){if(!n)return;return this.createEvent(t,{...n,...e},o.XA.RealTime)}createCustomEventPayload(t,e,n){if(!n&&"AppError"!==t||(0,u.A)(e))return;return this.createEvent(t,{...n,extSchema:e},o.XA.RealTime)}mapTelemetryObject(t){let e;const n=t&&t.content&&t.content.type;(n||t.behavior)&&(e=(0,c.k)(n,t.behavior));const i={n:t&&t.name,y:t&&t.type||e,l:t&&t.content&&t.content.id,h:t&&t.content&&t.content.headlineIdx,v:t&&t.content&&t.content.vertical,tp:t&&t.content&&t.content.topic,c:t&&t.content&&t.content.category,s:t&&t.content&&t.content.source,f:t&&t.feed&&t.feed.id,ct:t&&t.content&&t.content.type,i:t&&t.placement&&t.placement.id,p:t&&t.placement&&t.placement.parentId,o:t&&t.placement&&t.placement.ordinal,tv:t&&t.content&&t.content.teraVertical,tc:t&&t.content&&t.content.teraCategory,aud:t&&t.content&&t.content.audienceMode,isLocal:t&&t.content&&t.content.isLocal,subscriptionType:t&&t.content&&t.content.subscriptionType,providerType:t&&t.content&&t.content.providerType,zone:t&&t.zone,isMonetized:t&&t.isMonetized,isFeed:t&&t.isFeed};return t.ext&&(i.ext=t.ext),i}createEvent(t,e,n){let i=0;return!s.OL||this.enableBatchingForAllEvents||this.enableBatchingEventList[t]||(i=2),{name:a.E0[t],data:e,baseType:a.E0.Base,latency:n,sync:i}}}},2692:function(t,e,n){n.d(e,{w:function(){return s}});var i=n(20048),r=n(64281);const o={name:"default-template",children:[...i._,{name:"gradient-mask",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]},s=(0,r.Wh)(o,"product-image",{imageMaskOn:!0})},3200:function(t,e,n){n.d(e,{I:function(){return s}});var i=n(53384),r=n(84855),o=n(7922);const s=async(t,e,n)=>{const s=(0,i.kP)(),a="headingsonly"===(null==e?void 0:e.selectedFeedDisplaySetting)||"off"===(null==e?void 0:e.selectedFeedDisplaySetting);if(!["gaming","productivityHub","following"].includes(s)&&!a){var c;const e=n?r.HPc:r.jCw,i={experienceType:e,instanceSrc:"default"},s=await t.getConfig(i);if(null!==(c=s.properties)&&void 0!==c&&c.auctionRidOverride)return;const a=(0,o.Nc)(s.properties,e,!0);a.fetchSamPredictContent([]),a.fetchCmsPredictContent()}}},3304:function(t,e,n){n.d(e,{h:function(){return I}});var i=n(14586),r=n(14383),o=n(17254),s=n(96592),a=n(12870),c=n(19548),u=n(19993),l=n(74326),d=n(96048),f=n(27261),h=n(77246),p=n(17720);var m=n(486),g=n(86948),v=n(59239),w=n(98216),y=(n(93468),n(65022),n(29252)),b=n(45083),S=n(1732);const x="gaming",C="following",k="filteredChannels",T="outlookchannels",$=new Map([["msNtpReducedAdsSdCards_stage1","reducedadss1"],["msNtpReducedAdsSdCards_stage2_group1","reducedadss2g1"],["msNtpReducedAdsSdCards_stage2_group2","reducedadss2g2"],["msNtpReducedAdsSdCards_stage3","reducedadss3"]]);function A(t,e,n){e&&t.set(n,e)}var I;!function(t){async function e(t,e,l){var m;const P=new s.m((0,f.iA)()),_=o.T3.UserId,{CurrentRequestTargetScope:M={},WidgetAttributes:R={},CurrentMarket:E}=o.T3;let F=e&&e.flightData;if(R.telemetry&&R.telemetry.tmpl&&R.telemetry.tmpl.includes("pwbingads2")){const t="prg-binghplite";F=F?`${F},${t}`:t}let D=new s.m(t);if(e.nextPageUrl)D=new s.m(new URL(e.nextPageUrl).search),!o.T3.SendFeedCallActivityIdInHeader&&o.T3.ActivityId&&(!n()||!function(){const t=a.Rb.CurrentFlightSet.has("prg-prsw");return"edgeMobile"!==o.T3.AppType&&"winWidgets"!==o.T3.AppType&&(!t||"edgeChromium"!==o.T3.AppType)}()&&D.get("activityId")||D.set("activityId",o.T3.ActivityId));else{let t=!1;if("bingHomepage"===o.T3.AppType){const e=window._model;t=!(null!=e&&e.EnforceNotSignedIn||"msa"!==(null==e?void 0:e.UserType)&&"msb"!==(null==e?void 0:e.UserType))}const s=2===await(0,g.XK)()||t;d.g.publish(d.m.userIsSignedIn,{isSignedIn:s,src:"main"});(s?u.WR.getOneServiceParamsWithAuth(_,e.ocid,!1,F||null):u.WR.getOneServiceParamsWithoutAuth(_||e.muidFallback&&`m-${o.T3.ActivityId}`,e.ocid,!1,F||null,!1,!1,"homePage"===o.T3.AppType||"bingHomepage"===o.T3.AppType)).forEach(t=>t.value&&D.set(t.key,t.value)),D.set("contentType",e.contentType),e.requestType===r.Yw.wpoService&&function(t,e,r){["bing-widgetfeed-Peregrine","winp2","anaheim-ntp-feeds","rubyntp","rubyprong2"].includes(t.ocid)||((0,u.XH)(t.ocid)?e.set("apikey",i.D):e.set("apikey",i.Qw));(t.useDelta||t.sessionId)&&(e.set("delta","true"),t.sessionId&&e.set("session",t.sessionId));!e.get("newsTop")&&n()&&t.feedName!==k&&e.set("newsTop",null==(o=t.numberOfCards)||""===o||"string"!=typeof o&&"number"!=typeof o||isNaN(o)?"48":t.numberOfCards);var o;!e.get("newsSkip")&&n()&&t.feedName!==k&&e.set("newsSkip","0");if(!e.get("User")){const t=e.get("userid");t?e.set("User",`m-${t}`):r&&e.set("User",r)}e.delete("user")}(e,D,_);if(e.feedName&&"default"!=e.feedName&&e.feedName===x){const t=P.get("gamingInterestId");if(t)D.set("query",t);else{var O;const t=window.widget__interestIds??e.interestIds;t&&(D.delete("query"),D.set("InterestIds",t));const{pageType:n}=R;"gamingfeed-widget"!==n&&"widget"!==(null===(O=a.Rb.ClientSettings)||void 0===O?void 0:O.pagetype)||D.set("wpopageid","wponoads");const i=window.widget__satoriId;"string"==typeof i&&D.set("satoriId",i)}}e.feedName===T&&(D.set("channels","true"),D.set("followersCount","true"),D.set("iff","true")),A(D,e.additionalFdhead,"fdhead"),A(D,e.msnup,"msnup")}(null==e?void 0:e.shouldAddTelemetryParameters)&&function(t){var e;const{appType:n,type:i,name:r}=(null===(e=w.YT.getPageMetadata())||void 0===e||null===(e=e.contract)||void 0===e?void 0:e.page)||{};n&&t.set("apptype",n),i&&t.set("pgtype",i),r&&t.set("pgname",r)}(D);const N=e.feedName===C||e.feedName===k;if(e.feedId){const t=e.useProviderKey||N&&!e.feedId.startsWith("Y_")?"ProviderId":"InterestIds";D.set(t,e.feedId)}A(D,1===e.edgeMobile&&"1","edgeMobile"),A(D,1===e.edgeMobileAds&&"1","edgeMobileAds"),A(D,1===e.oneULayout&&"1","oneULayout"),N&&D.set("iff","true");const U=P.get("OneSvc-Uni-Feat-Tun");U?D.set("OneSvc-Uni-Feat-Tun",U):"url"===p.vv.get("oneSvcUniTunMode")&&D.set("OneSvc-Uni-Feat-Tun",await u.WR.getUniFeatTunHeader()),A(D,!0===e.disableContent&&"true","disablecontent"),A(D,e.contentId,"contentId"),A(D,e.widgetsOn&&"true","widgetsOn"),A(D,e.renderedSegments,"renderedSegments"),A(D,e.copilotApiSupported&&"true","copilotApiSupported"),A(D,e.edgExpMask,"edgExpMask"),A(D,e.adsTimeout&&e.adsTimeout.toString(),"adsTimeout"),A(D,e.timeoutMs&&e.timeoutMs.toString(),"timeOut"),A(D,e.clientUtcOffset,"clientUtcOffset"),e.clientTimeStamp&&D.set("clientTimeStamp",encodeURIComponent(encodeURIComponent(e.clientTimeStamp))),A(D,e.unusedDocIds,"unusedDocIds"),A(D,e.aspectratio,"aspectratio");const L=(0,y.x5)();L>0&&D.set("cbypass",L.toString()),e.wpoPageId&&("wpoads"===e.wpoPageId.toLowerCase()&&"en-us"!==(null==E?void 0:E.toLowerCase())?D.set("wpopageid","wponoads"):D.set("wpopageid",e.wpoPageId)),(e.wpoSchema||e.wposchema)&&D.set("wposchema",e.wpoSchema??e.wposchema),e.newsTop&&n()&&D.set("newsTop",e.newsTop.toString()),e.newsSkip&&null==e.nextPageUrl&&n()&&D.set("newsSkip",e.newsSkip.toString()),(e.enableRightRailColumn||e.renderSingleColumn||e.renderEnterpriseSingleColumn)&&D.set("wpopageid",e.wpoPageId),e.installedWidgets&&e.installedWidgets.length&&D.set("installedWidgets",e.installedWidgets.join(",")),A(D,e.clientLayoutVersion,"clv"),A(D,e.layout,"layout"),A(D,e.linear&&"true","linear"),o.T3.SendFeedCallActivityIdInHeader&&D.delete("activityId"),o.T3.SendUserIdInHeader&&D.delete("User"),(0,h.S)()?e.isRetry?D.set("caller","retryForTimeout"):e.refreshType&&D.set("caller",e.refreshType):(D.set("caller","ssr"),A(D,window.isCacheRevalidateRequest&&"1","ssrcache")),A(D,e.isDhp&&"1","dhp"),e.isXFeed&&A(D,e.requestId,"rid"),A(D,e.private&&"1","private"),A(D,e.viewportSize,"vpSize"),A(D,e.apiKey,"apikey"),e.audienceMode&&(A(D,(null==M?void 0:M.audienceMode)||e.audienceMode,"audienceMode"),"kids"===e.audienceMode&&I()&&(D.set("apikey",i.lJ),D.set("ocid",i.yp),D.set("disablecontent","true"))),e.feedId&&e.feedName===C&&I()&&(D.set("ocid",i.tZ),D.set("apikey",i.LI));const B=(0,S.cA)();if(e.feedName===x&&"anaheim-ntp-feeds"===e.ocid&&B&&(D.set("ocid",i.$4),D.set("apikey",i.rA)),e.enableWpoAdPlacements){var W,H;const t="true"===(null===(W=a.Rb.ClientSettings)||void 0===W||null===(W=W.browser)||void 0===W?void 0:W.ismobile)||"phone"===(null===(H=a.Rb.ClientSettings)||void 0===H?void 0:H.deviceFormFactor)?"true":"false";D.set("mobile",t);const e=(0,v.GR)()||(0,v.Cl)();D.set("cookieWallPresent",e.toString())}const V=P.get("wpoitems");V&&D.set("wpoitems",V.toString());const z=P.get("bypass_trigger");z&&!e.feedId&&D.set("bypass_trigger",z.toString());for(const t in P.getAllSearchParams())if(t.toLowerCase().includes("adppc")){const e=P.get(t);e&&(D.set("adppc",e),w.YT.addOrUpdateTmplProperty("adppc","1"));break}A(D,(0,b.EZ)()&&"1","prerender"),A(D,e.adRefreshVariant,"adRefreshVariant"),A(D,e.anaheimPageLayout,"anaheimPageLayout"),A(D,e.feedYOffset&&`${e.feedYOffset}`,"feedYOffset"),A(D,e.gdpr&&"1","gdpr"),A(D,e.verticalName,"verticalName"),A(D,e.freScenario,"freScenario"),A(D,e.freMode,"freMode"),A(D,e.aver,"aver"),A(D,e.theme,"theme"),A(D,e.over,"over"),A(D,e.oem,"oem"),A(D,e.devicetype,"devicetype"),A(D,e.smode,"smode"),A(D,e.usri,"usri"),A(D,e.duotone&&e.duotone.toString(),"duotone"),A(D,e.cardIds,"cardIds"),A(D,e.column,"column"),A(D,void 0!==e.renderedAdCount&&e.renderedAdCount.toString(),"renderedAdCount"),A(D,e.feedColumn,"feedColumn"),A(D,void 0!==e.cardsHeight&&e.cardsHeight.toString(),"cardsHeight"),A(D,e.lastRowAdColumns,"lastRowAdColumns"),A(D,e.fcl&&"true","fcl"),A(D,e.idfc&&"true","idfc"),A(D,e.layout,"layout"),A(D,e.colstatus,"colstatus"),A(D,e.colwidth&&e.colwidth.toString(),"colwidth"),A(D,e.adoffsets,"adoffsets"),A(D,e.l3v&&e.l3v.toString(),"l3v"),A(D,e.wpoux&&e.wpoux.toString(),"wpoux"),A(D,e.interestCount&&`${e.interestCount}`,"interestCount"),A(D,e.providerId,"ProviderId"),A(D,e.gemId,"gemId"),A(D,e.topicId,"TopicId"),"viewslayout"===e.pageScenario&&A(D,e.start&&`${e.start}`,"$skip"),"freinterests"===e.pageScenario&&(e.start&&D.set(e.freV2Params?"interestSkip":"$skip",`${e.start}`),e.count&&D.set(e.freV2Params?"interestCount":"$top",`${e.count}`),A(D,e.InterestIds&&`${e.InterestIds}`,"InterestIds")),"providerfullpage"===e.pageScenario&&(A(D,e.communityProfileId&&`${e.communityProfileId}`,"communityProfileId"),e.query&&D.set("query","newest")),"channelfeed"===e.pageScenario&&A(D,e.interestIds&&`${e.interestIds}`,"InterestIds"),"me"===e.pageScenario&&e.interestIds&&D.set("ids",`${e.interestIds}`),A(D,e.webUrl,"WebUrl"),A(D,"number"==typeof e.pageConfiguration&&e.pageConfiguration.toString(),"pgc");const j=function(){var t;if(null!==(t=window)&&void 0!==t&&t.deviceMemory)return window.deviceMemory;return window&&window.navigator&&window.navigator.deviceMemory}();j&&n()&&D.set("memory",j.toString()),A(D,e.forceDisableAds&&"1","edgenoads");(a.Rb.CurrentFlightSet.has("prg-forcenoads")||await(0,S.Il)())&&(D.set("edgenoads","1"),w.YT.addOrUpdateTmplProperty("edgenoads","1"));if((a.Rb.CurrentFlightSet.has("prg-forceredads")||await(0,S.Xm)())&&D.set("edgereduceads","1"),null!==(m=a.Rb.CurrentFlightSet)&&void 0!==m&&m.has("tbingwebp")){(function(){const t=(0,f.$t)();if(!t)return!1;const e=t.toLowerCase(),n=e.match(/edg\/(\d+)/);if(n)return parseInt(n[1],10)>=79;const i=e.match(/edge\/(\d+)/);if(i)return parseInt(i[1],10)>=18;if(e.includes("opera")||e.includes("opr/")){const t=e.match(/(?:opera|opr)[\s/](\d+)/);return!t||parseInt(t[1],10)>=15}const r=e.match(/samsungbrowser\/(\d+)/);if(r)return parseInt(r[1],10)>=4;const o=e.match(/chrome\/(\d+)/);if(o)return parseInt(o[1],10)>=32;if(e.includes("android")){const t=e.match(/android (\d+)(?:\.(\d+))?/);if(t){const e=parseInt(t[1],10),n=parseInt(t[2]||"0",10);return e>4||4===e&&n>=2}}const s=e.match(/firefox\/(\d+)/);if(s)return parseInt(s[1],10)>=65;if(e.includes("iphone")||e.includes("ipad")){const t=e.match(/os (\d+)_(\d+)/);if(t)return parseInt(t[1],10)>=14}const a=e.match(/version\/(\d+).*safari/);if(a&&e.includes("safari")&&!e.includes("chrome")){const t=parseInt(a[1],10),n=e.match(/mac os x (\d+)[._](\d+)/);if(n){const e=parseInt(n[1],10);return t>=16||t>=14&&e>=11}return t>=16}return!1})()||(D.set("isWebPDisabled","1"),w.YT.addOrUpdateTmplProperty("isWebPDisabled","1"))}if(!a.Rb.CurrentFlightSet.has("prg-noreduce")){const t=await(0,S.Qn)();if(t&&$.has(t)){const e=$.get(t);D.set(e,"1"),w.YT.addOrUpdateTmplProperty(e,"1");const n=`prg-${e}`;a.Rb.CurrentFlights=a.Rb.CurrentFlights?`${a.Rb.CurrentFlights},${n}`:n}a.Rb.CurrentFlightSet.has("prg-reducedads")&&D.set("reducedadss1","1")}e.anaheimLayoutPromotion&&(A(D,e.anaheimLayoutPromotion,"promotion"),w.YT.addOrUpdateTmplProperty("qpromotion",e.anaheimLayoutPromotion)),e.anaheimContentSelection&&(A(D,e.anaheimContentSelection,"selection"),w.YT.addOrUpdateTmplProperty("qselection",e.anaheimContentSelection)),A(D,void 0!==e.backgroundImageIsSet&&e.backgroundImageIsSet.toString(),"backgroundImageIsSet"),void 0!==e.inEdgeFeatures&&(A(D,e.inEdgeFeatures.toString(),"inEdgeFeatures"),w.YT.addOrUpdateTmplProperty("inEdgeFeatures",e.inEdgeFeatures?"1":"0")),A(D,void 0!==e.isAdb&&e.isAdb.toString(),"isAdb"),e.revertTimes&&(A(D,e.revertTimes,"revertTimes"),w.YT.addOrUpdateTmplProperty("revertTimes",e.revertTimes)),void 0!==e.adminDisabled&&(A(D,e.adminDisabled.toString(),"adminDisabled"),w.YT.addOrUpdateTmplProperty("adminDisabled",e.adminDisabled?"1":"0")),e.newProfFreTime&&(A(D,e.newProfFreTime.toString(),"newProfFreTime"),w.YT.addOrUpdateTmplProperty("newProfFreTime",e.newProfFreTime.toString())),e.newDevFreTime&&(A(D,e.newDevFreTime.toString(),"newDevFreTime"),w.YT.addOrUpdateTmplProperty("newDevFreTime",e.newDevFreTime.toString())),A(D,e.pageOcid,"pageOcid"),A(D,e.segment,"segment"),A(D,e.context,"Context"),A(D,e.scenario,"scenario"),A(D,e.assetId,"assetId"),A(D,e.calendarStartDate,"calendarStartDate"),A(D,e.calendarEndDate,"calendarEndDate"),A(D,e.calendarDate,"calendarDate"),(e.overlay||0===e.overlay)&&A(D,e.overlay.toString(),"overlay"),A(D,e.enableRuby&&e.enableRuby.toString(),"enableRuby"),A(D,e.isRubyEligible&&e.isRubyEligible.toString(),"isRubyEligible"),A(D,e.uxMode&&e.uxMode.toString(),"uxmode");const q=a.Rb.ClientSettings&&a.Rb.ClientSettings.queryparams?a.Rb.ClientSettings.queryparams:"",G=new s.m(q).get("canid");G&&D.set("triggerModules","promoxfeedupsell".concat(":",G)),e.noFREQsp||await async function(t,e){const{doNotTriggerFREInSession:n,feedName:i,enableFREOverlayMyFeed:r,sendFRESeenCount:s}=t;i===C&&w.YT.addOrUpdateTmplProperty("following-feed","1");if("edgeChromium"!==o.T3.AppType||"default"!==i||!r||!s)return;const a=await(0,S.YX)(n);p.vv.set("overlayQspSent",a),w.YT.addOrUpdateTmplProperty("ovrly-qsp",a),a&&(e.set("overlay",a),parseInt(a)<3&&w.YT.addOrUpdateTmplProperty("fre-seen-ct","1"))}(e,D);const J=c._3.getParamsWithItems(location.search);if(J){const t=J.find(t=>t.key===r.zH);t&&t.value&&D.set("installedWidgets",t.value)}const K=new URLSearchParams((0,f.iA)()).get("feedParams");if(K){K.split(",").forEach(t=>{if(t.includes("=")){const[e,n]=t.split("=");D.set(e.trim(),n.trim())}})}return A(D,e.dprValue&&e.dprValue.toString(),"dprValue"),D.toString()}function n(){return"channelmobile"!==o.T3.AppType}function I(){return n()&&"winWidgets"!==o.T3.AppType}t.requestInit=async function(t){t=t||{};const e={method:"GET"},n=await u.WR.getOneServiceFeedCallHeaders((0,m.wx)(),t.feedName,t.useXboxAccessToken);e.headers={...n,...t.additionalHeaders},t.credentialsOverride?e.credentials=t.credentialsOverride:e.credentials="include",t.enableWpoAdPlacements&&(e.headers["ads-referer"]=location.href,e.headers["taboola-sessionId"]=t.taboolaSessionId||"init");const i=o.T3.UserId;return o.T3.SendUserIdInHeader&&i&&(e.headers.MUID=i),e},t.buildRequestURLForOneService=async function(t){let n,r;if((t=t||{}).feedName===C)r=t.feedId?i.HW:i.$Z;else r=t.pageScenario;const o=`${i.ei}${r}`;return n=new s.m((0,f.iA)()).get(i.OJ)?new URL(o,i.ki):(0,l.J7)(o),n.search=await e(n.search,t,n.href),n.searchParams.sort(),n},t.buildServiceRequestURL=async function(t){let n;t=t||{};const{CurrentRequestTargetScope:r={},ConfigServiceBaseUrl:c}=o.T3,u=new s.m((0,f.iA)());let d=t.pageScenario??(t.shouldUseNewWpoEndpoint?i.w1:i.CD);"ntp"===t.pageScenario&&(d=i.w1);let p=t.requestPathOverride?`${t.requestPathOverride}${d}`:`${i.An}${d}`;p=function(t){return t&&t===`${i.An}${i.w1}`&&a.Rb&&a.Rb.CurrentFlightSet&&a.Rb.CurrentFlightSet.has(i.w)&&"edgeChromium"===o.T3.AppType?`${i.Oj}${i.w1}`:t}(p);const m=t.feedName&&"default"!=t.feedName;if(t.feedId||m)switch(t.feedName){case k:case"dynamicfilteredchannels":p=`${i.An}${i.Xd}`;break;case C:var g,v,y;if(t.feedId)p=`${i.An}${i.HW}`,w.YT.addOrUpdateTmplProperty("filtered-feed","1"),(null!==(g=t.nextPageUrl)&&void 0!==g&&g.includes(i.$Z)||null===(v=t.nextPageUrl)||void 0===v||!v.includes(t.feedId))&&(t.nextPageUrl="");else p=`${i.An}${i.$Z}`,null!==(y=t.nextPageUrl)&&void 0!==y&&y.includes(i.HW)&&(t.nextPageUrl="");break;case x:p=`${i.An}${i.rE}`;break;case"sports":p=`${i.An}${i.kH}`;break;case T:p=`${i.An}${T}`;break;default:p="work"===t.feedSource?`${i.An}${i.tU}`:`${i.An}${i.ku}`}t.isXFeed&&t.xFeedPageScenario&&(p=`${i.An}${t.xFeedPageScenario}`);const b=(0,h.S)();if(b&&["enabled","true"].includes(u.get(i.OJ)))"kids"===t.audienceMode||"kids"===(null==r?void 0:r.audienceMode)||t.feedId?n=new URL(i.gi,i.ki):(p=`${i.ei}${d}`,n=new URL(p,i.ki));else if(b&&"enabled"===u.get(i.vc))n=new URL(p,c.origin);else if(function(t){return!t&&"edgeChromium"===o.T3.AppType&&o.T3.OneServiceOverride&&a.Rb&&a.Rb.CurrentFlightSet&&a.Rb.CurrentFlightSet.has(i.le)}(b))p=`${i.wg}${i.w1}`,n=new URL(p,o.T3.OneServiceOverride);else{const e=t.domainOverride?t.domainOverride:(0,l.pN)().origin;n=new URL(p,e)}return n.search=await e(n.search,t,n.href),n.searchParams.sort(),n}}(I||(I={}))},3371:function(t,e,n){var i;n.d(e,{Y:function(){return i}}),function(t){t[t.notStarted=1]="notStarted",t[t.loadDeferred=2]="loadDeferred",t[t.resolvedForLoad=3]="resolvedForLoad",t[t.loaded=4]="loaded",t[t.initialized=5]="initialized",t[t.renderDeferred=6]="renderDeferred",t[t.resolvedForRender=7]="resolvedForRender",t[t.rendered=8]="rendered",t[t.domComplete=10]="domComplete",t[t.visuallyReady=11]="visuallyReady",t[t.error=12]="error",t[t.startLoading=14]="startLoading",t[t.mediaContentReady=15]="mediaContentReady"}(i||(i={}))},3509:function(t,e,n){n.d(e,{F:function(){return y}});var i=n(65022),r=n(30817),o=n(83078),s=n(55602),a=n(40371),c=n(98216),u=n(11372),l=n(47149),d=n(31157),f=n(17254),h=n(12870),p=n(19548),m=n(97004),g=n(70177);function v(){const t=[];let e=document.body,n=0,i=!1;for(;e;){var r,o;const c=Array.from(e.attributes).map(t=>`${t.name}="${t.value}"`).join("|");if(t.push(`[index:${n};inShadow:${i}]${e.nodeName};attrs:${c}`),e.children&&e.children.length)n=e.children.length-1,e=e.children[n],i=!1;else if(null!==(r=e.shadowRoot)&&void 0!==r&&r.children&&(null===(o=e.shadowRoot)||void 0===o?void 0:o.children.length)>0){var s,a;n=(null===(s=e.shadowRoot)||void 0===s?void 0:s.children.length)-1,e=null===(a=e.shadowRoot)||void 0===a?void 0:a.children[n],i=!0}else e=null}return t.join(">")}function w(t){{var e;const t=null===(e=document.querySelector("html"))||void 0===e?void 0:e.style.getPropertyValue("--body-bg-color");if(t)return t}return t?"#242424":"#F7F7F7"}async function y(t,e,n,y,b,S,x){var C;let k;o.M.startMark("WC.Render"),k=void 0===n||"boolean"==typeof n?{noPaint:!!n}:n;const T=t.configRef,$=(0,a.lKb)(T.experienceType),A=matchMedia("(prefers-color-scheme:dark)");if(window.isSSREnabled&&!window.isSSRCompleted){var I;if(null===c.YT||void 0===c.YT||c.YT.addOrUpdateTmplProperty("SSRIncomplete","1"),(0,r.ZF)().isSSRAborted="1","vp"===p._3.getQueryParameterByName("reqsrc",location.href)&&"1"!==p._3.getQueryParameterByName("ssrCrashVptest",location.href))return void document.write("SSR didn't complete successfully, CSR fallback is disabled for VP tests");if(null===c.YT||void 0===c.YT||c.YT.sendAppErrorEvent({...i.X5D,message:"SSR didn't complete successfully, remove the existing design system provider element to avoid broken UI",pb:{...i.X5D.pb,lastElements:v()}}),window.isCSRFallback=!0,null===(I=document.querySelector(e))||void 0===I||I.remove(),window.disableCSRFallback)return Promise.resolve()}const P=document.querySelector(e)||document.createElement(e),_=b??A.matches;P.baseLayerLuminance=_?m.y.DarkMode:m.y.LightMode,P.direction="rtl"===h.Rb.MarketDir?d.O.rtl:d.O.ltr,P.setAttribute("fill-color",(null===(C=k)||void 0===C?void 0:C.fillColor)??w(_));for(const t in k)Reflect.set(P,t,Reflect.get(k,t));const M=window.isSSREnabled?(0,g.B1)("WholePageHydration",!0):void 0,R=(0,g.d1)(P,M,y);if(void 0===b){const t=t=>{var e;P.baseLayerLuminance=t.matches?m.y.DarkMode:m.y.LightMode,P.setAttribute("fill-color",(null===(e=k)||void 0===e?void 0:e.fillColor)??w(t.matches))};A.addEventListener("change",t)}if(!P.isConnected){(S?document.querySelector(".peregrine-widgets")??document.body:document.body).appendChild(P)}const E=new l.$({type:u.MJ.Module,name:T.experienceType,content:{}});let F=P.querySelector($);return F||(F=document.createElement($)),F.parentTelemetry=E,F.setAttribute("config-instance-src",null==T?void 0:T.instanceSrc),F.setAttribute("instance-id",t.instanceId||""),F.setAttribute("data-t",E.getMetadataTag()),f.T3.IsUCBased&&(document.body.style.background="transparent",P.style.background="transparent",F&&F instanceof HTMLElement&&(F.style.background="transparent")),null==x||x.forEach(t=>{t(F)}),await(0,s.uC)(t),F.isConnected||P.appendChild(F),o.M.endMark("WC.Render"),R}},3697:function(t,e,n){n.r(e),n.d(e,{CommonSearchBoxEdgeNext:function(){return O},CommonSearchBoxEdgeNextStyles:function(){return K},CommonSearchBoxEdgeNextTemplate:function(){return z},ToolingInfo:function(){return Q}});var i=n(59996);var r=n(65614),o=n(56911),s=n(48309),a=n(28006),c=n(84855),u=n(11372),l=n(98216),d=n(55593),f=n(17254),h=n(36090),p=n(12870),m=n(87405),g=n(70487),v=n(30817),w=n(13053),y=n(89151),b=n(9192),S=n(88294),x=n(21481),C=n(77246),k=n(60815),T=n(27597),$=n(35849),A=n(11367),I=n(1732),P=n(59545),_=n(45083),M=n(16611),R=n(56085),E=n(54030),F=n(6727);const D=["pc","pcmpc","ucpdpc","adppc"];class O extends x.U{constructor(){super(...arguments),this.enableSearchAutoSuggestion=!1,this.enableWarmBingUrl=!1,this.options=null,this.commonSearchBoxRef=null,this.inputElementHasInput=!1,this.currentInputValue="",this.searchVisible=!0,this.placeholderText="",this.searchIconTreatment=0,this.showBingLogo=!1,this.canShowCodexBingUpsellByPolicy=!1,this.canShowCodexBingButton=!1,this.outsideCodexButtonStyle=!1,this.outsideCodexBtnFullPageLayout=!1,this.isFeedDisabled=!1,this.isRuby=A.gR.isRuby,this.isVisionIconEnabled=!1,this.isDefaultSearchBing="0"!==(0,d.a)().get("dsp"),this.codexBingChatTelemetryTags="",this.visionIconTelemetryTags="",this.enableCodexBingIconStyles=!1,this.enableContextualSuggest=!1,this.enableSearchBtnOpenInNewTab=!1,this.enableTrendingSearchAPICall=!1,this.handleFocusEvent=()=>{this.fakeFocused=!0,this.searchboxApiHandle&&this.searchboxApiHandle.startCapturingKeyStrokes()},this.handleMouseDownEvent=t=>{this.commonSearchBoxRef&&this.commonSearchBoxRef!==t.target&&this.fakeFocused&&(this.fakeFocused=!1,this.searchboxApiHandle&&this.searchboxApiHandle.stopCapturingKeyStrokes())},this.onInputStart=()=>{this.fakeFocused&&(this.fakeFocused=!1,this.searchVisible=!1)},this.onInputCancel=()=>{this.searchVisible=!0},this.onKeyCaptureChange=()=>{this.searchboxApiHandle&&(this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled)},this.handInputEvent=t=>{const e=t.target.value;this.inputElementHasInput=!!e,this.currentInputValue=e},this.clickVisionIcon=()=>{var t,e;"function"==typeof(null===(t=window.chrome)||void 0===t||null===(t=t.edgeCopilotPrivate)||void 0===t?void 0:t.launchVision)&&(null===(e=window.chrome)||void 0===e||null===(e=e.edgeCopilotPrivate)||void 0===e||e.launchVision("NTPVIS"))}}placeholderTextChanged(t,e){e!==t&&(this.options=this.options&&{...this.options,localizedStrings:{...this.options.localizedStrings,placeholderText:this.placeholderText}})}experienceConnected(){var t,e,n,i,r;const o=null===(t=(0,$.zP)(a.h$))||void 0===t?void 0:t.getCurrentState();this.enableFocusRedirect=(null==o||null===(e=o.configData)||void 0===e?void 0:e.inPageSearchBoxType)===s.I4.redirect,this.isProjectEqual=null==o||null===(n=o.configData)||void 0===n?void 0:n.isEnrolledInProjectEqual,this.enableCodexBingIconStyles=!!this.config.showCodexBingIcon&&o&&"always"===o.selectedFeedDisplaySetting,this.enableContextualSuggest=!!this.config.enableContextualSuggest,this.config.enableOpenInNewTab&&(this.searchTarget=null!=o&&o.openInNewTab?"_blank":"_self"),this.config.searchIconTreatment&&!this.isRuby&&(this.searchIconTreatment=this.config.searchIconTreatment),this.enableSearchBtnOpenInNewTab=!!this.config.searchBtnOpenInNewTab&&!(null==o||!o.openInNewTab),this.canShowCodexBingUpsellByPolicy=!(0,f.rA)().isAadAccountUser||((null==o?void 0:o.isCodexBingUpsellEnabledByPolicy)??!1),this.canShowCodexBingButton=!(null===(i=this.config.childExperienceReferencesWC)||void 0===i||!i.CodexBingChat)&&this.canShowCodexBingUpsellByPolicy;const c=window;if(c.chrome&&c.chrome.embeddedSearch&&(this.ntpApiHandle=c.chrome.embeddedSearch.newTabPage,this.searchboxApiHandle=c.chrome.embeddedSearch.searchBox),this.showBingLogo=!(this.isDefaultSearchBing||this.enableFocusRedirect||null!==(r=this.config)&&void 0!==r&&null!==(r=r.childExperienceReferencesWC)&&void 0!==r&&r.CodexBingChat),this.isDefaultSearchBing||(0,f.rA)().CurrentMarket!==h.DX.ZHCN||(this.showBingLogo=!1),this.config.enableContextualSuggest&&this.config.trendingSearchConfig&&(this.config.trendingSearchOnlyInAlways?this.enableTrendingSearchAPICall="always"===o.selectedFeedDisplaySetting:this.enableTrendingSearchAPICall=["always","peek"].includes(o.selectedFeedDisplaySetting||"")),this.canShowCodexBingButton&&(this.codexBingChatTelemetryTags=(0,E.N)("headersearch").getMetadataTag()),this.populateCommonSearchBoxOptions(),this.setTelemetryPersonalizationParam(),this.detectLockscreenAndUpdateFormId(),(0,C.S)()&&window.searchFormSubmitListener&&window.requestAnimationFrame(()=>{var t;null!==(t=this.commonSearchBoxRef)&&void 0!==t&&t.formElement&&this.commonSearchBoxRef.formElement.removeEventListener("submit",window.searchFormSubmitListener)}),this.config.enableOpenInNewTab&&(0,T.vQ)(a.h$,t=>{const e=t.openInNewTab?"_blank":"_self";this.searchTarget!==e&&(this.searchTarget=e,this.options=this.options&&{...this.options,target:this.searchTarget})}),this.config.searchBtnOpenInNewTab&&(0,T.vQ)(a.h$,t=>{const e=t.openInNewTab;null!=e&&e!=this.enableSearchBtnOpenInNewTab&&(this.enableSearchBtnOpenInNewTab=e,this.options=this.options&&{...this.options,searchBtnOpenInNewTab:this.enableSearchBtnOpenInNewTab})}),this.config.outsideCodexButtonStyle&&this.canShowCodexBingButton&&!this.isRuby){const t=t=>{this.outsideCodexButtonStyle=!t||!!this.config.outsideCodexBtnFullPageLayout,this.outsideCodexBtnFullPageLayout=t&&this.config.outsideCodexBtnFullPageLayout};t("always"==(null==o?void 0:o.selectedFeedDisplaySetting)),(0,T.vQ)(a.h$,e=>{t("always"==(null==e?void 0:e.selectedFeedDisplaySetting))})}this.config.visionIconInSearchBoxExp&&!this.isRuby&&(0,_.GP)().then(()=>this.isAPIEnabled().then(t=>{this.isVisionIconEnabled=!!this.config.enableVisionIconInSearchBox&&t,this.isVisionIconEnabled&&(this.visionIconTelemetryTags=(0,E.N)("headervisionsearch",u.MS.Launch,u.EG.Click).getMetadataTag())}))}shadowDomPopulated(){var t,e;if((0,C.S)()){const t=(0,v.ZF)();(0,w.D)(()=>{const e=t[y.wL+"SearchBox"],n=e&&void 0===t.isSSRAborted;this.markVisuallyReady(n?e:void 0,!n)}),(0,M.e1)().then(()=>(0,R.B)(63,p.Rb.IsPrerender))}else(0,b.cE)("SSR.SearchBoxRendered",(0,v.gU)());!this.config.enableClarity&&(0,f.rA)().ClarityEnabled&&(this.options=this.options&&{...this.options,enableClarity:!0}),this.setPlaceholderText(),(0,m.KO)(g.u.searchBox,this);const n=this.commonSearchBoxRef&&this.commonSearchBoxRef.shadowRoot&&(null===(t=(e=this.commonSearchBoxRef.shadowRoot).querySelector)||void 0===t?void 0:t.call(e,"#q"));n&&(this.inputElement=n,this.canShowCodexBingButton&&this.inputElement.addEventListener("input",this.handInputEvent),(0,m.KO)(g.u.searchBoxInput,this.inputElement)),this.enableFocusRedirect?this.registerFocusRedirectHandler():this.config.enableDelayASAfterReveal?(0,_.GP)().then(()=>{this.enableSearchAutoSuggestion=!0}):this.enableSearchAutoSuggestion=!0,Promise.all([(0,P.Qc)(),(0,_.GP)()]).then(()=>{this.enableWarmBingUrl=!0}).catch(()=>{S.v.logError("Failed to wait for ATF visually ready and reveal")})}getExperienceType(){return c.UlU}isAPIEnabled(){return new Promise(t=>{var e,n;"function"==typeof(null===(e=window.chrome)||void 0===e||null===(e=e.edgeCopilotPrivate)||void 0===e?void 0:e.isVisionEnabledForUser)?null===(n=window.chrome)||void 0===n||null===(n=n.edgeCopilotPrivate)||void 0===n||n.isVisionEnabledForUser(e=>{l.YT.addOrUpdateTmplProperty("visionIconEligible"+(this.isRuby?"Ruby":""),e.toString()),t(e)}):(l.YT.addOrUpdateTmplProperty("visionIconEligible"+(this.isRuby?"Ruby":""),"undefined"),t(!1))})}setPlaceholderText(){var t,e,n;if(!this.config.localizedStrings)return;const{placeholderText:i,copilotPlaceholderText:r,placeholderTextMSNntp:o,placeholderTextMSNntpv2:s,placeholderTextT1:c,placeholderTextT2:u,tenantMissingEnterprisePlaceholderText:l}=this.config.localizedStrings,d=null===(t=this.config)||void 0===t?void 0:t.enableCopilotCarryTerm,h=!(!0===(null===(e=this.config)||void 0===e?void 0:e.disableCCGhostText))&&this.canShowCodexBingUpsellByPolicy&&d;if(!(0,f.rA)().isAadAccountUser||this.config.removeAADPlaceholder)return this.placeholderText=i,this.config&&h&&!this.isRuby&&(this.placeholderText=r),this.config&&!0===this.config.enableWebAPISuggetion&&this.config.enableMSNSuggestions&&(1===this.config.enableMSNSuggestions&&o?this.placeholderText=o:2===this.config.enableMSNSuggestions&&s&&(this.placeholderText=s)),void(1===this.config.placeholderTextTreatment&&c?this.placeholderText=c:2===this.config.placeholderTextTreatment&&u?this.placeholderText=u:3===this.config.placeholderTextTreatment&&(this.placeholderText=""));let p=!1;const m=null===(n=(0,$.zP)(a.ql))||void 0===n?void 0:n.getCurrentState();m&&(p=!0,this.setEnterprisePlaceholderTextWithAdminSettings(m)),(0,T.vQ)(a.ql,t=>{p=!0,this.setEnterprisePlaceholderTextWithAdminSettings(t)}),p||(this.placeholderText=l)}setEnterprisePlaceholderTextWithAdminSettings(t){if(!this.config.localizedStrings)return;const{tenantMissingEnterprisePlaceholderText:e,tenantAvailableEnterprisePlaceholderText:n}=this.config.localizedStrings;if(this.placeholderText)return;if(!t.settingsDataRecieved)return;const{company:i,isMsbEnabled:r}=t.settings||{};this.placeholderText=r&&i?n.replace(/\{0\}/g,i):e}getFormParameters(){var t;const e={...this.config.additionalFormParamMap};e.refig=l.YT.getRequestId();const{formCodes:n}=this.config;e.form=this.isDefaultSearchBing?null==n?void 0:n.bingSearchEngine:null==n?void 0:n.nonBingSearchEngine,D.forEach(t=>{const n=(0,d.a)().get(t.toUpperCase())||(0,d.a)().get(t)||"";n&&(e[t]=n)});const i=(0,I.HD)(),r=null==i||null===(t=i.enabled)||void 0===t||null===(t=t.find(t=>"msEdgePartnerCodeActive_AnyDesk"===t||"msEdgePartnerCodeActive_ExpTester"===t))||void 0===t?void 0:t.replace("msEdgePartnerCodeActive_","");return r&&(e.EPC=r),e}detectLockscreenAndUpdateFormId(){if((0,f.rA)().IsHeroNTP){var t,e,n;const i=(0,F.nN)()?null===(t=this.config)||void 0===t||null===(t=t.formCodes)||void 0===t?void 0:t.lockscreenWin11:null===(e=this.config)||void 0===e||null===(e=e.formCodes)||void 0===e?void 0:e.lockscreenWin10;i&&null!==(n=this.options)&&void 0!==n&&n.additionalFormParamMap&&(this.options.additionalFormParamMap.form=i)}}populateCommonSearchBoxOptions(){var t;this.options={...this.config,target:this.searchTarget,enableCodexBingIconStyles:this.enableCodexBingIconStyles,enableContextualSuggest:this.enableContextualSuggest,trendingSearchConfig:this.enableTrendingSearchAPICall?this.config.trendingSearchConfig:void 0,searchBtnOpenInNewTab:this.enableSearchBtnOpenInNewTab,localizedStrings:{...this.strings,placeholderText:this.placeholderText,inputTitle:null===(t=this.strings)||void 0===t?void 0:t.inputTitle},additionalFormParamMap:this.getFormParameters(),childExperienceReferencesWC:this.config.childExperienceReferencesWC}}registerFocusRedirectHandler(){this.ntpApiHandle&&(this.ntpApiHandle.oninputstart=this.onInputStart,this.ntpApiHandle.oninputcancel=this.onInputCancel,this.ntpApiHandle.isInputInProgress&&this.onInputStart()),this.searchboxApiHandle&&(this.searchboxApiHandle.onkeycapturechange=this.onKeyCaptureChange,this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled,this.searchboxApiHandle.isKeyCaptureEnabled&&this.searchboxApiHandle.startCapturingKeyStrokes()),this.commonSearchBoxRef&&this.commonSearchBoxRef.addEventListener("focus",this.handleFocusEvent),document.body.addEventListener("mousedown",this.handleMouseDownEvent)}setTelemetryPersonalizationParam(){const t={page:{has3PSearch:!this.isDefaultSearchBing,isSearchAB:this.enableFocusRedirect}};l.YT.updatePageMetadata(t)}clickBingIcon(){this.commonSearchBoxRef&&this.commonSearchBoxRef.onSubmit()}disconnectedCallback(){var t;(super.disconnectedCallback(),this.canShowCodexBingButton)&&(null===(t=this.inputElement)||void 0===t||t.removeEventListener("input",this.handInputEvent));this.enableFocusRedirect&&(this.commonSearchBoxRef&&this.commonSearchBoxRef.removeEventListener("focus",this.handleFocusEvent),document.body.removeEventListener("mousedown",this.handleMouseDownEvent))}}(0,o.Cg)([k.sH],O.prototype,"enableSearchAutoSuggestion",void 0),(0,o.Cg)([k.sH],O.prototype,"enableWarmBingUrl",void 0),(0,o.Cg)([k.sH],O.prototype,"options",void 0),(0,o.Cg)([k.sH],O.prototype,"inputElementHasInput",void 0),(0,o.Cg)([k.sH],O.prototype,"currentInputValue",void 0),(0,o.Cg)([k.sH],O.prototype,"fakeFocused",void 0),(0,o.Cg)([k.sH],O.prototype,"searchVisible",void 0),(0,o.Cg)([k.sH],O.prototype,"placeholderText",void 0),(0,o.Cg)([k.sH],O.prototype,"searchIconTreatment",void 0),(0,o.Cg)([k.sH],O.prototype,"showBingLogo",void 0),(0,o.Cg)([k.sH],O.prototype,"canShowCodexBingUpsellByPolicy",void 0),(0,o.Cg)([k.sH],O.prototype,"canShowCodexBingButton",void 0),(0,o.Cg)([k.sH],O.prototype,"outsideCodexButtonStyle",void 0),(0,o.Cg)([k.sH],O.prototype,"outsideCodexBtnFullPageLayout",void 0),(0,o.Cg)([k.sH],O.prototype,"isFeedDisabled",void 0),(0,o.Cg)([k.sH],O.prototype,"isRuby",void 0),(0,o.Cg)([k.sH],O.prototype,"isVisionIconEnabled",void 0);var N=n(96950),U=n(60402),L=n(91640),B=n(11622);const W=N.qy`<div slot=${t=>t.config.searchButtonOnRight?"search-options-left":"search-options"} class="bing-logo-container"><fluent-button class="bing-logo-btn bing-logo-o" ${t=>t.config.searchButtonOnRight?"bing-logo-left":""}" part="button" title=${t=>t.strings&&t.strings.bingIconText} aria-label=${t=>t.strings&&t.strings.bingIconText} appearance="stealth" @click="${t=>t.clickBingIcon()}" @keypress="${t=>t.clickBingIcon()}" data-t="${t=>{var e;return null===(e=t.commonSearchBoxRef)||void 0===e?void 0:e.buttonTelemetryTag}}" data-customhandled="true"><img src=${()=>`${(0,f.rA)().StaticsUrl}/latest/icons/BingLogo.svg`}></fluent-button></div>`,H=N.qy`<div slot="${t=>{var e;return!t.outsideCodexButtonStyle&&null!==(e=t.config)&&void 0!==e&&e.showCodexButtonInBox?"search-options":"codex-bing-chat"}}" data-t="${t=>t.codexBingChatTelemetryTags}" class="${t=>t.isRuby?"search-bing-chat-ruby":""}">${t=>{var e,n;return t.options&&(null===(e=t.options.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(0,B.yN)(t.options.childExperienceReferencesWC.CodexBingChat,{properties:{showCodexButtonInBox:!t.outsideCodexButtonStyle&&(null===(n=t.config)||void 0===n?void 0:n.showCodexButtonInBox),outsideCodexButtonStyle:t.outsideCodexButtonStyle,outsideCodexBtnFullPageLayout:t.outsideCodexBtnFullPageLayout,target:t.searchTarget,isSearchBoxRuby:t.isRuby,searchValue:t.currentInputValue}})}}</div>`,V=N.qy`<div slot="search-options" class="vision-icon-container"><button class="vision-search-icon ${t=>t.isRuby?"ruby":""}" data-t="${t=>t.visionIconTelemetryTags}" aria-label=${t=>{var e;return null===(e=t.config.localizedStrings)||void 0===e?void 0:e.visionIconAltText}} title=${t=>{var e;return null===(e=t.config.localizedStrings)||void 0===e?void 0:e.visionIconAltText}} @click=${t=>t.clickVisionIcon()}></button></div>`,z=N.qy`<cs-common-search-box ${(0,U.K)("commonSearchBoxRef")} :isRuby=${t=>t.isRuby} :options=${t=>t.options} :enableAutoSuggestion=${t=>t.enableSearchAutoSuggestion} :enableWarmBingUrl=${t=>t.enableWarmBingUrl} :fakeFocused=${t=>t.fakeFocused} :disableSubmit=${t=>t.enableFocusRedirect} :isFeedDisabled=${t=>t.isFeedDisabled} :searchVisible=${t=>t.searchVisible} :placeholderColor=${t=>t.config.placeholderColor} :hoverFocusOutlineStyle=${t=>t.config.hoverFocusOutlineStyle} :hoverFocusDeeperShadowStyle=${t=>t.config.hoverFocusDeeperShadowStyle} :searchIconTreatment=${t=>t.searchIconTreatment} :searchIconColor=${t=>t.config.searchIconColor} :enableDimMask=${t=>t.enableSearchAutoSuggestion&&t.config.enableDimMask} :dimMaskOpacity=${t=>t.config.dimMaskOpacity} :enableConditionalSchBtn=${t=>t.config.enableConditionalSchBtn} :fixSpyGlassNewTabBehavior=${t=>t.config.fixSpyGlassNewTabBehavior} exportparts="root, searchcore" :usePageBreakpoints=${t=>!!t.config.usePageBreakpoints} :outsideCodexBtnFullPageLayout=${t=>t.outsideCodexBtnFullPageLayout} :enableAltBorder=${t=>t.config.enableAltBorder} :enableAltSearchBox=${t=>t.config.enableAltSearchBox} :enableAltSearchboxShadow=${t=>t.config.enableAltSearchboxShadow}>${(0,L.z)(t=>t.isVisionIconEnabled,V)} ${(0,L.z)(t=>t.canShowCodexBingButton&&(!t.inputElementHasInput||t.config.enableCopilotCarryTerm&&t.inputElementHasInput),H)} ${(0,L.z)(t=>t.showBingLogo,W)}</cs-common-search-box>`;var j=n(74849),q=n(86856);const G=j.A`
.bing-logo-btn{border-radius:0 var(--search-box-radius) var(--search-box-radius) 0}`,J=j.A`
.bing-logo-btn{border-radius:var(--search-box-radius) 0 0 var(--search-box-radius)}`,K=j.A` :host{--mic-vision-icon:url(${`${(0,f.rA)().StaticsUrl}latest/icons/MicIconLight.svg`})}.bing-logo-btn{height:46px;background:transparent;padding:0;border:none}.bing-logo-o::part(control){padding-inline-end:11px}.bing-logo-left::part(control){padding-inline-end:0px}.bing-logo-btn > img{margin:12px 2px;height:22px;width:22px;vertical-align:bottom}.search-bing-chat-ruby codex-bing-chat::part(cbb-container){height:48px;border:unset !important;background:unset !important}.search-bing-chat-ruby codex-bing-chat::part(cbb-icon){width:28px;height:28px}.vision-icon-container{height:100%;display:grid;align-items:center;margin-inline-end:8px}.vision-search-icon{cursor:pointer;width:36px;height:36px;border:none;outline:none;background:transparent;border-radius:9px;display:grid;justify-content:center;align-items:center}.vision-search-icon::after{content:"";background-size:contain;background-image:var(--mic-vision-icon);width:24px;height:24px}.vision-search-icon:hover{background:rgba(0,0,0,0.04)}.vision-search-icon:active{background:rgba(0,0,0,0.12)}@media (prefers-color-scheme:dark){.vision-search-icon.ruby::after{background-image:url(${`${(0,f.rA)().StaticsUrl}latest/icons/MicIconDark.svg`});
        }
    }
`.withBehaviors(new q.t(G,J)),Q={experienceConfigSchema:undefined};i.fy.define(r.G.registry)},3762:function(t,e,n){function i(t){return new Promise(e=>setTimeout(e,t))}n.d(e,{jh:function(){return i},xu:function(){return r}});const r=async(t,e,n)=>{if(!e||isNaN(t))return;if(!t&&0!==t||t<0||t===1/0)return await e;const i=(t=>{let e,n=()=>{},i=()=>!1;const r=new Promise((r,o)=>{n=()=>{e&&(clearTimeout(e),e=null,o())},i=()=>null!==e,e=setTimeout(()=>{e=null,r()},t)});return{cancel:n,isActive:i,promise:r}})(t),r=await Promise.race([e,i.promise]);return i.isActive()?i.cancel():n&&n(),r}},3774:function(t,e,n){n.d(e,{o:function(){return a}});var i=n(12870),r=n(27261),o=n(17720),s=n(18510);async function a(){var t,e,a,c,u,l,d;const f=(null===(t=(0,r.ou)())||void 0===t?void 0:t.includes("localhost"))&&(null===(e=(0,r.iA)())||void 0===e?void 0:e.includes("indicator=true")),h=(null===i.Rb||void 0===i.Rb||null===(a=i.Rb.ClientSettings)||void 0===a||null===(a=a.detection)||void 0===a?void 0:a.isMsft)||(null===i.Rb||void 0===i.Rb||null===(c=i.Rb.ClientSettings)||void 0===c||null===(c=c.detection)||void 0===c?void 0:c.isCorpNet);if((null===(u=(0,r.iA)())||void 0===u?void 0:u.includes("item=spalink"))&&!(null!==(l=(0,r.iA)())&&void 0!==l&&l.includes("reqsrc=vp"))&&!(null!==(d=(0,r.iA)())&&void 0!==d&&d.includes("noindicator"))&&h||f){!function(){const t=console.error;if(!t.__withHistory&&t.toString().includes("[native code]")){const e=t,n=500;let i=!1;const r=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];try{e(...r)}finally{const t=o.vv.get("__ErrorLogHistory__",()=>[]);t.push(r),t.length>n&&t.splice(0,t.length-n),i||(i=!0,requestAnimationFrame(()=>{i=!1,window.dispatchEvent(new CustomEvent("ErrorLogHistoryUpdated"))}))}};r.__withHistory=!0,console.error=r}}(),await(0,s.hL)();const{RenderModeIndicator:t}=await n.e("web-components_render-mode-indicator_dist_index_js").then(n.bind(n,77185)),e=document.createElement("render-mode-indicator");document.body.appendChild(e)}}},3920:function(t,e,n){n.d(e,{Dy:function(){return u},HL:function(){return c},H_:function(){return s}});var i=n(17720);const r=()=>i.vv.get("__ssr_util__preload_bundles",()=>new Set),o=()=>i.vv.get("__ssr_util__pending_preload_bundles",()=>new Set),s=()=>{const t=(()=>{const t=r(),e=[...t];return t.clear(),e})();return t.length?`<script nonce="${window.NONCE_ID}">window.ssrLoadedBundles.publish(${JSON.stringify(t)});<\/script>`:""},a=new Map,c=(t,e)=>{if(a.has(t))throw new Error(`Bundle ${t} is already registered.`);a.set(t,e);const n=o();return n.has(t)&&(n.delete(t),e()),()=>(r().add(t),e())},u=t=>{const e=o(),n=t.map(async t=>{if(a.has(t))return a.get(t)();e.add(t)});return Promise.all(n)}},4865:function(t,e,n){n.d(e,{j:function(){return i},p:function(){return s}});var i,r=n(49084),o=n(15098);!function(t){t.App="app",t.EdgeId="edgeid",t.Web="web"}(i||(i={}));const s=(0,o.L)(()=>(0,r.wQ)()||(0,r.FS)()?i.Web:(0,r.lp)()?i.EdgeId:i.App)},4891:function(t,e,n){n.d(e,{Tp:function(){return c},Ph:function(){return y},CY:function(){return $},vz:function(){return T},IT:function(){return v},h8:function(){return A},q0:function(){return q},A9:function(){return I},vq:function(){return z},Yw:function(){return w},vx:function(){return b},t3:function(){return G},Tv:function(){return x},mL:function(){return g},zg:function(){return E},JH:function(){return F},n5:function(){return N},mw:function(){return O},wu:function(){return H},v7:function(){return W},I$:function(){return D},bR:function(){return V},DX:function(){return k},jO:function(){return X},wM:function(){return C},EF:function(){return p},q9:function(){return m},jo:function(){return S}});var i=n(64281),r=n(2692);const o=(0,i.Gy)(r.w,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"rating",displayReviewCount:!1}]}]),s=(0,i.BA)(r.w,"gradient-mask",{name:"gradient-mask",setClickBeacon:!0,layout:{mode:"pixel",bottom:"0",width:"300",zIndex:4},children:[{name:"special-offer",isDrConfig:!0,layout:{mode:"block",display:"inline-block",position:"relative",marginBottom:"8",marginInlineStart:"16",marginInlineEnd:"16",width:"150",zIndex:5}},{name:"ad-title",setClickBeacon:!0}]}),a=(0,i.Gy)(r.w,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"free-shipping",color:"#036ac4",layout:{mode:"pixel",bottom:"265"}}]}]);var c,u=n(63456),l=n(64748),d=n(65022),f=n(2543),h=n(44449);!function(t){t.river="river",t.infopane="infopane",t.resriver="resriver",t.rivercms="river_cms",t.riverdb="riverdb",t.riverdbside="riverdbside",t.riverAmplify="river_amp",t.restoday="restoday",t.todaystripe="todaystripe",t.newsstripe="News-Stripe",t.entertainmentstripe="Entertainment-Stripe",t.sportsstripe="Sports-Stripe",t.lifestylestripe="Lifestyle-Stripe",t.rightRail="rightRail",t.rightRailAmplify="rr_amp",t.resinfopane="resinfopane",t.infopanetab="infopane-tab",t.infopanecms="infopane_cms",t.sliver="sliver",t.rightrail="rightrail",t.eoab="eoab",t.rectangle="rectangle",t.inarticle="inarticle",t.inarticledual="inarticledual",t.WatchInFeed="intranative",t.WatchInFeed2="intranative2",t.WatchOverlay="nativeoverlay",t.eoabmsx="eoabmsx",t.interstitialgallery="interstitialgallery",t.articleInline="ArticleInline",t.rivert="rivert",t.infopanet1="infopanet1",t.infopanet3="infopanet3",t.inarticlecarousel="inarticlecarousel",t.incontentcarousel="incontentcarousel",t.triver="triver",t.infopane1u="infopane1u",t.watchlistnative="watchlistnative",t.leftrail="leftrail"}(c||(c={}));const p=[c.rightrail,c.eoab,c.rectangle,c.inarticle,c.inarticledual,c.eoabmsx,c.interstitialgallery,c.WatchInFeed,c.WatchInFeed2,c.articleInline,c.rivert,c.inarticlecarousel,c.incontentcarousel,c.watchlistnative,c.leftrail,c.WatchOverlay],m=[c.river,c.riverdb,c.riverdbside],g=(c.riverdb,[c.river,c.resriver,c.rivercms,c.rightRail,c.rightrail]),v=[c.infopane,c.resinfopane,c.infopanetab,c.infopanecms],w=[c.restoday,c.todaystripe,c.newsstripe,c.entertainmentstripe,c.sportsstripe,c.lifestylestripe],y=[...g,...v],b=[...g,...w,c.riverdb,c.rightRail,c.rightrail,c.sliver,c.rectangle,c.eoab,c.inarticle,c.inarticlecarousel],S=[c.infopane,c.resinfopane,c.riverdb],x=[c.infopane,c.resinfopane],C=[c.infopanet1,c.infopanet3],k=[c.rivert,c.infopane1u,...C,c.WatchInFeed2],T=(c.infopane,c.resinfopane,c.river,c.resriver,c.inarticle,c.riverdb,{default:20,discScribble10:10,hotspotSingle10:10,saleHighlight15:15,gamification:5}),$=10,A=t=>!!(t&&t.items&&t.items[0]&&t.items[0].assets&&t.items[0].assets.transparentImage&&t.items[0].assets.transparentImage.url&&t.items[0].images&&t.items[0].images[0]&&t.items[0].images[0].ext&&t.items[0].images[0].ext.layoutColor),I=t=>((t,e)=>{var n;const i=null==t||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n?void 0:n.transparentImage,r=null==i?void 0:i.w,o=null==i?void 0:i.h;return!!((null==i?void 0:i.url)&&null!=i&&o>0&&r>0)&&e(r,o)})(t,(t,e)=>t/e<1.4),P=t=>(0,u.A)(t,"items[0].assets.rating"),_=t=>(0,u.A)(t,"items[0].assets.specialOffer"),M=t=>(0,u.A)(t,"items[0].assets.freeShipping"),R=t=>(0,u.A)(t,"items[0].assets.discount"),E=t=>P(t)?o:_(t)?s:M(t)?a:void 0,F=t=>P(t)?"msn-combo-rating":_(t)?"msn-combo-special-offer":M(t)?"msn-combo-freeshipping":void 0,D=(t,e)=>{var n;e&&(t.enableNativeAdWC=!0);const i=null==t||null===(n=t.items[0])||void 0===n?void 0:n.assets;null!=i&&i.rating?t.items[0].assets=(0,l.A)(i,["rating"]):null!=i&&i.specialOffer?t.items[0].assets=(0,l.A)(i,["specialOffer"]):null!=i&&i.discount&&(null==i?void 0:i.discount)>=T.saleHighlight15?t.items[0].assets=(0,l.A)(i,["discount"]):null!=i&&i.freeShipping&&(t.items[0].assets=(0,l.A)(i,["freeShipping"]))},O=t=>P(t)?"msn-combo-rating-nondr":_(t)?"msn-combo-special-offer-nondr":R(t)&&R(t)>=T.saleHighlight15?"msn-combo-sale-highlight-nondr":M(t)?"msn-combo-freeshipping-nondr":"msft-content-card",N=t=>P(t)?"msn-combo-rating-nondr-c":_(t)?"msn-combo-special-offer-nondr-c":R(t)&&R(t)>=T.saleHighlight15?"msn-combo-sale-highlight-nondr-c":M(t)?"msn-combo-freeshipping-nondr-c":"msft-content-card",U=t=>(0,u.A)(t,"items[0].assets.sold"),L=t=>(0,u.A)(t,"items[0].assets.returnPolicy"),B=t=>(0,u.A)(t,"items[0].assets.condition"),W=t=>U(t)?"msn-combo-sold-nondr":L(t)?"msn-combo-return-policy-nondr":B(t)?"msn-combo-condition-nondr":"msft-content-card",H=t=>U(t)?"msn-combo-sold-nondr-c":L(t)?"msn-combo-return-policy-nondr-c":B(t)?"msn-combo-condition-nondr-c":"msft-content-card",V=(t,e)=>{var n;e&&(t.enableNativeAdWC=!0);const i=null==t||null===(n=t.items[0])||void 0===n?void 0:n.assets;null!=i&&i.sold?t.items[0].assets=(0,l.A)(i,["sold"]):null!=i&&i.returnPolicy?t.items[0].assets=(0,l.A)(i,["returnPolicy"]):null!=i&&i.condition&&(t.items[0].assets=(0,l.A)(i,["condition"]))},z=(0,h.sx)(d._0l,"modifyImageUrlForResponsiveImageSizingTemplate")((t,e)=>{var n,i;const r=null==t||null===(n=t.items)||void 0===n?void 0:n[0],o=null===(i=r.assets)||void 0===i?void 0:i.price;if(t.template.templateType="msft-content-card",r&&!o){var s,a;const n=K(parseFloat(r.originalImageHeight),parseFloat(r.originalImageWidth),r.imageUrl,t.template.responsiveImageSizingTemplateConfigs);n&&n.imageUrl!==r.imageUrl&&J(null==n||null===(s=n.responsiveImageSizingTemplateConfig)||void 0===s?void 0:s.maxHeight,(0,f.NT)(null===(a=t.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.title))&&(t.enableResponsiveImageSize=!0,t.template.templateType="msn-responsive-image-sizing",e||(t.responsiveImageSizingTemplateConfig=n.responsiveImageSizingTemplateConfig,t.items[0].imageUrl=n.imageUrl))}}),j=(0,h.sx)(d._0l,"isDescriptionShowingHelper")((t,e)=>{var n,i;const r=null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.description,o=null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.title,s=(null==r?void 0:r.length)>1&&o!=r,a=c[t.region];return S.includes(a)?s:s&&(0,f.NT)(o)<=e}),q=(0,h.sx)(d._0l,"isDescriptionShowing")((t,e)=>j(t,e)?"msn-responsive-description":"msft-content-card"),G=(0,h.sx)(d._0l,"pickRandomTemplateWithDensity")((t,e,n,i)=>{if(Math.random()>i)t.enablePattern=!1,t.template.templateType=n;else{const n=e.length,i=Math.floor(Math.random()*n);t.template.templateType=e[i],t.enablePattern=!0}}),J=(0,h.sx)(d._0l,"isTitleLineMeetRequire")((t,e)=>!(!t||!e)&&(225===t&&e<=1||200===t&&e<=2)),K=(0,h.sx)(d._0l,"modifyImageUrl")((t,e,n,i)=>{if(!(t&&e&&n&&n.startsWith("https://www.bing.com/th")))return{imageUrl:n};const r=Q(n),o=n.split("?")[0];if(!i||0===i.length)return{imageUrl:n};for(let n=0;n<i.length;n++){const s=i[n],a=e/t;if(a>=s.lowerBound&&a<=s.placementRatio){return{imageUrl:`${o}?id=${r.id}${r.pid?`&pid=${r.pid}`:""}&w=${s.maxWidth}`,responsiveImageSizingTemplateConfig:s}}if(a>s.placementRatio&&a<=s.upperBound){return{imageUrl:`${o}?id=${r.id}${r.pid?`&pid=${r.pid}`:""}&h=${s.maxHeight}`,responsiveImageSizingTemplateConfig:s}}}return{imageUrl:n}}),Q=(0,h.sx)(d._0l,"parseImageUrl")(t=>{if(!t)return;const e=new URL(t),n=new URLSearchParams(e.searchParams),i={};return n.forEach((t,e)=>{["id","pid"].includes(e)&&(i[e]=t)}),i}),X=(0,h.sx)(d._0l,"switchToAIImage")(t=>{t&&t.items&&t.items[0]&&t.items[0].assets&&t.items[0].assets.transparentImage&&t.items[0].assets.transparentImage.url&&t.items[0].imageUrl&&(t.items[0].imageUrl=t.items[0].assets.transparentImage.url)})},5044:function(t,e,n){n.d(e,{En:function(){return u},K7:function(){return p},Xo:function(){return c},bl:function(){return h},cc:function(){return f},g2:function(){return d},wY:function(){return l}});var i=n(97852),r=n(98216),o=n(11372),s=n(17254),a=n(67387);function c(t){switch(t){case"article":return o.b5.Article;case"video":return o.b5.Video;case"slideshow":return o.b5.Gallery;case"GemCard":return o.b5.Gem;default:return}}function u(){var t;if(!r.YT)return;const e=null===(t=r.YT.getPageMetadata)||void 0===t?void 0:t.call(r.YT);return e&&e.contract&&e.contract.page?e.contract.page.ocid:void 0}function l(t){if("windowsShell"===s.T3.AppType||"windowsShellV2"===s.T3.AppType)return d(t);const e=u(),n=t.toLowerCase();if(!e||-1!=n.indexOf("?ocid=")||-1!=n.indexOf("&ocid="))return t;const i=-1==t.indexOf("?")?"?":"&";return`${t}${i}ocid=${encodeURIComponent(e)}`}function d(t){if(!t)return t;try{const e=new URL(t),n=e.searchParams;return u()&&n.set("ocid",u()),n.set("cvid",r.YT.getRequestId()),e.toString()}catch{return t}}function f(t){try{const e=new URL(t),n=u();n&&e.searchParams.set("ocid",n);const i=function(){var t;if(r.YT)return null===(t=r.YT.getRequestId)||void 0===t?void 0:t.call(r.YT)}();i&&e.searchParams.set("cvid",i);const o=null===s.T3||void 0===s.T3?void 0:s.T3.UxMode;o&&e.searchParams.set(r.GI,o);const a=r.YT.getCurrentEventIndex()+1;return a&&e.searchParams.set("ei",a.toString()),e.toString()}catch(e){return t}}function h(t){if(!t)return null;const e={...t};return e[a.aS.entAuthorization]&&(e[a.aS.entAuthorization]="*****"),e[a.aS.rpsToken]&&(e[a.aS.rpsToken]="*****"),e[a.aS.authorization]&&(e[a.aS.authorization]="*****"),e}function p(){const t=u();return!!t&&i.py.includes(t.toLowerCase())}},5419:function(t,e,n){n.d(e,{t:function(){return r}});var i=n(12870);function r(){var t,e;return Boolean((null===(t=i.Rb.ClientSettings)||void 0===t||null===(t=t.detection)||void 0===t?void 0:t.isMsft)||(null===(e=i.Rb.ClientSettings)||void 0===e||null===(e=e.detection)||void 0===e?void 0:e.isCorpNet))&&!location.search.includes("msftuser=false")}},5518:function(t,e,n){n.d(e,{Y_:function(){return r}});let i=setTimeout;async function r(t){return new Promise((e,n)=>{i(e,t)})}},5831:function(t,e,n){n.d(e,{GO:function(){return a}});var i=n(77246),r=n(17720);const o="__PageExperimentInstance__";function s(t){r.vv.set(o,t)}function a(t){if(!r.vv.has(o)&&(0,i.S)()){var e;s(c(document.head.dataset.info||(null===(e=window.document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.info)||""))}const n=r.vv.get(o);return n&&n.has(t)}function c(t){const e=(t||"").replace(/(^f:|;.*$)/g,"").split(",");return new Set(e)}},6727:function(t,e,n){n.d(e,{AE:function(){return g},AY:function(){return H},DA:function(){return h},DO:function(){return B},FD:function(){return R},Hi:function(){return S},Ir:function(){return U},J1:function(){return k},KS:function(){return P},Ln:function(){return p},O8:function(){return G},OL:function(){return x},QZ:function(){return O},U4:function(){return V},UG:function(){return $},W6:function(){return y},YC:function(){return A},Ym:function(){return K},_Q:function(){return Q},eq:function(){return T},fp:function(){return b},gk:function(){return _},hD:function(){return j},i4:function(){return W},mm:function(){return w},nN:function(){return z},pO:function(){return C},s8:function(){return q},td:function(){return m},uj:function(){return J},xI:function(){return v},yO:function(){return I},zm:function(){return N}});var i=n(98216);let r,o,s,a,c,u,l=(new Date).getTime();try{c="sessionStorage"in window&&window.sessionStorage}catch(t){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then(t=>{u=t.platformVersion})}catch(t){}function d(t){const e=(l+16*Math.random())%16|0;return l=Math.floor(l/16),("x"===t?e:7&e|8).toString(16)}const f=(()=>{let t=null;return()=>{if(null===t){var e,n;const i=((null===(e=document)||void 0===e||null===(e=e.head)||void 0===e||null===(n=e.getAttribute)||void 0===n||null===(n=n.call(e,"data-info"))||void 0===n?void 0:n.split(";").find(t=>t.startsWith("f:")))||"").substring(2).split(",");t=i.includes("prg-tel-cvidfix")}return t}})();function h(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,d)}function p(){return Date.now()}function m(){return x&&(window.outerWidth||document.documentElement.clientWidth)}function g(t){return t?t.scrollHeight:x&&(window.outerHeight||document.documentElement.clientHeight)}function v(t){if(t)return t.scrollTop||0;return x&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function w(){return x&&Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)}function y(){const t="undefined"!=typeof document&&document.cookie;if(!x&&!t)return"";const e=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(t);return e&&e.length>1?e[1]:""}function b(t){return x?(o||""===o||(o=y()||t||""),o):y()}function S(t){o=t}const x=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function C(t,e){return function(t,e){if(e&&t){const n=e.toLowerCase();if(-1==n.indexOf("?ocid=")&&-1==n.indexOf("&ocid=")){const n=-1==e.indexOf("?")?"?":"&";e=`${e}${n}ocid=${encodeURIComponent(t)}`}}return e}(e,t)}function k(t,e){M(t,"ocid",e)}function T(t,e){let n=e;try{const t=new URL(location.href);n=t.searchParams.get("pc")||t.searchParams.get("PC")||t.searchParams.get("pC")||t.searchParams.get("Pc")||n}catch{}M(t,"pc",n||e)}function $(t,e,n){const i=!n&&f(),o=function(t,e){if(!e)return t;r||(r=t);const n=new URLSearchParams(window.location.search);return n.get("cvid")||r}(e,i);M(t,"cvid",o,!0),i&&function(t,e,n){if(e===n)return;M(t,"cvpid",e,!0)}(t,e,o)}function A(t,e){M(t,i.GI,e,!0,!1)}function I(t,e){M(t,"ei",e.toString(),!0)}function P(t,e){M(t,e,void 0,!1,!0)}function _(t,e,n){try{if(!t||!e||!t.href)return;const i=new URL(t.href);if("http:"!==i.protocol&&"https:"!==i.protocol||i.searchParams.has("sc"))return;n&&t.setAttribute("originalhref",n),i.href=`${e}&url=${encodeURIComponent(i.href)}`;const r=Date.now().toString();i.searchParams.set("timestamp",r),t.href=i.href}catch(t){}}function M(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t||!e)return;let o=t;if("a"!==o.nodeName&&o.closest("a")&&(o=o.closest("a")),!o)return;const{href:s}=o;if(s)try{const t=new URL(s);let a=t,c=!1;if("microsoft-edge:"===t.protocol){const e=t.searchParams.get("url");e&&(a=new URL(e),c=!0)}if(r)return a.hash?-1===a.hash.indexOf(e)&&(a.hash+=`&${e}`):a.hash=e,void(c?(t.searchParams.set("url",a.href),o.href=t.href):o.href=a.href);const u=["msn.com","msn.cn","bing.com","msn.yidianzixun.com","msn.huya.com"],l=["ib.msn.com"].every(t=>!a.host.includes(t))&&u.some(t=>a.host.includes(t)),d=["topsite-ruby-link","recommendedSiteDiv"].some(t=>o.classList.contains(t));if(n&&l&&!d){let t="";t=a.searchParams.get(e),t&&!i||a.searchParams.set(e,n)}c?(t.searchParams.set("url",a.href),o.href=t.href):o.href=a.href}catch{}}function R(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return;const n=t.getAttribute("data-hl")||"";if(!e&&!n){const n=t.querySelector("h4")||t.querySelector("h3"),i=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return;let i=e,r=0;for(;i&&i!==t;i=i.parentElement,r++)if(r>n)return;return r}(t,n);n&&i&&i<=2&&(e=F(n))}const i=t instanceof HTMLAnchorElement?t.querySelector(".title"):"";!e&&i&&(e=F(i));const r=t instanceof HTMLAnchorElement?t.getAttribute("title"):"";!e&&r&&(e=r);const o=t instanceof HTMLAnchorElement?t.getAttribute("aria-lable"):"";return!e&&o&&(e=o),"string"!=typeof e&&(e=n||t.getAttribute("data-piitxt")||("FORM"==t.nodeName?"[form submit]":t.getAttribute("title")||D(t,"title","img")||F(t)||t.getAttribute("alt")||D(t,"alt")||"")),null!=e.trim&&(e=e.trim()),e}const E=/(^\s+)|(\s+$)/gm;function F(t){return(t&&(t.textContent||t.innerText)||"").replace(E,"")}function D(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const i=t.children||[];let r,o=0;for(e=e||"alt";o<i.length;o++)if(r=i[o].getAttribute(e)||D(i[o],e,n),r&&n!=i[o].localName)return r}function O(t,e){if(!t||t===document||t===window)return null;const n=t.closest(e);if(n)return n;const i=N(t);return i&&i.host?O(i.host,e):void 0}function N(t,e){return null==t||!t.parentNode||e&&t.parentNode instanceof ShadowRoot?t:N(t.parentNode,e)}function U(t){const e=[];if(!t)return;let n;return n=B(t)?t.shadowRoot.querySelectorAll("*"):t.querySelectorAll("*"),L(Array.from(n),e),e}function L(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=0;n<t.length;n++){const i=t[n];W(i)&&e.push(i),B(i)&&L(Array.from(i.shadowRoot.querySelectorAll("*")),e)}}function B(t){return!!t.shadowRoot}function W(t){return t.hasAttribute&&t.hasAttribute("data-t")}function H(t){try{new URL(t)}catch(t){return!1}return!0}function V(t,e){const n=new CustomEvent(t,{detail:{element:e}});dispatchEvent(n)}function z(){let t=!1;if(x)try{u&&parseInt(u.split(".")[0])>=11&&(t=!0)}catch(t){}return a=!0===t||null,a}function j(t){if(!s&&""!==s&&x)try{if(!t||0===t.length)return;const e=document.cookie;if(e){let n="";t.forEach(t=>{const i=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i").exec(e),r=i&&i.length>1?i[1]:"";""!==r&&(n+=t+"="+r+";")}),s=n}}catch(t){}return s}function q(t,e){if(!t||""===t)return"";let n=!1,i=null;if(x)try{if(i=new URL(t),!e||0===e.length)return;e.forEach(t=>{i.searchParams.has(t)&&(n=!0),i.searchParams.delete(t)})}catch(e){return t}return n?i.toString():t}function G(t){if(!t||""===t)return"";let e=null,n=!1;if(x)try{e=new URL(t);const i=new RegExp(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi);e.searchParams.forEach(function(t,e){t.match(i)&&(n=!0)})}catch(t){}return n?"":t}function J(t){const e="sign-in-refreshed-page";x&&c&&c.getItem(e)?(c.removeItem(e),(t.page=t.page||{}).isAutoRefresh=!0):function(t){return!t||!t.page||!0!==t.page.isAutoRefresh&&!1!==t.page.isAutoRefresh}(t)&&((t.page=t.page||{}).isAutoRefresh=!1)}function K(){let t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=new Promise(e=>{t=e});return e&&t(),{promise:n,resolve:t}}function Q(){o=null,s=null}},6736:function(t,e,n){n.d(e,{S8:function(){return f},Wh:function(){return p},YO:function(){return c},Z5:function(){return u},ZT:function(){return m},nx:function(){return h},rw:function(){return d}});var i=n(65022),r=n(93468),o=n(89980);const s="digital-id-cache";let a;const c={getItem:t=>(0,o.Lg)().getItem(t),setItem:(t,e)=>{(0,o.Lg)().setItem(t,e)},removeItem:t=>{(0,o.Lg)().removeItem(t)}},u=t=>({getItem:async e=>await t.getItem(e),setItem:async(e,n)=>await t.setItem(e,n),removeItem:t.removeItem?async e=>await t.removeItem(e):void 0}),l=new Map,d=u({getItem:async t=>Promise.resolve(l.get(t)||null),setItem:async(t,e)=>(l.set(t,e),Promise.resolve()),removeItem:async t=>(l.delete(t),Promise.resolve())});function f(){const t=v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c);return t&&Object.keys(t).length>0&&t.at?t:void 0}async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const e=await w(t);return e&&Object.keys(e).length>0&&e.at?e:void 0}function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;try{const n=g(t,v(e));e.setItem(s,JSON.stringify(n)),a=void 0}catch(t){(0,r.vV)(i.iUO,"Error updating digital ID cache",t.message)}}async function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;try{const n=g(t,await w(e));await e.setItem(s,JSON.stringify(n)),a=void 0}catch(t){(0,r.vV)(i.iUO,"Error updating async digital ID cache",t.message)}}function g(t,e){var n;const i={...e,...t,lastUpdated:(new Date).toISOString()};return null===(n={NA:["anid","wid"],MSA:["wid"],AAD:["anid"]}[t.at])||void 0===n||n.forEach(t=>delete i[t]),i}function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;if(void 0!==a)return a;try{const e=t.getItem(s);a=e?JSON.parse(e):null}catch(t){(0,r.vV)(i.lXX,"Error reading digital ID cache",t.message),a=null}return a}async function w(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;if(void 0!==a)return a;try{const e=await t.getItem(s);a=e?JSON.parse(e):null}catch(t){(0,r.vV)(i.lXX,"Error reading async digital ID cache",t.message),a=null}return a}},6860:function(t,e,n){n.d(e,{W:function(){return c},o:function(){return d}});var i=n(98216),r=n(65022),o=n(20431),s=n(30817),a=n(94444);const c={};let u=!1;function l(){c.primaryLoadTimeEventSent=!1,c.secondaryLoadTimeEventSent=!1,u=!1}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isSecondaryBeacon:n,reportEntityMetrics:a}=e,l=Object.assign({},n?(0,s.zq)():(0,s.ZF)());u||!a&&!n||((0,o.dX)(l),u=!0),Object.keys(l).length&&(n?c.primaryLoadTimeEventSent||(l.isPrimaryLoadTimeEventSent=!1):l.TimeToSendPrimaryPageTimings=Math.round(performance.now()),t.liteLoadTimeSentKey&&t.liteLoadTimeSentKey.forEach(t=>{delete l[t]}),function e(){try{if(i.YT&&i.YT.getPageMetadata()){const e=(0,s.Tm)()||{};if(n){if(c.secondaryLoadTimeEventSent)return;c.secondaryLoadTimeEventSent=!0}else{if(c.primaryLoadTimeEventSent||t.__peregrine_liteTtvrSent)return;c.primaryLoadTimeEventSent=!0,t.__peregrine_normalTtvrSent=!0}i.YT.sendLoadTimeEvent({markers:l,deviceCapabilities:e});const r=(0,s.ZF)();r&&n&&(r.telemetryBeaconFireTime=Math.round(performance.now()))}else t.setTimeout(e,500)}catch(t){i.YT&&i.YT.sendAppErrorEvent({...r.bk4,message:"Unable to send load time event"})}}())}l(),(0,a.x)(l)},7258:function(t,e,n){n.d(e,{Lk:function(){return o},M5:function(){return s},PD:function(){return a},h5:function(){return c}});const i=new Map,r=10;function o(t){if(!t)return!0;const e=i.get(t)||0;return e>=r?(console.error(`App Error ${t} throttled: Maximum ${r} events exceeded (current: ${e})`),!1):(i.set(t,e+1),!0)}function s(t,e){if(t instanceof Error){const n=t.toString();return e&&t.stack?`${n}, Stack: ${t.stack}`:n}return"string"==typeof t?t:a(t)}function a(t){if(void 0===t)return"undefined";try{return JSON.stringify(t)}catch{return"[serialization-error]"}}function c(t){return t instanceof Error?t:new Error(s(t))}},7469:function(t,e,n){n.d(e,{SX:function(){return i},uq:function(){return a}});var i,r,o,s=n(77246);!function(t){t.NTP_TOP_SITES_CLICK="NTP_TopSites_Click"}(i||(i={})),function(t){t.FunctionalNotification="ntp_profile_scope_tab_functional_notification",t.FeatureCampaign="ntp_profile_scope_tab_feature_campaign",t.PureFunctionalNotification="ntp_profile_scope_tab_pure_functional_notification"}(r||(r={})),function(t){t.PrimaryCTAClicked="PrimaryCTA_Clicked",t.DismissedCTA_Clicked="DismissedCTA_Clicked",t.Notification_Ignored="Notification_Ignored"}(o||(o={}));class a{static isEdgeNurturingAvailable(){var t;return(0,s.S)()&&(null===(t=window.chrome)||void 0===t?void 0:t.edgeNurturingPrivate)}static async getToken(t,e){return new Promise(n=>{var i;(0,s.S)()?"function"==typeof(null===(i=window.chrome)||void 0===i||null===(i=i.edgeNurturingPrivate)||void 0===i?void 0:i.GetToken)?window.chrome.edgeNurturingPrivate.GetToken(t,e,"NTP",t=>{n(t)}):n({Message:"window.chrome.edgeNurturingPrivate.GetToken API Unavailable"}):n({Message:"Cannot use DOM"})})}static updateCTA(t,e){var n;(0,s.S)()&&"function"==typeof(null===(n=window.chrome)||void 0===n||null===(n=n.edgeNurturingPrivate)||void 0===n?void 0:n.UpdateCTA)&&window.chrome.edgeNurturingPrivate.UpdateCTA(t,e)}static notifyTriggerEvent(t){return new Promise(e=>{var n;(0,s.S)()&&"function"==typeof(null===(n=window.chrome)||void 0===n||null===(n=n.edgeNurturingPrivate)||void 0===n?void 0:n.NotifyTriggerEvent)&&window.chrome.edgeNurturingPrivate.NotifyTriggerEvent(t,t=>{e(t)})})}}},7538:function(t,e,n){n.d(e,{s:function(){return Q}});var i=n(93468),r=n(65022),o=n(98216),s=n(89980);const a="nurturingLocalStorage";class c{async isStrategyAvailable(){return(0,s.Lg)().supported}async persistToCache(t){try{(0,s.Lg)().setObject(a,t)}catch(t){return(0,i.vV)(r.Ffm,`Exception occurred while storing Placements Interactions in local storage.  Error: ${t}`,"",!0),!1}return!0}async restoreFromCache(){let t;try{t=(0,s.Lg)().getObject(a)}catch(t){return void o.YT.sendAppErrorEvent({...r.Ffm,message:`Exception occurred while restoring PlacementsInteractions from local storage. Error: ${t}`},!0)}return t||null}}var u=n(77246),l=n(48172);const d="nurturing_campaigns",f="nurturing_interaction_trace_ls_id",h="trace_id";class p{constructor(){if(this._traceId=-1,!(0,u.S)())return;const t=this._getLSTraceId();if(-1===t){const t=this._generateTraceId();this._traceId=t,(0,s.Lg)().setItem(f,t.toString()),o.YT.addOrUpdateTmplProperty(`nf_itrace_id${t}:1`)}else this._traceId=t,o.YT.addOrUpdateTmplProperty(`nf_itrace_id${t}:2`)}isStrategyAvailable(){return l.f.isApiAvailableToUse()}persistToCache(t){const e={...t,[h]:this._traceId};return o.YT.addOrUpdateTmplProperty(`nf_trace_id_w_${this._traceId}`),l.f.savePreferenceSetting(d,e).catch(t=>((0,i.vV)(r.Ffm,`Exception occurred while storing Placements Interactions in persistent storage layer. Error: ${t}`,"",!0),!1))}restoreFromCache(){return l.f.getClonedPreferenceSetting(d,!0).then(t=>null!=t&&t.value?(this.checkTraceId(t.value),null==t?void 0:t.value):null).catch(t=>{o.YT.sendAppErrorEvent({...r.Ffm,message:`Exception occurred while restoring PlacementsInteractions from persistent storage layer. Error: ${t}`},!0)})}checkTraceId(t){const e=(null==t?void 0:t[h])||-1,n=this._getLSTraceId();o.YT.addOrUpdateTmplProperty(`nf_trace_id_r_${e}_${n}_${this._traceId}`),this._traceId!==e&&o.YT.addOrUpdateTmplProperty("nf_trace_id_r_pslMismatch"),this._traceId!==n&&(o.YT.addOrUpdateTmplProperty("nf_trace_id_r_lsMismatch"),(0,i.vV)(r.bV3,"Localstorage trace id changed","",{pslTraceId:e,lsTraceId:n,_traceId:this._traceId}),this._traceId=n)}_generateTraceId(){return(new Date).getTime()}_getLSTraceId(){try{return parseInt((0,s.Lg)().getItem(f)||"-1")}catch(t){return-1}}}var m,g=n(49222);!function(t){t[t.V0_1=.1]="V0_1",t[t.V0_2=.2]="V0_2"}(m||(m={}));const v=m.V0_2;class w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;this._cacheStrategies=t,this._storageSchemaVersion=e}async initStorage(){for(const t of this._cacheStrategies)if(await t.isStrategyAvailable()){this._cacheStrategy=t;break}return!!this._cacheStrategy||((0,i.vV)(r.bV3,"No Caching strategy available."),!1)}}function y(t){return"number"==typeof t&&t>0}class b{constructor(t){this._restoreLegacyInteractionForCoachMarkKeys=t}async restoreAndMergeLegacyInteractions(t){const e=await this.restoreLegacyInteractions();return this.mergeInteractionsData(t,e)}mergeInteractionsData(t,e){if(!e||!Object.keys(e).length)return t;if(!t)return{version:m.V0_1,placementsInteractions:e};const n={...t.placementsInteractions};return Object.keys(e).forEach(i=>{const r=this._mergeInteractionsOfSinglePlacement({presentInteractions:t.placementsInteractions[i],legacyInteractions:e[i]});n[i]=r}),{...t,placementsInteractions:n}}async restoreLegacyInteractions(){const t=this._restoreLegacyLocalSuperCoachmarkInteractionData(),e=await this._restoreLegacyLocalCoachmarkInteractionData().catch(t=>{(0,i.vV)(r.Ffm,`Exception occurred while restoring LegacyPlacementsInteractions from persistent storage layer. Error: ${t}`,void 0,{},!0)});return e&&t?{...e,...t}:e||t}async _restoreLegacyLocalCoachmarkInteractionData(){var t;const e=(null===(t=this._restoreLegacyInteractionForCoachMarkKeys)||void 0===t?void 0:t.legacyCoachMarkKeys)??{},n=Object.keys(e).reduce((t,n)=>e[n]?t.concat([g.R.getAllLocalCoachmarkCampaignsByKey(n)]):t,[]),i=(await Promise.all(n)).flat(),r={};return i.forEach(t=>{if(null==t||!t.count)return;const e=[...Array(t.count)].map(()=>({type:"Viewed",ts:t.time}));r[t.name]=e}),Object.keys(r).length?r:void 0}_restoreLegacyLocalSuperCoachmarkInteractionData(){let t={};try{((0,s.Lg)().getObject("coachmarks")||[]).forEach(e=>{var n;e&&e.coachMarkKey&&null!==(n=this._restoreLegacyInteractionForCoachMarkKeys)&&void 0!==n&&null!==(n=n.superCoachMarkKeys)&&void 0!==n&&n[e.coachMarkKey]&&(t={...t,...this._transformLegacySuperCoachMarkInteraction(e)})})}catch(t){o.YT.sendAppErrorEvent({...r.Ffm,message:`Exception occurred while restoring LegacyPlacementsInteractions from local storage layer. Error: ${t}`},!0)}return Object.keys(t).length>0?t:void 0}_transformLegacySuperCoachMarkInteraction(t){if(!this._validateLegacySuperCoachMarkInteraction(t))return{};const{coachMarkKey:e,latestShownTimestamp:n,showTimes:i,repeatHours:r=0}=t;if(0===r)return{[e]:[{type:"Viewed",ts:n}]};const o=[],s=60*r*60*1e3;for(let t=1;t<=i;t++){const e=n-(i-t)*s;e>0&&o.push({type:"Viewed",ts:e})}return{[e]:o}}_validateLegacySuperCoachMarkInteraction(t){return!(!y(t.latestShownTimestamp)||!y(t.showTimes))&&(!t.repeatHours||"number"==typeof(e=t.repeatHours)&&e>=0);var e}_mergeInteractionsOfSinglePlacement(t){const{presentInteractions:e,legacyInteractions:n}=t;if(null==e||!e.length)return n;const i=e.sort((t,e)=>t.ts-e.ts),r=[...n],o=i[i.length-1].ts;for(;r.length&&r[0].ts<=o;)r.shift();return e.concat(r)}}const S=["OptInStickPromptLoad","OnLoadAutoScrollPrompt"],x=t=>{if(!t||!t.placementsInteractions||!t.version)return t;if(t.version!==m.V0_1)return t;const e=(t=>{var e;const n=new Map,i=new Set;null===(e=t.layoutPromotion)||void 0===e||e.forEach(t=>{i.add(t.ts)});const r=[...S];return r.sort((e,n)=>{var i,r;return((null===(i=t[e])||void 0===i?void 0:i.length)??0)-((null===(r=t[n])||void 0===r?void 0:r.length)??0)}),r.forEach(e=>{const r=t[e]||[];for(let t=0;t<r.length;t++){var o;const s=r[t];if(i.has(s.ts))continue;if(!n.has(s.ts)){n.set(s.ts,[{placementId:e,interaction:s,index:t}]);continue}let a=n.get(s.ts);const c=null===(o=a)||void 0===o?void 0:o[a.length-1];c.placementId!==e&&(t>c.index||(t<c.index&&(a=[{placementId:e,interaction:s,index:t}]),t===c.index&&a.push({placementId:e,interaction:s,index:t}),n.set(s.ts,a)))}}),n})(t.placementsInteractions),n=(t=>{const e=Array.from(t.keys());e.sort((t,e)=>t-e);const n={};return e.forEach(e=>{t.get(e).forEach(t=>{n[t.placementId]||(n[t.placementId]=[]),n[t.placementId].push(t.interaction)})}),Object.keys(n).forEach(t=>{n[t]=(t=>{let e=0,n=[];for(let i=t.length-1;i>=0&&!(e>=3);i--)"Viewed"===t[i].type&&(e+=1),n=[t[i],...n];return n})(n[t])}),n})(e);return{placementsInteractions:{...t.placementsInteractions,...n},version:m.V0_2}};class C extends w{constructor(){super(...arguments),this._preInteractionVersion=-1}async logPlacementInteraction(t,e){if(o.YT.addOrUpdateTmplProperty(`nf_log_interactions_${t}_${e.type}`,"1"),"Hidden"==e.type||"Served"==e.type)return;if(!this._cacheStrategy)return;const n=await this.getPlacementsInteractions();n[t]||(n[t]=[]),n[t].push(e),"locationAccuracyRevIP"===t&&o.YT.addOrUpdateTmplProperty(`nf_log_interactions_${t}_${e.type}_${e.ts}`,"1"),await this._cacheStrategy.persistToCache({version:this._storageSchemaVersion,placementsInteractions:n})}async getPlacementsInteractions(){if(this._cacheStrategy){const t=await this._cacheStrategy.restoreFromCache()||{};o.YT.addOrUpdateTmplProperty(`nf_interaction_v_${((null==t?void 0:t.version)||"").toString()}`,"1");const e=((t,e)=>{if(null==t||!t.version)return t;let n=t;switch(t.version){case m.V0_1:if(m.V0_1===e)break;n=x(n);case m.V0_2:}return n})(t,this._storageSchemaVersion);return e.version!==t.version&&await this._cacheStrategy.persistToCache(e),(null==e?void 0:e.placementsInteractions)||{}}return Promise.resolve({})}}var k=n(57717),T=n(69583),$=n(53709),A=n(21599),I=n(79426);class P{constructor(t){this.compareFn=t,this._itemsArray=[]}enqueue(t){var e;t&&t.length&&(this._itemsArray.push(...t),this._itemsArray.sort(this.compareFn),null===(e=this._settablePromise)||void 0===e||e.set())}async dequeue(){this._itemsArray.length||(this._settablePromise=new I.e,await this._settablePromise.getResultAsync());const t=this._itemsArray.shift();if(!t)throw new Error("Queue is empty but attempted to return an item.");return t}}var _=n(17720);const M={[A.z.FreOverlay]:1e3,[A.z.FeedLayoutPromotions]:100,[A.z.NurturingFunctional]:10,[A.z.NurturingPromotions]:1},R=(t,e)=>M[e.priorityGroup]-M[t.priorityGroup],E=async t=>{const e="__OverlayPlacementManager_displayedPlacementId__";return _.vv.get(e)?_.vv.get(e)===t.id:(_.vv.set(e,t.id),!0)};class F{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._additionalEvaluators=t,this._placementPrioritizationStrategy=e,this._extensionContext=n,this._placementProcessingQueue=new P(this._placementPrioritizationStrategy)}enqueuePlacements(t){this._placementProcessingQueue.enqueue(t)}async startProcessing(){this._additionalEvaluators.push(E);const t=await(0,$.Rd)();var e,n;t&&this._additionalEvaluators.push((0,$.aL)(null===(e=this._extensionContext)||void 0===e?void 0:e.useFeatureEdgeTemplate,null===(n=this._extensionContext)||void 0===n?void 0:n.useFunctionalTemplateList));for(;;){const e=await this._placementProcessingQueue.dequeue();if(o.YT.addOrUpdateTmplProperty(`nf_evalu_${e.id}`,(new Date).getTime()+""),e.evaluator&&!await e.evaluator(e))continue;if((await Promise.all(this._additionalEvaluators.map(async t=>await t(e)))||[]).some(t=>!t)){o.YT.addOrUpdateTmplProperty(`nf_log_failed_adievalu_${e.id}`,(new Date).getTime()+"");continue}o.YT.addOrUpdateTmplProperty(`nf_disp_${e.id}`,(new Date).getTime()+"");const n=await e.display();t&&(0,$.fi)(e.id,n)}}}var D,O=n(68614),N=n(19548);!function(t){t.LocalStore="local-store",t.PersistentStore="persistent-store"}(D||(D={}));var U=n(10268);function L(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.keys(t).filter(e=>!!t[e]),i=Object.keys(e).filter(t=>!!e[t]);return t=>function(t){return e=>!((null==t?void 0:t.length)>0&&t.includes(e.id))}(n)(t)&&function(t){return e=>!((null==t?void 0:t.length)>0)||t.findIndex(t=>{var n;return null==e||null===(n=e.id)||void 0===n?void 0:n.startsWith(t)})>=0}(i)(t)}var B=n(22272),W=n(32886),H=n(1732);const V=["Coachmark","HorizontalBanner"],z=t=>(e,n)=>{if(((t,e)=>!e[t.id]&&V.includes(t.surfaceModel.surfaceType))(e,t)){const t=15552e6;return(0,B.A)("Closed",t)(e,n)}return!0},j=[(0,B.A)("Viewed",6048e5,{relatedPlacementIds:["layoutPromotion"]})];var q=n(27261),G=n(12870);async function J(t){const e=[],{lockScreenJourneyFilterList:n,placementsFilterList:s,enableLogsForRulesCheck:a}=t;if(await async function(){var t;if(null!==G.Rb&&void 0!==G.Rb&&null!==(t=G.Rb.ClientSettings)&&void 0!==t&&t.pageGenTime){const t=G.Rb.ClientSettings.pageGenTime,e=new Date(t).getTime();Date.now()<e&&e-Date.now()>W.h&&(0,i.vV)(r.DQR,"PageGenTime is later than current time.",`pageGenTime=${t};currentTime=${Date.now()}`)}const e=await(0,H.nm)();if(!e)return!1;if(Date.now()-e<W.$)return!0;const n=await(0,H.$2)();if(!n)return!1;if(Date.now()-n<W.$)return!0;return!1}()){const n=t.edgeSuppressFilterList||{};e.push(L(n.excludeList||{},n.allowList||{supressAll:!0})),a&&o.YT.addOrUpdateTmplProperty("nf_rule_fre",(new Date).getTime()+"")}else n&&(0,q.iA)().includes("ocid=widgetonlockscreen")?(e.push(L((null==n?void 0:n.excludeList)||{},(null==n?void 0:n.allowList)||{})),a&&o.YT.addOrUpdateTmplProperty("nf_rule_lockscreen",(new Date).getTime()+"")):(e.push(L((null==s?void 0:s.excludeList)||{},(null==s?void 0:s.allowList)||{})),a&&o.YT.addOrUpdateTmplProperty("nf_rule_default",(new Date).getTime()+""));var c;t.closedThrottleEnabled&&e.push(z((null===(c=t.closedThrottleFilterList)||void 0===c?void 0:c.excludeList)||{}));return{Default:[...e,(0,B.r)("Viewed",2592e5)],Functional:e,FeedLayout:[...e,...j]}}const K={Internal:t=>{const e=new T.g6({...null==t?void 0:t.internalPlacementStaticContext,localizedStrings:null==t?void 0:t.localizedStrings});return(0,T.k3)(e),e}};class Q extends U.u{constructor(t,e){super(t,e),this.initPlacementManager(e)}async initPlacementManager(t){var e;const{placementProviders:n}=t||{},i=(null==n?void 0:n.map(t=>{const e=K[t];if(e)return e(this.config)}).filter(t=>null!==t))||[],r=[],o=(null==t?void 0:t.storeCacheStrategyOverride)||N._3.getQueryParameterByName("nurturingStoreStrategy",window.location.search);o==D.LocalStore?r.push(new c):o==D.PersistentStore?r.push(new p):r.push(new p,new c),null!==(e=this.config.restoreLegacyInteractionData)&&void 0!==e&&e.enabled&&r.forEach(t=>{!function(t,e){const n=t.restoreFromCache.bind(t);t.restoreFromCache=async()=>{const t=new b(e),i=await n();return await t.restoreAndMergeLegacyInteractions(i)}}(t,this.config.restoreLegacyInteractionData)});const s=new C(r,this.config.interactionStorageVersion);await s.initStorage();const a={...this.config.extensionContext||{}},u=await J(this.config),l=new k.fe(i,s,u,a);(0,k.Xt)(l);const d=this.config.overlayExtensionContext||{},f=new F([],void 0,{...d});(0,O.eq)(f)}}},7578:function(t,e,n){n.d(e,{y:function(){return s}});var i=n(68399),r=n(30817),o=n(7258);function s(t){const e=t||performance.now();return{end:t=>{const n=performance.now(),s="ClientInit";try{if(!t){(0,r.ZF)()[s]=Math.round(n-e)}(0,i.Ww)({name:s,startTime:e,endTime:n,customSuffix:t?"error":void 0})}catch(t){console.error("ClientInit span error: "+(0,o.M5)(t))}}}}},7922:function(t,e,n){n.d(e,{$f:function(){return H},Nc:function(){return W}});var i=n(89980);const r="1adindices",o="1adcoords",s=function(t){var e;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=null===(e=(0,i.Lg)())||void 0===e?void 0:e.getItem(t);return n?c(r):r},a=(t,e,n)=>{const r=JSON.stringify(t,u);var o,s,a;r!==(0,i.Lg)().getItem(e)&&(null===(o=(0,i.Lg)())||void 0===o||o.setItem(e,r),n?null===(s=(0,i.Lg)())||void 0===s||s.setItem(`${e}_CreationDateTime`,n):null===(a=(0,i.Lg)())||void 0===a||a.setItem(`${e}_date`,JSON.stringify(new Date)))},c=t=>{try{return JSON.parse(t,l)}catch{return null}},u=(t,e)=>e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e,l=(t,e)=>"object"==typeof e&&null!==e&&"Map"===e.dataType?new Map(e.value):e;var d=n(75538),f=n(98216),h=n(12870);const p=(t,e,n)=>{m(n,void 0,`Config: ${t}, Response: ${e}`,!0)},m=(t,e,n,i)=>{const r={...t,pb:{...t.pb}};e&&(r.message=e),n&&r.pb&&(r.pb.customMessage=n),i&&r.pb&&(r.pb.isPrerender=null===h.Rb||void 0===h.Rb?void 0:h.Rb.IsPrerender),f.YT.sendAppErrorEvent(r)};var g=n(28006),v=n(45084),w=n(20292),y=n(18e3),b=n(8502),S=n(4891),x=n(77246),C=n(17720),k=n(93468),T=n(65022),$=n(83078),A=n(78961),I=n(29307),P=n(8555),_=n(26587),M=n(23377),R=n(83003),E=n(79426),F=n(56639),D=n(45083),O=n(39619),N=n(17254),U=n(35849),L=n(1732);class B{constructor(t,e){var n,i=this;this.cardsIndexList=[],this.nativeAdIndexList=[],this.cmsAdIndexList=[],this.intraNativeAdIndexList=[],this.infopanePlacementList=[],this.originalInfopaneRegion=new Map,this.isNTPPeek=!1,this.getCmsAdsConfig=()=>this.cmsAdsConfig,this.getAdRegionTupleListMap=()=>this.adRegionTupleListMap,this.getPlacementsBySectionIndex=(t,e)=>{const n=this.getAdIndexList(e)[this.config.auctionPreSectionsNum||0],i=B.isFilteredRegion[e]?(0,A.A)(t,t=>t<=n)+1:t.length,r=[];return t.forEach((t,e)=>{e<i&&r.push(t)}),r},this.getCmsRequestFromTuple=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e={placements:[]};return i.adRegionTupleListMap.forEach((n,r)=>{if(!n[0]){if(i.shouldDeferInfopaneAuctionOnPrerender(r,t))return;const o=n[1],s=i.getAdIndexList(r)[t]||-1,a=B.isFilteredRegion[r]?(0,A.A)(o,t=>t<=s)+1:o.length,c=o.splice(0,a);i.checkAndAddPlacement(e,!n[0],r,c)}}),e},this.fireCmsAuction=async function(){var t;let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!==(t=i.cmsRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length?(e=i.cmsRequest,i.cmsRequest=void 0):e=i.getCmsRequestFromTuple(n),e&&e.placements.length)try{const{infopane:t,river:n,documentId:r}=i.cmsAdsConfig,o=e.placements.find(t=>{let{region:e}=t;return e.includes("resinfopane")}),s=e.placements.find(t=>{let{region:e}=t;return e.includes("resriver")}),a=t.splice(0,(null==o?void 0:o.indices.length)??0),c=n.splice(0,(null==s?void 0:s.indices.length)??0);i.isFirstCmsAdsBatch=!1,i.cmsRequestPromise=i.nativeAdService.fetchCmsAds(e,r,[...a,...c]);const{placements:u}=await i.cmsRequestPromise;return u}catch(t){(0,k.c_)(t,T.HjP,"Call to CMS Ad Service failed")}},this.getRegionImgForMobile=t=>{const{river:e,infopane:n}=this.overrideImageSize||{};switch(t){case"river":return e;case"infopane":return n;default:return}},this.fireFastHydrationAuction=async t=>{(0,w._F)(t,this.config,this.userSignalsForAdRequest),(this.config.passAdOcidRegSize||this.config.enableAddingAdCoords||this.config.passBrandSafetySignals)&&t.placements.forEach(t=>{(0,w.yS)(t,this.config)}),this.fastHydrationRequest=t;const e=this.nativeAdService.fetchSamAds(t,!0);this.fastHydrationRequestPromise=e,(0,O.Zx)(this.config)},this.fetchSamPredictContent=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.isFirstSamAdsBatch){i.samPredictResponsePromise=new E.e;try{const e=i.getPredictedAdRequest();if(i.samRequest=e,!e||!e.placements||!e.placements.length)return;$.M.startMark("AdServiceCall.SuperFeed");const n=i.nativeAdService.fetchSamAds(e,!0,t,i.getIsPrerenderAds());i.samRequestPromise=n;const r=(0,O.Zx)(i.config);[i.predictSamResponse]=await Promise.all([n,r])}catch(t){(0,k.c_)(t,T.I8Q,"Call to SAM Ad Service failed")}finally{i.samPredictResponsePromise.set(),$.M.endMark("AdServiceCall.SuperFeed")}}},this.waitForSamPredictResponse=async()=>{var t;return null===(t=this.samPredictResponsePromise)||void 0===t?void 0:t.getResultAsync()},this.waitForSamAuctionCall=async()=>this.samRequestPromise,this.addToCallbackList=t=>{this.nativeAdService.addToCallbackList(t)},this.getFastHydrationSamAdsData=async()=>{if(!this.fastHydrationRequestPromise)return;const t=this.fastHydrationRequestPromise;this.fastHydrationRequestPromise=void 0;const e=await t;try{var n;const t=this.getSamRequestFromTupleWithSectionIndex();return this.validateFastHydrationAdPlacement(t),this.samRequest=t,null!==(n=this.samRequest)&&void 0!==n&&null!==(n=n.placements)&&void 0!==n&&n.length&&(this.isFirstSamAdsBatch=!1),e}catch(t){if(this.config.enableWpoAdRank&&(0,k.vV)(T.qdn,"Failed to get fast hydration SAM ads data",void 0,{...T.qdn.pb,customMessage:`Failed to get fast hydration SAM ads data: ${t.message}; ${t.stack}`,isPrerender:null===h.Rb||void 0===h.Rb?void 0:h.Rb.IsPrerender}),!this.config.enableWpoAdRank)throw t}},this.getSamRequestFromTupleWithSectionIndex=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e={placements:[],tmaxbidder:i.config.adsTmaxBidder&&h.Rb.IsPrerender&&i.isFirstSamAdsBatch?i.config.adsTmaxBidder:void 0};return i.adRegionTupleListMap.forEach((n,r)=>{if(n[0]){if(i.shouldDeferInfopaneAuctionOnPrerender(r,t))return;const o=n[1],s=i.getAdIndexList(r)[t]||-1,a=B.isFilteredRegion[r]?(0,A.A)(o,t=>t<=s)+1:o.length,c=o.splice(0,a);(r.startsWith("river")||r.startsWith("resriver")||r.startsWith("intranative"))&&c[0]&&f.YT.addOrUpdateTmplProperty(`servingAdsIndex-${r}`,`${t}-${c[0]}`),i.checkAndAddPlacement(e,n[0],r,c)}}),e},this.getSamRequestFromTuple=()=>{const t={placements:[]};return this.adRegionTupleListMap.forEach((e,n)=>{e[0]&&this.checkAndAddPlacement(t,e[0],n,e[1])}),t},this.shouldDeferInfopaneAuctionOnPrerender=(t,e)=>t.includes("infopane")&&(this.getIsPrerenderAds()&&0==e||this.config.deferInfopanePrerender&&h.Rb.IsPrerender&&this.isFirstSamAdsBatch),this.getAdIndexList=t=>{var e,n;return null===(e=this.config.riverSectionCardProviderConfig)||void 0===e||!e.useRelativeAdPlacement||"river"!==t&&"riverlock"!==t&&"peekriver"!==t?null!==(n=this.config.riverSectionCardProviderConfig)&&void 0!==n&&n.useRelativeAdPlacement&&t.includes("resriver")?this.cmsAdIndexList:this.config.enableIntraNativeAds&&t.includes("intranative")?this.intraNativeAdIndexList:this.cardsIndexList:this.nativeAdIndexList},this.overrideTopAdSamRequest=(t,e)=>{const n=(0,F.cE)();var i;null!=e&&e.isSuperAppTopAd&&this.config.enableTopAdCard&&null!=n&&n.isOEM&&(t[0]&&(t[0].region="top",t[0].img=null===(i=this.config)||void 0===i||null===(i=i.adTemplateConfig)||void 0===i||null===(i=i.imageSizeConfig)||void 0===i?void 0:i.top));return t},this.getSamAuctionRequest=(t,e,n)=>{var i;let r;if(null!==(i=this.samRequest)&&void 0!==i&&null!==(i=i.placements)&&void 0!==i&&i.length?(r=this.samRequest,this.samRequest=void 0):r=this.config.enableNativeAdBatchCall?this.getSamRequestFromTuple():this.getSamRequestFromTupleWithSectionIndex(t),r&&r.placements.length){if(this.config.enableNativeAdXandr&&(r.enableNativeAdXandr=!0),this.config.overrideAdPartnerId&&(r.partnerId=this.config.overrideAdPartnerId),this.config.overrideAdPageType&&(r.pageType=this.config.overrideAdPageType),e)r={placements:this.overrideTopAdSamRequest(r.placements,e),pageType:e.pageType,locale:e.locale,adid:e.adid,anid:e.anid,muid:e.muid,sapphireid:e.sapphireid,appName:e.appName,clientVersion:e.clientVersion,packageName:e.packageName,tmax:e.tmax},"prime_mobile"===e.appName&&"mobilefeed"===e.pageType&&r.placements.forEach(t=>{t.isStrictIndices=!0});else if(r.tmaxbidder=this.config.adsTmaxBidder&&h.Rb.IsPrerender&&this.isFirstSamAdsBatch?this.config.adsTmaxBidder:void 0,(0,w._F)(r,this.config,this.userSignalsForAdRequest),n){var a;const{selectedFeedDisplaySetting:e}=(null===(a=(0,U.zP)(g.h$))||void 0===a?void 0:a.getCurrentState())??{},i=[];let c=!1;if(r.placements.forEach(r=>{if(n(r),r&&r.placementLevelSignals){var o;if(this.config.batch8AdsOnPeak&&h.Rb.IsPrerender&&"peek"===e)if(("river"===r.region||"resriver"===r.region||"peekriver"===r.region)&&Array.isArray(r.indices)&&null!==(o=r.indices)&&void 0!==o&&o.includes(2))return;t&&r.placementLevelSignals.some(t=>!t||!t.coords||"number"!=typeof t.coords.x)&&i.push(`${r.region}-${r.indices}`),this.config.addAdBrandSafetySignals&&"intranative"!==r.region&&r.placementLevelSignals.some(t=>!t||!t.adjacentCardIds)&&(c=!0)}}),this.config.enableAddingAdCoords&&i.length){const t=s(o);t&&t.size&&(0,k.vV)(T.E7N,"Ads placement level signal missing coordinates",`{"missing_plcs": ${JSON.stringify(i)}, "coords_cache": ${JSON.stringify(Array.from(t.entries()))}, "placements": ${JSON.stringify(r.placements)}}`)}this.config.addAdBrandSafetySignals&&c&&(0,k.vV)(T.GTE,"Ad placement signal missing adjacentCardIds",JSON.stringify(r.placements),{shouldSampleErrorsForTreatement1:!0})}return r}},this.fireSamAuction=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;const c=i.getSamAuctionRequest(e,n,o);if(c&&c.placements.length)return r&&await r.getResultAsync(),await i.fetchSamAds(c,t,s,a)},this.fetchSamAds=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;try{$.M.startMark("AdServiceCall.SuperFeed");const{isFirstSamAdsBatch:s,nativeAdService:a}=i,c=s?e:[];i.isFirstSamAdsBatch=!1;const u=a.fetchSamAds(t,s,c,i.getIsPrerenderAds(),n,r);if(!i.config.loadAdTemplate)return await u;if(i.config.enableNativeAdWC||i.config.enableNativeAdWCInfopane){var o;const[t]=await Promise.all([u,i.lazyLoadDRBundle(null===(o=i.config)||void 0===o||null===(o=o.adTemplateConfig)||void 0===o?void 0:o.configType)]);return t}{const[t]=await Promise.all([u,(0,O.Zx)(i.config)]);return t}}catch(t){(0,k.c_)(t,T.I8Q,"Get SAM data failed")}finally{$.M.endMark("AdServiceCall.SuperFeed")}},this.initNativeAdConfig(t),this.initAdRegionTupleListMap(),null!=t&&null!==(n=t.riverSectionCardProviderConfig)&&void 0!==n&&n.adRegionSpecificTupleListMap&&this.initAdRegionSpecificTupleListMap(t.riverSectionCardProviderConfig.adRegionSpecificTupleListMap),this.beaconService=new y.m(null==t?void 0:t.adBeaconServiceConfig)}initNativeAdConfig(t){var e,n,i,r,o;this.isFirstSamAdsBatch=!0,this.isFirstCmsAdsBatch=!0,this.config=(0,I.A)(t)||{},this.cmsAdsConfig=(null===(e=this.config)||void 0===e?void 0:e.cmsAds)??{documentId:"",infopane:[],river:[]},this.tallAdProcessed=!(null!==(n=this.config)&&void 0!==n&&n.enableAdsWaterfall);const s={adPlacementMapper:this.config.adPlacementMapper,adPageType:this.config.adPageType,useEmptyPlacementsForNoContent:this.config.backfillContentForMissingPlacements,enablePrerenderAdsAuctionFlag:this.config.enablePrerenderAds&&this.config.enablePrerenderAuctionFlag,auctionTimeoutOverride:this.config.auctionTimeoutOverride,auctionRidOverride:this.config.auctionRidOverride,enableBuyDirectAd:this.config.enableBuyDirectAd,fixAuctionSrcUrl:this.config.fixAuctionSrcUrl,passExtraAdSignals:this.config.passExtraAdSignals,passAdOcidRegSize:this.config.passAdOcidRegSize,passRequestModelSignals:this.config.passRequestModelSignals,enableNativeAdXandr:this.config.enableNativeAdXandr,enableAdTargetingKeywords:null===(i=this.config.adServiceConfig)||void 0===i?void 0:i.enableAdTargetingKeywords,passDTSignals:this.config.passDTSignals,dtsRequestConfig:this.config.dtsRequestConfig,enableNativeAdDTS:this.config.enableNativeAdDTS,nativeAdDTSRequestConfig:this.config.nativeAdDTSRequestConfig,passBrandSafetySignals:this.config.passBrandSafetySignals,readAdScenarioTypeFromMsnKv:this.config.readAdScenarioTypeFromMsnKv,enableAdSponsoredText:this.config.enableAdSponsoredText,passDeviceOS:this.config.passDeviceOS,passVAXandrMigrationSignals:this.config.passVAXandrMigrationSignals,sendAdBlockDetectionFromEdge:null===(r=this.config.adServiceConfig)||void 0===r?void 0:r.sendAdBlockDetection,passCohortSignalsAds:this.config.passCohortSignalsAds};this.nativeAdService=(0,b.s)((null===(o=this.config)||void 0===o?void 0:o.adTemplateConfig)||{},s)}initAdRegionTupleListMap(){var t;this.adRegionTupleListMap=new Map([["infopane",[!0,[],[]]],["infopanelock",[!0,[],[]]],["peekinfopane",[!0,[],[]]],["rightrail",[!0,[],[]]],["triver",[null===(t=this.config)||void 0===t?void 0:t.enable1stRowAd,[],[]]],["river",[!0,[],[]]],["riverlock",[!0,[],[]]],["peekriver",[!0,[],[]]],["infopane-tab",[!0,[],[]]],["resinfopane",[this.config.enableInfopaneLeadgenNative,[],[]]],["resinfopanelock",[this.config.enableInfopaneLeadgenNative,[],[]]],["resriver",[this.config.enableRiverLeadgenNative,[],[]]],["resriverlock",[this.config.enableRiverLeadgenNative,[],[]]],["dense-river",[!0,[],[]]],["rivert",[this.config.enableAdsWaterfall||this.config.enableNTPAdaptiveImage,[],[]]],["resrivert",[this.config.enableNTPAdaptiveImage,[],[]]],["infopane1u",[this.config.enableInfopane1uCard,[],[]]],["intranative",[this.config.enableIntraNativeAds,[],[]]]])}initAdRegionSpecificTupleListMap(t){0!==t.length&&(this.adRegionTupleListMap=new Map(t.map(t=>[t,[!0,[],[]]])))}loadCmsBackfillList(){return this.nativeAdService.loadCmsBackFillList()}fillAdsMap(t){if(!t)return;const{adLabelText:e,isGreyAdsLabelEnabled:n}=this.nativeAdService.getAdTagStyleByLocale(),i=(0,d.nY)({adLabelText:e,isGreyAdsLabelEnabled:n,...this.config},t),r=(0,F.cE)();this.adRegionTupleListMap.forEach((t,e)=>{("river"===e||"riverlock"===e||"peekriver"===e)&&this.config.enableTopAdCard&&null!=r&&r.isOEM&&i.top&&t[2].push(...i.top),t[2].push(...i[e]??[])})}createNativeAdCardMetadata(t,e,n,i,r,o,s,a,c,u,l){var d,f,h,p,m,g,v,w;let y=t.includes("resinfopane")||t.includes("resriver")?R.pL.CmsAd:R.pL.NativeAd;if(null!==(d=this.config)&&void 0!==d&&d.enableIntraNativeAds&&"intranative"===t&&(y=R.pL.IntraNativeAd),null!==(f=this.config)&&void 0!==f&&f.enableAdsWaterfall&&"river"===t&&e===(null===(h=this.config)||void 0===h?void 0:h.tallAdsIndex)&&(t="rivert"),null!==(p=this.config)&&void 0!==p&&p.enable1stRowAd&&o===R.pL.FirstPartyAd&&(t="triver",y=R.pL.FirstPartyAd),null!==(m=this.config)&&void 0!==m&&m.enableInfopane1uCard&&S.IT.includes(t)&&(t="infopane1u"),null!==(g=this.config)&&void 0!==g&&g.adPlacementMapper){const n=this.config.adPlacementMapper.find(n=>{const i=n.region===t,r=!n.indices||n.indices.includes(e);return i&&r});t=(null==n?void 0:n.mappedRegion)||t}let b=null===(v=this.adRegionTupleListMap.get(t))||void 0===v?void 0:v[2],x=null===(w=b)||void 0===w?void 0:w.find(t=>t.regionIndex===e);if(this.config.adsPlacementForPeekView&&!x){var C,k,T,$,A;if("peekriver"===t)b=null===(k=this.adRegionTupleListMap.get("river"))||void 0===k?void 0:k[2];if("river"===t)b=null===(T=this.adRegionTupleListMap.get("peekriver"))||void 0===T?void 0:T[2];if("peekinfopane"===t)b=null===($=this.adRegionTupleListMap.get("infopane"))||void 0===$?void 0:$[2];if("infopane"===t)b=null===(A=this.adRegionTupleListMap.get("peekinfopane"))||void 0===A?void 0:A[2];x=null===(C=b)||void 0===C?void 0:C.find(t=>t.regionIndex===e)}return x?{type:y,regionType:t,regionIndex:e,id:this.getNativeAdId(t,x.regionIndex,x),placement:x,wpoRank:n,wpoAdRank:i,wpoId:r,adjacentCardIds:s,isPartialBrandSafety:a,column:c,row:u,colSpan:l}:{type:y,regionType:t,regionIndex:e,placement:{items:[]},wpoRank:n,wpoAdRank:i,wpoId:r,adjacentCardIds:s,isPartialBrandSafety:a,column:c,row:u,colSpan:l}}getPredictCmsAdsData(){var t;if(!this.isFirstCmsAdsBatch)return;const e=this.getCmsRequestFromTuple();if(this.predictCmsResponse&&this.validateCmsAdPlacementConfig(e),this.cmsRequest=e,null!==(t=this.cmsRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length&&(this.isFirstCmsAdsBatch=!1),this.predictCmsResponse){const t=this.predictCmsResponse;return this.predictCmsResponse=void 0,t}}async waitForCmsAuction(){if(this.cmsRequestPromise)if(this.config.enableWpoAdRank)try{await this.cmsRequestPromise}catch(t){(0,k.vV)(T.qdn,"CMS auction failed",void 0,{...T.qdn.pb,customMessage:`CMS auction failed: ${t.message}; ${t.stack}`,isPrerender:null===h.Rb||void 0===h.Rb?void 0:h.Rb.IsPrerender})}else await this.cmsRequestPromise}getAssets(t,e){const n=[];if(e){const i=e.reduce((e,n,i)=>{const r=(0,P.A)(v.eO,t=>t===n);if(r){const n={...v.ux[r],id:i+1};"img"===r&&(n.img={...this.getRegionImg(t),...n.img}),e.push(n)}return e},[]);n.push(i)}return n}getVAAssets(t){var e;const n=null===(e=this.config.adTemplateConfig)||void 0===e?void 0:e.supportedVAAssets;return this.getAssets(t,n)}getNativeAdAssets(t){var e;const n=null===(e=this.config.adTemplateConfig)||void 0===e?void 0:e.auctionCallAssets;if(this.config.assetConfigRefactor){if("infopane-tab"===t)return;if(n&&n.length>0)return this.getAssets(t,n)}else{var i;if(null!==(i=this.config.adTemplateConfig)&&void 0!==i&&i.enableVA&&"rightrail"!==t)return this.getVAAssets(t)}}checkAndAddPlacement(t,e,n,r){if(t&&e&&r.length){let e=this.getRegionImg(n);if(this.config.overrideSAMAdImageSize&&this.overrideImageSize){const t=this.getRegionImgForMobile(n);t&&(e=t)}const o={assets:this.getNativeAdAssets(n),region:n,indices:r.splice(0),img:e};this.config.addAdCoordsOnPredicted&&((0,w._F)(t,this.config,this.userSignalsForAdRequest),(0,w.yS)(o,this.config,void 0,t=>{var e;const n=this.getCoordsCache(t),r="true"===(null===(e=(0,i.Lg)())||void 0===e?void 0:e.getItem(L.Ph));return n?{...n,isCoordsInvalidated:r}:{}})),(this.config.enableSAMAdStrictIndices||N.T3.IsHeroNTP||this.config.enable1stRowAd&&"triver"===n||this.config.adsPlacementForPeekView&&("peekriver"===n||"peekinfopane"===n)&&this.isNTPPeek||this.config.enableIntraNativeAds&&"intranative"===n)&&(o.isStrictIndices=!0),this.config.adsPlacementForPeekView&&"peekinfopane"===n&&this.isNTPPeek&&(o.indices=o.indices.map(t=>{const e=this.getPeekInfopaneMappingList().indexOf(t);return-1!==e?e:t})),t.placements.push(o)}}mapStrictPeekRegionIndexToAbsoluteRegionIndex(t){let{placeholderPlacements:e,samPlacements:n}=t;null==e||e.forEach(t=>{if("peekinfopane"===t.region){const e=this.getPeekInfopaneMappingList()[t.regionIndex];void 0!==e&&(t.relativeRegionIndex=t.regionIndex,t.regionIndex=e)}}),null==n||n.forEach(t=>{if("peekinfopane"===t.region&&void 0!==t.index){const e=this.getPeekInfopaneMappingList()[t.index];void 0!==e&&(t.relativeIndex=t.index,t.index=e)}})}async fetchCmsPredictContent(){if(!this.isFirstCmsAdsBatch)return;const t=this.getPredictedAdRequest(!0);if(this.cmsRequest=t,t.placements.length)try{const{infopane:e,river:n,documentId:i}=this.cmsAdsConfig,r=t.placements.find(t=>{let{region:e}=t;return e.includes("resinfopane")}),o=t.placements.find(t=>{let{region:e}=t;return e.includes("resriver")}),s=e.splice(0,(null==r?void 0:r.indices.length)??0),a=n.splice(0,(null==o?void 0:o.indices.length)??0),{placements:c}=await this.nativeAdService.fetchCmsAds(t,i,[...s,...a]);return this.predictCmsResponse=c,c}catch(t){(0,k.c_)(t,T.HjP,"Call to CMS Ad Service failed")}}lazyLoadDRBundle(t){switch(t){case"prg-ad-like":return n.e("na-like-button").then(n.bind(n,13949));case"prg-trending":return n.e("na-trending").then(n.bind(n,86792));case"prg-ad-ctav2":case"prg-ad-ctav3":return n.e("na-call-to-action").then(n.bind(n,83261));case"prg-ad-sh-v1":return n.e("nas-highlight-v1").then(n.bind(n,89859));case"prg-ad-sh-v3":case"prg-ad-sh-v4":return Promise.all([n.e("nas-highlight-v3v4").then(n.bind(n,69149)),n.e("nas-highlight-v3v4").then(n.bind(n,37622))]);case"prg-ad-combo":return Promise.all([n.e("na-decoration-combo").then(n.bind(n,56768)),n.e("na-decoration-combo").then(n.bind(n,4723)),n.e("na-decoration-combo").then(n.bind(n,57133)),n.e("na-decoration-combo").then(n.bind(n,53135))])}}getPredictedAdRequest(t){const e={placements:[],tmaxbidder:!h.Rb.IsPrerender&&!this.config.auctionRidOverride&&this.isFirstSamAdsBatch&&this.config.adsTmaxBidder?this.config.adsTmaxBidder:void 0};return this.config.overrideAdPartnerId&&(e.partnerId=this.config.overrideAdPartnerId),this.config.overrideAdPageType&&(e.pageType=this.config.overrideAdPageType),this.adRegionTupleListMap.forEach((n,i)=>{const r=t?this.getCmsIndices(i):this.getSamIndices(i),o=t?!n[0]:n[0];o&&null!=r&&r.length&&this.checkAndAddPlacement(e,o,i,r)}),e}getPredictSamAdsData(){var t;if(!this.isFirstSamAdsBatch)return;const e=this.getSamRequestFromTupleWithSectionIndex();if(this.predictSamResponse&&this.validateSamAdPlacementConfig(e),this.samRequest=e,null!==(t=this.samRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length&&(this.isFirstSamAdsBatch=!1),this.predictSamResponse){const t=this.predictSamResponse;return this.predictSamResponse=void 0,t}}getSamRequest(){return this.samRequest}shouldPrefetchInfopaneSamAds(t){return-1!==this.infopanePlacementList.findIndex(e=>{let{index:n}=e;return n===t+d.Sx})}prefetchInfopaneSamAds(t){const e=this.getAndUpdateInfopanePrefetchPlacementList(t);if(e.length)return this.fetchSamAdsInPlacementList(e)}getAndUpdateInfopanePrefetchPlacementList(t){if(!this.config.infopaneViewOptAdCount)return[];const e=this.infopanePlacementList.findIndex(e=>{let{index:n}=e;return n>t});return-1===e?[]:this.infopanePlacementList.splice(e,this.config.infopaneViewOptAdCount)}mapViewOptimizationRegion(t){if(this.config.infopaneViewOptAdCount&&!this.config.infopaneCacheNormalPlacement){t.placements.forEach(t=>{S.Tv.includes(t.region)&&(1===this.config.infopaneViewOptAdCount?t.region=S.wM[0]:2===this.config.infopaneViewOptAdCount&&(t.region=S.wM[1]))});const e={};t.placements.forEach(t=>{const n=t.region;e[n]?e[n].indices.push(...t.indices):e[n]={...t}}),t.placements=Object.values(e)}}mapSamAdRegionToOriginal(t){var e,n;this.config.infopaneViewOptAdCount&&(null!=t&&null!==(e=t.samResponse)&&void 0!==e&&e.placements&&t.samResponse.placements.forEach(t=>{const{index:e}=t;this.originalInfopaneRegion.get(e)&&(t.region=this.originalInfopaneRegion.get(e))}),null!=t&&null!==(n=t.placeHolderResponse)&&void 0!==n&&n.placements&&t.placeHolderResponse.placements.forEach(t=>{const{regionIndex:e}=t;this.originalInfopaneRegion.get(e)&&(t.region=this.originalInfopaneRegion.get(e))}))}async fetchSamAdsInPlacementList(t){const e={placements:[]};(0,d.lc)(t).forEach((t,n)=>{this.checkAndAddPlacement(e,!0,n,t)}),this.mapViewOptimizationRegion(e);const n=await this.fetchSamAds(e);return this.mapSamAdRegionToOriginal(n),n}fireServedTrackingCallForPlacements(t){if(!t)return;const e=this.beaconService.sendBeaconForAdServed.bind(this.beaconService);t.map(t=>{let{beaconsJson:e,bingTrackerUrls:n=[],videoViewabilityData:i,beaconsSupportHttpPOST:r}=t;return!e||n.length>0&&i?null:{beaconsJson:e,beaconsSupportHttpPOST:r}}).filter(t=>!(!t||!t.beaconsJson)).forEach(e)}appendAdRegionIndices(t,e){const n=this.adRegionTupleListMap.get(t);n&&Array.isArray(n[1])?n[1].push(...e.sort((t,e)=>t-e)):this.adRegionTupleListMap.set(t,[!0,e.sort((t,e)=>t-e),[]])}updateAdRegionTupleListMap(t){var e,n,i;const{adRegionTupleListMap:r}=this;r.forEach((e,n)=>{var i;const r=e[1],o=null===(i=this.config.adPlacementMapper)||void 0===i?void 0:i.find(t=>t.region===n);if(o){let e=[],i=[];if(o.indices){const r=t.get(n)??[];i=(0,_.A)(r,o.indices),e=(0,M.A)(r,o.indices)}else i=t.get(n)??[];this.appendAdRegionIndices(o.region,e),this.appendAdRegionIndices(o.mappedRegion,i)}else r.push(...(t.get(n)??[]).sort((t,e)=>t-e))}),null!==(e=this.config)&&void 0!==e&&e.enableAdsWaterfall&&!1===this.tallAdProcessed&&this.updatePlacementsForTallAd(r,this.config.tallAdsIndex),null!==(n=this.config)&&void 0!==n&&n.infopaneViewOptAdCount&&this.updatePlacementsForInfopane(r),null!==(i=this.config)&&void 0!==i&&i.enableInfopane1uCard&&this.updatePlacementsForInfopane1u(t)}updatePlacementsForTallAd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return;const n=this.getOrDefault(t,"rivert",[!0,[],[]]),i=this.getOrDefault(t,"river",[!0,[],[]]),r=[e],o=this.removeItemFromPlacementArray(i[1],e);t.set("river",[i[0],o,i[2]]),t.set("rivert",[n[0],r,n[2]]),this.tallAdProcessed=!0}updatePlacementsForInfopane(t){t.forEach((t,e)=>{t[0]&&S.Tv.includes(e)&&(t[1].forEach(t=>{this.infopanePlacementList.push({region:e,index:t}),this.originalInfopaneRegion.set(t,e)}),t[1]=[])}),this.infopanePlacementList.sort((t,e)=>t.index-e.index)}updateRiverInfopanePlacementsToNormal(){var t,e,n,i;const{adRegionTupleListMap:r}=this,o=null==r||null===(t=r.get("peekriver"))||void 0===t?void 0:t[1],s=null==r||null===(e=r.get("peekriver"))||void 0===e?void 0:e[2];if(null!=o&&o.length){const t=null==r?void 0:r.get("river");t&&(t[1]=[...t[1],...o]);const e=null==r?void 0:r.get("peekriver");e&&(e[1]=[])}if(null!=s&&s.length){const t=null==r?void 0:r.get("river");t&&(t[2]=[...t[2],...s]);const e=null==r?void 0:r.get("peekriver");e&&(e[2]=[])}const a=null==r||null===(n=r.get("peekinfopane"))||void 0===n?void 0:n[1],c=null==r||null===(i=r.get("peekinfopane"))||void 0===i?void 0:i[2];if(null!=a&&a.length){const t=null==r?void 0:r.get("infopane");t&&(t[1]=[...t[1],...a]);const e=null==r?void 0:r.get("peekinfopane");e&&(e[1]=[])}if(null!=c&&c.length){const t=null==r?void 0:r.get("infopane");t&&(t[2]=[...t[2],...c]);const e=null==r?void 0:r.get("peekinfopane");e&&(e[2]=[])}}updatePlacementsForInfopane1u(t){let e=[];for(const n of S.IT)e=e.concat(t.get(n)??[]),this.adRegionTupleListMap.set(n,[!1,[],[]]);e=e.sort((t,e)=>t-e),this.adRegionTupleListMap.set(S.Tp.infopane1u,[!0,e,[]])}removeItemFromPlacementArray(t,e){return null==t?void 0:t.filter(t=>t!==e)}getOrDefault(t,e,n){return t.get(e)??n}updateAdCache(t){if(!this.isFirstSamAdsBatch)return;const e=new Map;this.adRegionTupleListMap.forEach((n,i)=>{const r=[...(null==t?void 0:t.get(i))??[],...n[1]],o=this.getPlacementsBySectionIndex(r,i);e.set(i,o)}),a(e,r)}updateCoordsCacheForPredicted(t,e){const n=(s(o)||new Map).set(t,e);a(n,o)}getCoordsCache(t){var e;return null===(e=s(o))||void 0===e?void 0:e.get(t)}isAdsMapEmpty(){let t=!0;return this.adRegionTupleListMap.forEach(e=>{e[2].length>0&&(t=!1)}),t}getRegionImg(t){var e,n,i,r,o,s,a,c,u,l;if(null!==(e=this.config.adTemplateConfig)&&void 0!==e&&e.imageSizeConfig&&null!==(n=this.config.adTemplateConfig)&&void 0!==n&&n.imageSizeConfig[t])return null===(l=this.config.adTemplateConfig)||void 0===l?void 0:l.imageSizeConfig[t];switch(t){case"resriver":case"river":case"riverlock":case"resriverlock":case"triver":case"rightrail":case"peekriver":return null===(i=this.config.adTemplateConfig)||void 0===i||null===(i=i.imageSizeConfig)||void 0===i?void 0:i.river;case"infopane":case"resinfopane":case"infopanelock":case"resinfopanelock":case"peekinfopane":return null===(r=this.config.adTemplateConfig)||void 0===r||null===(r=r.imageSizeConfig)||void 0===r?void 0:r.infopane;case"infopane-tab":return null===(o=this.config.adTemplateConfig)||void 0===o||null===(o=o.imageSizeConfig)||void 0===o?void 0:o.infopaneTab;case"infopane1u":return null===(s=this.config.adTemplateConfig)||void 0===s||null===(s=s.imageSizeConfig)||void 0===s?void 0:s.infopane1u;case"rivert":return null===(a=this.config.adTemplateConfig)||void 0===a||null===(a=a.imageSizeConfig)||void 0===a?void 0:a.rivert;case"inarticlecarousel":return null===(c=this.config.adTemplateConfig)||void 0===c||null===(c=c.imageSizeConfig)||void 0===c?void 0:c.inarticlecarousel;case"inarticle":case"intranative":return null===(u=this.config.adTemplateConfig)||void 0===u||null===(u=u.imageSizeConfig)||void 0===u?void 0:u.inarticle;default:return}}refresh(){this.initNativeAdConfig(this.config),this.initAdRegionTupleListMap(),this.cardsIndexList=[],this.nativeAdIndexList=[],this.cmsAdIndexList=[],this.intraNativeAdIndexList=[]}updateCardsIndexPersection(t){t.map(t=>{var e;const n=this.cardsIndexList[this.cardsIndexList.length-1]||0;this.cardsIndexList.push(n+((null===(e=t.cards)||void 0===e?void 0:e.length)||0))})}updateRelativeAdIndexPersection(t){t.forEach(t=>{var e,n,i;const r=this.nativeAdIndexList[this.nativeAdIndexList.length-1]||0,o=null===(e=t.cards)||void 0===e?void 0:e.filter(t=>"nativead"===t.type);let s=r+(o.length||0);if(this.config.enableDynamicWaterfall&&this.config.enableAdRankTrackers){const t=o.map(t=>t.wpoAdRank).filter(t=>t);if(null!=t&&t.length){const e=Math.max(...t);e>s&&(s=e)}}this.nativeAdIndexList.push(s);const a=this.cmsAdIndexList[this.cmsAdIndexList.length-1]||0,c=(null===(n=t.cards)||void 0===n?void 0:n.filter(t=>"cmsad"===t.type).length)||0;this.cmsAdIndexList.push(a+c);const u=this.intraNativeAdIndexList[this.intraNativeAdIndexList.length-1]||0,l=(null===(i=t.cards)||void 0===i?void 0:i.filter(t=>"intra-nativead"===t.type).length)||0;this.intraNativeAdIndexList.push(u+l)})}overrideNativeAdIndexPersection(t){this.nativeAdIndexList=t}overrideCmsAdIndexPersection(t){this.cmsAdIndexList=t}overrideIntraNativeAdIndexPersection(t){this.intraNativeAdIndexList=t}updateAndFilterSamAdResponse(t,e){const{placements:n}=this.nativeAdService.updateSamAdResponse(t,e,this.getIsPrerenderAds());return n.filter(t=>t.items.length)}getAdIndices(t){var e;return(null===(e=s(r))||void 0===e?void 0:e.get(t))||[]}getSamIndices(t){return this.config.avoidPredictInfopaneAd&&t.toLowerCase().indexOf("infopane")>-1?[]:this.config.shouldUseAdCache?this.getAdIndices(t):[]}getPredictedSamIndices(t){var e;return(null===(e=this.samRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find(e=>e.region===t))||void 0===e?void 0:e.indices)||[]}getCmsIndices(t){return this.config.avoidPredictInfopaneAd&&t.toLowerCase().indexOf("resinfopane")>-1?[]:this.config.shouldUseAdCache?this.getAdIndices(t):[]}getPredictedCmsIndices(t){var e;return(null===(e=this.cmsRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find(e=>e.region===t))||void 0===e?void 0:e.indices)||[]}getFastHydrationIndices(t){var e;return(null===(e=this.fastHydrationRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find(e=>e.region===t))||void 0===e?void 0:e.indices)||[]}validateSamAdPlacementConfig(t){var e;const n=[],i=new Map;for(const e of t.placements){const t=e.region,r=this.getPredictedSamIndices(t);if(!r||!r.length){n.push(e);continue}const o=r.filter(t=>e.indices.indexOf(t)>=0),s=e.indices.filter(t=>o.indexOf(t)<0);e.indices=s,s.length&&n.push(e),i.set(t,o)}let r=n;var o;(n.length&&this.config.avoidPredictInfopaneAd&&(r=r.filter(t=>t.region.toLowerCase().indexOf("infopane")<0)),r.length)?(p(JSON.stringify(null===(o=this.samRequest)||void 0===o?void 0:o.placements),JSON.stringify(t.placements),T.pn9),f.YT.addOrUpdateTmplProperty("edge_ntp.adMismatched","1")):f.YT.addOrUpdateTmplProperty("edge_ntp.adMatched","1");if(t.placements=n,null!==(e=this.predictSamResponse)&&void 0!==e&&null!==(e=e.samResponse)&&void 0!==e&&null!==(e=e.placements)&&void 0!==e&&e.length){const t=[];this.predictSamResponse.samResponse.placements.forEach(e=>{const n=e.region&&i.get(e.region);e.index&&n&&n.indexOf(e.index)>-1&&t.push(e)}),this.predictSamResponse.samResponse.placements=t}}validateCmsAdPlacementConfig(t){const e=[],n=new Map;for(const i of t.placements){const t=i.region,r=this.getPredictedCmsIndices(t);if(!r||!r.length){e.push(i);continue}const o=r.filter(t=>i.indices.indexOf(t)>=0),s=i.indices.filter(t=>o.indexOf(t)<0);i.indices=s,s.length&&e.push(i),n.set(t,o)}let i=e;var r;(e.length&&this.config.avoidPredictInfopaneAd&&(i=i.filter(t=>t.region.toLowerCase().indexOf("infopane")<0)),i.length)&&p(JSON.stringify(null===(r=this.cmsRequest)||void 0===r?void 0:r.placements),JSON.stringify(t),T.FmL);if(t.placements=e,this.predictCmsResponse&&this.predictCmsResponse.length){var o;const t=[];null===(o=this.predictCmsResponse)||void 0===o||o.forEach(e=>{const i=n.get(e.region);i&&i.indexOf(e.regionIndex)>-1&&t.push(e)}),this.predictCmsResponse=t}}validateFastHydrationAdPlacement(t){const e=[],n=new Map;for(const i of t.placements){const t=i.region,r=this.getFastHydrationIndices(t);if(!r||!r.length){e.push(i);continue}const o=r.filter(t=>i.indices.indexOf(t)>=0),s=i.indices.filter(t=>o.indexOf(t)<0);i.indices=s,s.length&&e.push(i),n.set(t,o)}let i=e;e.length&&this.config.avoidPredictInfopaneAd&&(i=i.filter(t=>t.region.toLowerCase().indexOf("infopane")<0)),i.length?f.YT.addOrUpdateTmplProperty("fastHydrationAdMismatched","1"):f.YT.addOrUpdateTmplProperty("fastHydrationAdMatched","1"),t.placements=e}getNativeAdId(t,e,n){if("peekinfopane"===t&&n){const{relativeRegionIndex:e}=n;return`nativead-${t}-${e}`}return`nativead-${t}-${e}`}getIsPrerenderAds(){return!!(this.config.enablePrerenderAds&&(0,D.EZ)()&&(0,x.S)()&&"hidden"===document.visibilityState)}async createMetaTags(t){return new Promise(e=>{t.forEach(t=>{if("infopane"===t.region||"river"===t.region||"infopanelock"===t.region||"riverlock"===t.region||"peekriver"===t.region||"peekinfopane"===t.region){var e;const n=t.items&&(null===(e=t.items[0])||void 0===e?void 0:e.adSelectionReason);if(n){const e=this.getNativeAdId(t.region,t.regionIndex,t);let i;switch(t.region){case"infopane":case"infopanelock":case"peekinfopane":i=`tab_panel_${e}`;break;case"river":case"riverlock":case"peekriver":i=`native_ad_${e}`;break;default:return}try{const t=JSON.parse(n).ads[0].id,e=n.replace(t,i),r=document.head,o=document.createElement("meta");o.name="AdsMetadata",o.content=e,r.appendChild(o)}catch(t){return void(0,k.c_)(t,T.Obl,"Failed to add WhyThisAd meta tag to head")}}}}),e()})}async loadBuyDirectAd(){await this.nativeAdService.loadBuyDirectAd()}getPeekInfopaneMappingList(){return this.config.useRelativeIndexJKRegion?B.PeekInfopaneIndexMappingListJKRegion:B.PeekInfopaneIndexMappingList}setUserCohortSignals(t){this.config.passCohortSignalsAds&&(this.userSignalsForAdRequest=t)}}B.isFilteredRegion={river:!0,resriver:!0,riverlock:!0,resriverlock:!0,peekriver:!0,intranative:!0},B.PeekInfopaneIndexMappingList=[0,3,6,11,15],B.PeekInfopaneIndexMappingListJKRegion=[0,5];const W=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="NATIVE_AD_HELPER_INSTANCE";let r=C.vv.get(i);return r&&!n||(r=new B(t,e),C.vv.set(i,r)),r},H=t=>t===R.pL.NativeAd||t===R.pL.CmsAd||t===R.pL.FirstPartyAd},7965:function(t,e,n){n.d(e,{HN:function(){return g},IT:function(){return o},JW:function(){return b},bk:function(){return m},c_:function(){return S}});var i,r,o,s,a,c,u,l,d,f=n(17254),h=n(11141);!function(t){t[t.MicrosoftNews=0]="MicrosoftNews",t[t.Office365=1]="Office365",t[t.Gaming=2]="Gaming",t[t.Play=3]="Play",t[t.NavigationPage=4]="NavigationPage",t[t.Following=5]="Following"}(i||(i={})),function(t){t.Enforced="ENFORCED",t.Recommended="RECOMMENDED"}(r||(r={})),function(t){t[t.focused=0]="focused",t[t.inspirational=1]="inspirational",t[t.informational=2]="informational",t[t.custom=3]="custom"}(o||(o={})),function(t){t[t.always=0]="always",t[t.peek=1]="peek",t[t.headingsonly=2]="headingsonly",t[t.onscroll=3]="onscroll",t[t.off=4]="off"}(s||(s={})),function(t){t.focused="focused",t.inspirational="inspirational",t.informational="informational",t.custom="custom"}(a||(a={})),function(t){t.bing="bing",t.custom="custom",t.iris="iris",t.off="off",t.theme="theme",t.enterprise="enterprise",t.imageAndVideo="imageAndVideo",t.hero="hero"}(c||(c={})),function(t){t[t.allowAll=0]="allowAll",t[t.disableImageOfTheDay=1]="disableImageOfTheDay",t[t.disableCustomImage=2]="disableCustomImage",t[t.disableAll=3]="disableAll"}(u||(u={})),function(t){t[t.off=0]="off",t[t.onerow=1]="onerow",t[t.tworows=2]="tworows",t[t.top=3]="top"}(l||(l={})),function(t){t.off="off",t.onerow="onerow",t.tworows="tworows",t.top="top"}(d||(d={}));var p;!function(t){t.off="off",t.onerow="onerow",t.tworows="tworows",t.threerows="threerows"}(p||(p={}));const m={off:0,tworows:1,threerows:2,onerow:3},g={0:"off",1:"tworows",2:"threerows",3:"onerow"};var v,w,y;!function(t){t.off="off",t.on="on"}(v||(v={})),function(t){t.default="default",t.user="user-2",t.wpo="wpo",t.user_old="user"}(w||(w={})),function(t){t.Unknown="0",t.EdgeFlight="1",t.UserChoices="2",t.InvalidFeedLayout="3",t.NoRecommendedData="4",t.NoNeedToPromote="5"}(y||(y={}));(0,h.M8)();const b={backgroundImage:"ntp.background_image",backgroundImageTypePolicy:"ntp.background_type_blocked_by_policy",currentBackgroundImageType:"ntp.background_image_type",currentBackgroundImageOption:"ntp.background_image",hideDefaultTopSites:"ntp.hide_default_top_sites",customBackgroundImageInfo:"ntp.local_background_image",layout:"ntp.layout_mode",quickLinksDisplaySetting:"ntp.quick_links_options",imageOfTheDay:"ntp.show_image_of_day",feeds:"ntp.news_feed_display",greeting:"ntp.show_greeting",showSettings:"ntp.show_settings",showQuickBrief:"ntp.show_quick_brief",verticalTabsCollapsed:"edge.vertical_tabs.collapsed",verticalTabsOpened:"edge.vertical_tabs.opened",singleColumnEnabled:"ntp.single_column.enabled",userNurturingUpdated:"ntp.user_nurturing",hasUserSeenNewFre:"new_device_fre.has_user_seen_new_fre",defaultBrowserSettingEnabled:"browser.default_browser_setting_enabled",showAppLauncher:"ntp.enable_app_launcher",userChoices:"ntp.record_user_choices",selectedFeedPivot:"ntp.selected_feed_pivot",layoutModeInstrumentation:"instrumentation.ntp.layout_mode",newsFeedDsiplayInstrumentation:"instrumentation.ntp.news_feed_display",gamerModeEnabled:"browser.gamer_mode_enabled",codexBingUpsellEnabled:"ntp.enable_bing_chat_by_policy",companyLogoEnabled:"ntp.enable_company_logo_by_policy",companyLogoBackplateColor:"ntp.company_logo_backplate_color",windowsIndexerPromotedTopSites:"ntp.promoted_top_sites",minVisitAffiliateSites:"ntp.min_visit_affiliate_sites",widgetsRegion:"ntp.enable_widgets_region",widgetsInPartialEnabled:"ntp.enable_wid_in_partial_view"},S=(f.T3.CurrentRequestTargetScope&&f.T3.CurrentRequestTargetScope.audienceMode,{focused:{feeds_position:"headingsonly",current_background_image_type:"off",greeting:!0,hide_promoted_links:!1},inspirational:{feeds_position:"peek",current_background_image_type:"imageAndVideo",greeting:!0,hide_promoted_links:!1},informational:{feeds_position:"always",current_background_image_type:"imageAndVideo",greeting:!0,hide_promoted_links:!1}});S.informational.current_background_image_type,S.informational.hide_promoted_links,S.informational.feeds_position,S.informational.greeting},8092:function(t,e,n){n.d(e,{KB:function(){return s},Qr:function(){return i},R$:function(){return r}});var i,r,o=n(3371);!function(t){t[t.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart"}(i||(i={})),function(t){t[t.startLoading=14]="startLoading",t[t.loaded=4]="loaded",t[t.rendered=8]="rendered",t[t.domComplete=10]="domComplete",t[t.visuallyReady=11]="visuallyReady",t[t.mediaContentReady=15]="mediaContentReady",t[t.aboveTheFoldVisuallyReady=16]="aboveTheFoldVisuallyReady",t[t.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart",t[t.hydrationComplete=1]="hydrationComplete",t[t.pageVisuallyReady=2]="pageVisuallyReady"}(r||(r={}));const s=new Map([[o.Y.loaded,r.loaded],[o.Y.rendered,r.rendered],[o.Y.domComplete,r.domComplete],[o.Y.visuallyReady,r.visuallyReady],[o.Y.mediaContentReady,r.mediaContentReady]])},8353:function(t,e,n){n.d(e,{I6:function(){return Z},DP:function(){return et},mL:function(){return Y},F6:function(){return tt},iD:function(){return nt},ri:function(){return it},PE:function(){return G},n$:function(){return V},r8:function(){return z},Sg:function(){return j},Rz:function(){return J},a8:function(){return X}});var i,r=n(31653),o=n(33107),s=n(88294),a=n(7258),c=n(65022),u=n(79426),l=n(5518),d=n(15098),f=n(13113),h=n(48608),p=n(59983),m=n(49084),g=n(65432),v=n(43889),w=n(76980),y=n(18287),b=n(23572),S=n(17254),x=n(67387),C=n(53064),k=n(8597),T=n(2462),$=n(33292),A=n(34100);async function I(t,e){const n=e&&e.accessToken,i="Acquire"===t;if(!n&&i){const t="Invalid access token in jwtSSOCore";return C.xf.addAuthRecord(A.B.jwtSSOService,t),void(0,$.$)(c.Me9,t)}let r,o;try{r=await fetch(`https://api.msn.${S.T3.IsChinaCompliance?"cn":"com"}/auth/token/v2/jwtsso?apikey=${S.T3.OneServiceApiKey}&ocid=${k.Mq}&activityId=${S.T3.ActivityId}`,{method:i?"POST":"DELETE",credentials:"include",body:JSON.stringify({userAccessToken:n})||void 0,headers:(0,m.LK)(n)||void 0});i!==!!(0,T.Ri)(x.Zc)&&(o=new Error(`${i?"Expected":"Unexpected"} cookie ${x.Zc} is ${i?"missing":"still present"} after ${t} JwtSSO call`))}catch(t){o=t}const s=!o&&r&&r.ok?null:`Error in ${t} mode in jwtSSO call. ${o||""}`;s&&(0,$.$)(c.Me9,s),C.xf.addAuthRecord(A.B.jwtSSOService,`${s||"Success"}`)}!function(t){t.Acquire="Acquire",t.Delete="Delete"}(i||(i={}));var P=n(75391),_=n(77246),M=n(18284),R=n(4865),E=n(61803);const F=`apikey=${S.T3.OneServiceApiKey}&ocid=Peregrine&it=${(0,R.p)()}&activityId=${S.T3.ActivityId}`;function D(){return(0,o.m0)(()=>async function(){let t,e;try{t=await fetch(`https://api.msn.${S.T3.IsChinaCompliance?"cn":"com"}/auth/cookie/clearALCookies?${F}`,{method:"DELETE",credentials:"include"}),(0,E._C)();if((0,E.pu)()){const t=decodeURIComponent((0,T.Ri)(x.dW));e=new Error(`Account linking cookie ${t} indicates account is still linked after clearALCookies call`)}}catch(t){e=t}const n=!e&&t&&t.ok&&200===t.status?null:`Error in clearALCookies call. ${e||""}`;n&&(0,$.$)(c.FQt,n),C.xf.addAuthRecord(A.B.clearAccountLinkingCookies,`${n||"Success"}`)}(),"tryDelete1SAcctLnkCookies",(0,b.aK)())}const O=7e3,N=7e3;let U,L=!1;const B={acquireTokenStatus:0,accessTokenResult1S:null,currentAccountInfo:null};let W=new u.e;const H=(0,d.L)(async()=>{const t=U||await(0,y.B3)(),e=await(0,o.m0)(()=>null==t?void 0:t.handleRedirectPromise(),"handleRedirect",(0,b.aK)());if(e)return s.v.log("dual-auth: Signing in through interactive login loginResponse: "+JSON.stringify(e,null,4)),J(e).finally(()=>{(0,f.Ap)()}),C.xf.addAuthRecord(A.B.interactiveLogin,"Success"),e;(0,f.Ap)()});async function V(t){const{userName:e,enforceTimeLimit:n}=t||{};L=!0;const i=await H();if(i)return i;let r;return r=e?(0,w.sd)(await(0,w.We)(e))||e:(0,w.Dl)()||(0,h.Sb)()||(0,w.g1)(),!r&&(0,p.RZ)()?(J(null,!0),void D()):await rt(()=>q(r),"ssoSilent",n?N:-1)}async function z(){if(!(0,m._v)())return C.xf.addAuthRecord(A.B.tryAcquire1STokenLite,"not qualified for lite auth"),B.acquireTokenStatus=0,null;const t=await(0,w.We)(),e=(0,w.sd)(t);if(!t||!e)return C.xf.addAuthRecord(A.B.tryAcquire1STokenLite,"no valid current account login hint"),B.acquireTokenStatus=0,null;L=!0;const n=(0,f.k4)();if(await Q(t,!0,!0,n),n&&(0,f.VY)(),3===B.acquireTokenStatus)return C.xf.addAuthRecord(A.B.tryAcquire1STokenLite,"Success"),await K(B.accessTokenResult1S),B.accessTokenResult1S;if(2===B.acquireTokenStatus){const t=await q(e);return t?(C.xf.addAuthRecord(A.B.tryAcquire1STokenLite,"fallback SSO success"),t):(C.xf.addAuthRecord(A.B.tryAcquire1STokenLite,"fallback SSO also failed"),null)}}async function j(){L=!0;const t=U||await(0,y.B3)();C.xf.addAuthRecord(A.B.tryAcquire1STokenProfileSwitch,"Attempted");try{const e=t.getAllAccounts();if(e&&1===e.length&&(await Q(e[0]),3===B.acquireTokenStatus))return C.xf.addAuthRecord(A.B.tryAcquire1STokenProfileSwitch,"Success"),await K(B.accessTokenResult1S),B.accessTokenResult1S}finally{(0,f.m3)()}}const q=(0,M.A)(async t=>{var e;let n;t||s.v.log("dual-auth: login_hint is not available. ssoSilent may not work!");const i=U||await(0,y.B3)(),o=(0,b.Kq)("SSOSilentCoreAndToken"),u=(0,b.aK)(),l=u&&u.startMeasure("ssoSilentCore").endMeasure,d={...(0,y.zH)(!0),loginHint:t},h=(0,_.S)()&&(null===(e=history)||void 0===e?void 0:e.length);try{n=await i.ssoSilent(d)}catch(e){s.v.log(`dual-auth: ssoSilent failed! : ${e}`),C.xf.addAuthRecord(A.B.ssoSilent,(0,a.M5)(e));const n=(0,p.Dm)();if(e.name===r.q9&&n){if((0,f.tX)(),!(0,f.GQ)()||!(0,m.FS)())return void await K(null,!0);{const e={...(0,y.zH)(),loginHint:t};i.acquireTokenRedirect(e)}}(n||(0,m.SM)())&&e.name!==r.q9&&e.name!==r.Jg&&(0,$.$)(c.LwN,"Error in ssoSilent call",e)}finally{s.v.log(`dual-auth: getAllAccounts AFTER ${n?"SUCCESSFUL":"UNSUCCESSFUL"} ssoSilent: ${JSON.stringify((0,w.Is)(),null,4)}`),n&&(s.v.log(`dual-auth: loginResponse AFTER SUCCESSFUL ssoSilent: ${JSON.stringify(n,null,4)}`),C.xf.addAuthRecord(A.B.ssoSilent,"Success. User: "+(0,w.tW)(n.account.username))),J(n).finally(()=>{o(),(0,f.Yy)(),(0,f.VY)()}),l&&l({customSuffix:(n?n.fromCache&&"cache":"error")||void 0})}return h&&history.length===h+1&&dispatchEvent(new CustomEvent("ssoSilentHistChanged")),n});function G(){return V()}async function J(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await K(t,e);await Q(n)}async function K(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const e=B.currentAccountInfo=t.account,n=(0,w.sd)(e),i=(0,w.U8)(e);return(0,w.BL)({login_hint:n,account_type:i}),e}e&&((0,w.BL)(),(0,g.HY)(null),(0,f.Yy)(),(0,f.VY)(),(0,f.q)(),await Promise.all([(0,o.m0)(()=>I("Delete"),"tryDelete1SJwtCookies",(0,b.aK)()),D()]),(0,w.HN)())}async function Q(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=B.accessTokenResult1S;const l=new Date(u&&u.expiresOn),d=l&&l.getTime()&&l>new Date;if(u&&3===B.acquireTokenStatus&&d)return void s.v.log(`dual-auth: tryAcquire1STokenSilently: token is still valid - expiry: ${new Date(u&&u.extExpiresOn)}`);const h="AAD"===(0,w.U8)(t),p=h?["https://enterprisenews.microsoft.com/User.Read"]:["https://oneservice.microsoft.com/OneService.Read"];try{if(u=await async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return void s.v.log("dual-auth: tryAcquireTokenSilently received empty account -- API calls may not be authenticated!");const o=U||await(0,y.B3)(),u={...(0,y.$$)(t),forceRefresh:i,account:e};let l;const d=(0,b.aK)(),h=d&&d.startMeasure("tryAcquireTokenSilently").endMeasure;try{l=await rt(()=>o.acquireTokenSilent(u),"acquireTokenSilent",n?O:-1)}catch(t){throw s.v.log(`dual-auth: acquireTokenSilent failed! : ${t}`),C.xf.addAuthRecord(A.B.acquireTokenSilent,(0,a.M5)(t)),(0,$.$)(c.n5z,"acquireTokenSilent call failed",t),t.name===r.q9&&(0,f.GQ)()&&o.acquireTokenRedirect(u),l=null,t}finally{h&&h({customSuffix:(l?l.fromCache&&"cache":"error")||void 0}),l&&C.xf.addAuthRecord(A.B.acquireTokenSilent,"Success"),s.v.log(`dual-auth: acquireTokenSilent for scopes: ${t} was ${l?"SUCCESSFUL":"UNSUCCESSFUL"} accessTokenResult: ${JSON.stringify(l,null,4)}`)}return l}(p,t,n,i),u){if(B.acquireTokenStatus=3,B.accessTokenResult1S=u,(0,g.HY)(u),!u.fromCache){const t=+new Date;(0,b.eQ)("OSATExpMins",Math.floor((+u.expiresOn-t)/6e4))}m=u,(0,o.m0)(()=>I("Acquire",m),"tryAcquire1SJwtCookies",(0,b.aK)()),h&&(0,P.fL)(u.accessToken)}}catch(t){if(u=B.accessTokenResult1S=null,t.name===r.q9&&t.errorCode===r.ET&&e)return void(B.acquireTokenStatus=2);B.acquireTokenStatus=1}var m;W.set(u);const v=function(t){if(!t)return null;const e=t&&t.extExpiresOn,n=e&&new Date(e),i=n&&n.getTime(),o=(new Date).getTime();let s;const a=6e4,c=1e3*(r.nC-r.HJ),u=1e3*r.HJ;i&&i>o?(s=i-o,s<=u&&(s=0)):s=c;return s+a}(u);v&&setTimeout(()=>Q(t),v)}async function X(){if(B.accessTokenResult1S)return B.accessTokenResult1S;if(!L){const t="Wait for 1SToken failed because auth flow was not started";return s.v.logError(`dual-auth:  ${t} -- so returning early without the 1S access token`),C.xf.addAuthRecord(A.B.waitFor1SToken,t),(0,$.$)(c.ASD,t),void W.set(null)}const t=(0,b.Kq)("Wait1SToken"),e=await(0,o.m0)(()=>W.getResultAsync(),"waitFor1SToken",(0,b.aK)());return t(),e}function Y(){const{currentAccountInfo:t}=B;if(t)return(0,w.U8)(t);const e=(0,p.Dm)();return e?e.account_type:void 0}function Z(){return"AAD"===(0,w.U8)(B.currentAccountInfo)?B.currentAccountInfo.tenantId:""}function tt(){return B&&B.currentAccountInfo&&B.currentAccountInfo.idTokenClaims.puid}function et(){return B&&B.currentAccountInfo&&B.currentAccountInfo.idTokenClaims.ageGroup}async function nt(t){(0,y.LF)();const{loginHint:e,forceLoginPrompt:n,tenantOptions:i,redirectStartPage:o}=t||{},s=U||await(0,y.B3)({tenantOptions:i});if(!s)return;const a=n?"login":"select_account",c={...(0,y.zH)(),prompt:a},{tenantScope:u,tenantId:l}=i||{},d=!(!e||!u&&!l);d&&Object.assign(c,{prompt:void 0,loginHint:e,extraQueryParameters:{domain_hint:"MSA"===u||l===r.nt?"consumers":"organizations"}}),o&&(c.redirectStartPage=o),C.xf.addAuthRecord(A.B.interactiveLogin,"Redirect start"+(d?" with login hint":"")),await s.loginRedirect(c)}async function it(t){(0,y.LF)();const e=U||await(0,y.B3)();if(!e)return;const n=t?await(0,w.We)(t):B.currentAccountInfo;(0,w.HN)();(null==n?void 0:n.tenantId)!==r.nt&&(0,P.Ks)();const i=(0,w.sd)(n),o=(0,y.g_)(n,i);(0,v.W9)().supported?((0,f.ro)(),C.xf.addAuthRecord(A.B.logout,"Redirect start"),await e.logoutRedirect(o)):await e.logoutPopup(o)}async function rt(t,e,n){let i,r=n,o=!1;return(0,_.S)()&&(location.search.includes(`${e}NoTimeout`)?r=999999999:location.search.includes(`${e}ForceDelay`)?(t=()=>(0,l.Y_)(1e4).then(t),r+=2e4):location.search.includes(`${e}ForceTimeout`)?(r=0,o=!0):n<0&&(r=-1)),r<0?await t():(await Promise.race([t().then(t=>i=t),(0,l.Y_)(r).then(()=>Promise.reject(new Error(`Operation ${e} timed out after ${r}ms`)))]),o?void 0:i)}},8440:function(t,e,n){n.d(e,{FM:function(){return d},GG:function(){return u},Rk:function(){return l},uS:function(){return c}});var i=n(78169),r=n(19397),o=n(76980),s=n(88294),a=n(8353);async function c(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,a.n$)({enforceTimeLimit:t}).then(u)}async function u(t){const e=t&&t.account;if(!l(t))return void s.v.log("dual-auth: Auth Response doesn't have all the required fields. authResponse: , "+JSON.stringify(t));const{username:n,homeAccountId:a,idTokenClaims:c}=e,u=a&&a.split("."),d=u&&u.length>0&&u[0].replace("-","").replace("0000000000000000",""),f=await(0,r.U)(t.accessToken,n),h=c.given_name,p=c.family_name;return{ssoStatus:i.i,memberName:n,firstName:h,lastName:p,cid:d,accountType:(0,o.U8)(e),profilePictureUrl:f}}function l(t){const e=t&&t.account;return!!(e&&e.username&&e.idTokenClaims&&t.accessToken)}function d(t){return t&&t.ssoStatus===i.i}},8502:function(t,e,n){n.d(e,{_:function(){return St},s:function(){return xt}});var i,r=n(56911),o=n(93468),s=n(65022),a=n(89151),c=n(53685),u=n(30817),l=n(84397),d=n(8701),f=n(9192),h=n(27261),p=n(77246),m=n(17720),g=n(17254),v=n(98216);!function(t){t.success="success",t.leadgen="leadgen",t.cmsBackfill="cmsBackfill",t.fail="fail",t.collapse="collapse"}(i||(i={}));const w={},y=(t,e)=>{var n;null!==(n=g.T3.CurrentRequestTargetScope)&&void 0!==n&&null!==(n=n.pageExperiments)&&void 0!==n&&n.includes("prg-ad-cms-cnt")&&(w[e]||(w[e]={[i.success]:0,[i.leadgen]:0,[i.cmsBackfill]:0,[i.fail]:0,[i.collapse]:0}),w[e][t]++,v.YT.sendClientLogEvent({pb:{clientLogName:"NativeAdCMSBackfillCount",region:e,...w[e]}}))};var b,S=n(19548),x=n(12870),C=n(2429),k=n(51275),T=n(68613),$=n(63456),A=n(18e3),I=n(67878),P=n(51600);!function(t){t.SlideshowPreview="ss",t.ArticlePreview="ar",t.VideoPreview="vi"}(b||(b={}));var _=n(57759);class M{constructor(){this.cmsProviderCache=new Map}async getCMSList(t,e){if(!t)return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`No backfill id found, listId: ${t}`,{shouldSampleErrorsForTreatement1:!0});let n={};try{const i={method:"GET",headers:{}},r=await(0,_.w)(async()=>{const e=new URL(`${l.B3.CMSListServiceUrl}${t}${this.getContentServiceUrlBase().search}`,`${this.getContentServiceUrlBase()}`),r=m.vv.get("afdprotocol");r&&e.searchParams.set("afdprotocol",r);const a=await fetch(e.toString(),i);if(n={url:a.url,status:a.status,statusText:a.statusText},a.ok)return a.json();(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Invalid response from CMS, listId: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n})},"getCMSList");if(!r)return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Invalid response.json(), listId: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n});const a=r;return this.translateToCMSItem(a,t,e,l.QR.PrivacyUrl)}catch(e){return void(e instanceof TypeError?(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Contruct URL failed  ${e}, id: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n,baseUrl:g.T3.ContentServiceUrlBase,path:l.B3.CMSListServiceUrl}):(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Error while fetching CMS Native Ad ${e}, id: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n}))}}async translateToCMSItem(t,e,n,i){if(!t||!t.list||0===t.list.length)return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`No CMS Response returned from ${e}`,{shouldSampleErrorsForTreatement1:!0});const r=[];for(const e of t.list){let t=!1;const o=e.extendedProperties;if(o)for(const e of o)if(e.key&&e.key.indexOf("is_content")>-1&&e.values&&e.values.indexOf("true")>-1){t=!0;break}let s;if(null!=e.link&&null!=e.link.title&&e.link.href&&null!=e.link.image&&null!=e.link.image.href){const n=this.getCMSContentId(e.link.image.href);let r,o;if(e.link.ad)if(e.link.ad.providerHref&&e.link.ad.providerHref.href){const t=this.getCMSContentId(e.link.ad.providerHref.href);t?r=await this.fetchProviderName(t):e.link.ad.sponsorText&&(r=e.link.ad.sponsorText)}else e.link.ad.sponsorText&&(r=e.link.ad.sponsorText);o=r||(null!=e.link.kicker?e.link.kicker:l.B3.DefaultProviderName),s={title:e.link.title,url:e.link.href,provider:{name:o},imageUrl:n?(0,P.XP)(n,{width:624,height:350,enableDpiScaling:!1}):e.link.image.href,isContent:t,privacyUrl:i}}else if(null!=e.reference&&null!=e.reference.href){const r=this.getCMSContentId(e.reference.href);if(null!=r){const e=await this.getCMSContent(r);if(!e)continue;s={title:e.title,url:this.constructDestinationUrl(e,n),provider:this.constructProvider(e),imageUrl:this.constructImageUrl(e),isContent:t,privacyUrl:i}}}s&&s.title&&s.imageUrl&&s.url&&r.push(s)}return{id:t._id,items:r}}async getCMSContent(t){try{const e=new URL(this.getContentServiceUrlBase().search,`${this.getContentServiceUrlBase()}${l.B3.CMSContentServiceURl}${t}/`),n=await fetch(e.toString());if(!n||!n.ok)return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Failed to fetch CMS content, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0});const i=await n.json();return i||void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Invalid JSON response to get CMS content, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}catch(e){return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Error while fetching CMS content ${e}, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}}constructDestinationUrl(t,e){const{category:n}=t,i=n&&n.product||"news",r=n&&n.label||"other",o=b[t.type]||"xx";return`https://www.msn.com/${e}/${S._3.encodeURIComponentForPrime(i||"")}/${S._3.encodeURIComponentForPrime(r||"")}/${S._3.encodeURIComponentForPrime(t.title||"")}/${o}-${t.id}`}constructProvider(t){const{name:e,logo:n}=t.provider;return{name:e,logo:n&&n.id?{src:`${I.h.prod}${n.id}?w=16&h=16`,alt:e}:void 0}}constructImageUrl(t){if(t.images&&!(t.images.length<1)&&t.images[0].id)return(0,P.XP)(t.images[0].id,{width:624,height:350,focalRegion:t.images[0].focalRegion,enableDpiScaling:!1})}getCMSContentId(t){return t&&t.indexOf("cms/api/amp")>-1?t.substring(t.lastIndexOf("/")+1):null}async fetchProviderName(t){try{if(this.cmsProviderCache.get(t))return this.cmsProviderCache.get(t);const e={method:"GET",headers:{}},n=await(0,_.w)(async()=>{const n=new URL(`${l.B3.CMSListServiceUrl}${t}${this.getContentServiceUrlBase().search}`,`${this.getContentServiceUrlBase()}`),i=await fetch(n.toString(),e);if(i.ok)return i.json();(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Invalid response from CMS. status: ${i.status}, statusText: ${i.statusText}, url: ${i.url}`,{shouldSampleErrorsForTreatement1:!0})},"getProviderName");if(!n)return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Invalid response.json(), cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0});const i=n;return i?(this.cmsProviderCache.set(t,i.displayName),i.displayName):void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Failed to parse JSON response, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}catch(e){return void(0,o.vV)(s.Qnp,"Get CMSAd content failed",`Error while fetching Provider name  ${e}, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}}getContentServiceUrlBase(){let t=g.T3.ContentServiceUrlBase;return t&&!t.toString().includes("localhost")||(t=new URL(l.QR.DefaultContentServiceBaseUrl)),t}}var R=n(19993),E=n(2462),F=n(29784);class D{async getLeadgenAds(t){if(!t||!t.placements||t.placements.length<1)return void v.YT.sendAppErrorEvent((0,o.$5)(s.tD3,"Get Leadgen content failed","No placements found in the request"));let e;try{const n=g.T3.HostPage.originalUrl;e=(0,F._Y)(n);const i=this.getMuid(t.muid),r=(0,x.Th)().CurrentFlights,{w:a,h:c}=t.placements[0].img||{},u={id:e,url:n,scoreCategories:t.scoreCategories,market:t.locale,user:i,fdhead:r,w:a,h:c},d=JSON.stringify(u),f=new URL(l.QR.LeadgenEndpoint,`${g.T3.AssetsUrl}/service/Finance/`),h="finance-utils-peregrine",p=R.WR.getOneServiceParamsWithoutAuth(null,h,!1);f.search=S._3.keyValueArrayToQueryString(p);const m=(0,_.w)(async()=>{const t=await fetch(f,{method:"POST",body:d,timeoutMs:l.QR.LeadgenAdServiceTimeout});if(t.ok)return t.json();v.YT.sendAppErrorEvent((0,o.$5)(s.tD3,"Get Leadgen content failed",`Invalid response from Leadgen, ${t.statusText}, contentId: ${e}`))},"getLeadgenAds"),w=await m;if(!w)return void v.YT.sendAppErrorEvent((0,o.$5)(s.tD3,"Get Leadgen content failed",`contentId: ${e}`));return w.items}catch(t){return void v.YT.sendAppErrorEvent((0,o.$5)(s.tD3,"Get Leadgen content failed",`Error while fetching Leadgen Ad  ${t}, contentId: ${e}`))}}getMuid(t){return t||(0,E.ab)()}}var O=n(85889),N=n(67387),U=n(33918),L=n(28006),B=n(93005),W=n(56201),H=n(41423),V=n(56485),z=n(60791),j=n(15173),q=n(30382),G=n(9835),J=n(42118),K=n(54193),Q=n(94020),X=n(4891);const Y=(t,e,n,i)=>{null!=n&&n.passExtraAdSignals||null!=n&&n.passDTSignals;try{const r=[];return null!=e&&e.indices&&Array.isArray(e.indices)&&e.indices.forEach((o,s)=>{let a={};a=Z(t,e,s,a,n,i),r.push(JSON.stringify(a))}),r}catch(t){return[]}},Z=function(t,e,n){var i;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;const s=null==e||null===(i=e.placementLevelSignals)||void 0===i?void 0:i[n],a=null==t?void 0:t.auctionLevelSignals;var c,u,l;null!=o&&o.passExtraAdSignals&&(s&&(r.modelSignals={coords:null!=s&&s.coords?{x:s.coords.x,y:s.coords.y}:void 0,isCoordsInv:(null==s?void 0:s.isCoordsInvalidated)||void 0,cardSize:(null==s?void 0:s.cardSize)||void 0,pageRegion:(null==s?void 0:s.pageRegion)||void 0}),a&&!o.passRequestModelSignals&&(r.requestModelSignals={vpSize:null!=a&&a.vpSize?{w:null==a||null===(c=a.vpSize)||void 0===c?void 0:c.w,h:null==a||null===(u=a.vpSize)||void 0===u?void 0:u.h}:void 0,isPrerender:(null==a?void 0:a.isPrerender)||void 0,isSSR:(null==a?void 0:a.isSSR)||void 0,ocid:(null==o?void 0:o.passAdOcidRegSize)&&(null==a?void 0:a.ocid)||void 0}));null!=o&&o.passBrandSafetySignals&&(r.brandSafety={adjCardIds:null!=s&&null!==(l=s.adjacentCardIds)&&void 0!==l&&l.length?[...s.adjacentCardIds]:void 0,isPartialAdjList:(null==s?void 0:s.isPartialBrandSafety)||void 0});if(null!=o&&o.passDTSignals){var d;const t=(0,k.LJ)(e.region),n=null===(d=o.dtsRequestConfig)||void 0===d?void 0:d.find(e=>e.region===t);null!=n&&n.dtsTemplateConfig&&(r.dts=tt(n.dtsTemplateConfig))}return nt(r),null!=t&&t.passUnstableGalleryAdSignal&&e.region===X.Tp.interstitialgallery&&it(r,!(null!=t&&t.isStableGAInterstitialAds)),null!=a&&a.userSignals&&o.passCohortSignalsAds&&(r.userSignals=a.userSignals),r},tt=t=>({templates:t.map(t=>{let{dtsTemplateId:e,assets:n,lineCountConstraints:i}=t;const r={id:e,assets:(0,k.YF)(n)?n.map(et):[]};return Array.isArray(i)&&(r.lcconstrs=i.map(t=>{let{assetIds:e,lineCountLimit:n}=t;return{assetkeys:e,lclimit:n}})),r})}),et=t=>{switch(t.type){case"title":return{id:t.assetId,required:t.required,title:{len:t.length,ext:{linelen:t.lineLen}}};case"image":return{id:t.assetId,required:t.required,img:{type:t.subTypeId,w:t.imageSize.w,h:t.imageSize.h}};default:return{id:t.assetId,required:t.required,data:{type:t.subTypeId,len:t.length,ext:{linelen:t.lineLen}}}}},nt=t=>{t.device={pxratio:Math.round(100*(0,h.mZ)())/100}},it=(t,e)=>{t.modelSignals=t.modelSignals||{},t.modelSignals={...t.modelSignals,isUnstableGAAd:e}};var rt=n(39092),ot=n(71507),st=n(89980);const at=async(t,e,n,i,r,a,c,u)=>{if(r){var l;const t=r.serverTiming&&(null===(l=r.serverTiming[0])||void 0===l?void 0:l.duration);if(t&&c("NAdServerLatency",t),i>-1){const t=(0,f.tZ)(e&&!n,r.requestStart),o=t-i;c("NAdInitiateToReq",o>0?o:0),a||u(n?"TTNativeAd.Background.Request":"TTNativeAd.Request",0,t)}c("TTNativeAd.Response",(0,f.tZ)(e&&!n,r.responseEnd)),r.isApproximate||u("NAdFetch",r.fetchStart,r.responseEnd),c("NativeAd.ApiDuration",null==r?void 0:r.duration)}else"winWidgets"!==g.T3.AppType&&(0,o.vV)(s.aNS,"Unable to find performance entry for RTB request","",{shouldSampleErrorsForTreatement1:!0})};function ct(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}var ut=n(34185),lt=n(89284),dt=n(43198);class ft{get sourceUrl(){var t;if(this._sourceUrl)return this._sourceUrl;if((0,O.mJ)())return this._sourceUrl="https://int.msn.com",this._sourceUrl;this._sourceUrl=g.T3.HostPage.originalUrl;const e=g.T3.CurrentRequestTargetScope.pageType,n=g.T3.HostPage.verticalKey;if(e&&n&&(null===(t=this.config)||void 0===t||!t.fixAuctionSrcUrl||!this._sourceUrl)){const t=e.toLowerCase();(t.indexOf("dhp")>-1||t.indexOf("ntp")>-1)&&(this._sourceUrl="https://"+g.T3.HostPage.hostName+"/"+n+"/"+e)}return this._sourceUrl}get pageType(){if(this._pageType)return this._pageType;const t=g.T3.CurrentRequestTargetScope.pageType,e=g.T3.CurrentRequestTargetScope.ocid;switch(g.T3.AppType){case"edgeChromium":this._pageType="edgechrntp";break;case"views":if((0,O.RH)()&&["article","gallery","video","videoinf"].includes(t)){const e=(0,z.a)();"article"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiar":"saaar":"gallery"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiga":"saaga":"video"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiwatch":"saawatch":"videoinf"===t&&(this._pageType="iOS"===(null==e?void 0:e.platform)?"saivi":"saavi")}else if("article"===t)this._pageType=this.isWindowsViewsPage(e)?"winar":"webcompar";else if("gallery"===t)this._pageType=this.isWindowsViewsPage(e)?"winga":"webcompga";else if("video"==t||"video-widget"==t&&g.T3.IsChinaCompliance)this._pageType="watch";else{new Set(["topic","source"]).has(t)&&(this._pageType="vlp")}break;case"gaming":case"hub":case"sports":this._pageType="vlp";break;case"windows":location.href.includes("feed/interest/following")?this._pageType="Winweb":this._pageType=t;break;case"winWidgets":return"gallery"===t?"prongga":"prongar";default:this._pageType=t}return this._pageType}constructor(t){var e;this.config=t,this.riverNativeAdCount=0,this.reservedRiverNativeAdCount=0,this.dualWideRiverNativeAdCount=0,this.halfRiverNativeAdCount=0,this.isAdblockerEnabled=!1,this.isXandrMigrationControlFlight=(0,dt.ZP)(),this.beaconService=new A.m,this.cookieService=new Q.O,this.ecasession=l.QR.Ecasession,this.isNativeDisplayAdPassAnidEnabled=(null===x.Rb||void 0===x.Rb||null===(e=x.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(U.IY))??!1;const n=B.V.getInstance().rootReducer;if("edgeChromium"===g.T3.AppType){const t=n.connector(L.h$);var i,r;if(t)if(this.anaheimPageLayout=t.getCurrentState().currentLayout,null!==(i=this.config)&&void 0!==i&&i.sendAdBlockDetectionFromEdge)this.isAdblockerEnabled=(null===(r=t.getCurrentState())||void 0===r||null===(r=r.configData)||void 0===r?void 0:r.isAdblockerEnabled)??!1}this._pageType=null==t?void 0:t.adPageType,(0,H.w)().addSwitchListener(this.onPivotSwitch.bind(this),V.M.Monetization)}validEdgeChromiumPageType(t){return"edgechrntp"===t||"edgechrntpruby"===t}async fetchSAMAds(t){var e,n,i,r;let u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,h=arguments.length>4?arguments[4]:void 0,m=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0,w=arguments.length>7?arguments[7]:void 0;if(!t||!t.placements||t.placements.length<1)return void(0,o.vV)(s.TYv,"Invalid request to fetch native ads","No placements found in the request");const y=t.pageType||this.pageType;if(!y)return void(0,o.vV)(s.TYv,"Invalid request to fetch native ads","No page type found");const b="ru-xl"===t.locale?"en-xl":t.locale,S=null===g.T3||void 0===g.T3||null===(e=g.T3.HostPage)||void 0===e?void 0:e.verticalKey,C=null===g.T3||void 0===g.T3||null===(n=g.T3.CurrentRequestTargetScope)||void 0===n?void 0:n.audienceMode,k=this.riverNativeAdCount,T=this.reservedRiverNativeAdCount,$=this.dualWideRiverNativeAdCount,A=this.halfRiverNativeAdCount;this._isSuperAppPage=this.isSuperAppPage(y,t.appName),this._isChannelAppPage=this.isChannelAppPage(y,t.appName),this._isMsnHpMobileAppPage=this.isMsnHpMobileAppPage(y,t.appName);const I=this._isSuperAppPage||this._isChannelAppPage||this._isMsnHpMobileAppPage||!(!x.Rb.ClientSettings||!x.Rb.ClientSettings.deviceFormFactor||"phone"!==x.Rb.ClientSettings.deviceFormFactor),P=this.getImpressionId(),_=!this._isSuperAppPage&&this.cookieService.getBrowserOptoutStatus(),M=!this._isSuperAppPage&&await(0,J._0)(),{muidForRequest:R,anidForRequest:F,authCookieNameForRequest:D}=this.resolveAuthIdentifiersForRequest({muid:t.muid,anid:t.anid,isCookieWallPresent:M}),O=(0,dt.pQ)()||(0,dt.TB)(t.enableNativeAdXandr||(null===(i=this.config)||void 0===i?void 0:i.enableNativeAdXandr)),N=await this.buildRequestLevelSignal(t,O);var U;if((this.isXandrMigrationControlFlight||O)&&(j.t4.logRequestLevelCount(),O))return this.fetchAdsFromXandrSdk(t,{anid:F,audienceMode:C,browserOptout:_,enableAdTargetingKeywords:null===(U=this.config)||void 0===U?void 0:U.enableAdTargetingKeywords,impressionId:P,isCookieWallPresent:M,isMobile:I,isPrerenderAdBeforeReveal:h,locale:b,muid:R,pageType:y,requestLevelSignal:N,verticalName:S});const L=this.isNotMyFeed(),B=t.partnerId||g.T3.CurrentRequestTargetScope.pageType,{anaheimColLayout:H}=t,V=!!window.__tcfapi;M||this._isSuperAppPage||!u||(this.ecasession=(0,E.Ri)(l.wf.TaboolaSessionCookieName)||this.ecasession),void 0===this.isAdBlock&&(this.config&&this.config.sendAdBlockDetection?this.isAdBlock=function(){if((0,st.Lg)().supported){const t=(0,st.Lg)().getObject("BT_AA_DETECTION",void 0);if(void 0!==t)return!1===t.acceptable}return!1}():this.isAdBlock=!1);const z={adRefreshVariant:t.adRefreshVariant??"",locale:b,rid:P,partnerId:B,content:{sourceUrl:this.sourceUrl,pageType:y,previousReservedRiverNativeAdCount:T,previousRiverDualWideNativeAdCount:$,previousRiverHalfNativeAdCount:A,previousRiverNativeAdCount:k,verticalName:S,anaheimPageLayout:this.anaheimPageLayout,anaheimColLayout:H,isXfeed:L,audienceMode:C},user:{browserOptOut:_,isAdblock:this.isAdBlock,gdpr:V,...R&&{muid:R}},placements:this.getPlacements(t,y),extensions:this.getExtensions(this.lastResponseMetadata,this.ecasession),isCookieWallPresent:M,isPeregrine:!0,device:{isMobile:I}};(0,G.A)(t.tmax)&&(z.tmax=t.tmax),(0,G.A)(t.tmaxbidder)&&(z.tmaxbidder=t.tmaxbidder);this.config&&this.config.enablePrerenderAdsAuctionFlag&&(0,p.S)()&&(z.content.prerender=h?1:0);const q=(0,E.Ri)(l.GD.BCPCookieKey);if("bingHomepage"===g.T3.AppType&&q&&(z.user.bcp=q),this.isNativeDisplayAdPassAnidEnabled&&F&&(z.user.anid=F),this._isSuperAppPage&&(z.app={adid:t.adid,muid:t.muid,sapphireid:t.sapphireid,version:t.clientVersion,bundle:t.packageName},this.isNativeDisplayAdPassAnidEnabled||(z.app.anid=t.anid)),(0,p.S)()){var K,Q,X,Y;if(null!==x.Rb&&void 0!==x.Rb&&null!==(K=x.Rb.CurrentFlightSet)&&void 0!==K&&K.has("prg-ads-dupe-ck"))z.extensions.impressedCrids=ot.x.getDedupeIds(null==t||null===(X=t.placements[0])||void 0===X?void 0:X.region,y);else z.extensions.impressedCrids=ot.x.getDedupeIds(null==t||null===(Y=t.placements[0])||void 0===Y?void 0:Y.region);null!==x.Rb&&void 0!==x.Rb&&null!==(Q=x.Rb.CurrentFlightSet)&&void 0!==Q&&Q.has("prg-ads-dupe-hit")&&(t.impressedCrids=z.extensions.impressedCrids)}N&&(z.extensions.msan_kv=N),null!==(r=this.config)&&void 0!==r&&r.enableAdTargetingKeywords&&(z.keywords=(0,W.W)());const Z=f||l.QR.SamDomain,tt=d?l.QR.SamOpenRtbEndpoint:l.QR.SamEndpoint,et=new URL(tt,Z),nt=d?this.createOpenRtbRequest(z):z,it=JSON.stringify(nt),rt=!0===x.Rb.IsPrerender?performance.now()-(0,a.W4)(c.xF):performance.now();(0,a.tD)("NAdInitiate",rt),this.stampSamRequestIndices(t.placements);const at=t.placements.reduce((t,e)=>t+e.indices.length,0);return this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adRequestedCnt,at),this.fetchSAMAdsCSR(it,b,R,et.href,y,nt,h,d,m,v,w,at,D)}fetchAdsFromXandrSdk(t,e){var n,i;const r=this.getAnidIfNoCookieWall(e.anid,e.isCookieWallPresent),o=e.isCookieWallPresent?null:this.getAuthCookieName(),{bidTimeout:s,bidExtensionTimeout:a}=this.getTmaxValuesForXandr(t),c=(null===(n=this.config)||void 0===n?void 0:n.auctionTimeoutOverride)??l.GD.Timeout,u=this.getMuidIfNoCookieWall(e.muid,e.isCookieWallPresent),d=null===g.T3||void 0===g.T3||null===(i=g.T3.CurrentRequestTargetScope)||void 0===i?void 0:i.ocid,f={anid:r,audienceMode:e.audienceMode,authCookieName:o,bidTimeout:s,bidExtensionTimeout:a,browserOptout:e.browserOptout,enableAdTargetingKeywords:e.enableAdTargetingKeywords,fetchTimeout:c,impressedCrids:ot.x.getDedupeIds(),isMobile:e.isMobile,isPrerenderAdBeforeReveal:e.isPrerenderAdBeforeReveal,locale:e.locale,muid:u,ocid:d,pageType:e.pageType,request_msan_kv:e.requestLevelSignal,rid:e.impressionId,verticalName:e.verticalName},h=this.getPlacementsForXandr(t);return j.t4.logCount(j.Yo.adBeforeFetchCnt,h.reduce((t,e)=>t+e.indices.length,0)),q.g.fetchAds({placements:h},f)}async buildRequestLevelSignal(t,e){var n,i;const r={};return r.isAppTraffic=this._isSuperAppPage,r.enablePageObject=!0,null!==(n=this.config)&&void 0!==n&&n.sendAdBlockDetectionFromEdge&&(r.isAdblockerEnabled=this.isAdblockerEnabled),e&&(r.pageLayout=this.anaheimPageLayout),null!==(i=this.config)&&void 0!==i&&i.passDeviceOS&&await this.getDeviceOSInfo(r),(0,rt.XP)(this.config,r,t)}async getDeviceOSInfo(t){const e=await navigator.userAgentData.getHighEntropyValues(["architecture","platform","platformVersion"]),{platformVersion:n,architecture:i,platform:r}=e||{};n&&i&&r||(0,o.vV)(s.LTf,"Fail to retrieve OS info [Request_level_MSAN_KV]",null,{platformDetails:e}),t.device={osv:null==e?void 0:e.platformVersion,arch:null==e?void 0:e.architecture,os:null==e?void 0:e.platform}}stampSamRequestIndices(t){let e="";t.forEach(t=>t.indices.forEach(n=>{e+=`${t.region}-${n}|`})),v.YT.addOrUpdateTmplString(e)}processAdResponse(t,e,n){if(200!==t.status)return 204===t.status?((0,o.vV)(s.zML,"Get 204 error from SAMRTB Ajax",`Status: ${t.status}, StatusText: ${t.statusText}, request: ${e}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adNoBidCnt,n),this.config&&this.config.useEmptyPlacementsForNoContent?{placements:[]}:void 0):((0,o.vV)(s.PTf,"Invalid response from SAMRTB Ajax",`Status: ${t.status}, StatusText: ${t.statusText}, request: ${e}`,{shouldSampleErrorsForTreatement1:!0}),void(this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adInvalidResponseCnt,n)));try{const e=JSON.parse(t.response);if(!e)return(0,o.vV)(s.mbj,"Invalid json response from SAMRTB",`Status: ${t.status}, Invalid json: ${t.response}`),void(this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adEmptyResponseErrorCnt,n));const i=e.metaData;if(this.processMetaData(i),this.beaconService.fireRequestLevelBeacons(i.requestLevelBeaconUrls),this.isXandrMigrationControlFlight){const t=e.placements.length;j.t4.logCountForMSX(j.Lj.adAvailableCnt,t),t<n&&j.t4.logCountForMSX(j.Lj.adNoBidCnt,n-t)}return e}catch(e){return(0,o.c_)(e,s._3Z,"Failed to process SAMRTB response",`Status: ${t.status}, json: ${t.response}`),void(this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adResponseFormatErrorCnt,n))}}processOpenRtbAdResponse(t,e){if(200!==e.status)return 204===e.status?((0,o.vV)(s.zML,"Get 204 error from SAMRTB Ajax",`Status: ${e.status}, StatusText: ${e.statusText}`,{shouldSampleErrorsForTreatement1:!0}),this.config&&this.config.useEmptyPlacementsForNoContent?{placements:[]}:void 0):void(0,o.vV)(s.PTf,"Invalid response from SAMRTB Ajax",`Status: ${e.status}, StatusText: ${e.statusText}`,{shouldSampleErrorsForTreatement1:!0});try{const n=JSON.parse(e.response);if(!n)return void(0,o.vV)(s.mbj,"Invalid json response from SAMRTB",`Status: ${e.status}, Invalid json: ${e.response}`);const i=this.convertOpenRtbResponseToNativeAdResponse(t,n),r=i.metaData;return this.processMetaData(r),this.beaconService.fireRequestLevelBeacons(r.requestLevelBeaconUrls),i}catch(t){return void(0,o.c_)(t,s._3Z,"Failed to process SAMRTB response",`Status: ${e.status}, json: ${e.response}`)}}createOpenRtbRequest(t){var e;const n=JSON.stringify({native:{assets:[{id:1,img:{type:3}}]}});let i=1;const r=t.placements.flatMap(e=>e.indices.map(r=>({id:(i++).toString(),tagid:`${t.content.pageType}-${e.region}-${r}`,native:{request:n},ext:{msn:{index:r,region:e.region}}}))),o={url:t.content.sourceUrl,ext:{locale:t.locale,msn:{pageType:t.content.pageType,verticalName:t.content.verticalName,anaheimPageLayout:t.content.anaheimPageLayout,isXfeed:t.content.isXfeed,audienceMode:t.content.audienceMode,isPeregrine:t.isPeregrine,previousReservedRiverNativeAdCount:t.content.previousReservedRiverNativeAdCount,previousRiverDualWideNativeAdCount:t.content.previousRiverDualWideNativeAdCount,previousRiverHalfNativeAdCount:t.content.previousRiverHalfNativeAdCount,previousRiverNativeAdCount:t.content.previousRiverNativeAdCount,partnerId:t.partnerId}}},s={id:l.QR.PublisherId},a={id:ct(),imp:r,user:{dnt:t.user.browserOptOut?1:0,ext:{anid:"",muid:null===(e=t.user)||void 0===e?void 0:e.muid,msn:{isCookieWallPresent:t.isCookieWallPresent,bcp:t.user.bcp}}},device:{devicetype:t.device.isMobile?1:2,ext:{isAdBlock:t.user.isAdblock}},ext:{sessionId:t.rid,admConfiguration:{useAdmObject:!0,useMultipleAdms:!0,maxAdmCount:999},msn:{adRefreshVariant:t.adRefreshVariant,metadata:t.extensions}}};return this._isSuperAppPage?a.app={id:l.QR.AppId,bundle:t.app.bundle,ver:t.app.version,content:o,publisher:s,ext:{msn:{adid:t.app.adid,sapphireId:t.app.sapphireid}}}:a.site={content:o,publisher:s},a}createSamRtbXmlHttpRequest(t,e,n,i){var r;const o=new XMLHttpRequest;if(o.open(l.GD.Method,n,!0),o.withCredentials=!0,o.timeout=this.config&&this.config.auctionTimeoutOverride?this.config.auctionTimeoutOverride:l.GD.Timeout,o.setRequestHeader(l.GD.ContentTypeKey,l.GD.ContentType),null!==(r=x.Rb.CurrentFlightSet)&&void 0!==r&&r.has(U.r7)||o.setRequestHeader(l.GD.FlightIdKey,x.Rb.CurrentFlights),o.setRequestHeader(l.GD.AdsNumberLineKey,x.Rb.AdsNumberLines),o.setRequestHeader(l.GD.CacheControlKey,l.GD.CacheControl),o.setRequestHeader(l.GD.MarketKey,t),this.isNativeDisplayAdPassAnidEnabled)e&&o.setRequestHeader(l.GD.ClientIdKey,e),i&&o.setRequestHeader(l.GD.AuthCookieNameKey,i);else{const t=(0,ut.b)(e);t&&o.setRequestHeader(l.GD.ClientIdKey,t);const n=this.getAuthCookieName();n&&o.setRequestHeader(l.GD.AuthCookieNameKey,n)}return o}async fetchSAMAdsCSR(t,e,n,i,r,c,u,l,d,f,h,p,m){if(f&&!l&&h){const e=await f.tryReadCache(t,x.Rb.CurrentFlights,i,u);if(e){this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adReturnedFromCacheCnt,p);try{return this.processAdResponse(await(async t=>({status:t.status,statusText:t.statusText,response:await t.text()}))(e),t,p)}catch(t){(0,o.c_)(t,s._3Z,"Failed to read cached response from SAMRTB call",`pageType: ${r}`)}}}return new Promise(h=>{try{const g=this.createSamRtbXmlHttpRequest(e,n,i,m);g.onload=()=>{!async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=performance.getEntriesByName&&performance.getEntriesByName(t)&&performance.getEntriesByName(t)[0],r=(0,a.yE)("NAdInitiate");at(0,e,n,r,i,!1,(t,e)=>{(0,a.tD)(t,e)},(t,e,n)=>{(0,a.IJ)(t,e,n)})}(i,x.Rb.IsPrerender,u),l?h(this.processOpenRtbAdResponse(c,g)):(f&&200===g.status&&requestIdleCallback(()=>f.writeCache((t=>{const e={};return t.getAllResponseHeaders().split("\n").forEach(t=>{const[n,i]=t.split(": ");n&&i&&(e[n]=i)}),new Response(t.responseText,{status:t.status,statusText:t.statusText,headers:new Headers(e)})})(g),t,x.Rb.CurrentFlights,i,u)),h(this.processAdResponse(g,t,p)))},g.ontimeout=()=>{(0,o.vV)(s.Fa2,"Timeout calling SAMRTB Ajax",`pageType: ${r}, status: ${g.status}, StatusText: ${g.statusText}, StartTime: ${v}, EndTime: ${(new Date).toISOString()}, url: ${i}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&(j.t4.logRequestLevelTimeoutCount(),j.t4.logCountForMSX(j.Lj.adTimeoutCnt,p)),h(void 0)},g.onerror=()=>{(0,o.vV)(s.PTf,"Error calling SAMRTB Ajax",`pageType: ${r}, status: ${g.status}, StatusText: ${g.statusText}, StartTime: ${v}, EndTime: ${(new Date).toISOString()}, url: ${i}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&j.t4.logCountForMSX(j.Lj.adErrorCnt,p),h(void 0)};const v=(new Date).toISOString();g.send(t),d&&d()}catch(t){(0,o.c_)(t,s._3Z,"Failed to get response from SAMRTB call",`pageType: ${r}, url: ${i}`),h(void 0)}})}convertOpenRtbResponseToNativeAdResponse(t,e){var n,i;const r=(null===(n=e.seatbid)||void 0===n||null===(n=n.flatMap(t=>t.bid))||void 0===n?void 0:n.filter(t=>t.ext.admObjects.length>0))??[],o=new Map;t.imp.forEach(t=>o.set(t.id,t));return{placements:r.map(t=>{const e=t.ext.admObjects[0].native.ext.msn.mappedRegion,n=t.ext.admObjects.flatMap(t=>t.native.eventtrackers),{geminiViewabilityDataJson:i,beaconsSupportHttpPOST:r}=t.ext.admObjects[0].native.ext.msn,s=t.ext.admObjects[0].native.privacy,a=[],c=[],u=[],l=[];null==n||n.forEach(t=>{var e;null!==(e=t.ext)&&void 0!==e&&null!==(e=e.msn)&&void 0!==e&&e.isBingTracker&&2==t.event?l.push(t.url):2==t.method?u.push(t.url):1==t.event&&1==t.method?a.push(t.url):2==t.event&&1==t.method&&c.push(t.url)});const d=t.ext.admObjects.flatMap(t=>t.native.link.clicktrackers),f=t.ext.admObjects[0].native.ext.msn.fireEncodedBeacons,h=JSON.stringify({tvb:c,trb:a,tcb:d,tjb:u,p:t.ext.bidderId,e:f}),p=t.ext.admObjects.map(t=>{var e;const n=t.native,i={title:null,adSelectionReason:n.ext.msn.adSelectionReason,description:null,url:n.link.url,sourceName:null,adChoicesUrl:n.ext.adChoicesUrl,imageUrl:null,imageHeight:null,imageWidth:null,images:null,clickBeacons:null,uniqueId:n.ext.msn.uniqueId,beaconsJson:null,originalImageWidth:null,originalImageHeight:null,verificationParameters:n.ext.msn.verificationParameters,ext:n.ext.msn.ext,assets:[],eventtrackers:null==n||null===(e=n.ext)||void 0===e||null===(e=e.msn)||void 0===e?void 0:e.eventtrackers};return i.clickBeacons=JSON.stringify({tcb:n.link.clicktrackers}),t.native.assets.forEach(t=>{if(t.ext.msn.isRtbAsset)t.img?i.assets.push({w:t.img.w,h:t.img.h,url:t.img.url,alt:t.img.ext.alt,ext:t.img.ext.msn}):i.assets.push(t);else if(t.data){const e=t.data.value;switch(t.data.type){case 1:i.sourceName=e;break;case 2:i.description=e}}else if(t.img){const{url:e,w:n,h:r}=t.img;switch(t.img.type){case 3:i.imageUrl=e,i.imageWidth=n,i.imageHeight=r,i.originalImageHeight=t.img.ext.msn.originalImageHeight,i.originalImageWidth=t.img.ext.msn.originalImageWidth;break;case 600:i.images||(i.images=[]),i.images.push({url:e,alt:t.img.ext.alt,ext:t.img.ext.msn})}}else null!=t.title&&(i.title=t.title.text)}),i}),m=o.get(t.impid);return{items:p,privacyUrl:s,adServedUrls:a,jsTrackerUrls:u,visibilityUrls:c,beaconsJson:h,bingTrackerUrls:l,beaconsSupportHttpPOST:r,geminiViewabilityDataJson:i,region:e,index:m.ext.msn.index}}),metaData:null===(i=e.ext)||void 0===i||null===(i=i.msn)||void 0===i?void 0:i.metadata}}updatePlacementStrictIndices(t,e){X.DX.includes(t.region)&&(e.isStrictIndices=!0),void 0!==t.isStrictIndices&&(e.isStrictIndices=t.isStrictIndices)}updateRequestedPlacementsInfo(t){const e=t.region.toLocaleLowerCase();e===l.QR.RiverRegion?this.riverNativeAdCount+=t.indices.length:e===l.QR.ReservedRiver?this.reservedRiverNativeAdCount+=t.indices.length:e===l.QR.RiverDoubleWide?this.dualWideRiverNativeAdCount+=t.indices.length:e!==l.QR.RiverHalf&&e!==l.QR.RiverHalfTextOnly||(this.halfRiverNativeAdCount+=t.indices.length)}getPlacementsForXandr(t){const e=[];return t.placements.forEach(n=>{if(n.region&&n.indices&&n.indices.length){const{adContainerIds:i,indices:r,img:o,assets:s,region:a}=n,c={region:a,indices:r,img:o,adContainerIds:i,assets:s};c.tag_msan_kvs=Y(t,n,this.config),e.push(c)}}),e}getTmaxValuesForXandr(t){let e=t.tmaxbidder??t.tmax??0,n=0;const i=t=>{var e;return null===x.Rb||void 0===x.Rb||null===(e=x.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(t)};return i(U.Hm.Treatment1)||i(U.Hm.Treatment2)?(e=900,n=400):i(U.Hm.Treatment3)||i(U.Hm.Treatment4)?(e=1200,n=500):i(U.Hm.Treatment5)?(e=950,n=300):i(U.Hm.Treatment6)&&(e=900,n=300),{bidTimeout:e,bidExtensionTimeout:n}}getPlacements(t,e){const n=[];return t.placements.forEach(i=>{if(i.region&&i.indices&&i.indices.length){var r,o,s,a;const{assets:c,indices:u,img:d,extensions:f}=i;let h=i.region;(null===(r=this.config)||void 0===r||null===(r=r.adPlacementMapper)||void 0===r?void 0:r.some(t=>t.mappedRegion===i.region))||(h=this.validEdgeChromiumPageType(e)&&l.oi[i.region]||i.region);const p=d?{assets:c,region:h,indices:u,img:d}:{assets:c,region:h,indices:u};if(f&&(p.extensions=f),null!==(o=this.config)&&void 0!==o&&o.enableAdTargetingKeywords&&(p.keywords=(0,W.h)({region:h})),this.updatePlacementStrictIndices(i,p),n.push(p),this.updateRequestedPlacementsInfo(i),p.msan_kvs=Y(t,i,this.config),null!==(s=this.config)&&void 0!==s&&s.enableNativeAdDTS&&null!==(a=this.config)&&void 0!==a&&a.nativeAdDTSRequestConfig){const t=(0,K.p)(this.config.nativeAdDTSRequestConfig,i.region);t&&t.length>0&&(p.dtsRequests=[t])}}}),n}processMetaData(t){if(this._isSuperAppPage||this._isChannelAppPage||this._isMsnHpMobileAppPage)return;const e=t&&t.taboola&&t.taboola.sessionId;!this.isCookieWallPresent&&e&&(0,E.Ub)(l.wf.TaboolaSessionCookieName,e,.042),this.lastResponseMetadata=this.mergeMetadata(this.lastResponseMetadata,t),this.cookieService.updateMsaOptOutCookie(t)}mergeMetadata(t,e){return t?e?(e.taboola=this.mergePartnerMetadata(t.taboola,e.taboola),e):t:e}mergePartnerMetadata(t,e){return e=e||{},t&&t.sessionId&&!e.sessionId&&(e.sessionId=t.sessionId),e}getImpressionId(){return this.config&&this.config.auctionRidOverride&&g.T3.ActivityIdLowerCaseNoHypens?g.T3.ActivityIdLowerCaseNoHypens:this.lastResponseMetadata&&this.lastResponseMetadata.pageViewId?this.lastResponseMetadata.pageViewId:v.YT.getRequestId()}clearPreviousInfo(){var t;this.riverNativeAdCount=0,this.reservedRiverNativeAdCount=0,this.dualWideRiverNativeAdCount=0,this.halfRiverNativeAdCount=0,null!==(t=this.lastResponseMetadata)&&void 0!==t&&t.pageViewId&&delete this.lastResponseMetadata.pageViewId}getExtensions(t,e){const n={taboola:(t=t||{taboola:{}}).taboola};return n.taboola.sessionId||(n.taboola.sessionId=e),n}resolveAuthIdentifiersForRequest(t){let e,n,i,{muid:r,anid:o,isCookieWallPresent:s}=t;return this.isNativeDisplayAdPassAnidEnabled?({muidForRequest:e,anidForRequest:n,authCookieNameForRequest:i}=(0,ut.N)({muid:r,anid:o,isCookieWallPresent:s})):(e=lt.eE.maskIdentifiers(this.getMuid(r)),n=lt.eE.maskIdentifiers(o)),{muidForRequest:e,anidForRequest:n,authCookieNameForRequest:i}}getMuid(t){return this.isCookieWallPresent?null:t||(0,ut.b)()}getMuidIfNoCookieWall(t,e){return e?null:t||(0,ut.b)()}getAnidIfNoCookieWall(t,e){return e?null:t||null}getAuthCookieName(){return!this._isSuperAppPage&&(0,E.Ri)(l.wf.AppAnonCookieExist)?lt.eE.maskIdentifiers(N.CR):null}onPivotSwitch(t){if(!t.oldSelection)return;const e=t.newSelection.pivotId;e&&e.toLowerCase()!==l.LQ.EditInterestPivotId&&(this.pivotId=e)}isNotMyFeed(){return!!this.pivotId&&this.pivotId.toLowerCase()!==l.LQ.MyFeedPivotId&&this.pivotId.toLowerCase()!==l.LQ.StripeMyFeedPivotId}isWindowsViewsPage(t){return!!t&&("windirect"===(t=t.toLowerCase())||t.startsWith("winp"))}isSuperAppPage(t,e){return!!(t&&["saa","sai","mmx","mobilefeededge"].includes(t.toLowerCase())&&["SuperAppHP","SuperAppViews"].includes(e))}isChannelAppPage(t,e){return!(!t||!["outlookfeed"].includes(t.toLowerCase())||"Channel"!==e)}isMsnHpMobileAppPage(t,e){return!(!t||!["mobilefeed"].includes(t.toLowerCase())||"prime_mobile"!==e)}}var ht=n(99271),pt=n(51787),mt=n(44449),gt=n(52063),vt=n(19920),wt=n(45083),yt=n(21629);const bt=(t,e)=>{var n,i;null!=t&&null!==(n=t.impressedCrids)&&void 0!==n&&n.length&&null!=e&&null!==(i=e.placements)&&void 0!==i&&i.length&&e.placements.forEach(e=>{var n,i;if(null==e||null===(n=e.crids)||void 0===n||!n.length)return;const r=null===(i=e.crids)||void 0===i?void 0:i.filter(e=>{var n;return null===(n=t.impressedCrids)||void 0===n?void 0:n.includes(e)});if(r.length>0){var a,c,u,l;(t=>{(0,o.vV)(s.Kyk,"Dupe crids from MSX detected",void 0,{...s.Kyk.pb,ext:t},!1)})({dupeCrids:r.join(","),region:null==e?void 0:e.region,index:null==e?void 0:e.index,imageUrl:null==e||null===(a=e.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.imageUrl,title:null==e||null===(c=e.items)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.title,url:null==e||null===(u=e.items)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.url,adRequestCrids:null==t||null===(l=t.impressedCrids)||void 0===l?void 0:l.join(",")})}})};class St{constructor(t,e,n){var i;this.adTemplateConfig=t,this.adServiceConfig=e,this.adBeaconServiceConfig=n,this.beaconService=new A.m(this.adBeaconServiceConfig),this.cmsService=new M,this.leadgenAdService=new D,this.samService=new ft(this.adServiceConfig),this.templateService=new ht.I,this.shouldUseXandrForRequest=(0,dt.TB)(null===(i=this.adServiceConfig)||void 0===i?void 0:i.enableNativeAdXandr),this.shouldUseXandr=(0,dt.pQ)()||this.shouldUseXandrForRequest,this.cmsNativeAdsItemsMap=new Map,this.cmsRetryCount=0,this.backfillIndex=0,this.leadgenIndex=0,this.cmsAdsCounter=0,this.callbackFnPlacementList=[],this.callbackList=[]}resetNativeAdService(){this.backfillIndex=0,this.leadgenIndex=0,this.cmsAdsCounter=0,this.callbackFnPlacementList.length=0,this.callbackList.length=0,this.samService.clearPreviousInfo()}async fetchNativeAds(t,e){var n,i,r,a;let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0;if(!t||!t.placements||0===t.placements.length)return void(0,o.vV)(s.y0q,"Fetch NativeAd failed","No placements found in the request");const f="true"===(null===(n=S._3.getParamsWithItems((0,h.iA)(),!0,"citem").find(t=>{let{key:e}=t;return"nativeAdDebug"===e}))||void 0===n?void 0:n.value);if(t.locale||(t.locale=x.Rb.Locale),"ru-xl"===t.locale&&(t.locale="en-xl"),!t.locale)return void(0,o.vV)(s.y0q,"Fetch NativeAd failed",`No locale found, headData.Locale: ${x.Rb.Locale}, adRequest.locale: ${t.locale}`);this.shouldUseXandrForRequest&&(t.enableNativeAdXandr=!0);const p=this.buildAdResponse(t);!this.leadgenItems&&t.enableNativeAdLeadgen&&(this.leadgenItems=await this.leadgenAdService.getLeadgenAds(t));const m=!this.leadgenItems||0==this.leadgenItems.length;let v=g.T3.IsChinaCompliance?"https://srtb.msn.cn/":null;!g.T3.IsChinaCompliance&&x.Rb.CurrentFlightSet.has("prg-ads-ipv6dmn")&&(v="https://srtb-ax.msn.com/");const{enableBlockingQueue:w}=this.adTemplateConfig||{},y=()=>this.samService.fetchSAMAds(t,!1,!1,v,null,e,u);let b;b=w?vt.Y.enqueueTask(()=>y().then(this.updateCridsInDedupeManager.bind(this))):m?y():Promise.resolve(void 0);const C=t.locale,k=l.F3[C];if(!this.cmsItems&&!c){const t=await this.cmsService.getCMSList(k,C);t&&(this.cmsItems=t.items)}const T=await b;if(x.Rb.CurrentFlightSet.has("prg-ads-dupe-hit")&&bt(t,T),this.updateAdResponse(p,this.leadgenItems,this.cmsItems,k,t,T,c),f)return{...p,debugInfo:{adRequest:t}};var $;null!==x.Rb&&void 0!==x.Rb&&null!==(i=x.Rb.CurrentFlightSet)&&void 0!==i&&i.has("prg-ad-rmauctype")||!(null!==x.Rb&&void 0!==x.Rb&&null!==(r=x.Rb.CurrentFlightSet)&&void 0!==r&&r.has("prg-ad-view-bdupe")||null!==x.Rb&&void 0!==x.Rb&&null!==(a=x.Rb.CurrentFlightSet)&&void 0!==a&&a.has("prg-ad-wea-bdupe"))||!w||(null==p||null===($=p.placements)||void 0===$||$.forEach(t=>{t.adAuctionType=d.T.clientAuctionAd}));return p}updateCridsInDedupeManager(t){return(0,p.S)()&&null!=t&&t.placements&&t.placements.forEach(t=>{ot.x.addDedupeIds(null==t?void 0:t.crids)}),t}updateAdResponse(t,e,n,r,u,l,f){const h=!n||0==n.length,p=!l||!l.placements||0==l.placements.length,m=!e||0==e.length,{enableNativeAdXandr:g,enableExtraImageData:w,enableNativeAdLeadgen:b}=u;if(h&&!f)if(b){if(m&&p)return void(0,o.vV)(s.ic_,"Fetch NativeAd failed",`Unable to retrieve backfill list id: ${r}, SAM response and Leadgen response`);m?(0,o.vV)(s.tD3,"Fetch Leadgen ads failed",`Unable to retrieve backfill list id: ${r} and Leadgen response`):(0,o.vV)(s.ic_,"Unable to retrieve backfill list",`Backfill list id: ${r}`)}else{if(p)return void(0,o.vV)(s.ic_,"Fetch NativeAd failed",`Unable to retrieve backfill list id: ${r} and SAM response`);(0,o.vV)(s.ic_,"Unable to retrieve backfill list",`Backfill list id: ${r}`)}const S=this.mapSAMPlacements(l);return t.pageViewId=l&&l.metaData&&l.metaData.pageViewId,t.placements.forEach(r=>{var u,l,p,g;const b=r.region+r.regionIndex,T=S.get(b);let $;var A;null!==(u=this.adServiceConfig)&&void 0!==u&&u.enableBuyDirectAd&&"infopane"==r.region&&this.buyDirectItems&&($=null===(A=t.buyDirectAdIndex)||void 0===A?void 0:A.findIndex(t=>t===r.regionIndex));if(null!==(l=this.adServiceConfig)&&void 0!==l&&l.enableBuyDirectAd&&"infopane"==r.region&&this.buyDirectItems&&"number"==typeof $&&-1!=$&&null!==(p=this.buyDirectItems)&&void 0!==p&&p[$]){var I;const t=this.buyDirectItems[$],e={title:t.title,destinationUrl:t.url+`&PageId=${v.YT.getRequestId()}&ct=ShoppingNTPInfopane`,imageUrl:this.updateImageUrl(r,t.imageUrl),providerName:(null===(I=t.provider)||void 0===I?void 0:I.name)||"Buy with Microsoft"};r.items.push(e),r.privacyUrl=t.privacyUrl,r.isBackfill=!1}else if(!m&&e[this.leadgenIndex%e.length]){const t=e[this.leadgenIndex%e.length];this.leadgenIndex++;const n={title:t.title,destinationUrl:t.url,imageUrl:t.imageUrl,providerName:t.sourceName,noAdLabel:t.noAdLabel};r.items.push(n),this.updateTemplate(r),y(i.leadgen,b)}else if(T&&T.items&&T.items.length>0){T.items.forEach(t=>{var e,n,i;const o={title:t.title,description:t.description,destinationUrl:t.url,imageUrl:t.imageUrl,providerName:t.sourceName,adChoiceIconUrl:t.adChoicesUrl,originalImageHeight:t.originalImageHeight,originalImageWidth:t.originalImageWidth,imageHeight:t.imageHeight,imageWidth:t.imageWidth,clickBeacons:t.clickBeacons,uniqueId:t.uniqueId,feedbackUrl:this.shouldUseXandr?T.feedbackUrl:(0,k.xE)(t.clickBeacons??(null==t?void 0:t.ClickBeacons),null==t?void 0:t.feedback_url),verificationParameters:t.verificationParameters,cashback:t.cashback,noAdLabel:t.noAdLabel,privacyUrl:T.privacyUrl,eventtrackers:null==t?void 0:t.eventtrackers,advertiserDomain:void 0,adScenarioType:t.adScenarioType};(0,k.pg)(o,t.assets,null===(e=this.adServiceConfig)||void 0===e?void 0:e.passVAXandrMigrationSignals);const s=(0,C.ul)(t.adSelectionCriteria,t.adSelectionReason);var a,c;(s&&(o.advertiserDomain=s),null!==(n=this.adTemplateConfig)&&void 0!==n&&n.enableVAPhase2&&null!==(i=this.adTemplateConfig)&&void 0!==i&&null!==(i=i.supportedAdScenarioTypes)&&void 0!==i&&i.includes(t.adScenarioType))&&(v.YT.addOrUpdateTmplProperty("va_v2_response","1"),(0,gt.JX)(o,t.assets,null===(a=this.adServiceConfig)||void 0===a?void 0:a.passVAXandrMigrationSignals));w&&(o.originalImageHeight=t.originalImageHeight,o.originalImageWidth=t.originalImageWidth,o.providerId=T.providerId,o.isProductAd=Boolean(null===(c=o.assets)||void 0===c?void 0:c.price),o.images=t.images);r.items.push(o)}),r.privacyUrl=T.privacyUrl,r.adServedUrls=T.adServedUrls,r.jsTrackerUrls=T.jsTrackerUrls,r.visibilityUrls=T.visibilityUrls,r.beaconsJson=T.beaconsJson,r.bingTrackerUrls=T.bingTrackerUrls,r.beaconsSupportHttpPOST=T.beaconsSupportHttpPOST,r.geminiViewabilityDataJson=T.geminiViewabilityDataJson,r.providerId=T.providerId,r.crids=T.crids,r.iasId=ct(),this.updateDTSTemplates(r,T),this.updateTemplate(r),this.beaconService.sendBeaconForAdServed({beaconsJson:r.beaconsJson,beaconsSupportHttpPOST:r.beaconsSupportHttpPOST}),this.beaconService.fireJSTrackers(T.beaconsJson,t.shouldUseWindowVisibilityTrackingForXandr);const e=!0===x.Rb.IsPrerender?performance.now()-(0,a.W4)(c.xF):performance.now();(0,a.tD)("TTNativeAd.Serve",e),y(i.success,b)}else if(h)f?y(i.collapse,b):((0,o.vV)(s.dIV,"Unable to backfill invalid sam placement",`Placement key: ${b}`),this.updateTemplate(r),y(i.fail,b));else{const t=this.backfillIndex++%n.length,e=n[t],o={title:e.title,destinationUrl:e.url,imageUrl:this.updateImageUrl(r,e.imageUrl),providerName:e.provider?e.provider.name:"",isCMSAd:!0};r.items.push(o),r.privacyUrl=e.privacyUrl,this.updateTemplate(r),y(i.cmsBackfill,b)}null!==x.Rb&&void 0!==x.Rb&&null!==(g=x.Rb.CurrentFlightSet)&&void 0!==g&&g.has("prg-ad-rmauctype")||!r.isBackfill||(r.adAuctionType=d.T.cmsAd)}),t}updateTemplate(t){var e;(null===(e=t.items)||void 0===e?void 0:e.length)>0&&this.templateService.updateTemplate(t,this.adTemplateConfig)}updateDTSTemplates(t,e){var n;if(null!==(n=this.adServiceConfig)&&void 0!==n&&n.enableNativeAdDTS){var i;const n=(0,K.Y)(this.adServiceConfig.nativeAdDTSRequestConfig,t.region);var r;if((null==n||null===(i=n.templates)||void 0===i?void 0:i.length)>0)t.dtsTemplateId=null===(r=e.msft)||void 0===r?void 0:r.template_id}}addToCallbackList(t){t&&t.length>0&&this.callbackList.push(...t)}async fetchSamAds(t){var e,n,i;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;if(!t||!t.placements||0===t.placements.length)return void(0,o.vV)(s.y0q,"Fetch NativeAd failed","No placements found in the request");if(t.locale||(t.locale=x.Rb.Locale),"ru-xl"===t.locale&&(t.locale="en-xl"),!t.locale)return void(0,o.vV)(s.y0q,"Fetch NativeAd failed",`No locale found, headData.Locale: ${x.Rb.Locale}, adRequest.locale: ${t.locale}`);this.addToCallbackList(a),this.locale=t.locale;let f=g.T3.IsChinaCompliance?"https://srtb.msn.cn/":null;!g.T3.IsChinaCompliance&&x.Rb.CurrentFlightSet.has("prg-ads-ipv6dmn")&&(f="https://srtb-ax.msn.com/");const{enableBlockingQueue:h}=this.adTemplateConfig||{},p=()=>this.samService.fetchSAMAds(t,r,!1,f,c,null,u,l);let m;m=h?vt.Y.enqueueTask(()=>p().then(this.updateCridsInDedupeManager.bind(this))):p();const v=this.buildAdResponse(t),w=await m;var y;(null!==x.Rb&&void 0!==x.Rb&&null!==(e=x.Rb.CurrentFlightSet)&&void 0!==e&&e.has("prg-ads-dupe-hit")&&bt(t,w),null!==x.Rb&&void 0!==x.Rb&&null!==(n=x.Rb.CurrentFlightSet)&&void 0!==n&&n.has("prg-ad-rmauctype")||null!==x.Rb&&void 0!==x.Rb&&null!==(i=x.Rb.CurrentFlightSet)&&void 0!==i&&i.has("prg-ads-deref-rf")||!h)||(null==w||null===(y=w.placements)||void 0===y||y.forEach(t=>{t.adAuctionType=d.T.clientAuctionAd}));return{placeHolderResponse:v,samResponse:w}}async fetchCmsAds(t,e,n){if(!t||!t.placements||0===t.placements.length)return void(0,o.vV)(s.y0q,"Fetch NativeAd failed","No placements found in the request");let i=x.Rb.Locale;if("ru-xl"===i&&(i="en-xl"),!this.cmsNativeAdsItemsMap.has(e)){const t=await this.cmsService.getCMSList(e,i);t&&t.id&&t.items&&this.cmsNativeAdsItemsMap.set(e,t.items)}const r=this.buildAdResponse(t),a=this.cmsNativeAdsItemsMap.has(e)?this.cmsNativeAdsItemsMap.get(e):[];for(const t of r.placements){const e=n.shift();let r,o;if(e){let t=parseInt(e,10);if(t)t=Math.max(t-1,0),t=t<a.length?t:t%a.length,r=a[t];else{if(!this.cmsNativeAdsItemsMap.has(e)){const t=await this.cmsService.getCMSList(e,i);t&&t.id&&t.items&&this.cmsNativeAdsItemsMap.set(e,t.items)}const t=this.cmsNativeAdsItemsMap.has(e)?this.cmsNativeAdsItemsMap.get(e):[];r=(0,T.A)(t)[0],r||(r=a[this.cmsAdsCounter%a.length])}}else r=a[this.cmsAdsCounter%a.length];r&&(o={title:r.title,destinationUrl:r.url,imageUrl:this.updateImageUrl(t,r.imageUrl),providerName:r.provider?r.provider.name:""},t.items.push(o),t.privacyUrl=r.privacyUrl),this.updateTemplate(t),this.cmsAdsCounter++}return r}updateSamAdResponse(t,e,n){const i=this.cmsItems,r=this.mapSAMPlacements(e),c=!i||0==i.length;return t.pageViewId=e&&e.metaData&&e.metaData.pageViewId,t.placements.forEach(e=>{var l,h,m,g,w;null!==(l=this.adServiceConfig)&&void 0!==l&&l.enableAdsWaterfall&&"river"===e.region&&e.regionIndex===(null===(h=this.adServiceConfig)||void 0===h?void 0:h.tallAdsIndex)&&(e.region="rivert");const y=e.region+e.regionIndex,b=r.get(y);let S;var T;null!==(m=this.adServiceConfig)&&void 0!==m&&m.enableBuyDirectAd&&"infopane"==e.region&&this.buyDirectItems&&(S=null===(T=t.buyDirectAdIndex)||void 0===T?void 0:T.findIndex(t=>t===e.regionIndex));if(null!==(g=this.adServiceConfig)&&void 0!==g&&g.enableBuyDirectAd&&"infopane"==e.region&&this.buyDirectItems&&"number"==typeof S&&-1!=S&&null!==(w=this.buyDirectItems)&&void 0!==w&&w[S]){var $;const t=this.buyDirectItems[S],n={title:t.title,destinationUrl:t.url+`&PageId=${v.YT.getRequestId()}&ct=ShoppingNTPInfopane`,imageUrl:this.updateImageUrl(e,t.imageUrl),providerName:(null===($=t.provider)||void 0===$?void 0:$.name)||"Buy with Microsoft"};e.items.push(n),e.privacyUrl=t.privacyUrl,e.isBackfill=!1}else if(b&&b.items&&b.items.length>0){var A;b.items.forEach(t=>{var n,i,r,a,c;const u={title:t.title,adSelectionReason:t.adSelectionReason,adSelectionCriteria:t.adSelectionCriteria,description:t.description,destinationUrl:t.url,providerName:t.sourceName,adChoiceIconUrl:t.adChoicesUrl,imageUrl:t.imageUrl,imageHeight:t.imageHeight,imageWidth:t.imageWidth,images:t.images,clickBeacons:t.clickBeacons,uniqueId:t.uniqueId,beaconsJson:t.beaconsJson,feedbackUrl:(0,k.xE)(t.clickBeacons??(null==t?void 0:t.ClickBeacons),null==t?void 0:t.feedback_url),originalImageWidth:t.originalImageWidth,originalImageHeight:t.originalImageHeight,verificationParameters:t.verificationParameters,ext:t.ext,adScenarioType:t.adScenarioType,cashback:t.cashback,noAdLabel:t.noAdLabel,eventtrackers:null==t?void 0:t.eventtrackers},l=null==b||null===(n=b.msft)||void 0===n?void 0:n.msn_kv,d=(0,yt.E)(l);if(null!==(i=this.adServiceConfig)&&void 0!==i&&i.readAdScenarioTypeFromMsnKv){const t=!!u.adScenarioType,e=!(null==d||!d.adScenarioType);if(t&&!e&&(0,o.vV)(s.QQG,"adScenarioType is missing in msn_kv","",{adScenarioType:u.adScenarioType,samPlacement:JSON.stringify(b),csr:(0,p.S)()}),d){const t=d.adScenarioType;t&&(u.adScenarioType=t)}}null!=d&&d.dts&&(u.dts=d.dts),St.updateAssetVideoField(u,t.assets),(0,k.pg)(u,t.assets,null===(r=this.adServiceConfig)||void 0===r?void 0:r.passVAXandrMigrationSignals);const f=(0,C.ul)(t.adSelectionCriteria,t.adSelectionReason);var h;(f&&(u.advertiserDomain=f),null!==(a=this.adTemplateConfig)&&void 0!==a&&a.enableVAPhase2&&null!==(c=this.adTemplateConfig)&&void 0!==c&&null!==(c=c.supportedAdScenarioTypes)&&void 0!==c&&c.includes(t.adScenarioType))&&(v.YT.addOrUpdateTmplProperty("va_v2_response","1"),(0,gt.JX)(u,t.assets,null===(h=this.adServiceConfig)||void 0===h?void 0:h.passVAXandrMigrationSignals));this.shouldUseXandr&&(u.feedbackUrl=b.feedbackUrl),e.items.push(u)});const t=(0,pt.cG)(e,0);e.videoViewabilityData=t?t.ViewabilityProps:null,e.privacyUrl=b.privacyUrl,e.adServedUrls=b.adServedUrls,e.jsTrackerUrls=b.jsTrackerUrls,e.visibilityUrls=b.visibilityUrls,e.beaconsJson=b.beaconsJson,e.bingTrackerUrls=b.bingTrackerUrls,e.beaconsSupportHttpPOST=b.beaconsSupportHttpPOST,e.geminiViewabilityDataJson=b.geminiViewabilityDataJson,e.providerId=b.providerId,e.crids=b.crids,null!==x.Rb&&void 0!==x.Rb&&null!==(A=x.Rb.CurrentFlightSet)&&void 0!==A&&A.has("prg-ad-rmauctype")||(e.adAuctionType=b.adAuctionType),this.updateDTSTemplates(e,b);const i=(0,f.tZ)(x.Rb.IsPrerender&&!n);n?((0,a.tD)("TTNativeAd.Background.Serve",i),(0,wt.GP)().then(()=>{const t=(0,u.ZF)().TTPR;t?(0,a.tD)("TTNativeAd.Serve",t):(0,o.vV)(s.aNS,"Could not find TTPR to set TimeToServeAd","",{shouldSampleErrorsForTreatement1:!0})})):(0,a.tD)("TTNativeAd.Serve",i)}else if(c)this.handleCmsStandyPlacement(e);else{var I;const t=this.backfillIndex++%i.length,n=i[t],r={title:n.title,destinationUrl:n.url,imageUrl:this.updateImageUrl(e,n.imageUrl),providerName:n.provider?n.provider.name:""};e.items.push(r),e.privacyUrl=n.privacyUrl,e.isBackfill=!0,null!==x.Rb&&void 0!==x.Rb&&null!==(I=x.Rb.CurrentFlightSet)&&void 0!==I&&I.has("prg-ad-rmauctype")||(e.adAuctionType=d.T.cmsAd)}this.updateTemplate(e)}),t}handleCmsStandyPlacement(t){if(this.cmsItems){const n=this.cmsItems;for(const i of this.callbackFnPlacementList){const r=n[this.backfillIndex++%n.length];if(r){var e;const n={title:r.title,destinationUrl:r.url,imageUrl:this.updateImageUrl(t,r.imageUrl),providerName:r.provider?r.provider.name:""};i.items.push(n),i.privacyUrl=r.privacyUrl,i.isBackfill=!0,null!==x.Rb&&void 0!==x.Rb&&null!==(e=x.Rb.CurrentFlightSet)&&void 0!==e&&e.has("prg-ad-rmauctype")||(i.adAuctionType=d.T.cmsAd),this.updateTemplate(i)}}this.callbackList.forEach(t=>{t(this)}),this.callbackList=[],this.callbackFnPlacementList=[]}else t&&this.callbackFnPlacementList.push(t)}loadCmsBackFillList(){var t;let e=this.locale?this.locale:x.Rb.Locale;"ru-xl"===e&&(e="en-xl");const n=l.F3[e];if(n&&!this.cmsItems&&this.cmsService.getCMSList(n,e).then(t=>{t?(this.cmsItems=t.items,this.handleCmsStandyPlacement()):++this.cmsRetryCount<10&&this.loadCmsBackFillList()}),null!==(t=this.adServiceConfig)&&void 0!==t&&t.enableBuyDirectAd){const t=this.locale?this.locale:x.Rb.Locale;let e="AA13DgW5";"zh-cn"==t&&(e="BB1m89wA"),this.cmsService.getCMSList(e,t).then(t=>{t&&(this.buyDirectItems=t.items)})}}async tryGetCmsList(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.locale?this.locale:x.Rb.Locale;"ru-xl"===e&&(e="en-xl");const n=l.F3[e];if(!n||!e)return;const i=await this.cmsService.getCMSList(n,e);return i||(t<5?await this.tryGetCmsList(++t):void 0)}mapSAMPlacements(t){const e=new Map;return t&&t.placements&&t.placements.forEach(t=>{t.region&&t.index&&e.set(t.region+t.index,t)}),e}buildAdResponse(t){var e,n;const i=[];t.placements.forEach(t=>{t.region&&t.indices&&t.indices.length&&t.indices.forEach(e=>{const n={region:t.region,regionIndex:e,imageHeight:t.img&&t.img.h&&t.img.h.toString(),imageWidth:t.img&&t.img.w&&t.img.w.toString(),items:[]};i.push(n)})});const r=g.T3.LocaleDisplayLanguageString;return{placements:i,adLabelText:(0,k.D4)(r,null===(e=this.adServiceConfig)||void 0===e?void 0:e.overrideAdLabelText,null===(n=this.adServiceConfig)||void 0===n?void 0:n.enableAdSponsoredText),isGreyAdsLabelEnabled:l.J8.includes(t.locale),shouldUseWindowVisibilityTrackingForXandr:Boolean(t.shouldUseWindowVisibilityTrackingForXandr),privacyUrl:l.QR.PrivacyUrl}}async loadBuyDirectAd(){const t=this.locale?this.locale:x.Rb.Locale;if(!this.buyDirectItems){let e="AA13DgW5";"zh-cn"==t&&(e="BB1m89wA");const n=await this.cmsService.getCMSList(e,t);n&&(this.buyDirectItems=n.items)}}updateImageUrl(t,e){return t&&t.imageWidth&&t.imageHeight&&e?e.replace("w=624","w="+t.imageWidth).replace("h=350","h="+t.imageHeight):e}static updateAssetVideoField(t,e){e&&e.length>0&&e.forEach(e=>{const n=(0,$.A)(e,"video.vasttag");n&&(t.video=n)})}getAdTagStyleByLocale(t){var e,n;const i=g.T3.LocaleDisplayLanguageString;let r=t??x.Rb.Locale;return"ru-xl"===r&&(r="en-xl"),{adLabelText:(0,k.D4)(i,null===(e=this.adServiceConfig)||void 0===e?void 0:e.overrideAdLabelText,null===(n=this.adServiceConfig)||void 0===n?void 0:n.enableAdSponsoredText),isGreyAdsLabelEnabled:l.J8.includes(r)}}}(0,r.Cg)([(0,mt.sx)(s.WQp,"fetchNativeAds")],St.prototype,"fetchNativeAds",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"updateAdResponse")],St.prototype,"updateAdResponse",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"updateTemplate")],St.prototype,"updateTemplate",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"fetchSamAds")],St.prototype,"fetchSamAds",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"fetchCmsAds")],St.prototype,"fetchCmsAds",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"updateSamAdResponse")],St.prototype,"updateSamAdResponse",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"handleCmsStandyPlacement")],St.prototype,"handleCmsStandyPlacement",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"loadCmsBackFillList")],St.prototype,"loadCmsBackFillList",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"tryGetCmsList")],St.prototype,"tryGetCmsList",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"mapSAMPlacements")],St.prototype,"mapSAMPlacements",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"buildAdResponse")],St.prototype,"buildAdResponse",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"updateImageUrl")],St.prototype,"updateImageUrl",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"getAdTagStyleByLocale")],St.prototype,"getAdTagStyleByLocale",null),(0,r.Cg)([(0,mt.sx)(s.WQp,"updateAssetVideoField")],St,"updateAssetVideoField",null);const xt=(0,mt.sx)(s._0l,"getNativeAdService")((t,e)=>{const n=m.vv.get("__NativeAdServiceInstance__",()=>new St(t||{},e));return n.resetNativeAdService(),n})},8597:function(t,e,n){n.d(e,{Mq:function(){return r},os:function(){return i}});const i="at-bing",r="authconstants-peregrine"},8646:function(t,e,n){n.d(e,{f:function(){return i}});class i{constructor(){this._eventListeners=new Set}addEventListener(t){this._eventListeners.add(t)}removeEventListener(t){this._eventListeners.delete(t)}dispatchEvent(t){this._eventListeners.forEach(e=>this.dispatchDecorator?e(this.dispatchDecorator(t)):e(t))}}},8701:function(t,e,n){var i;n.d(e,{T:function(){return i}}),function(t){t.clientAuctionAd="clientAuctionAd",t.oneServiceAd="oneServiceAd",t.cmsAd="cmsAd"}(i||(i={}))},9120:function(t,e){e.A=function(t){if(t){const r=/{([\d]+)}/g,o=[];let s=r.exec(t),a=0,c=0;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(;null!==s;)c=s.index,o.push(t.substring(a,c)),o.push(n[s[1]]),a=r.lastIndex,s=r.exec(t);return o.push(t.substring(a)),o}}},9192:function(t,e,n){n.d(e,{YK:function(){return s},cE:function(){return a},tZ:function(){return c}});var i=n(30817),r=n(89151),o=n(53685);function s(t,e){const n=performance.now(),i=e&&e.firstTimeOnly;e&&e.logStart&&a(`${t}-start`,n,i);const r=e&&e.perfTimeline,o=r&&r.startMeasure(t).endMeasure;return function(){const r=performance.now();e&&e.logEnd&&a(`${t}-end`,r,i),e&&!e.logDuration||a(t,r-n,i),o&&o()}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:performance.now(),n=arguments.length>2?arguments[2]:void 0;const r=(0,i.ZF)();return n&&void 0!==r[t]?r[t]:(r[t]=Math.round(10*e)/10,e)}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:performance.now();const n=t&&(0,r.W4)(o.xF)||0;return e+(n>0?-n:0)}},9209:function(t,e,n){function i(){var t,e;return(null===(t=window)||void 0===t||null===(t=t.__SSRUserConfigEarlyLog)||void 0===t?void 0:t.consistentMuid)||(null===(e=window)||void 0===e?void 0:e.__muid)||""}n.d(e,{Ib:function(){return i}})},9612:function(t,e,n){var i;n.d(e,{M:function(){return w}}),function(t){t.weatherMobileCache="weatherMobileCache",t.telemetrySync="telemetrySync",t.raceEnabled="raceEnabled",t.enableOfficeRoutes="enableOfficeRoutes",t.riverAgeMinutes="riverAgeMinutes",t.enableNetworkFirst="enableNetworkFirst",t.navAgeMinutes="navAgeMinutes",t.enableNavPreload="enableNavPreload",t.enableEmptySectionRoute="enableEmptySectionRoute",t.networkTimeoutSeconds="networkTimeoutSeconds",t.bgTaskNetworkTimeoutSeconds="bgTaskNetworkTimeoutSeconds",t.enableCacheMissDiagnostics="enableCacheMissDiagnostics",t.enableFallbackVerticalsFeed="enableFallbackVerticalsFeed",t.enableExternalCssPrecache="enableExternalCssPrecache",t.enableEnterprisePrecache="enableEnterprisePrecache",t.useWebLayoutEndPoint="useWebLayoutEndPoint",t.noCacheLayoutTemplates="noCacheLayoutTemplates",t.cacheForceDisableContent="cacheForceDisableContent",t.cacheSSRAllResponse="cacheSSRAllResponse",t.cacheSSRBasePageResponse="cacheSSRBasePageResponse",t.enableSSRExtentionCache="enableSSRExtentionCache",t.enableFinanceRoutes="enableFinanceRoutes",t.enableTopicPublisherRoutes="enableTopicPublisherRoutes",t.enableStaticRouting="enableStaticRouting",t.enableStaticNavRouting="enableStaticNavRouting",t.enableStaticAdsRouting="enableStaticAdsRouting",t.commonHash="commonHash",t.vendorsHash="vendorsHash",t.experienceHash="experienceHash",t.microsoftHash="microsoftHash",t.enableCoreBundlePrecache="enableCoreBundlePrecache",t.ssrBasePageNavAgeMinutes="ssrBasePageNavAgeMinutes",t.enableWidgetsRegion="enableWidgetsRegion",t.disableDefaultNavigationRoute="disableDefaultNavigationRoute",t.disableRiverNetworkFirst="disableRiverNetworkFirst",t.enableLogNavFetchTime="enableLogNavFetchTime",t.enableNTPStaticRoutes="enableNTPStaticRoutes",t.enableRubyNTPStaticRoutes="enableRubyNTPStaticRoutes",t.enableRiverPostRoute="enableRiverPostRoute"}(i||(i={}));const r=["enableNetworkFirst","enableEmptySectionRoute","enableNavPreload","enableFallbackVerticalsFeed","enableExternalCssPrecache","enableEnterprisePrecache","useWebLayoutEndPoint","noCacheLayoutTemplates","cacheSSRAllResponse","cacheSSRBasePageResponse","cacheForceDisableContent","enableSSRExtentionCache","enableFinanceRoutes","enableTopicPublisherRoutes","enableCacheMissDiagnostics","enableStaticRouting","enableStaticNavRouting","enableStaticAdsRouting","enableCoreBundlePrecache","enableWidgetsRegion","disableDefaultNavigationRoute","enableLogNavFetchTime","disableRiverNetworkFirst","enableNTPStaticRoutes","enableRubyNTPStaticRoutes","enableRiverPostRoute"];var o=n(93468),s=n(65022),a=n(55593),c=n(12870),u=n(59545);function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,p=arguments.length>6?arguments[6]:void 0;if(!t)return void(0,o.vV)(s.QHO,"No scriptUrl provided");if(!("serviceWorker"in navigator))return void(0,o.vV)(s.QHO,"Service Worker is not in navigator.");const m=function(t,e){const n=new URLSearchParams;return function(t,e){const n=(0,a.a)().getAll("item").find(t=>t&&0===t.indexOf("spalink:"));if(n)return t.set("item",n.replace("/mobile","")),void d(t);!function(t,e){const n=c.Rb.ClientSettings&&c.Rb.ClientSettings.bundleInfo;d(t);const i=(0,a.a)().get("bundles");if(i)return void t.set("bundles",i);if(e.bundlesOverride)return void t.set("bundles",e.bundlesOverride);null!=n&&n.alias&&t.set("bundles",n.alias)}(t,e)}(n,t),function(t){var e;"enterprise"===(null===c.Rb||void 0===c.Rb||null===(e=c.Rb.ClientSettings)||void 0===e?void 0:e.audienceMode)&&t.set("enableOfficeRoutes","true")}(n),function(t,e){isNaN(e.riverAgeMinutes)||t.set("riverAgeMinutes",e.riverAgeMinutes.toString())}(n,t),function(t,e){isNaN(e.navAgeMinutes)||t.set("navAgeMinutes",e.navAgeMinutes.toString())}(n,t),function(t,e){isNaN(e.networkTimeoutSeconds)||t.set("networkTimeoutSeconds",e.networkTimeoutSeconds.toString())}(n,t),function(t,e){isNaN(e.bgTaskNetworkTimeoutSeconds)||t.set("bgTaskNetworkTimeoutSeconds",e.bgTaskNetworkTimeoutSeconds.toString())}(n,t),function(t,e){isNaN(e.ssrBasePageNavAgeMinutes)||t.set("ssrBasePageNavAgeMinutes",e.ssrBasePageNavAgeMinutes.toString())}(n,t),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.forEach(n=>{(e[n]||(0,a.a)().get(n))&&t.set(n,"true")})}(n,t,r),e?function(t,e){return`${t.toString()}&${e.toString()}`}(n,e):n.toString()}(i,p);if(m&&(t=t+(t.indexOf("?")>-1?"&":"?")+decodeURIComponent(m)),f){const e=(t=f(t,"serviceWorkerUrlPolicy"))&&t.toString();if(!e||"about:blank#error"===e)return void(0,o.vV)(s.QHO,"Service Worker script Url is not trusted type compliant")}n?h(t,e,l):(0,u.Qc)().then(()=>{h(t,e,l)})}function d(t){const e=c.Rb.ClientSettings&&c.Rb.ClientSettings.bundleInfo;null!=e&&e.variant&&t.set("bundlevariant",e.variant)}async function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";try{if(!navigator||!navigator.serviceWorker||!navigator.serviceWorker.getRegistration)throw new Error("Service worker is not available in this session");const e=await navigator.serviceWorker.getRegistration(t);if(!e)return;await e.unregister()||(0,o.vV)(s.nGT,"ServiceWorker unregistration failed.")}catch(t){(0,o.c_)(t,s.nGT,"Failed to unregister ServiceWorker:"+t.message)}}async function h(t,e,n){try{if(!navigator||!navigator.serviceWorker||!navigator.serviceWorker.register)throw new Error("Service worker is not available in this session");await navigator.serviceWorker.register(t,{scope:e}),n&&n()}catch(t){(0,o.c_)(t,s.QHO,"ServiceWorker registration failed.")}}var p=n(89980),m=n(19548),g=n(27261),v=n(75575);function w(t,e,n,i,r,o,s){if(!e||"true"!==e.enabled)return;const a=c.Rb.ClientSettings.deviceFormFactor;if("false"===e.mobileEnabled&&("phone"===a||"tablet"===a))return;if(!function(t){const e=c.Rb.ClientSettings.browser;if(!e&&"false"===t.mobileEnabled)return!1;const n=t.unsupportedBrowsers;if(!n||!n.length)return!0;if(n.findIndex(t=>t.toLowerCase()===e.browserType.toLowerCase())>-1)return!1;return!0}(e))return;if(!(0,p.Lg)().supported)return;const u=e.isLowEndDevice&&e.disableOnLowEndDevices;if("true"===e.registrationEnabled&&!u){const a=function(){const t=(0,g.iA)(),e=m._3.getQueryParameterByName("swimmediateregistration",t);if(e)return"true"===e.toLocaleLowerCase();return!1}();i=i||a,v.S.setIsServiceWorkerEnabled(!0),l(t,n,i,e,r,o,s)}("true"===e.unregistrationEnabled||u)&&(!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(!t||!("serviceWorker"in navigator))return null;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||"complete"===document.readyState?f(t):window.addEventListener("load",()=>{f(t)},{once:!0})}(n),v.S.setIsServiceWorkerEnabled(!1))}},9774:function(t,e,n){var i;n.d(e,{j:function(){return i}}),function(t){t.Essential="ES",t.Advertising="AD",t.SocialMedia="SM",t.ThirdPartyAnalytics="AL"}(i||(i={}))},10117:function(t,e,n){n.d(e,{V_:function(){return E}});var i=n(65022),r=n(30817),o=n(93468),s=n(48309),a=n(34299),c=n(17720),u=n(77246),l=n(16091),d=n(38467),f=n(89980),h=n(17254),p=n(12870),m=n(54761),g=n(41820),v=n(98793),w=n(48172),y=n(28006),b=n(7965),S=n(98216),x=n(62586),C=n(35849),k=n(50115);const T=async t=>{const e={...await(0,k.KD)(),wgt:t};return await(0,k.nX)(e)};var $=n(45083);const A="Wpo.Treatments.StoreInit",I="Wpo.Treatments.Parsed",P="Wpo.Treatments.Stored",_="ssr-feed-data",M=Symbol();class R{constructor(){this.wpoOptimizationsReady=new Promise(t=>this.wpoOptimizationsResolver=t),this.wpoFeedDataCache=new d.E("WpoFeedDataCache"),this.enableEarlyMainFeedRequest=!1,this.savedPartResponses={feed:null,widgets:null,hero:null}}static getInstance(){return c.vv.get("__WpoServiceClient__",()=>new R)}onWPOFeedReady(t){this.wpoFeedDataCache.subscribe(_,t)}setSSRInitialFeedResponse(t){this.wpoFeedDataCache.set(_,t)}setSSRFirstSectionAdRequest(t){this.wpoFeedDataCache.set(M,t)}getSSRFirstSectionAdRequest(){return this.wpoFeedDataCache.get(M)}saveSSRPartResponse(t,e){var n,i,r;this.savedPartResponses[e]=t;const o=(null===(n=this.savedPartResponses.widgets)||void 0===n?void 0:n.sections)??(null===(i=this.savedPartResponses.hero)||void 0===i?void 0:i.sections)??[],s=(null===(r=this.savedPartResponses.feed)||void 0===r?void 0:r.sections)??[],a={...this.savedPartResponses.feed??this.savedPartResponses.widgets??this.savedPartResponses.hero,sections:[...o,...s]};this.setSSRInitialFeedResponse(a)}resetFeedDataCache(){this.wpoFeedDataCache.clear()}addWpoOptimizationDataToLocalStorage(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],k=arguments.length>7?arguments[7]:void 0,_=arguments.length>8?arguments[8]:void 0;const M=(0,x.$)(e,n);if(this.optimizationDataReceived)return;if(setTimeout(()=>{window.dispatchEvent(new CustomEvent("wpoOptimizationAdded"))},0),!t||!t.optimizationItems)return S.YT.addOrUpdateTmplProperty("nopct","1"),void(l&&"wpo"===l.source&&this.removeWPOUserChoiceFromPSL());if(!t.optimizationItems.length)return this.logAppError(i.qcK,"WPO Optimization data is empty in feed response ",`isFocusedMode:${o}`),(0,f.Lg)().removeItem(M),void(l&&"wpo"===l.source&&this.removeWPOUserChoiceFromPSL());const R=(0,r.ZF)();R[A]=Math.round(performance.now());try{var E,F,D;const e=this.parseOptimizationItems(t.optimizationItems),n={treatments:e};R[I]=Math.round(performance.now()),(0,f.Lg)().setObject(M,n);const i=e.filter(t=>(null==t?void 0:t.type)===m.Ar.eventGleam);S.YT.addOrUpdateTmplProperty("recEvt",null!=i&&i.length?"1":"0"),R[P]=Math.round(performance.now()),this.optimizationDataReceived=!0;const r=e.filter(t=>{var e;return((null==t?void 0:t.type)===m.Ar.topSites||(null==t?void 0:t.type)===m.Ar.topsitesCollapse)&&(null==t||null===(e=t.properties)||void 0===e?void 0:e.topSitesCollapsibleControlConfig)});var O;if(window.isSSREnabled&&null==l&&window.chrome.ntpSettingsPrivate.getPref(b.JW.layout,t=>{var e,n;const i=null===(e=r[0])||void 0===e||null===(e=e.properties)||void 0===e||null===(e=e.topSitesCollapsibleControlConfig)||void 0===e?void 0:e.collapsibleControlIsDefaultCollapsed,o=null===(n=r[0])||void 0===n||null===(n=n.properties)||void 0===n||null===(n=n.topSitesCollapsibleControlConfig)||void 0===n?void 0:n.collapseForDefaultInformational,s=void 0===o||o&&2===(null==t?void 0:t.value);if(null!=r&&r.length&&i&&s){const t={setting:g.K5.tscollapsed,source:"wpo",timestamp:(new Date).getTime(),value:g.Wl.WPO_BEFORE_CLOSE};v.Q.savePreferenceSetting(g.K5.tscollapsed,t),S.YT.addOrUpdateTmplProperty(g.K5.tscollapsed,`${t.value}|${t.source}|${t.timestamp}`)}}),"wpo"===(null==l?void 0:l.source)&&0==(null==r?void 0:r.length)&&this.removeWPOUserChoiceFromPSL(),window.isSSREnabled&&(null==l?void 0:l.value)===g.Wl.WPO_CLOSED)if(null!=r&&null!==(O=r[0])&&void 0!==O&&null!==(O=O.properties)&&void 0!==O&&null!==(O=O.topSitesCollapsibleControlConfig)&&void 0!==O&&O.expandForAllLayout){const t={setting:g.K5.tscollapsed,source:"addWpoOptimizationDataToLocalStorage",timestamp:(new Date).getTime(),value:g.Wl.WPO_BEFORE_OPEN};v.Q.savePreferenceSetting(g.K5.tscollapsed,t),S.YT.addOrUpdateTmplProperty(g.K5.tscollapsed,`${t.value}|${t.source}|${t.timestamp}`),window.addEventListener("beforeunload",()=>{(0,C.zP)(y.h$).onlyUpdateQuickLinksDisplaySetting(1)},{once:!0})}if(c){var N;const t=e.filter(t=>{var e;return(null==t?void 0:t.type)===m.Ar.layoutPromotion&&"PageContentLayout"===(null==t||null===(e=t.properties)||void 0===e?void 0:e.layoutType)});if(null!=t&&t.length&&null!==(N=t[0])&&void 0!==N&&N.properties){if(S.YT.addOrUpdateTmplProperty("layoutpromoreceived",t[0].properties.knobIdx??"0"),t[0].properties.coachMarkId==s.EM){const t=(0,C.zP)(y.h$);a.U.updateWPOLayoutPromotion.getActionSender(t).send(!0,"demotion"),S.YT.addOrUpdateTmplProperty("lydemotionCM","1")}if(t[0].properties.coachMarkId!==s.EM)if(k){(0,C.zP)(y.h$).saveLayoutPromotionData(t)}else{var U;w.f.savePreferenceSetting(g.bJ.layoutPromotion,{...t[0].properties,clientReceivedTimestamp:(new Date).getTime(),usermuidWhenReceived:h.T3.UserId??"",requestIdWhenReceived:(null===S.YT||void 0===S.YT||null===(U=S.YT.getRequestId)||void 0===U?void 0:U.call(S.YT))??"",isPrerenderWhenReceived:(null===p.Rb||void 0===p.Rb?void 0:p.Rb.IsPrerender)??!1})}}else w.f.savePreferenceSetting(g.bJ.layoutPromotion,null)}const o=e.filter(t=>(null==t?void 0:t.type)===m.Ar.widget);var L,B;if(null!=o&&o.length&&null!==(E=o[0])&&void 0!==E&&E.properties)if(S.YT.addOrUpdateTmplProperty("widgetPromotionReceived",null===(L=o[0])||void 0===L||null===(L=L.properties)||void 0===L?void 0:L.showWidgets),d)T(null===(B=o[0])||void 0===B||null===(B=B.properties)||void 0===B?void 0:B.showWidgets);let x=0;try{var W;const t=(null===p.Rb||void 0===p.Rb||null===(W=p.Rb.ClientSettings)||void 0===W||null===(W=W.browser)||void 0===W?void 0:W.version)||"",e=parseInt(t,10);x=isNaN(e)?0:e}catch(t){x=0}let A;const q=x>=140;if(q){var H,V;const t=e.filter(t=>(null==t?void 0:t.type)===m.Ar.edgeSignal);t&&t.length&&null!==(H=t[0])&&void 0!==H&&H.properties&&null!==(V=t[0])&&void 0!==V&&null!==(V=V.properties)&&void 0!==V&&V.nrtntpEngagementMostRecentTimestamp&&(A=t[0].properties.nrtntpEngagementMostRecentTimestamp)}const G=e.filter(t=>(null==t?void 0:t.type)===m.Ar.wpoSignal),J=(null==G?void 0:G.length)&&(null===(F=G[0])||void 0===F||null===(F=F.properties)||void 0===F?void 0:F.feedsEngagement);var z;if(J)S.YT.addOrUpdateTmplProperty(null===(z=G[0])||void 0===z||null===(z=z.properties)||void 0===z||null===(z=z.feedsEngagement)||void 0===z?void 0:z.tmpl);if(_&&((0,u.S)()||!window.isSSREnabled)&&null!==(D=window)&&void 0!==D&&null!==(D=D.chrome)&&void 0!==D&&null!==(D=D.ntpSettingsPrivate)&&void 0!==D&&D.recordFeedEngagement){var j;const t=J?(null===(j=G[0])||void 0===j||null===(j=j.properties)||void 0===j||null===(j=j.feedsEngagement)||void 0===j?void 0:j.withEngagement30d)??!1:null;null===t&&A&&S.YT.addOrUpdateTmplProperty("nowposig-engage-time",A.toString()),null!==t&&(0,$.GP)().then(()=>{q?window.chrome.ntpSettingsPrivate.recordFeedEngagement(t,A):window.chrome.ntpSettingsPrivate.recordFeedEngagement(t)})}}catch(e){const n=`Failed to store wpo response to LS.Error:${e}`,r=`WpoServiceResponse: ${JSON.stringify(t)}. key: ${M}`;this.logAppError(i.DdZ,n,r)}}storeEarlyWpoFeedData(t){this.wpoFeedDataCache.set("feed-ready",t)}getEarlyWpoFeedData(t){return new Promise(e=>{let n;const r=t=>{n&&clearTimeout(n),this.wpoFeedDataCache.unsubscribe("feed-ready",r),this.wpoFeedDataCache.delete("feed-ready"),e(t)};t&&(n=setTimeout(()=>{this.wpoFeedDataCache.unsubscribe("feed-ready",r),this.wpoFeedDataCache.delete("feed-ready");const n=`Getting early main feed timeout in ${t}ms`;this.logAppError(i.b5B,n),e(void 0)},t)),this.wpoFeedDataCache.subscribe("feed-ready",r)})}storeWpoOptimizationData(t){if(t)if(this.wpoOptimizations&&this.wpoOptimizations.length>0)this.wpoOptimizationsResolver();else{try{this.wpoOptimizations=this.parseOptimizationItems(t.pageContext&&t.pageContext.optimizationItems)}catch(e){const n=`Failed to store wpo response to Memory.Error:${e}`,r=`WpoServiceResponse: ${JSON.stringify(t)}.`;this.logAppError(i.KVr,n,r)}this.wpoOptimizationsResolver()}}getWpoOptimizationData(t){if(t){let e;const n=new Promise(n=>{e=setTimeout(()=>{S.YT.addOrUpdateTmplProperty("wpoPromoTimeout",t.toString()),n()},t)});return Promise.race([n,this.wpoOptimizationsReady]).then(()=>(clearTimeout(e),this.wpoOptimizations))}return this.wpoOptimizationsReady.then(()=>this.wpoOptimizations)}tryToGetWpoOptimizationData(){return this.wpoOptimizations}logAppError(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";S.YT.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:n}})}parseOptimizationItems(t){if(!t||!t.length)return[];return t.map((t,e)=>{if(t.type&&t.type.trim().length)if(Object.values(m.Ar).includes(t.type)||this.logAppError(i.Yhr,`Unknown Type in WPO optimization items. Type: ${t.type}, Index: ${e}`),t.data){if(t.type&&t.data){let n;try{if(n=JSON.parse(t.data),"number"!=typeof n&&!Object.entries(n).length)return void this.logAppError(i.wzS,`Parsed WPO Optimization item but it is empty. Type: ${t.type}, Index: ${e}`)}catch(n){return void(0,o.c_)(n,i.q_v,`${n}. Type: ${t.type}, Index: ${e}`)}if(n)return{type:t.type,properties:n}}}else this.logAppError(i.vLE,`Unable to find data in WPO optimization item. Type: ${t.type}, Index: ${e}`);else this.logAppError(i._$C,`Type not found in WPO optimization items. Index: ${e}`)}).filter(Boolean)}isOptimizationDataReceived(){return this.optimizationDataReceived}removeWPOUserChoiceFromPSL(){v.Q.deleteKeyValueFromPSL(g.K5.tscollapsed)}}const E=(0,l.G)(R)},10160:function(t,e,n){n.d(e,{AF:function(){return r},JV:function(){return i},V3:function(){return o},W:function(){return s},xP:function(){return a}});const i="peregrine-widgetgroup",r="peregrine-widgets",o="peregrine-widget-settings",s="expected-widget-cards",a="widgets-cards-args"},10268:function(t,e,n){n.d(e,{u:function(){return o}});var i=n(93005);class r{constructor(t,e){this.namespace=t,this.config=e,this.store=null,this.parentNamespace=null,this.reducer=null,this.isGlobal=!1,this.requestContext=null,this.onApplicationStart=()=>{},this.configHref=null,this.fullNamespace=t,i.V.getInstance().rootReducer.addConnectorToCollection(this)}getCurrentState(){throw new Error("Not implemented")}}r.isWCConnector=!0;class o extends r{getCurrentState(){return null}}},10307:function(t,e,n){var i;n.d(e,{P:function(){return i}}),function(t){t.small="OneByOne",t.medium="OneByTwo",t.large="OneByThree"}(i||(i={}))},10615:function(t,e,n){n.d(e,{X:function(){return i}});const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e="/";const n=window.location.pathname.split("/");if(n.length>t&&n[t]){e+=n[1];for(let i=2;i<=t;i++)e+="/"+n[i]}return e}},10740:function(t,e,n){n.d(e,{$:function(){return m}});var i=n(24035),r=n(79742),o=n(90831),s=n(45494),a=n(59239),c=n(2462),u=n(17254),l=n(32527);let d;class f{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.defaultColumSize=300,this.update=()=>{const t=this.identifyBreakpoint(window.innerWidth);this.breakpoint.column!==t.column&&(this.breakpoint=t,i.X.set(i.t.ColumnArrangement,t.column)),this.openRequestAnimationFrame=!1},this.requestFrame=()=>{this.openRequestAnimationFrame||(this.openRequestAnimationFrame=!0,window.requestAnimationFrame(this.update))},this.options.gutterSize=this.options.gutterSize||12,this.options.breakpointOverrides=this.options.breakpointOverrides||new Map,this.options.enableFiveColumnLayout=this.options.enableFiveColumnLayout||!1,this.setBreakpoints(),this.breakpoint=this.identifyBreakpoint(window.innerWidth),i.X.set(i.t.ColumnArrangement,this.breakpoint.column),window.addEventListener("resize",this.requestFrame)}get currentColumnArrangement(){return this.breakpoint.column}setBreakpoints(){this.breakpoints=[this.getBreakpoint(l.j1.c1),this.getBreakpoint(l.j1.c2,2),this.getBreakpoint(l.j1.c3,3),this.getBreakpoint(l.j1.c4,4)],this.options.enableFiveColumnLayout&&this.breakpoints.push(this.getBreakpoint(l.j1.c5,5))}getBreakpoint(t,e){return{column:t,width:this.options.breakpointOverrides.get(t)||this.calculateBreakpointWidth(e)}}calculateBreakpointWidth(t){return!t||t<=0?0:this.defaultColumSize*t+this.options.gutterSize*(t-1)+32}identifyBreakpoint(t){for(let e=this.breakpoints.length-1;e>-1;e--){const n=this.breakpoints[e];if(t>=n.width)return n}}}const h=t=>(d||(d=new f(t)),d);let p=!1;function m(){if(p)return;const t=function(){const t=u.T3.AuthCookieName;if(!t)return 1;const e="app_anon"===t?"aace":"ace";return(0,c.Ri)(e)?2:1}(),e=(0,a.Cl)();i.X.set(i.t.IsSignedIn,t),i.X.set(i.t.CookieConsentStatus,e?r.z.Required:r.z.NotRequired),e&&window.addEventListener(o.M,g),(0,a.d1)()&&g(),h(),p=!0}function g(){const t=window.OnetrustActiveGroups;let e=[];t&&(e=t.trim().split(",").filter(t=>t&&t.trim()&&t in s.f).map(t=>s.f[t])||[]),e.length||e.push(s.f.C0001),i.X.set(i.t.OnetrustActiveCookieGroups,e)}},10841:function(t,e){e.A='<svg width="16" height="16" viewBox="0 0 12 7"><path d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 0 1-.78 0L.14 1.35a.5.5 0 1 1 .71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"/></svg>'},11141:function(t,e,n){n.d(e,{JO:function(){return o},M8:function(){return a},VJ:function(){return s}});var i=n(77246),r=n(27261);function o(t,e,n){return(t&&!0!==(null===globalThis||void 0===globalThis?void 0:globalThis.isSSREnabled)?n:e)+"/staticsb/statics/"}function s(t,e){return t||(e?"https://assets.msn.cn":"https://assets.msn.com")}function a(t){const e=t||(0,r.VQ)();return(0,i.S)()?e.includes("localhost.msn.com"):e.includes("localhost")}},11177:function(t,e,n){n.d(e,{Gd:function(){return f},YK:function(){return c},Zj:function(){return m},kB:function(){return p},rY:function(){return o},sx:function(){return s},t9:function(){return u},xF:function(){return d},zE:function(){return h},zN:function(){return a}});const i=1272,r=1596;let o=300,s=624,a=948,c=i,u=r,l=null,d=24,f=612,h=924,p=1236;function m(t,e){const n=[];for(let i=0;i<6;i++)n.push(o*(i+1)+t*i+2*(e||0));e&&(o=n[0]),s=n[1],a=n[2],c=n[3],u=n[4],l=n[5],d=t}},11367:function(t,e,n){n.d(e,{gR:function(){return tt}});var i,r=n(77246),o=n(17720),s=n(15003),a=n(12870),c=n(55593),u=n(17254),l=n(5419),d=n(2462),f=n(17703),h=n(29736),p=n(48622),m=n(93468),g=n(65022),v=n(1732),w=n(98216);!function(t){t[t.Unknown=1]="Unknown",t[t.OptIn=2]="OptIn",t[t.OptOut=3]="OptOut",t[t.ExplicitOptIn=4]="ExplicitOptIn"}(i||(i={}));class y{get isRuby(){return(0,h.ls)()}get isRubyEligible(){return!this._isLoggingOnly&&!!this._isRubyEligible}get isLoggingOnly(){return!!this._isLoggingOnly}get _isRubyInternal(){return!this._isLoggingOnly&&!!this._isRuby}get isUserOptedOut(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.userSelection)===i.OptOut}get isIn1SCohortForAB(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.cohortStatus)===h.GL.In1SCohortForAB}get isClassicToggleFlightEligible(){return this.isIn1SCohortForAB&&!(0,h.rk)()&&!(0,h.O_)()}constructor(){var t;this._isMsftInternal=(0,l.t)(),this.rsmDebugMarkers=new Set,this.getIsRubyEligible=()=>this.ensureInit().then(()=>this.isRubyEligible),this.update=t=>{this.ensureInit().then(()=>this.updateImpl(t))},this.updateImpl=t=>{if(!b()||this._isForcedOnWithoutCookie||(0,h.YS)())return;const e={...h.hJ,...this._rubyState,...this.rubyStateUpdateFrom1s,...this._rubyStateUpdateFromUntargetedFlight,...this._rubyStateUpdateFromShippedCases,...this._rubyStateUpdateFromRubyOptParam,...this.rubyStateUpdateFromUserSelection};this.setRubyStateCookie(e);const{isRuby:n,reason:i}=x(e,this.pageSettings,this.isEdgeExpIsolationFlagEnabled,this._isForcedOn,this.isEnvironmentSupported);this.setIsRubyCookie(n,e.cohortStatus,t,i),this.rsmDebugMarkers.add("up"),(0,h.BT)("RSM2",this.rsmDebugMarkers)},this.isIsRubyChangingByForceOrEnvironment=()=>this._isRuby&&!this.isEnvironmentSupported||!this._isRuby&&this._isForcedOn,this.setRubyStateCookie=t=>{let{userSelection:e,cohortStatus:n}=t;const i=`${e}${h.fQ}${n}`;this._rubyStateCookieValue!==i&&((0,h.Ug)({cookieValue:this._rubyStateCookieValue,newCookieValue:i}),this._rubyState.cohortStatus===h.GL.In1SCohortForAB&&n===h.GL.Out1SCohortForAB&&(0,m.vV)(g.S8B,"Server side signal indicates user is no longer in the Ruby cohort"),this._isLoggingOnly||(this._isRubyCookieValue=i,(0,d.Ub)(h.XO,i,h.ET)))},this.setIsRubyCookie=(t,e,n,i,r)=>{const o=String(t);if(this._isRubyEligible&&((0,h.Je)()&&e===h.GL.In1SCohortForAB||(0,h.Yx)()&&e===h.GL.In1SCohortForAA)?(0,h.cJ)(!0):(0,h.cJ)(t),this._isRubyCookieValue!==o){let e=!1;if(this._isRuby!==t&&((0,h.l4)(t),a.Rb.IsPrerender&&"visible"!==document.visibilityState||(0,s.TI)(14),t&&(0,h.v0)(),n&&(e=!0)),!this._isLoggingOnly||r){this._finalRubyCookieStatus=t;(0,h.T_)(o,h.ET)?(this._isRubyCookieValue=o,this.lastRubyCookieChangeReason=i,i&&(0,h.Mc)("rubyrc",String(i)),(0,h.Z_)(i)):(0,h.Mc)("rubyrc",String(15)),e&&(0,h.b6)("usel",void 0,300)}}o&&(0,h.Wf)(o)},this.onVisibilityChange=()=>{"visible"===document.visibilityState&&this.handleVariantEnablementMismatch()},this.handleVariantEnablementMismatch=()=>{var t;const e=null===(t=a.Rb.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant,n="ruby"===e;if(this._isRuby!==n){(0,m.vV)(g._uC,"Bundle variant mismatch error",`Got variant "${e}", but expected ${this._isRuby?"ruby":"classic (no variant)"}`,{rsm:"RSM2",url:location.href});null!=(0,c.a)().get("bv")||(0,h.b6)("var",2,300)}},this.refreshRubyStateUpdateFromShippedCases=t=>{var e;this._isRubyEligible&&T(this.pageSettings,this.isEdgeExpIsolationFlagEnabled,A(this._rubyState)).isRuby&&this._isMsftInternal&&h.W3.has(null===(e=t||u.T3.CurrentMarket)||void 0===e?void 0:e.toLocaleLowerCase())?this._rubyStateUpdateFromShippedCases={cohortStatus:h.GL.InMsftShipped,shouldReload:!this.isRuby}:this._rubyState.cohortStatus===h.GL.InMsftShipped?this._rubyStateUpdateFromShippedCases={shouldReload:this.isRuby}:this._rubyStateUpdateFromShippedCases=void 0},b()&&(this._isForcedOn=(0,h.Wu)("prg-rn-frc"),this._isForcedOnWithoutCookie="1"===(0,c.a)().get("fcruby")||(0,r.S)()&&"ruby"===(0,c.a)().get("bv"),this._isLoggingOnly=!this._isForcedOn&&!this._isForcedOnWithoutCookie&&(0,h.Yx)(),this.rsmDebugMarkers.add("c"),(0,h.BT)("RSM2",this.rsmDebugMarkers),(0,h.jI)(),(0,h.Kp)()&&(0,h.f_)(),(0,f.b)(),this._rubyStateCookieValue=(0,d.Ri)(h.XO),this._rubyState=(0,h.KH)(this._rubyStateCookieValue),this._isRubyCookieValue=(0,d.Ri)(h.Bv),this._isRuby="true"===this._isRubyCookieValue||this._isForcedOnWithoutCookie,this.isEnvironmentSupported=(0,h.eY)(void 0),this._isRubyEligible=!(!this._isRuby&&!this.isEnvironmentSupported),this._rubyStateUpdateFromRubyOptParam=(0,h.Bd)(),this.handleVariantEnablementMismatch(),null===(t=document)||void 0===t||t.addEventListener("visibilitychange",this.onVisibilityChange,{once:!0}),(0,h.HW)(this._isRubyCookieValue||""),this.ensureInit())}ensureInit(){return this.initCompletedPromise||(this.initCompletedPromise=this.init()),this.initCompletedPromise}async init(){var t;this.pageSettings=await(0,h.pE)();const e=(0,h.kG)(this.pageSettings);(0,h.Yl)(e),(0,h.vT)(e),this.isEdgeExpIsolationFlagEnabled=null===(t=await(0,v.hb)())||void 0===t?void 0:t.enabled.includes("msRubyFlightingAllowed"),this._rubyStateUpdateFromUntargetedFlight=S(this._rubyState,this.pageSettings),this.refreshRubyStateUpdateFromShippedCases(),this.setupPageSettingsListener();let n=!1;var i,r;this._isLoggingOnly?n=this._isRuby:n=!(!(null!==(i=this._rubyStateUpdateFromUntargetedFlight)&&void 0!==i&&i.shouldReload||null!==(r=this._rubyStateUpdateFromShippedCases)&&void 0!==r&&r.shouldReload||this._rubyStateUpdateFromRubyOptParam)&&this.isEnvironmentSupported);this.isIsRubyChangingByForceOrEnvironment()&&(n=!0),this.updateImpl(n),this._isLoggingOnly&&this._isRuby&&!this._isForcedOnWithoutCookie&&this.setIsRubyCookie(!1,this._rubyState.cohortStatus,!0,21,!0),window.addEventListener("beforeunload",()=>{const t={rsmDbg:Array.from(this.rsmDebugMarkers).join(",")};this.lastRubyCookieChangeReason&&this.isRuby&&!1===this._finalRubyCookieStatus&&(t.lastCookieChangeReason=this.lastRubyCookieChangeReason),w.YT.sendLoadTimeEvent({markers:t})},{once:!0})}setupPageSettingsListener(){if(!(0,h.Je)()&&!(0,h.rk)()&&!this._isMsftInternal)return;const t=this._rubyState.cohortStatus;(0,h.l3)(this.pageSettings,e=>{if(this.refreshRubyStateUpdateFromShippedCases(),(0,h.rk)()){const e=this.isRuby&&"off"===this.pageSettings.feedSetting&&t===h.GL.InUntargetedCohort;this.update(e)}else this.update(!1);this.isRuby&&"Theme"===e.backgroundImageProvider&&(0,h.sg)(this.pageSettings)&&a.Rb.IsPrerender&&"hidden"===document.visibilityState&&(0,s.TI)(14)})}updateUserSelection(t,e){const n=t?i.ExplicitOptIn:i.OptOut;this.isEnvironmentSupported&&!this._isLoggingOnly&&this._rubyState.userSelection!==n&&p.d.updateFeedPreference(t),this.rubyStateUpdateFromUserSelection={userSelection:n},this.update(!e)}async update1sCohort(t,e){var n,r,o;if(!(0,h.eY)()||!b()||!t)return;if(null!=t&&t.isStatic||null!=t&&t.swCacheEnabled||null!=t&&t.isPartial)return void this.rsmDebugMarkers.add("no1s");this.rsmDebugMarkers.add("1s");let s={};const a=(null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.rubyTargetedVersion)||null,c=null==t||null===(r=t.serviceContext)||void 0===r?void 0:r.rubyEverSelected,u=null==t||null===(o=t.serviceContext)||void 0===o?void 0:o.isTestRubyVersion;if(this.isEnvironmentSupported&&(0,h.Kp)()&&(0,h.Oi)(a,!!u),(0,h.Oi)(a,!!u,"rubyTargetedVersionExt"),(0,h.$y)(t),!k(this._rubyState)){var l;const t=null==e||null===(l=e.allowedRubyTargetedVersions)||void 0===l?void 0:l.split(","),n=((0,h._g)()||(0,h.aw)())&&!0===c||!(!a||!("all"===(null==t?void 0:t[0])||null!=t&&t.includes(a))),r=I(n);(0,h.Kp)()&&(0,h.L3)(this._rubyState.cohortStatus,r!==h.GL.In1SCohortForAB),s={cohortStatus:r},$(this._rubyState.cohortStatus).isRuby&&!$(s.cohortStatus).isRuby&&this._rubyState.userSelection===i.OptIn&&(s.userSelection=i.Unknown)}this.rubyStateUpdateFrom1s=s,this.update(this.isIsRubyChangingByForceOrEnvironment())}updateMarket(t,e){(0,h.p8)(t),this.isEnvironmentSupported=(0,h.eY)(t),this.refreshRubyStateUpdateFromShippedCases(t),this.update(!e&&!this._isLoggingOnly)}get isRejectedByEdgeExpIsolation(){return(0,h.go)(this.isEdgeExpIsolationFlagEnabled,this.isRuby)}static getInstance(){return o.vv.get(h.Yc,()=>new y)}}const b=()=>h.uF.has(u.T3.AppType),S=(t,e)=>(0,h.rk)()?{cohortStatus:h.GL.InUntargetedCohort,shouldReload:t.cohortStatus===h.GL.InUntargetedCohort&&"Theme"===e.backgroundImageProvider}:t.cohortStatus===h.GL.InUntargetedCohort?t.userSelection===i.OptIn?{userSelection:i.Unknown,cohortStatus:h.GL.Unknown}:{cohortStatus:h.GL.Unknown}:void 0,x=(t,e,n,r,o)=>{let{userSelection:s,cohortStatus:a}=t;if(r)return{isRuby:!0,reason:4};if(!o)return{isRuby:!1,reason:1};if(s===i.ExplicitOptIn)return{isRuby:!0,reason:5};if(s===i.OptIn)return{isRuby:!0,reason:6};const{isRuby:c,reason:u}=T(e,n,A({userSelection:s,cohortStatus:a}));return c?s===i.OptOut?{isRuby:!1,reason:10}:$(a):{isRuby:!1,reason:u}},C=t=>[h.GL.InDogfoodingCohort,h.GL.InAlphaDogfoodingCohort,h.GL.ExternalOptIn].includes(t),k=t=>t.userSelection!==i.OptOut&&C(t.cohortStatus),T=(t,e,n)=>t&&!((t,e)=>{const n=(0,h.kG)(t);return!((0,h.Je)()&&!n||(e||(0,h.rk)())&&!n)})(t,n)?{isRuby:!1,reason:8}:(0,h.go)(e,(0,h.ls)())?{isRuby:!1,reason:7}:(0,h.R)()?{isRuby:!1,reason:9}:{isRuby:!0},$=t=>{if(t===h.GL.InMsftShipped)return{isRuby:!0,reason:19};if(C(t))return{isRuby:!0,reason:12};if((0,h.Yx)()&&t===h.GL.In1SCohortForAA)return{isRuby:!0,reason:20};if((0,h.mf)()&&t===h.GL.In1SCohortForAB)return{isRuby:!0,reason:11};if((0,h.rk)()&&t===h.GL.InUntargetedCohort)return{isRuby:!0,reason:14};if(t===h.GL.In1SCohortForAB){var e;if("adult"!==(null===(e=u.T3.CurrentRequestTargetScope)||void 0===e?void 0:e.audienceMode))return{isRuby:!1,reason:23};if(!(0,h.O_)()&&!(0,h.R)()&&!(0,h._g)())return{isRuby:!1,reason:24}}return{isRuby:!1,reason:2}},A=t=>{let{userSelection:e,cohortStatus:n}=t;return e!==i.OptOut&&n===h.GL.InMsftShipped},I=t=>(0,h.mf)()?t?h.GL.In1SCohortForAB:h.GL.Out1SCohortForAB:(0,h.Yx)()?t?h.GL.In1SCohortForAA:h.GL.Out1SCohortForAA:h.GL.Unknown;class P{constructor(){this.getIsRubyEligible=()=>Promise.resolve(this.isRubyEligible)}get isRuby(){return!0}get isUserOptedOut(){return!1}get isRubyEligible(){return!0}get isClassicToggleFlightEligible(){return!1}get isLoggingOnly(){return!1}updateUserSelection(t,e){}update1sCohort(t,e){}updateMarket(t){}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return o.vv.get(h.Yc,()=>new P)}}var _=n(27261),M=n(16091),R=n(45083),E=n(41820),F=n(19548),D=n(89151),O=n(90905),N=n(98793),U=n(48172),L=n(57865);const B=["edgeChromium","views","msn","winWidgets","msnStudio"],W="_copilotDiscoverUX";var H;!function(t){t.UserSelection="usel"}(H||(H={}));class V{constructor(){var t,e;if(this.getIsRubyEligible=()=>Promise.resolve(this.isRubyEligible),!B.includes(u.T3.AppType))return;(0,f.b)(),this.isRubyVariant="ruby"===(null===(t=a.Rb.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant),this._isRubyEligible=!u.T3.IsHeroNTP&&"kids"!==(null===(e=u.T3.CurrentRequestTargetScope)||void 0===e?void 0:e.audienceMode);const n=(0,d.Ri)(W);this._userChoice=null===n?null:"true"===n,(0,w.RO)().then(()=>{var t,e;"kids"===(null===(t=u.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&this.isRubyVariant&&((0,m.vV)(g.YKQ,"Kids user hit ruby bundle","",{aace:(0,d.Ri)("aace"),childCookie:(0,d.Ri)(L.wX),pcdMode:(null===(e=a.Rb.ClientSettings.modes)||void 0===e?void 0:e.audienceMode)||a.Rb.ClientSettings.audienceMode}),this.updateUserSelection(!1,!0))})}get isRuby(){return this.isRubyVariant||this._isRubyEligible&&!1!==this._userChoice}get isUserOptedOut(){return!1===this._userChoice}get isClassicToggleFlightEligible(){return!1}get isRubyEligible(){return this._isRubyEligible}get isLoggingOnly(){return!1}updateUserSelection(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&!this.isRubyEligible)return;const n=(0,d.Ri)(W),i=String(t);n!==i&&((0,d.Ub)(W,i,365),(0,h.cJ)(t),a.Rb.IsPrerender&&"visible"!==document.visibilityState||(0,s.TI)(14),e||window.setTimeout(()=>this.safeReload("usel"),100))}update1sCohort(t,e){var n;const i=(0,c.a)().get("testRubyVersion"),r=(null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.rubyTargetedVersion)||i;this._isRubyEligible&&(0,h.Kp)()&&(0,h.Oi)(r,!!i),(0,h.Oi)(r,!!i,"rubyTargetedVersionExt")}updateMarket(t){}safeReload(t){if(!(0,r.S)())return;const e=new URL(window.location.href),n=`sr${t}`,i=Number(e.searchParams.get(n))||0;e.searchParams.set(n,String(i+1)),e.searchParams.delete("rubyopt"),window.location.href=e.href}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return o.vv.get(h.Yc,()=>new V)}}class z{constructor(){this._rsmDebugMarkers=new Set,this._rubyStateCookieValue=(0,d.Ri)(h.XO),this._rubyState={...h.hJ,...(0,h.KH)(this._rubyStateCookieValue)},this._isEnvironmentSupported=(0,h.eY)(void 0,!0),(0,h.Ve)(),(0,h.Kp)()&&(0,h.f_)(),(0,f.b)(),(0,h.pE)().then(t=>{this._pageSettings=t,this._arePageSettingsEligibleForImplicitRuby=(0,h.kG)(t),(0,h.Yl)(this._arePageSettingsEligibleForImplicitRuby),(0,h.l3)(this._pageSettings,this.updatePageSettings.bind(this))}),this._rsmDebugMarkers.add("c"),(0,h.BT)("RSRC",this._rsmDebugMarkers);{const t=(0,h.Bd)();if(t){const e={...this._rubyState,...t};this._rubyState.cohortStatus===e.cohortStatus&&this._rubyState.userSelection===e.userSelection||(this._rubyState=e,this.persistRubyState(this._rubyState),j("usero",1))}(0,h.T_)(String(!!this.isRuby),h.ET)}}get isRuby(){return(0,h.ls)()}get isRubyEligible(){return this.isRuby||this._isEnvironmentSupported}getIsRubyEligible(){return Promise.resolve(this.isRubyEligible)}get isLoggingOnly(){return!1}get isUserOptedOut(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.userSelection)===i.OptOut}get isIn1SCohortForAB(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.cohortStatus)===h.GL.In1SCohortForAB}get isClassicToggleFlightEligible(){return this.isIn1SCohortForAB&&!(0,h.rk)()&&!(0,h.O_)()}updateUserSelection(t,e){var n;const r=t?i.ExplicitOptIn:i.OptOut;r!==(null===(n=this._rubyState)||void 0===n?void 0:n.userSelection)&&(p.d.updateFeedPreference(t),this.persistRubyState({...this._rubyState,userSelection:r}),e||j("uselo"))}update1sCohort(t,e){(0,h.$y)(t,!0)}updateMarket(t,e){this._isEnvironmentSupported=(0,h.eY)(t,!0),e||j("uselm")}updatePageSettings(t){this._pageSettings={...this._pageSettings,...t};const e=(0,h.kG)(this._pageSettings);e!==this._arePageSettingsEligibleForImplicitRuby&&(this._arePageSettingsEligibleForImplicitRuby=e,j("uselp"))}persistRubyState(t){let{userSelection:e,cohortStatus:n}=t;const i=`${e}${h.fQ}${n}`;this._rubyStateCookieValue!==i&&(0,h.Ug)({cookieValue:this._rubyStateCookieValue,newCookieValue:i}),(0,d.Ub)(h.XO,i,h.ET)}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return o.vv.get(h.Yc,()=>new z)}}function j(t,e){(0,s.TI)(14),(0,h.b6)(t,e??30,300)}const q=new Set(["en-us","en-ca","en-au","en-gb","en-in"]),G=new Set(["en-us","en-ca","en-au","en-gb","en-in","zh-cn"]),J=()=>"1"===(0,c.a)().get("fcruby")||(0,r.S)()&&"ruby"===(0,c.a)().get("bv"),K=[],Q=(t,e)=>{var n;if(w.YT){for(;K.length>0;){var i;const[t,e]=K.shift();null===w.YT||void 0===w.YT||null===(i=w.YT.addOrUpdateTmplProperty)||void 0===i||i.call(w.YT,t,e)}null===w.YT||void 0===w.YT||null===(n=w.YT.addOrUpdateTmplProperty)||void 0===n||n.call(w.YT,t,e)}else K.push([t,e])},X=t=>{const e=String(t);Q("rubyUX",e),(0,h.Kp)()&&N.Q.savePreferenceSetting(E.K5.ruby_ux_history,{setting:E.K5.ruby_ux_history,value:e,timestamp:Date.now(),source:"ntp"})},Y=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rubyTargetedVersion";const i=Date.now(),r=`${t}|${w.YT.getRequestId()}|${e}|${i}`;Q(n,r);const o={value:r};U.f.savePreferenceSetting(E.bJ.rubyTargetedVersion,o)};class Z{get isRuby(){return(0,h.ls)()}async getRubyEligibilityForClassicNTPUser(){return this.isRubyEligibleForClassicNTPUser}get _isRubyInternal(){return this._isRuby}get isRubyEligible(){return this._enableToggleButton}async getIsRubyEligible(){return await this.init(),this.isRubyEligible}get isRejectedByEdgeExpIsolation(){return(0,h.go)(this.isEdgeExpIsolationFlagEnabled,this.isRuby)}get isClassicToggleFlightEligible(){return this.isIn1SCohortForAB&&!(0,h.rk)()&&!(0,h.O_)()}get enableToggleButton(){return this._enableToggleButton}get isEnvironmentSupported(){return this.isEnvironmentSupportedInternal()}isEnvironmentSupportedInternal(t){var e;const n=t||u.T3.CurrentMarket;return G.has(n)&&!u.T3.IsHeroNTP&&"kids"!==(null===(e=u.T3.CurrentRequestTargetScope)||void 0===e?void 0:e.audienceMode)&&this.isSupportedDeviceType()&&!(0,h.SG)()}isSupportedDeviceType(){var t;return(0,h.e2)()||!u.T3.isMobile&&"tablet"!==(null===(t=a.Rb.ClientSettings)||void 0===t?void 0:t.deviceFormFactor)}get isOptIn(){return"1"===(0,c.a)().get("rubyopt")}get isExternalOptIn(){return"2"===(0,c.a)().get("rubyopt")&&!(0,c.a)().get("srusel")}get isOptedOutByDogfooding(){return this._isOptedOutByDogfooding}get isInRubyDogfoodFlight(){return(0,h.Ii)()||this.isOptIn||!1}get isRubySupported(){return this.isRubySupportedInternal()}get isUserOptedOut(){return this.rubyState.userSelection===h.ov.OptOut}get isLoggingOnly(){return(0,h.Yx)()}isRubySupportedInternal(t){return this.isEnvironmentSupportedInternal(t)}get isExternalOptInCohort(){return this.rubyState.cohortStatus===h.GL.ExternalOptIn}get isIn1SCohortForAB(){return this.rubyState.cohortStatus===h.GL.In1SCohortForAB}get isIn1SCohortForAA(){return this.rubyState.cohortStatus===h.GL.In1SCohortForAA}get isDogfoodingCohort(){return this.rubyState.cohortStatus===h.GL.InDogfoodingCohort||this.rubyState.cohortStatus===h.GL.InAlphaDogfoodingCohort}get isInTargetCohort(){if(this.isIn1SCohortForAB&&(0,h.mf)())return{isRuby:!0,reason:11};if(this.isDogfoodingCohort&&this.isInRubyDogfoodFlight)return{isRuby:!0,reason:12};if(this.isExternalOptInCohort)return{isRuby:!0,reason:13};if((0,h.rk)()&&this.isInUntargetedCohort)return{isRuby:!0,reason:14};if(this.isIn1SCohortForAB){var t;if("adult"!==(null===(t=u.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode))return{isRuby:!1,reason:23};if(!(0,h.O_)()&&!(0,h.R)()&&!(0,h._g)())return{isRuby:!1,reason:24}}return{isRuby:!1,reason:2}}get isInUntargetedCohort(){return this.rubyState.cohortStatus===h.GL.InUntargetedCohort}constructor(){if(this.rubyState={userSelection:h.ov.Unknown,cohortStatus:h.GL.Unknown},this._isRuby=!1,this._enableToggleButton=!1,this._isOptedOutByDogfooding=!1,this.didInit=!1,this.forceRubyPage=J(),this.rsmDebugMarkers=new Set,this.isMsftInternal=(0,l.t)(),this.isRubyEligibleForClassicNTPUser=!1,this.removeCookieListener=()=>{var t,e,n,i;null===(t=document)||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"visibilitychange",this.onRubyCookieChanged),null===(n=window)||void 0===n||null===(n=n.cookieStore)||void 0===n||null===(i=n.removeEventListener)||void 0===i||i.call(n,"change",this.onRubyCookieChanged)},this.onRubyCookieChanged=(0,O.A)(t=>{var e;if((0,h.mv)(t))return;if([h.GL.In1SCohortForAA,h.GL.Out1SCohortForAA,h.GL.In1SCohortForAB,h.GL.Out1SCohortForAB,h.GL.InUntargetedCohort].includes(this.rubyState.cohortStatus))return;const n=this.getIsRubyFromCookie(),i="ruby"===(null===(e=a.Rb.ClientSettings)||void 0===e||null===(e=e.bundleInfo)||void 0===e?void 0:e.variant);"visible"===document.visibilityState&&(this._isRuby!==n||!n&&i)&&(0,h.b6)("rc",void 0,300)},100),"edgeChromium"!==u.T3.AppType&&"msnStudio"!==u.T3.AppType)return;this.rsmDebugMarkers.add("c"),(0,h.BT)("RSM",this.rsmDebugMarkers),(0,h.jI)();const t=this.getIsRubyFromCookieRaw(),e="true"===t;this.isEnvironmentSupported?((0,h.HW)(t||""),this.init()):e&&(0,r.S)()&&!(0,h.YS)()&&((0,f.b)(),(0,h.T_)("false",-1),this.setIsRubyAndReloadIfNeeded(void 0,!0))}async init(){var t,e;if(this.didInit)return;this.didInit=!0,this.pageSettings=await(0,h.pE)();const n=(0,h.kG)(this.pageSettings);if((0,h.Yl)(n),this.isEdgeExpIsolationFlagEnabled=null===(t=await(0,v.hb)())||void 0===t?void 0:t.enabled.includes("msRubyFlightingAllowed"),(0,f.b)(),(0,c.a)().get("rubyopt")&&(0,s.TI)(14),!this.forceRubyPage){if(!this.updateCookieAndStates())return}(0,h.vT)(n),this.setIsRuby(),this.isRubyEligibleForClassicNTPUser=(0,h.Vr)((0,r.S)()?{rubyState:this.rubyState,pageSettings:this.pageSettings,isEdgeExpIsolationFlagEnabled:this.isEdgeExpIsolationFlagEnabled}:void 0),this.isRubyEligibleForClassicNTPUser&&Q("isRubyEligible",String(this.isRubyEligibleForClassicNTPUser)),this.forceRubyPage||(this._enableToggleButton=this.checkIsEnableToggleButton(),this.addCookieListener()),(()=>{const t=(0,d.Ri)(h.XO);Q("currentRubyState",t)})(),window.addEventListener("beforeunload",()=>{const t={rsmDbg:Array.from(this.rsmDebugMarkers).join(",")};this.lastRubyCookieChangeReason&&this.isRuby&&!this._isRuby&&(t.lastCookieChangeReason=this.lastRubyCookieChangeReason),w.YT.sendLoadTimeEvent({markers:t})},{once:!0}),null===(e=window.chrome.authPrivate)||void 0===e||null===(e=e.onSignInStateChanged)||void 0===e||e.addListener(()=>{this.isRuby&&this.rubyState.cohortStatus==h.GL.In1SCohortForAB&&this.removeCookie(22)}),Promise.all([(0,D.dT)(),(0,R.GP)()]).then(()=>{var t;const e=p.d.getCachedUserPrefData(),n=null==e||null===(t=e.value)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.userSettings)||void 0===t?void 0:t.rubyOptOut;void 0!==n&&w.YT.addOrUpdateTmplProperty("serverRubyOptOutStatus",String(n))})}updateCookieAndStates(){var t;if("-1"===(0,c.a)().get("rubyopt"))return this._isOptedOutByDogfooding=this.getRubyStateCookie().hasRubyCookie,this.removeCookie(16),!1;const{userSelection:e,cohortStatus:n}=this.getRubyStateCookie(),i=null===(t=a.Rb.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant;if("ruby"===i&&!this.getIsRubyFromCookie()&&!J()&&(0,r.S)()){if((0,m.vV)(g._uC,"Bundle variant mismatch error",`Got variant "${i}", but expected classic (no variant)`,{rsm:"RSM1",url:location.href}),n===h.GL.InDogfoodingCohort)return this.setRubyStateCookie({userSelection:h.ov.OptIn,cohortStatus:h.GL.InDogfoodingCohort}),(0,h.b6)("frv",2,300),!1;(0,h.b6)("frv",2,300)}this.rubyState={userSelection:e,cohortStatus:n},this.isExternalOptIn&&this.setExternalOptInCohort();const o=this.isExternalOptIn||this.rubyState.cohortStatus===h.GL.ExternalOptIn;return this.setUntargetedCohortIfNeeded(),this.setShippedCohortIfNeeded(),(e===h.ov.ExplicitOptIn||!this.shouldCleanupStateAndExitOutsideFlights(n))&&(this.isInRubyDogfoodFlight||(0,h.mf)()||(0,h.Yx)()||o||(0,h.rk)()||G.has(u.T3.CurrentMarket)?((0,h.Kp)()&&(0,h.f_)(),this.isOptIn&&this.setOptInCohort(),(o||this.isOptIn)&&this.initRubyCoachmark(),this.update1SCohortStatusBasedOnPageSettings(),!0):("ruby"===(null===(s=a.Rb.ClientSettings)||void 0===s||null===(s=s.bundleInfo)||void 0===s?void 0:s.variant)&&!J()&&this.removeCookie(17),!1));var s}shouldCleanupStateAndExitOutsideFlights(t){if(!(0,h.mf)()&&(t===h.GL.In1SCohortForAB||t===h.GL.Out1SCohortForAB))return this.removeCookie(18),this.rubyState={userSelection:h.ov.Unknown,cohortStatus:h.GL.Unknown},!0}setIsRuby(t){const{isRuby:e,reason:n}=this.checkIsRuby(t);this._isRuby=e,this.forceRubyPage||(J()||this.setIsRubyCookie(this._isRuby,void 0,n),this.isEnvironmentSupportedInternal()&&((0,h.mf)()&&this.isIn1SCohortForAB||(0,h.Yx)()&&this.isIn1SCohortForAA)?X(!0):X(this._isRuby))}getIsRubyFromCookie(){return"true"===this.getIsRubyFromCookieRaw()}getIsRubyFromCookieRaw(){return(0,d.Ri)(h.Bv)}initRubyCoachmark(){const{isRuby:t}=this.checkIsRuby();this._isRuby=t;!this.getIsRubyFromCookie()&&this._isRuby&&(0,h.v0)()}checkIsEnableToggleButton(){return this._isRuby||this.isRubySupported}checkIsRuby(t){return this.isRubySupportedInternal(t)?this.forceRubyPage?{isRuby:!0,reason:4}:this.rubyState.userSelection===h.ov.ExplicitOptIn?{isRuby:!0,reason:5}:this.rubyState.userSelection===h.ov.OptIn?{isRuby:!0,reason:6}:this.isRejectedByEdgeExpIsolation?{isRuby:!1,reason:7}:this.pageSettings&&!this.arePageSettingsEligibleForCohort(this.pageSettings)?{isRuby:!1,reason:8}:this.rubyState.userSelection!==h.ov.OptOut&&this.rubyState.cohortStatus===h.GL.InMsftShipped?{isRuby:!0,reason:19}:(0,h.R)()?{isRuby:!1,reason:9}:this.rubyState.userSelection===h.ov.OptOut?{isRuby:!1,reason:10}:this.isInTargetCohort:{isRuby:!1,reason:1}}setUserSelection(t){const e=t?h.ov.ExplicitOptIn:h.ov.OptOut,n=this.getRubyStateCookie().cohortStatus;e===h.ov.OptOut&&this.setIsRubyCookie(!1,-1,10),this.setRubyStateCookie({userSelection:e,cohortStatus:n}),p.d.updateFeedPreference(t)}updateUserSelection(t,e){this.setUserSelection(t),e||this.setIsRubyAndReloadIfNeeded(void 0,!0)}updateMarket(t,e){(0,h.p8)(t),this.setIsRubyAndReloadIfNeeded(t,!1,e)}setIsRubyAndReloadIfNeeded(t,e,n){this.init();const i=this._isRubyInternal;this.setIsRuby(t),(e||!n&&i!==this._isRubyInternal)&&(0,h.b6)("usel",void 0,300)}update1sCohort(t,e){this.set1SCohort(t,e),(t=>{var e,n;const i=null==t||null===(e=t.serviceContext)||void 0===e?void 0:e.rubyTargetedVersion,r=null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.isTestRubyVersion;i&&Y(i,!!r,"rubyTargetedVersionExt")})(t),(0,h.BT)("RSM",this.rsmDebugMarkers)}async set1SCohort(t,e){var n,i,r,o,s;if(!t)return;if(this.rsmDebugMarkers.add("start1s"),(0,h.$y)(t),!this.isEnvironmentSupportedInternal())return void this.rsmDebugMarkers.add("noEnv");if(!(0,h.Yx)()&&!(0,h.mf)())return void this.rsmDebugMarkers.add("noSup");if(this.isDogfoodingCohort||this.isExternalOptInCohort)return void this.rsmDebugMarkers.add("dogOrOptIn");if((null===(n=this.rubyState)||void 0===n?void 0:n.cohortStatus)===h.GL.InMsftShipped)return void this.rsmDebugMarkers.add("msftShipped");if(null!=t&&t.isStatic||null!=t&&t.swCacheEnabled||null!=t&&t.isPartial)return void this.rsmDebugMarkers.add("invalid1s");this.rsmDebugMarkers.add("1s");const a=(null==t||null===(i=t.serviceContext)||void 0===i?void 0:i.rubyTargetedVersion)||null,c=null==t||null===(r=t.serviceContext)||void 0===r?void 0:r.isTestRubyVersion,u=null==t||null===(o=t.serviceContext)||void 0===o?void 0:o.rubyEverSelected,l=null==e||null===(s=e.allowedRubyTargetedVersions)||void 0===s?void 0:s.split(","),d=((0,h._g)()||(0,h.aw)())&&!0===u||!(!a||null==l||!l.some(t=>"all"===t||t===a));(0,h.Kp)()&&((0,h.L3)(this.rubyState.cohortStatus,!d),Y(a,!!c));const[f,p]=(0,h.Yx)()?[h.GL.In1SCohortForAA,h.GL.Out1SCohortForAA]:[h.GL.In1SCohortForAB,h.GL.Out1SCohortForAB],v=d?f:p;v===h.GL.Out1SCohortForAB&&this.rubyState.userSelection!==h.ov.ExplicitOptIn&&(this.rubyState.userSelection=h.ov.Unknown),this.rubyState.cohortStatus===h.GL.In1SCohortForAB&&v===h.GL.Out1SCohortForAB&&(0,m.vV)(g.S8B,"Server side signal indicates user is no longer in the Ruby cohort",void 0,{...g.S8B.pb});const w={userSelection:this.rubyState.userSelection,cohortStatus:v};this.setRubyStateCookie(w)}setExternalOptInCohort(){this.rubyState.cohortStatus=h.GL.ExternalOptIn,this.setRubyStateCookie({userSelection:h.ov.OptIn,cohortStatus:this.rubyState.cohortStatus})}setOptInCohort(){var t;const e=(0,h.E9)()?h.GL.InAlphaDogfoodingCohort:h.GL.InDogfoodingCohort;this.rubyState.cohortStatus=e,this.setRubyStateCookie({userSelection:this.rubyState.userSelection,cohortStatus:e});const n=Date.now()+5184e6;var i;null===(t=window.cookieStore)||void 0===t||t.set({name:"_EDGE_S",value:"O="+(i=e,i===h.GL.InAlphaDogfoodingCohort?"prg-ntprubyalpha":"prg-ntp1sruby"),expires:n})}update1SCohortStatusBasedOnPageSettings(){(0,h.mf)()&&(0,h.l3)(this.pageSettings,t=>{const{isRuby:e,reason:n}=this.checkIsRuby();this.setIsRubyCookie(e,void 0,n),"Theme"===t.backgroundImageProvider&&(0,h.sg)(this.pageSettings)&&a.Rb.IsPrerender&&"hidden"===document.visibilityState&&(0,s.TI)(14)})}setUntargetedCohortIfNeeded(){if((0,h.rk)()){const t=this.rubyState.cohortStatus,e=this.isRuby;if(this.rubyState.cohortStatus===h.GL.Unknown&&(this.rubyState.cohortStatus=h.GL.InUntargetedCohort,this.setRubyStateCookie(this.rubyState)),"Theme"===this.pageSettings.backgroundImageType&&t===h.GL.InUntargetedCohort&&e){const{isRuby:t,reason:e}=this.checkIsRuby();this.setIsRubyCookie(t,void 0,e),(0,s.TI)(14),(0,h.b6)("rthm",void 0,300)}(0,h.l3)(this.pageSettings,n=>{const{isRuby:i,reason:r}=this.checkIsRuby();this.setIsRubyCookie(i,void 0,r),"visible"===document.visibilityState&&"off"===this.pageSettings.feedSetting&&t===h.GL.InUntargetedCohort&&e&&this.rubyState.userSelection!==h.ov.OptOut&&((0,s.TI)(14),(0,h.b6)("roff",void 0,300)),e&&"Theme"===n.backgroundImageType&&a.Rb.IsPrerender&&"hidden"===document.visibilityState&&(0,s.TI)(14)})}else this.rubyState.cohortStatus===h.GL.InUntargetedCohort&&(this.rubyState.cohortStatus=h.GL.Unknown,this.rubyState.userSelection===h.ov.OptIn&&(this.rubyState.userSelection=h.ov.Unknown),this.setRubyStateCookie(this.rubyState))}setShippedCohortIfNeeded(){(0,h.kG)(this.pageSettings)&&(!(0,h.O4)()||this.isEdgeExpIsolationFlagEnabled)&&this.isMsftInternal&&q.has(u.T3.CurrentMarket)?(this.rubyState.cohortStatus=h.GL.InMsftShipped,this.setRubyStateCookie(this.rubyState),this.isRuby||this.setIsRubyAndReloadIfNeeded()):this.rubyState.cohortStatus===h.GL.InMsftShipped&&(this.rubyState.cohortStatus=h.GL.Unknown,this.setRubyStateCookie(this.rubyState))}arePageSettingsEligibleForCohort(t){const e=(0,h.kG)(t);return!((0,h.mf)()&&!e)&&!((0,h.rk)()&&!e)}checkIsRubySupportedMarket(t){return this.isInRubyDogfoodFlight&&G.has(t)}addCookieListener(){var t,e,n,i,r;null===(t=document)||void 0===t||null===(e=t.addEventListener)||void 0===e||e.call(t,"visibilitychange",this.onRubyCookieChanged),null===(n=window)||void 0===n||null===(n=n.cookieStore)||void 0===n||null===(i=n.addEventListener)||void 0===i||i.call(n,"change",this.onRubyCookieChanged),null===(r=window)||void 0===r||r.addEventListener("beforeunload",this.removeCookieListener,{once:!0})}getRubyStateCookie(){const t=(0,d.Ri)(h.XO);if(!t)return{userSelection:h.ov.Unknown,cohortStatus:h.GL.Unknown,hasRubyCookie:!1};const[e,n]=t.split("_").map(Number);return{userSelection:e,cohortStatus:n,hasRubyCookie:!0}}setRubyStateCookie(t){if((0,h.YS)())return;this.rubyState=t;const e=`${t.userSelection}_${t.cohortStatus}`;(t=>{const{updatedRubyStateString:e,currentRubyStateString:n}=t,i=Date.now(),r=`${n}->${e}|${i}`;Q("rubyState",r),(0,h.Kp)()&&N.Q.savePreferenceSetting(E.K5.ruby_state_history,{setting:E.K5.ruby_state_history,value:r,timestamp:i,source:"ntp"})})({updatedRubyStateString:e,currentRubyStateString:(0,d.Ri)(h.XO)}),(0,r.S)()&&(0,d.Ub)(h.XO,e,60);const{isRuby:n,reason:i}=this.checkIsRuby();this.setIsRubyCookie(n,void 0,i)}setIsRubyCookie(t,e,n){if((0,h.YS)())return;this.rsmDebugMarkers.add("up"),(0,h.BT)("RSM",this.rsmDebugMarkers);const i=(0,d.Ri)(h.Bv),o="true"===i,c=String(t);if(i!==c&&(o!==t&&((0,h.l4)(t),(!a.Rb.IsPrerender||"visible"===document.visibilityState)&&(0,s.TI)(14),t&&(0,h.v0)()),this.removeCookieListener(),(0,r.S)())){const i=(0,h.T_)(c,e??60);return i?(this._isRuby=t,this.lastRubyCookieChangeReason=n,n&&Q("rubyrc",String(n)),(0,h.Z_)(n)):Q("rubyrc",String(15)),i}return c&&(0,h.Wf)(c),!0}removeCookie(t){var e;(0,r.S)()&&(this.lastRubyCookieChangeReason=t,(0,h.Z_)(t),(0,h.T_)(null,-1),(0,d.Ub)(h.XO,null,-1),null===(e=window.cookieStore)||void 0===e||e.delete("_EDGE_S"),window.setTimeout(()=>this.onRubyCookieChanged(),100))}static getInstance(){return o.vv.get(h.Yc,()=>{const t=(0,_.iA)();return["half","full"].includes(F._3.getQueryParameterByName("ucexperience",t))?new P:(0,h.EF)()?new V:(0,h.SE)()?new z:(0,h.e)()?new y:new Z})}}const tt=(0,M.G)(Z,{bindMethod:!0,forceLazy:!0})},11372:function(t,e,n){n.d(e,{EG:function(){return o},MJ:function(){return i},MS:function(){return s},b5:function(){return r}});const i={Undefined:0,Header:1,Footer:2,TopNavBar:3,NavBar:4,DropDown:5,Section:6,Carousel:7,Module:8,SearchBox:9,InputBox:10,ActionButton:11,Interaction:12,Headline:13,Legacy_Navigate:14,Entity:15,Legacy_StructuredData:16,Legacy_AppStore:17,Legacy_Launch:18,Legacy_CmsPromotions:19,Legacy_MicrosoftWebStore:20,Legacy_XboxStore:21,Legacy_OfficeStore:22,Legacy_Install:23,Legacy_PartnerLinks:24,Legacy_SponsoredContent:25,Legacy_Follow:26,Legacy_Unfollow:27,Legacy_More:28,Topic:29,Provider:30,Legacy_Close:36,Legacy_Share:37,Legacy_Like:38,Legacy_Dislike:39,Legacy_Unlike:40,Legacy_Undislike:41,Legacy_Mute:42,Legacy_Unmute:43,Legacy_Cancel:44,Legacy_Manage:45,NewStories:46,AutoSuggest:47,Tile:49,TrendingNews:50,AllCoverage:51,Report:52,MsccCookieComplianceBanner:54,CookieWallCookieComplianceBanner:57,FRE:60,VideoPlayer:61,ContentCard:62,SubmitForm:63,TrafficCard:64,WeatherCard:65,TravelDestinationCard:66,FitnessWorkoutVideo:67,BingHealthFitnessCard:68,FamilyCard:69,FitnessCard:70,HealthQnACard:71,HealthTipCard:72,HealthFitnessCarousel:73,CovidCard:74,Audio:75,ShoppingAd:76,ContentGroup:77,AicreationCard:78,Game:79,HealthRiverCard:80,Augment:81,Manga:82,NotificationCenter:85,MomentInTime:86},r={Undefined:0,StructuredData:1,AppStore:2,CmsPromotions:3,MicrosoftWebStore:4,XboxStore:5,OfficeStore:6,PartnerLinks:7,SponsoredContent:8,ExternalLink:10,SearchPromo:11,Feed:12,Article:13,Gallery:14,Video:15,Audio:16,Settings:17,DisplayAd:18,OfficeDocument:19,App:20,SearchResult:21,VideoAd:22,Map:23,Comment:24,Profile:25,Coachmark:26,TrendingSearch:27,AutoSuggestSearch:28,SearchHistory:29,TextSearch:30,TopSites:31,SearchLink:32,ImageSearch:33,VoiceSearch:34,Toast:35,Greeting:36,Image:37,Banner:38,Waffle:39,Notification:40,QnaTopic:41,QnaContent:42,Publisher:43,Topic:44,LayoutToggle:45,WebContent:46,FinanceTicker:47,CashbackOffer:48,AiCharacter:49,FoodItem:50,FitnessChallenge:51,Overlay:52,Inspiration:53,DailyDiscovery:54,SegmentAugment:55,Upsell:56,UpsellLearnMore:57,WeatherHero:58,UpsellTooltip:60,UpsellGetApp:61,UpsellAppStore:62,UpsellGooglePlay:63,DailyBrief:64,Gem:65},o={Click:"click",Hover:"mouseenter",MouseLeave:"mouseleave",Submit:"submit",View:"view",RightClick:"rightclick",Wheel:"wheel",KeyPress:"keypress",HorizontalSwipe:"hswipe",MiddleClick:"middleclick",VerticalSwipe:"vswipe",Launch:"launch"},s={Undefined:0,Navigate:1,ContextMenu:2,Pin:3,Unpin:4,Rearrange:5,Remove:6,Add:7,Open:8,View:9,Follow:10,Unfollow:11,More:12,Close:13,Share:14,Like:15,Dislike:16,Unlike:17,Undislike:18,Mute:19,Unmute:20,Cancel:21,Launch:22,Install:23,Manage:24,Show:25,MuteCancel:26,Save:27,Hide:28,Unhide:29,Customize:30,Suspend:31,Clear:32,SignIn:33,SignOut:34,UndoSave:35,TurnOn:36,TurnOff:37,Forward:38,Response:39,Report:40,ZoomIn:41,ZoomOut:42,Comment:43,Sort:44,Love:45,Surprised:46,Thinking:47,Sad:48,Angry:49,TextSearch:50,ImageSearch:51,UndoRemove:52,Rename:53,SearchLink:54,VoiceSearch:55,Complete:56,Play:57,Pause:58,Seek:59,Volume:60,ClosedCaptions:61,Fullscreen:62,Restore:63,Replay:64,Copy:65,Reactlike:66,UnReactlike:67,UnLove:68,UnSurprised:69,UnThinking:70,UnSad:71,UnAngry:72,ReportAd:73,Refresh:74,Paginate:75,Click:76,Hover:77,SelectProduct:78,Signup:79,CompleteOrder:80,Model3DInteraction:81,PushNotificationReceive:82,PushNotificationShow:83,PushNotificationClick:84,PushNotificationHmsClick:85,Expand:86,Collapse:87,NoSearchQuerySubmit:88,Feedback:89,QualityChange:90,ProtocolLaunch:91,SydneySummary:92,SydneyTopQuestions:93,SydneyKeyTakeaways:94,SydneyDegreeOverview:95,SydneyFactCheck:96,SydneyMore:97,LeftSwipe:98,RightSwipe:99,ContinueToMobileQrCode:100,CustomContextMenu:101,PlayBackSpeedChange:102};var a;!function(t){t[t.Empty=0]="Empty",t[t.SearchBox=1]="SearchBox",t[t.TopSites=2]="TopSites",t[t.Suggested=4]="Suggested",t[t.ContentFeed=8]="ContentFeed",t[t.WinFRE=16]="WinFRE",t[t.BingImage=32]="BingImage",t[t.ContentBelowTheFold=64]="ContentBelowTheFold",t[t.CustomModeOption=128]="CustomModeOption",t[t.GreetingEnabled=256]="GreetingEnabled",t[t.HeadingsOnly=512]="HeadingsOnly",t[t.StripeLayout=1024]="StripeLayout",t[t.Peek=2048]="Peek"}(a||(a={}))},11566:function(t,e,n){n.d(e,{$G:function(){return m},Br:function(){return l},Cd:function(){return u},Ej:function(){return v},Jh:function(){return c},Jo:function(){return y},Om:function(){return p},Rm:function(){return d},cn:function(){return h},em:function(){return S},fc:function(){return g},g0:function(){return f},yM:function(){return w}});var i=n(85593),r=n(50091),o=n(31086);const s=-1,a=[-5,-8,-4,-6,-7];function c(t,e,n){var i;const r={props:{notificationDurationMs:e,closeToastNotificationHandler:n},timerId:null,startTime:e,remainingTime:e,paused:!1};(null===(i=t.currentToastTimerHandle)||void 0===i?void 0:i.timerId)&&window.clearTimeout(t.currentToastTimerHandle.timerId),t.currentToastTimerHandle=r,t.currentToastTimerHandle.startTime=Date.now(),e&&e!==1/0&&(t.currentToastTimerHandle.timerId=window.setTimeout(()=>{t.currentToastTimerHandle.props.closeToastNotificationHandler(!0)},e))}function u(t){t.currentToastTimerHandle&&(t.currentToastTimerHandle.paused||(t.currentToastTimerHandle.timerId&&(window.clearTimeout(t.currentToastTimerHandle.timerId),t.currentToastTimerHandle.remainingTime-=Date.now()-t.currentToastTimerHandle.startTime),t.currentToastTimerHandle.paused=!0))}function l(t){t.currentToastTimerHandle&&t.currentToastTimerHandle.paused&&t.currentToastTimerHandle.remainingTime&&(t.currentToastTimerHandle.props.notificationDurationMs&&t.currentToastTimerHandle.props.notificationDurationMs!==1/0&&(t.currentToastTimerHandle.startTime=Date.now(),t.currentToastTimerHandle.timerId=window.setTimeout(()=>{t.currentToastTimerHandle.props.closeToastNotificationHandler(!0)},t.currentToastTimerHandle.remainingTime)),t.currentToastTimerHandle.paused=!1)}function d(t,e,n,i,o,s){if(t){const{left:a,right:c,bottom:u,top:l}=t.getBoundingClientRect(),d=e.getBoundingClientRect(),f=i-c>r.p$,h=i-a>r.p$;let p=f?a-d.left:c-r.p$-d.left,m=h?d.right-a-r.p$:d.right-c;f||h||(s?p=0-d.left:m=0-d.right);const g=o-u-r.Fp>n,v=l>=n;let w="auto";g&&(w=u-d.bottom+r.Fp+"px"),g||v||(w=-l+"px");const y=g?"auto":d.bottom-u+r.g9+r.Fp+"px";return s?`--dialog-left:${p}px;--dialog-top:${w};--dialog-bottom:${y};`:`--dialog-right:${m}px;--dialog-top:${w};--dialog-bottom:${y};`}return s?`--dialog-left:0px; --dialog-top:${r.Fp}px;`:`--dialog-right:0px; --dialog-top:${r.Fp}px;`}function f(t){if(null==t||!t.mostVisitedAvailable)return[];const e=[],n=new Set,i=new Set,o=new Set,s=new Set;return t.mostVisited.forEach(a=>{const c=t.getMostVisitedItemData(a.rid),u={rid:a.rid,dataGenerationTime:c.dataGenerationTime,faviconUrl:a.faviconUrl,domain:c.domain,title:c.title,tileSource:c.tileSource,tileTitleSource:c.tileTitleSource,url:c.url,direction:c.direction,enforcement:a.enforcement,customImagePart:a.customImagePart};if(0!=c.tileSource)return e.push(u),!o.has(u.url)&&o.add(u.url),!i.has(u.domain)&&i.add(u.domain),void(!s.has(u.title)&&s.add(u.title));const l=(c.domain??w(c.url)).replace("www.","");!n.has(l)&&n.add(l),r.MC.includes(l)||function(t,e){if(r.jw&&r.jw[t])for(let n=0;n<r.jw[t].length;n++)if(0===r.jw[t][n].localeCompare(e,{sensitivity:"accent"}))return!0;return!1}(l,c.title)||o.has(u.url)||(i.has(u.domain)||n.has(l))&&s.has(u.title)||e.push(u)}),n.clear(),i.clear(),o.clear(),e}function h(t,e,n,r,s){const a=function(t,e,n){const r=t.recommendedSites||[],o=i.getDeletedUrlLookup()||{},s=i.getDeletedDomainLookup()||{},a=new Set,c=n.map(t=>t.url),u=r.filter(t=>{const e=w(t.url);if(!(s[e]||o[t.url]||c.includes(t.url)||a.has(t.url)))return a.add(t.url),t}),l=n.filter(t=>4===t.tileSource||3===t.tileSource).length,d=e-l;return u.splice(0,d)}(t,e,n),c=a.map(t=>t.url);let u;n=n.filter(t=>{if(!c.includes(t.url))return t}),u=0===n.length&&0===s.length?1:s.length>0?s[s.length-1].rid+1:n[n.length-1].rid+1e3;const l=a.map(t=>{r.set(u,t);const e=t.faviconId??i.getFaviconId(t.faviconUrl);return{...t,faviconUrl:i.getImageUrl(e),tileSource:-4,rid:u++,customImagePart:t.customImagePart??"image"}});return(0,o.H)(n,l)}function p(t,e,n){if(t&&e){const i=t.fixupAndValidateUrl(e.href);if(i)return t.updateCustomLink(s,i,n||e.hostname),!0}return!1}function m(t,e,n,r,o,s){if(n){if(i.deleteSite(n.url),s&&o(),a.includes(n.tileSource))return void e();r&&n.rid&&r.deleteMostVisitedItem(n.rid)}}function g(t,e,n,r,o){if(a.includes(r))return i.addSite(o),void t();if(e&&n){const t=e.getMostVisitedItemData(n),i=t?t.tileSource:null;4===i||3===i?e.undoCustomLinkAction(n):0!==i&&2!==i||e.undoMostVisitedDeletion(n)}}function v(t,e,n,i,r,o){if(e&&i){let a=e.fixupAndValidateUrl(i.href);if(a&&r){return e.getMostVisitedItemData(r)?(a=e.getMostVisitedItemData(r).url!==a?a:"",e.updateCustomLink(r,a,o||i.hostname)):(e.onmostvisitedchange=n,e.updateCustomLink(s,a,o||i.hostname),t()),!0}}return!1}function w(t){try{return new URL(t).hostname}catch{return""}}function y(t,e){const n=t.filter(t=>t.isSponsored);if(0===n.length)return e;const r=n.map(t=>({faviconUrl:t.faviconUrl??i.getImageUrl(t.faviconId),title:t.title,url:t.url,isSponsored:t.isSponsored})),o=e.filter(t=>t.isSponsored),s=r.concat(o).filter((t,e,n)=>e===n.findIndex(e=>{var n,i;return(null===(n=e.title)||void 0===n?void 0:n.toLocaleLowerCase())===(null===(i=t.title)||void 0===i?void 0:i.toLocaleLowerCase())}));return e.map(t=>t.isSponsored&&s.length>0?s.shift():t)}const b=new Set(["index","welcome","working","loading","interstitial","redirect","continue","https","access denied","sign in","signin","sign in to your account","signup","signing in","sign up","log in","login","logging in","home","monitored access"]);function S(t,e){let n=t.toLowerCase().trim();if(n.endsWith("...")&&(n=n.slice(0,-3)),b.has(n)){if((e.startsWith("https://")||e.startsWith("http://"))&&(e=new URL(e).hostname),e.startsWith("www.")){const t="www.";e=e.slice(t.length)}return e}return t}},11622:function(t,e,n){n.d(e,{yN:function(){return y}});var i=n(42277),r=n(96950),o=n(29194),s=n(22360),a=n(52201),c=n(55602),u=n(40371),l=n(98216),d=n(11372),f=n(47149),h=n(65022),p=n(89151),m=n(77246);const g={};function v(t,e){if(!e)return;const{properties:n,attributes:r}=e;if(n&&Object.assign(t,n),r)for(const[e,n]of Object.entries(r))"boolean"==typeof n?i.d.setBooleanAttribute(t,e,n):"number"==typeof n?t.setAttribute(e,n.toString()):t.setAttribute(e,n)}class w extends o.Yi{bind(t){t.onUnbind(this);const e=t.targets[this.targetNodeId],{events:n,properties:i,instanceKey:r}=this.options||{};if(n)for(const[t,i]of Object.entries(n))e.addEventListener(t,i);let o;if(r&&(o=g[r]),o)return o.elements.push(e),!e.telemetryObject&&null!=i&&i.telemetryObject&&(e.telemetryObject=i.telemetryObject),void v(e,o.options);Object.assign(e,i)}unbind(t){var e,n;const i=t.targets[this.targetNodeId];if(null!==(e=this.options)&&void 0!==e&&e.events)for(const[t,e]of Object.entries(null===(r=this.options)||void 0===r?void 0:r.events)){var r;i.removeEventListener(t,e)}const o=null===(n=this.options)||void 0===n?void 0:n.instanceKey;if(o){const t=g[o];if(t){const e=t.elements.indexOf(i);e>=0&&t.elements.splice(e,1)}}}}function y(t,e){if(!t)return;if(!t.configRef||!t.configRef.experienceType)return void l.YT.sendAppErrorEvent({...h.fnS,message:`ConfigRef for InstanceId "${null==t?void 0:t.instanceId}" is ${null!=t&&t.configRef?"invalid":"missing"}`});e&&e.ttvrMarkerAggregate&&(0,p.vj)(t.configRef.experienceType,e.ttvrMarkerAggregate,!0);const n=function(t,e){const{configRef:n}=t,i=function(t){const e=null==t?void 0:t.properties;return null==e?void 0:e.cardLayout}(e),r=function(t){const e=null==t?void 0:t.properties;return null==e?void 0:e.cardType}(e),o=r?`_${r}`:"";return`${n.experienceType}_${n.instanceSrc}_${n.sharedNs||""}_${t.instanceId}_${i||""}${o}`}(t,e);if(!1!==(null==e?void 0:e.memoize)&&(0,m.S)()){const i=g[n];let r;if(i){if(e)for(const t of i.elements)v(t,e);i.options=e,r=i.template}else r=b(t,n,e),g[n]={template:r,options:e,elements:[]};return r}return b(t,n,e)}function b(t,e,n){let i=null==n?void 0:n.telemetryObject;if(!i){const e={type:d.MJ.Module,name:t.configRef.experienceType};i=new f.$(e)}const o={...null==n?void 0:n.properties,telemetryObject:i};let l;!1!==(null==n?void 0:n.includeTelemetryTag)&&(l=i.getMetadataTag());const h={instanceKey:e,events:null==n?void 0:n.events,properties:o},p=(0,s.dt)(t),m=(0,a.v)(t),g=(0,u.lKb)(p);(0,c.uC)(t);const v=Object.entries((null==n?void 0:n.attributes)??{}).map(t=>{let[e,n]=t;return"boolean"==typeof n?n?e:"":`${e}=${n}`}).join(" ");return r.qy`<${r.qy.partial(g)} config-instance-src=${r.qy.partial(m)} config-shared-ns=${e=>{var n;return null===(n=t.configRef)||void 0===n?void 0:n.sharedNs}} instance-id=${r.qy.partial(t.instanceId)} data-t=${t=>l} ${function(t){return t?new w(t):""}(h)} ${r.qy.partial(v)}></${r.qy.partial(g)}>`}o.dg.define(w)},11696:function(t,e,n){n.d(e,{c:function(){return u}});var i=n(84397),r=n(27261),o=n(19548),s=n(89284);const a=(t,e,n)=>{e&&t.push({id:e,source:n})},c=t=>{if(!t)return"";return t.split("-")[0]},u=t=>{const{anid:e,bidTimeout:n,bidExtensionTimeout:u,enableContent:l,enableDevice:d,enablePrivateAuction:f,envelopeId:h,disable1pXandrDomainEndpoint:p,isMobile:m,keywords:g,locale:v,msft:w,muid:y,oathAsid:b,trackingManagement:S,publisherId:x,use3pMeasurementScripts:C}=t||{},k=s.eE.maskIdentifiers(e),T=s.eE.maskIdentifiers(y),$={publisherId:null,auctionDeadline:null,auctionTimeout:null,member:i.Y$,user:{...T&&{externalUid:T},externalImpId:b,userIds:[]},keywords:g,trackingManagement:null,msft:w,test:null,use1pEndpoint:null,topics:null,privateAuction:null,use3pMeasurementScripts:null,...l&&{content:{language:c(v)}},...d&&{device:{deviceType:m?"1":"2",useragent:(0,r.$t)()}}};x&&($.publisherId=x);const A=o._3.getParamsWithItems(location.search,!0,"citem").find(t=>{let{key:e}=t;return"testAds"===e});A&&"true"===A.value&&($.test=!0);const I=((t,e)=>{const n=[];return a(n,t,"msft_muid"),a(n,e,"msft_anid"),n})(T,k);return(null==I?void 0:I.length)>0&&$.user.userIds.push({type:"extendedIDs",eids:I}),h&&$.user.userIds.push({type:"liveramp",id:h}),n>0&&($.auctionDeadline=n),u>0&&($.auctionTimeout=u),p||($.use1pEndpoint=!0),S&&($.trackingManagement=S),f&&($.topics={enabled:!0},$.privateAuction={enabled:!0,sellerTimeout:500}),"boolean"==typeof C&&($.use3pMeasurementScripts=C),$}},11917:function(t,e,n){var i;n.d(e,{y:function(){return i}}),function(t){t.Location="Location",t.Weather="Weather",t.Finance="Finance",t.Team="Team",t.League="League",t.Player="Player",t.Traffic="Traffic",t.Widget="Widget",t.TopicFeed="TopicFeed",t.CasualGame="CasualGame",t.Horoscope="Horoscope"}(i||(i={}))},12034:function(t,e,n){n.d(e,{l:function(){return c},lQ:function(){return s}});var i=n(93468),r=n(65022);var o=n(17254);n(94623);"object"!=typeof window||!window.chrome||window.chrome.webview,new class{constructor(){this._isTrue=!1,this.onTrueCallbacks={}}isTrue(){return this._isTrue}reset(){this._isTrue=!1,this.onTrueCallbacks={}}sub(t,e){this._isTrue?e&&e():t&&e&&"function"==typeof e&&(this.onTrueCallbacks[t]=e)}unsub(t){t&&this.onTrueCallbacks[t]&&delete this.onTrueCallbacks[t]}setTrue(){if(this._isTrue)return;this._isTrue=!0;Object.keys(this.onTrueCallbacks).forEach(t=>{this.onTrueCallbacks[t]&&this.onTrueCallbacks[t]()}),this.onTrueCallbacks={}}};const s=()=>{let t=!1,e=!1;try{const{shellFeedsExperienceInfo:n}=c()||{};if(!n)return!1;t=0===n.buttonInteraction,e=n.isWebviewVisible}catch(t){return(0,i.vV)(r.s2B,"Error with shellFeedsExperienceInfo API for isWindowShellPageInBackground",`Thrown error: ${t}`),!1}return u("prg-1sw-wv2bgup")?t:u("prg-1sw-2wv2bgup")?!e:u("prg-1sw-3wv2bgup")?t||!e:!e&&t};const a=u("prg-1sw-apiproxy"),c=()=>{if(window.ShellFeedsApp)return a?new Proxy(window.ShellFeedsApp,{get(t,e,n){try{if("isProxy"===e)return!0;if("toJSON"===e)return()=>function(t){const e={},n=Object.getOwnPropertyNames(t);for(const i of n)e[i]=t[i];return JSON.stringify(e)}(t);if("shellFeedsExperienceInfo"===e||"authManager"===e)return new Proxy(t[e]||{},this);const n=e in t?t[e]:void 0;return"function"==typeof n?n.bind(t):n}catch(t){!function(t,e){(0,i.c_)(e||new Error("Property not found"),r.s2B,"shellFeedsAppApi error",`API: ${t}`)}(e,t)}}}):window.ShellFeedsApp};!function(){try{const{shellFeedsExperienceInfo:t}=c()||{};return!!t&&!1===t.showPinToTaskbarBanner}catch(t){return!1}}();function u(t){return(o.T3&&o.T3.CurrentRequestTargetScope&&o.T3.CurrentRequestTargetScope.pageExperiments||[]).includes(t)}},12426:function(t,e,n){n.d(e,{B1:function(){return a},Bh:function(){return m},ES:function(){return u},LQ:function(){return c},PI:function(){return l},Qc:function(){return y},et:function(){return b},fI:function(){return p},gR:function(){return v},gf:function(){return S},iw:function(){return f},mX:function(){return h},nS:function(){return w},u0:function(){return d}});var i=n(17254),r=n(46261),o=n(12870),s=n(52684);function a(t){return(0,r.fn)(t)}function c(t){return(void 0!==t.latitude||void 0!==t.longitude)&&(!a(t)||""+t.latitude=="-1"&&""+t.longitude=="-1")}function u(t){const e=i.T3.AppType;return["windowsShell","windows","windowsNewsPlus","winWidgets"].indexOf(e)>=0?!(!t||!(t.addressLine||t.locality||t.region)):"zh-cn"===t.language||"CN"===t.isoCode?!(!t||!(t.addressLine||t.locality||t.subRegion||t.addressLine)):!(!t||!t.locality&&!t.addressLine)}function l(t){const e=o.Rb.Locale;return t&&t.language&&(t.language===e||/en-/i.test(t.language)&&/en-/i.test(e))}function d(t){return(/,g=([a-z]+-[a-z]+)$/i.exec(t)||[])[1]}function f(){if(o.Rb.ClientSettings&&o.Rb.ClientSettings.geo_lat&&o.Rb.ClientSettings.geo_long&&""!==o.Rb.ClientSettings.geo_lat&&""!==o.Rb.ClientSettings.geo_long){const t={latitude:o.Rb.ClientSettings.geo_lat,longitude:o.Rb.ClientSettings.geo_long,locality:o.Rb.ClientSettings.geo_city,region:o.Rb.ClientSettings.geo_subdivision,country:o.Rb.ClientSettings.geo_countryname,isoCode:o.Rb.ClientSettings.geo_country,isDetected:!0,language:"en-us"};return t.region=(0,s.abbreviateUSState)(t.region,t.language,t.isoCode),t.displayName=(0,r.Mn)(t),t}return null}function h(t){if(t)return t.el?`el=[${t.el}]`:`lat=${t.latitude},long=${t.longitude}`}function p(t){return`${t.latitude},${t.longitude}`}function m(t){return`${g(t.latitude)},${g(t.longitude)}`}function g(t){const e="number"==typeof t?t:parseFloat(t);return Math.trunc(1e3*e)/1e3}function v(t,e){if(!t)return!1;for(const n of t)if(y(n,e))return!0;return!1}function w(t,e,n){return!(!t||!e)&&(0,r.Mn)(t,n)===(0,r.Mn)(e,n)}function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){let i=""+(t[0]||t.latitude),r=""+(e[0]||e.latitude),o=""+(t[1]||t.longitude),s=""+(e[1]||e.longitude);return n&&(i=g(i).toString(),o=g(o).toString(),r=g(r).toString(),s=g(s).toString()),i===r&&o==s}return!1}function b(t,e){return!(!t||!e)&&((0,r.B4)(t)!=(0,r.B4)(e)&&(0,r.Mn)(t)!==(0,r.Mn)(e))}function S(t,e){return!(!t||!e)&&(w(t,e)&&y(t,e,!0))}},12773:function(t,e,n){var i;n.d(e,{B:function(){return i}}),function(t){t.PageInit="AST.CustomEvent.msnPageInit",t.AdTargettingPageKeywordsReady="AST.CustomEvent.msnKeywordReady"}(i||(i={}))},12870:function(t,e,n){n.d(e,{Th:function(){return T},Rb:function(){return $}});var i=n(33918),r=n(84397),o=n(17720),s=n(16091),a=n(27261),c=n(77246),u=n(67387),l=n(28024),d=n(19548),f=n(89980),h=n(43889),p=n(28828),m=n(93468),g=n(65022),v=n(88294),w=n(54733);function y(t){return"shd_"+t}var b=n(78629),S=n(10160),x=n(98216);const C="__HeadDataInstance__";class k{get Locale(){return this.locale}get MarketDir(){return this.marketDir}set MarketDir(t){this.marketDir=t}get CurrentFlights(){return this.currentFlights||""}set CurrentFlights(t){var e;this.currentFlights=t,this.currentFlightSet=new Set((t||"").split(",")),null!==(e=this.currentFlightSet)&&void 0!==e&&e.has(i.r7)||this.setSweeperStoredHeadData(r.GD.FlightIdKey,this.currentFlights)}get AppFlights(){return this.appFlights}get CurrentFlightSet(){return this.currentFlightSet}get ClientSettings(){return this.clientSettings}set ClientSettings(t){this.clientSettings=t}get Diagnostics(){return this.diagnostics}set Diagnostics(t){this.diagnostics=t}get EnableCMSPPEConfigs(){return this.enableCMSPPEConfigs}get EdgeNTPHeader(){return this.edgeNTPHeader}set EdgeNTPHeader(t){this.edgeNTPHeader=t}get UserIsSignedIn(){return this.userIsSignedIn}get IsPreload(){return this.isPreload}set IsPreload(t){this.isPreload=t}get IsPrerender(){return this.isPrerender}set IsPrerender(t){this.isPrerender=t}get IsBlendedEnterprise(){return this.isBlendedEnterprise}set IsBlendedEnterprise(t){this.isBlendedEnterprise=t}get IsServiceWorkerCache(){return this.isServiceWorkerCache}get LastKnownAppVersion(){return this.lastKnownAppVersion}get AnonCookieName(){return this.anonCookieName}set AnonCookieName(t){this.anonCookieName=t}get SsoComplete(){return this.ssoComplete}get AadState(){return this.aadState}set AadState(t){this.aadState=t}set LocaleName(t){this.locale=t}get SelectedFeedPivot(){return this.selectedFeedPivot}set SelectedFeedPivot(t){this.selectedFeedPivot=t}get LastSelectedPivot(){return this.lastSelectedPivot}set LastSelectedPivot(t){this.lastSelectedPivot=t}get SwitchedPivot(){return this.switchedPivot}set SwitchedPivot(t){this.switchedPivot=t}get AdsNumberLines(){return this.adsNumberLines||""}set AdsNumberLines(t){this.adsNumberLines=t}constructor(t){this.currentFlightSet=new Set,this.enableCMSPPEConfigs=!1,this.initializeHeadData(t)}static getInstance(){return o.vv.get(C,()=>new k)}static resetInstance(t){const e=new k(t);return o.vv.set(C,e),$=(0,s.G)(k),$}initializeHeadData(t){if(t)return void this.initializeFromData(t);if(this.newRidNeeded=void 0,this.lastUsedActivityIdBacking=void 0,this.locationSearch=(0,a.iA)(),this.htmlElement=(0,c.S)()?(0,a.F)(u.oC.html)[0]:null,this.headElement=(0,c.S)()?(0,a.F)(u.oC.head)[0]:null,this.applicationCache=(0,c.S)()?window.applicationCache:null,this.selectedFeedPivot="",this.widgetSettingsElement=(0,c.S)()?(0,a.V)(S.V3)[0]:null,!this.htmlElement||!this.headElement)return;this.initializeFromDom(),window&&window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&(this.isServiceWorkerCache=!0),(this.isServiceWorkerCache||window.__useCachedApp)&&(this.initializeFromStorage(),this.initializeLastUsedActivityId());const e=(0,l.YP)(this.clientSettings&&this.clientSettings.locale),n=this.clientSettings&&e&&e.language&&e.market;this.locale=n?(0,l.Ah)(e):"";const i=this.htmlElement.getAttribute(u.y_);this.marketDir=i&&i.toLocaleLowerCase()||"",this.setQueryItemProvidedValues();const r=(this.widgetSettingsElement||this.headElement).getAttribute(u.js);if(r){const t=(0,p.B)(r);this.anonCookieName=t.anonckname,this.userIsSignedIn=1===t.signedin}d._3.getQueryParameterByName("backgroundpreload",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPreload=!0,this.logDocumentVisibility()),d._3.getQueryParameterByName("prerender",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPrerender=!0,this.logDocumentVisibility()),(0,c.S)()&&window.ShellFeedsApp&&window.ShellFeedsApp.shellFeedsExperienceInfo&&!window.ShellFeedsApp.shellFeedsExperienceInfo.isWebviewVisible&&0===window.ShellFeedsApp.shellFeedsExperienceInfo.buttonInteraction&&(this.isPreload=!0),this.setIsBlendedEnterprise(),this.maybeUpdateNewTabPageLinkIcon()}get lastUsedActivityId(){if(this.lastUsedActivityIdBacking)return this.lastUsedActivityIdBacking;const t=this.getStoredActivityIdKey(),e=(0,f.Lg)().getItem(t);return e&&(this.lastUsedActivityIdBacking=(0,p.B)(e)),this.lastUsedActivityIdBacking}set lastUsedActivityId(t){const e=this.getStoredActivityIdKey();if(t){if(t.id&&t.ts){try{(0,f.Lg)().setItem(e,JSON.stringify(t),!1)}catch(t){const e=t&&t.message;(0,x.RO)().then(()=>{(0,m.vV)(g.Ys5,e)})}this.lastUsedActivityIdBacking=t}}else(0,f.Lg)().removeItem(e)}get storedHeadData(){return function(t){const e=y(t),n=(0,f.Lg)().getItem(e);return n?(0,p.B)(n):null}(this.clientSettings.pagetype)}set storedHeadData(t){!function(t,e){const n=y(t);e?(0,f.Lg)().setItem(n,JSON.stringify(e)):(0,f.Lg)().removeItem(n)}(this.clientSettings.pagetype,t)}initializeFromData(t){var e,n;this.clientSettings=t.clientSettings,this.edgeNTPHeader=t.edgeNTPHeader,this.selectedFeedPivot=null===(e=t.edgeNTPHeader)||void 0===e?void 0:e.selectedFeedPivot,this.setFlights(t.clientInfo),this.appFlights=(0,l.lC)(t.canvasInfo),this.setQueryItemProvidedValues();const i=(0,l.YP)(this.clientSettings&&(null===(n=this.clientSettings)||void 0===n?void 0:n.locale)),r=this.clientSettings&&i&&i.language&&i.market;this.locale=r?(0,l.Ah)(i):"",this.marketDir=t.marketDir&&t.marketDir.toLocaleLowerCase()||"",this.setIsBlendedEnterprise()}initializeFromDom(){const t=this.widgetSettingsElement||this.headElement;this.setFlights(t.getAttribute(u.pq)),this.appFlights=(0,l.lC)(t.getAttribute(u.Xp)),this.setAdsNumberLines(t.getAttribute(u.Nn));const e=t.getAttribute(u.Ah);if(!e)return;if(this.clientSettings=(0,p.B)(e),!this.clientSettings)return;const n=t.getAttribute(u.gR);this.diagnostics=(0,p.B)(n),this.calculateForwardableParams();const{pagetype:i}=this.clientSettings;if(!i){const e=t.getAttribute(u.PO);this.clientSettings.pagetype=null==e?void 0:e}if(i)try{const t=(0,f.Lg)().getObject(u.k2.pageVersions)||{};this.lastKnownAppVersion=t[i];const{bundleInfo:e}=this.clientSettings;e&&this.lastKnownAppVersion!==e.v&&(t[i]=e.v,(0,f.Lg)().setObject(u.k2.pageVersions,t))}catch{v.v.log(`${this.logPrefix()} couldn't complete local storage related operation.`)}}initializeFromStorage(){const t=this.storedHeadData;t&&this.populateFromApiResponse(t)}populateFromApiResponse(t){if(!t)return;const e=t.clientSettings,n=t.info;if(this.appFlights=(0,l.lC)(t.canvasInfo),!e||!n)return;if(this.clientSettings.pageGenTime>=e.pageGenTime)return void(this.storedHeadData=null);const i=this.clientSettings.queryparams,r=this.clientSettings&&this.clientSettings.bundleInfo&&this.clientSettings.bundleInfo.v;this.clientSettings=e,this.clientSettings.bundleInfo=Object.assign(this.clientSettings.bundleInfo||{},{v:r}),this.clientSettings.queryparams=i,this.calculateForwardableParams(),this.setFlights(n)}calculateForwardableParams(){const t=this.clientSettings?this.clientSettings.queryparams:"";if(!t)return;const e=t.toLocaleLowerCase(),n=["fdhead","item"].map(t=>{const n=d._3.getQueryParameterByName(t,e);return n?`${t}=${encodeURIComponent(n)}`:null}).filter(t=>t);this.clientSettings.forwardablequeryparams=n.join("&")}initializeLastUsedActivityId(){const t=this.lastUsedActivityId,e=this.clientSettings.aid,n=(0,w.A)(this.clientSettings.pageGenTime).getTime();this.newRidNeeded=!(!t||!n||t.id!==e);const i="edgeChromium"!==this.clientSettings.apptype||window.ssrExtensionLoaded;n&&(!t||n>t.ts)&&i&&(this.lastUsedActivityId={id:e,ts:n})}setFlights(t){this.CurrentFlights=((/f:\s*([^;]+)/i.exec(t)||{})[1]||"").toLowerCase(),this.currentFlightSet=new Set(this.currentFlights.split(","))}setSweeperStoredHeadData(t,e){if(!t)return;const n=y("sweeper"),i=h.sZ.getObject(n)||{};e?i[t]=e:delete i[t],h.sZ.setObject(n,i)}setIsBlendedEnterprise(){this.IsBlendedEnterprise=this.clientSettings&&"enterprise"===this.clientSettings.audienceMode&&this.clientSettings.browser&&"edgeChromium"===this.clientSettings.browser.browserType&&parseInt(this.clientSettings.browser.version)>=b.Wb}setQueryItemProvidedValues(){const t=d._3.getParamsWithItems((0,a.iA)(),!0),e=t.find(t=>"cms"===t.key);this.enableCMSPPEConfigs=e&&"ppe"===e.value,this.setCurrentFlightsTestOverride(t)}setCurrentFlightsTestOverride(t){if((0,a.VQ)().toLowerCase().includes("localhost")&&t){const e=t.find(t=>"flights"===t.key);e&&(this.currentFlights=e.value,this.currentFlightSet=new Set(this.currentFlights.split(",")))}}setAdsNumberLines(t){this.AdsNumberLines=(/^f:\s*([^;]+)/i.exec(t)||{})[1]||""}getStoredActivityIdKey(){return"sai_"+this.clientSettings.pagetype}logPrefix(){return"HeadData:"+((0,c.S)()?"":` [Head:${this.widgetSettingsElement||this.headElement}] and [Html:${this.htmlElement}]`)}logDocumentVisibility(){(0,c.S)()&&((0,g.RWs)({isVisible:"visible"===document.visibilityState}),document.addEventListener("visibilitychange",()=>{(0,g.RWs)({isVisible:"visible"===document.visibilityState})}))}maybeUpdateNewTabPageLinkIcon(){var t,e,n;if(null===(t=this.CurrentFlightSet)||void 0===t||!t.has("prg-newntpicon")||"edgeChromium"!==(null===(e=this.clientSettings)||void 0===e?void 0:e.apptype))return;const i="localhost.msn.com"===(0,a.VQ)()?"https://assets.msn.com/statics/icons/ntp-favicon.png":"https://assets.msn.com/statics/icons/favicon_newtabpage.png",r=Array.from((null===(n=document)||void 0===n||null===(n=n.head)||void 0===n?void 0:n.getElementsByTagName("link"))||[]).find(t=>t.href===i);r&&(r.href="https://assets.msn.com/staticsb/statics/pr-5433783/edge-favicon/edge_ntp_favicon.png")}}const T=k.getInstance;let $=(0,s.G)(k)},13053:function(t,e,n){n.d(e,{D:function(){return r},b:function(){return o}});var i=n(77246);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.S)()&&window.requestAnimationFrame(()=>window.setTimeout(()=>t(),e))}async function o(){return new Promise(t=>r(t))}},13113:function(t,e,n){n.d(e,{Ap:function(){return h},GQ:function(){return y},LN:function(){return x},VH:function(){return p},VY:function(){return w},Yy:function(){return m},gV:function(){return f},k4:function(){return v},m3:function(){return C},q:function(){return b},ro:function(){return g},tX:function(){return S}});var i=n(93914),r=n(77246),o=n(5831),s=n(15098);const a="uxlogin",c="uxlogout",u="uxedit",l="useRedirect",d="uxswitch",f=(0,s.L)(()=>{const t=(0,i.Y)();return t&&"1"===t.getItem(a)||(0,r.S)()&&location.search&&location.search.includes(`${a}=1`)});function h(){const t=(0,i.Y)();t&&f()&&(t.removeItem(a),f.cache.clear())}const p=(0,s.L)(()=>{const t=(0,i.j)();return t&&!!t.getItem(c)});function m(){const t=(0,i.j)();t&&p()&&(t.removeItem(c),p.cache.clear())}function g(){const t=(0,i.j)();t&&t.setItem(c,"1"),p.cache.clear()}const v=(0,s.L)(()=>{const t=(0,i.Y)();return t&&"1"===t.getItem(u)});function w(){const t=(0,i.Y)();t&&v()&&(t.removeItem(u),v.cache.clear())}const y=(0,s.L)(()=>{const t=(0,i.Y)();return!(0,o.GO)("prg-noredirect")&&t&&"1"===t.getItem(l)&&function(){const{browser:t}=window._clientSettings||{},{browserType:e=""}=t||{};return!!/safari/i.test(e)}()});function b(){const t=(0,i.Y)();t&&"1"===t.getItem(l)&&(t.removeItem(l),y.cache.clear())}function S(){const t=(0,i.Y)();t&&t.setItem(l,"1"),y.cache.clear()}const x=(0,s.L)(()=>{const t=(0,i.Y)();return t&&"1"===t.getItem(d)});function C(){const t=(0,i.Y)();t&&x()&&(t.removeItem(d),x.cache.clear())}},13629:function(t,e,n){n.d(e,{As:function(){return c},Se:function(){return s},pB:function(){return a}});const i={PLACE:"Place",LOCAL_BUSINESS:"LocalBusiness",ADDRESS:"PostalAddress"},r={ADDRESS:"Address",ROAD:"Road"};var o;function s(t){return t.locationType===o.HYPERLOCAL||t.locationType===o.UNKNOWN}function a(t){return!(null==t||!t.locationType||t.locationType!==o.HYPERLOCAL&&t.locationType!==o.NONHYPERLOCAL&&t.locationType!==o.UNKNOWN)}function c(t,e){switch(t){case i.PLACE:return o.NONHYPERLOCAL;case i.LOCAL_BUSINESS:return o.HYPERLOCAL;case i.ADDRESS:return e===r.ADDRESS?o.HYPERLOCAL:e===r.ROAD?o.NONHYPERLOCAL:o.UNKNOWN;default:return o.UNKNOWN}}!function(t){t[t.HYPERLOCAL=101]="HYPERLOCAL",t[t.NONHYPERLOCAL=102]="NONHYPERLOCAL",t[t.UNKNOWN=103]="UNKNOWN"}(o||(o={}))},14012:function(t,e,n){n.d(e,{GN:function(){return g},Hx:function(){return f},Lx:function(){return m},Wl:function(){return d},XL:function(){return o},hp:function(){return v},mo:function(){return l},sV:function(){return a},vO:function(){return u},yj:function(){return c}});var i=n(77246);const r=["vendors","microsoft","common","common-daily","common-alternate-daily","common-biweekly","common-monthly","experience","widget-initializer"];function o(t){if(t&&performance.getEntriesByType){const e=y();for(const n of r){const i=w(n,e);i&&h(t,i,n+"JS")}}}const s="resolver/api/resolve";function a(t){if(t&&performance.getEntriesByType){const e=performance.getEntries().find(t=>t.name.indexOf(s)>0);e&&h(t,e,"CrsConfig")}}function c(t){if(t&&performance.getEntriesByType){const e=y();for(const n of r){const i=w(n,e);i&&p(t,i,n+"JS")}}}function u(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("navigation");if(e&&e.length){const n=e[0];n&&(h(t,n,"html"),window.ssrPageGenTime&&(t.htmlCacheAge=Math.round((Date.now()-window.ssrPageGenTime.valueOf())/6e4)))}}}function l(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("resource");if(e&&e.length){const n=e.find(t=>t.name.indexOf("/Feed/me")>=0||t.name.indexOf("/feed/pages/startmhp")>=0);n&&h(t,n,"feed")}}}function d(t){if(!(0,i.S)()||!t)return;const e=navigator;if(e.connection){const n=e.connection;"rtt"in n&&(t.rtt=n.rtt),"downlink"in n&&(t.downlink=n.downlink),"effectiveType"in n&&(t.effectiveType=n.effectiveType)}"hardwareConcurrency"in navigator&&(t.hardwareConcurrency=navigator.hardwareConcurrency)}function f(t){t&&(t.isIDBSupported=window.indexedDB?1:0,t.isSWSupported=window.navigator.serviceWorker?1:0,t.isWWPresent=window._isWebWorkerPresent?1:0)}function h(t,e,n){const i=m(e);null!=i&&(t[n+"Cached"]=i?1:0)}function p(t,e,n){const{startTime:i,fetchStart:r,requestStart:o,responseStart:s,responseEnd:a,duration:c}=e;t[n+"ResponseTime"]=Math.round(a-s),t[n+"ResponseStart"]=Math.round(s),t[n+"ResponseEnd"]=Math.round(a),t[n+"StartTime"]=Math.round(i),t[n+"FetchStart"]=Math.round(r),t[n+"RequestStart"]=Math.round(o),t[n+"Duration"]=Math.round(c)}function m(t){return void 0!==t.transferSize?!(0!==t.transferSize&&300!==t.transferSize):void 0!==t.nextHopProtocol?!(""!==t.nextHopProtocol):void 0}function g(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("navigation");if(e.length){const n=e[0],i="useragent_launch";"type"in n&&(t.isBrowserLaunch=n.type===i?1:0)}}}function v(){return performance.getEntriesByType("navigation")[0]}function w(t,e){const n=e.filter(e=>e.name.indexOf(`/${t}.`)>-1);return n[n.length-1]}function y(){const t=["script","other"];return performance.getEntriesByType("resource").filter(e=>t.includes(e.initiatorType))}},14256:function(t,e,n){var i;n.d(e,{b:function(){return i}}),function(t){t.OneColumn="OneColumn",t.TwoColumn="TwoColumn",t.ThreeColumn="ThreeColumn",t.FourColumn="FourColumn",t.FiveColumn="FiveColumn",t.Any="Any"}(i||(i={}))},14383:function(t,e,n){var i,r,o,s;n.d(e,{Yw:function(){return o},zH:function(){return a}}),function(t){t.activityId="x-client-activityid",t.authorization="Authorization",t.entAuthorization="Ent-Authorization",t.muid="MUID",t.adsReferer="ads-referer",t.taboolaSessionId="taboola-sessionId"}(i||(i={})),function(t){t.actionType="actionType",t.activityId="activityId",t.adsTimeout="adsTimeout",t.apiKey="apikey",t.appType="apptype",t.audienceMode="audienceMode",t.aver="aver",t.bypassTrigger="bypass_trigger",t.cacheBypassQueryStringParamName="cbypass",t.cardsHeight="cardsHeight",t.channel="channel",t.channels="channels",t.cm="cm",t.complexInfoPaneEnabled="cipenabled",t.contentId="contentId",t.contentType="contentType",t.copilotApiSupported="copilotApiSupported",t.delta="delta",t.devicetype="devicetype",t.disableContent="disablecontent",t.dhp="dhp",t.disableTypeSerialization="DisableTypeSerialization",t.dprValue="dprValue",t.duotone="duotone",t.edgExpMask="edgExpMask",t.edgeSignalAdppc="adppc",t.widgetsOn="widgetsOn",t.gamingInterestId="gamingInterestId",t.infopaneCount="infopaneCount",t.fcl="fcl",t.fdhead="fdhead",t.feedColumn="feedColumn",t.feedParams="feedParams",t.feedLayoutRequestType="t",t.filter="$filter",t.followersCount="followersCount",t.feedYOffset="feedYOffset",t.idfc="idfc",t.ids="ids",t.infoPaneItemCount="t =InfoPane.itemCount",t.isAdb="isAdb",t.lastRowAdColumns="lastRowAdColumns",t.location="location",t.market="market",t.memory="memory",t.msnup="msnup",t.newsTop="newsTop",t.newsSkip="newsSkip",t.ocid="ocid",t.oem="oem",t.oneSvcUni="OneSvc-Uni-Feat-Tun",t.over="over",t.overlay="overlay",t.pageName="pgname",t.pageType="pgtype",t.parentContentId="parent-content-id",t.parentNamespace="parent-ns",t.parentTitle="parent-title",t.queryQ="q",t.query="query",t.queryType="queryType",t.qScope="qscope",t.renderedAdCount="renderedAdCount",t.responseSchema="responseSchema",t.satoriId="satoriId",t.select="$select",t.session="session",t.signInCookieName="scn",t.skip="$skip",t.smode="smode",t.source="source",t.targetType="targetType",t.theme="theme",t.timeOut="timeOut",t.top="$top",t.type="type",t.User="User",t.user="user",t.userid="userid",t.usri="usri",t.wpoitems="wpoitems",t.wpoPageId="wpopageid",t.wpoSchema="wposchema",t.wrapOData="wrapodata",t.caller="caller",t.installedWidgets="installedWidgets",t.clientLayoutVersion="clv",t.pageConfiguration="pgc",t.requestId="rid",t.interestIds="InterestIds",t.providerId="ProviderId",t.topicId="TopicId",t.includeFollowingFilters="iff",t.freScenario="freScenario",t.freMode="freMode",t.mobile="mobile",t.clientLocation="clientLocation",t.clientLocationProvider="clientLocationProvider",t.clientLocationAccuracy="clientLocationAccuracy",t.clientLocationTimeStamp="clientLocationTimeStamp",t.clientUtcOffset="clientUtcOffset",t.clientTimeStamp="clientTimeStamp",t.collectionIds="collectionIds",t.endTime="EndTime",t.eventType="EventType",t.exchangeCode="ExchangeCode",t.listIds="listIds",t.requireQuoteDetail="requireQuoteDetail",t.skipNum="skip",t.startTime="StartTime",t.topNum="top",t.prerender="prerender",t.layout="layout",t.triggerModules="triggerModules",t.promoXFeed="promoxfeedupsell",t.canid="canid",t.edgeNoAds="edgenoads",t.edgeReduceAds="edgereduceads",t.edgeMobile="edgeMobile",t.edgeMobileAds="edgeMobileAds",t.oneULayout="oneULayout",t.private="private",t.viewportSize="vpSize",t.promotion="promotion",t.selection="selection",t.cardIds="cardIds",t.renderedSegments="renderedSegments",t.column="column",t.colstatus="colstatus",t.colwidth="colwidth",t.adoffsets="adoffsets",t.l3v="l3v",t.wpoux="wpoux",t.cookieWallPresent="cookieWallPresent",t.anaheimPageLayout="anaheimPageLayout",t.adRefreshVariant="adRefreshVariant",t.gdpr="gdpr",t.verticalName="verticalName",t.pageOcid="pageOcid",t.scenario="scenario",t.calendarStartDate="calendarStartDate",t.calendarEndDate="calendarEndDate",t.calendarDate="calendarDate",t.segment="segment",t.context="Context",t.backgroundImageIsSet="backgroundImageIsSet",t.inEdgeFeatures="inEdgeFeatures",t.revertTimes="revertTimes",t.adminDisabled="adminDisabled",t.interestCount="interestCount",t.interestSkip="interestSkip",t.communityProfileId="communityProfileId",t.newProfFreTime="newProfFreTime",t.newDevFreTime="newDevFreTime",t.webUrl="WebUrl",t.enableRuby="enableRuby",t.isRubyEligible="isRubyEligible",t.assetId="assetId",t.uxMode="uxmode",t.isWebPDisabled="isWebPDisabled",t.unusedDocIds="unusedDocIds",t.gemId="gemId",t.aspectratio="aspectratio",t.ssrcache="ssrcache",t.linear="linear"}(r||(r={})),function(t){t[t.oneService=0]="oneService",t[t.wpoService=1]="wpoService"}(o||(o={})),function(t){t.Bgtask="bgtask",t.Api="api",t.App="app",t.RetryFetch="retryFetch",t.Scroll="scroll",t.Init="init",t.BgRefresh="bgRefresh"}(s||(s={}));const a="installedWidgetsOverride"},14391:function(t,e,n){n.d(e,{nf:function(){return C},Qo:function(){return S}});var i=n(7258),r=n(65022),o=n(88294),s=n(49084),a=n(85766),c=n(65432),u=n(17720);const l="__core_auth_authHeaderPromiseParts__",d=()=>u.vv.get(l);!function(){let t;const e={promise:new Promise(e=>t=e),resolver:t};u.vv.set(l,e)}();var f=n(8440),h=n(30158),p=n(23572),m=n(8353),g=n(98216),v=n(53064),w=n(68288),y=n(33292),b=n(34100);async function S(){let t,e,n;const o=(0,p.aK)(),u=o&&o.startMeasure("tryInitiateEarlyAuth").endMeasure;try{if((0,h.$O)()){t="auth-Widget";e=(await(0,h.f7)()).tokenValue?2:1}else if((0,s.lp)()){t="auth-EdgeProfile";e=(0,a.eM)().isSignedIn}else if((0,s.Wm)()){t="auth-ProfileSwitch";const n=(0,p.Kq)("ProfileSwitch"),i=await(0,m.Sg)();n(),e=(0,f.Rk)(i)?2:1}else if((0,s._v)()){t="auth-EarlyToken";const n=(0,p.Kq)("EarlyToken"),i=await(0,m.r8)();n(),e=(0,f.Rk)(i)?2:1}else if((0,s.$_)()){t="auth-EarlySSO";const n=(0,p.Kq)("EarlySSO"),i=await x(!0);n(),e=(0,f.FM)(i)?2:1}else if((0,s.FS)()){t="auth-TokenCache";const n=(0,c.hF)();e="valid"===n?2:"notAvailable"===n?1:0}}catch(t){n="auth-Error",e=0,v.xf.addAuthRecord(b.B.singleSignOn,`tryInitiateEarlyAuth: Error ${(0,i.M5)(t)}`),(0,y.$)(r.C7K,"Unknown tryInitiateEarlyAuth error",t)}null!=e?((0,w.OV)(e),!(0,s.lp)()&&(async()=>{const t=(0,s.nf)()?await(0,m.a8)():(0,s.HN)();var e;e=t?(0,s.LK)(t.accessToken):null,d().resolver(e)})(),v.xf.addAuthRecord(b.B.singleSignOn,`tryInitiateEarlyAuth: Finalized sign in state ${e} from ${t}`),n=`${t}-${e}`):n||(n=["auth-NA","DAUsage"+((0,s.FS)()?"1":"0"),"OldState"+((0,s.SM)()?"1":"0")].join("-")),g.YT.addOrUpdateTmplString(n),u&&u({customSuffix:n})}async function x(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=(0,p.aK)(),n=e&&e.startMeasure("initiateSSOCore").endMeasure,i=(0,s.FS)(),a=i?"MSAL":"Error";let c,u;return o.v.log(`dual-auth: initiateSSOCore: Starting ${a} auth flow ${t?"with timeout":""}`),i?(c=await(0,f.uS)(t),u=(0,f.FM)(c)?"Success":"Fail",v.xf.addAuthRecord(b.B.singleSignOn,`initiateSSOCore: ${u} - SSO data from the ${a} auth flow ${t?"with timeout":""}`)):((0,y.$)(r.CKB,"Dual auth usage is not enabled for a flow that expects it"),u="Error"),n&&n({customSuffix:`${a}-${u}`}),c}function C(t){return(0,f.FM)(t)?2:1}},14586:function(t,e,n){var i;n.d(e,{$4:function(){return F},$W:function(){return s},$Z:function(){return v},$m:function(){return S},An:function(){return c},CD:function(){return m},Ci:function(){return a},D:function(){return o},Eh:function(){return I},HW:function(){return x},LI:function(){return W},OJ:function(){return _},Oj:function(){return u},Q:function(){return $},Qw:function(){return r},Se:function(){return b},Xd:function(){return w},Y9:function(){return T},Yf:function(){return y},dV:function(){return H},ei:function(){return E},gi:function(){return R},iw:function(){return A},kH:function(){return k},ki:function(){return M},ku:function(){return d},lJ:function(){return L},le:function(){return N},nF:function(){return p},nm:function(){return h},rA:function(){return D},rE:function(){return g},tU:function(){return f},tZ:function(){return B},vc:function(){return P},w:function(){return O},w1:function(){return C},wg:function(){return l},yp:function(){return U}}),function(t){t.activityId="activityId",t.apiKey="apikey",t.audienceMode="audienceMode",t.bypassTrigger="bypass_trigger",t.cm="cm",t.complexInfoPaneEnabled="cipenabled",t.contentType="contentType",t.delta="delta",t.disableContent="disablecontent",t.disableTypeSerialization="DisableTypeSerialization",t.dprValue="dprValue",t.duotone="duotone",t.infopaneCount="infopaneCount",t.fdhead="fdhead",t.feedLayoutRequestType="t",t.filter="$filter",t.includeFollowingFilters="iff",t.ids="ids",t.interestIds="InterestIds",t.location="location",t.market="market",t.newsSkip="newsSkip",t.newsTop="newsTop",t.ocid="ocid",t.pageConfiguration="pgc",t.parentContentId="parent-content-id",t.parentNamespace="parent-ns",t.parentTitle="parent-title",t.providerId="ProviderId",t.queryQ="q",t.query="query",t.queryType="queryType",t.qScope="qscope",t.requestId="rid",t.responseSchema="responseschema",t.select="$select",t.session="session",t.signInCookieName="scn",t.skip="$skip",t.source="source",t.timeOut="timeOut",t.top="$top",t.type="type",t.user="user",t.wrapOData="wrapodata",t.wpoitems="wpoitems",t.wpoPageId="wpopageid",t.wpoSchema="wposchema",t.caller="caller",t.dhp="dhp",t.webWorker="webWorker",t.edgeNoAds="edgenoads",t.edgeReduceAds="edgereduceads",t.column="column",t.anaheimPageLayout="anaheimPageLayout",t.adRefreshVariant="adRefreshVariant",t.gdpr="gdpr",t.verticalName="verticalName"}(i||(i={}));const r="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM",o="r3HOPDA7wzesCD1BWVDtCJY24KnBcvx7vLcbGvb7YU",s="cp_msn_news",a="cp_msn_gems",c="service/news/feed/pages/",u="serviceak/news/feed/pages/",l="news/feed/pages/",d="ntpxfeed",f="wpoxfeed",h="news/feed/pages/",p="winxfeed",m="wpodhp",g="gamingfeed",v="ntpfollowfeed",w="filteredfollowingchannels",y="prong1followfeed",b="prong1xfeed",S="prong2followfeed",x="followingxfeed",C="weblayout",k="ntpxfeed",T="prong2xfeed",$="news/feed/Segments",A="https://api.msn.com",I="https://sf-ppe.oneservice-test.msn.com",P="wpo-usebasedomain",_="wpo-useintdomain",M="https://ppe-api.msn.com",R="news/feed/pages/ntpxfeed",E="news/feed/pages/",F="xbox-browser",D="jY4a3fYtgzb7PIcW0Kj6amp5k6LwDefg6RSnkmxjto",O="prg-useakmaipath",N="prg-ssr-ext1sdns",U="msnkids",L="dy0rQcQaYj5cKZ2Cy0cdaRDJcC5maS5hPj9w2SbeRf",B="anaheim-ntp-following",W="vevII5dbHfpd1fHIMlPxbas6GZQEFOm4CozFHehOgW";function H(t,e){e.set("wrapodata","false").set("DisableTypeSerialization","true").set("queryType",t.queryType||"myfeed").set("timeOut",`${function(t){const{timeoutMs:e,query:n,customFeedTimeoutMs:i}=t;return n&&i?i:e}(t)}`).set("contentType",t.contentType).set("apikey",r),(t.useDelta||t.sessionId)&&(e.set("delta","true"),t.sessionId&&e.set("session",t.sessionId)),t.ocid&&e.set("ocid",t.ocid)}},14591:function(t,e,n){n.d(e,{ac:function(){return s},fC:function(){return r},lj:function(){return i},qy:function(){return o}});const i=new(n(38467).E)("LocationState");var r,o;function s(t,e,n){(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some(t=>!1===t)||i.set(o.Location,{source:n,location:t,locationMode:e})}!function(t){t[t.LocationEditor=1]="LocationEditor",t[t.WelcomeGreeting=2]="WelcomeGreeting",t[t.Feed=3]="Feed"}(r||(r={})),function(t){t[t.Location=1]="Location"}(o||(o={}))},14642:function(t,e,n){n.d(e,{A:function(){return s}});var i=n(56911),r=n(84471),o=n(38493);class s extends r._{}(0,i.Cg)([(0,o.CF)()],s.prototype,"id",void 0)},15003:function(t,e,n){n.d(e,{PP:function(){return u},TI:function(){return d},i6:function(){return l}});var i=n(53626),r=n(89980),o=n(34713);const s=new Set,a=[];let c=!1;function u(t){return s&&s.has(t)}function l(t){const e=(0,r.Lg)().getObject(i.WP)||{},n=e[t];isNaN(n)&&(e[t]=f(),(0,r.Lg)().setObject(i.WP,e))}function d(t){a&&!a.includes(t)&&a.push(t);const e={time:f(),data:t};(0,r.Lg)().setObject(i.CQ,e),function(){if(!(0,o.QP)()&&!(0,o.aG)()||c)return;c=!0,fetch(location.href.replace("prerender=1",""),{cache:"no-cache"})}()}function f(){return Math.round(performance.timeOrigin+performance.now())}},15098:function(t,e,n){function i(t){let e,n=!1;const i=function(){return n||(n=!0,e=t()),e};return i.cache={clear:()=>{n=!1,e=void 0}},i}n.d(e,{L:function(){return i}})},15173:function(t,e,n){n.d(e,{Lj:function(){return r},Yo:function(){return i},t4:function(){return u}});var i,r,o=n(98216),s=n(16091),a=n(17720);!function(t){t[t.adFetchInitializedCnt=0]="adFetchInitializedCnt",t[t.adRequestedCnt=1]="adRequestedCnt",t[t.adAvailableCnt=2]="adAvailableCnt",t[t.adNobidCnt=3]="adNobidCnt",t[t.adErrorCnt=4]="adErrorCnt",t[t.adRequestFailureCnt=5]="adRequestFailureCnt",t[t.adBadRequestCnt=6]="adBadRequestCnt",t[t.adTimeoutCnt=7]="adTimeoutCnt",t[t.adResponseReceivedCnt=8]="adResponseReceivedCnt",t[t.adBeforeFetchCnt=9]="adBeforeFetchCnt"}(i||(i={})),function(t){t[t.adRequestedCnt=0]="adRequestedCnt",t[t.adAvailableCnt=1]="adAvailableCnt",t[t.adNoBidCnt=2]="adNoBidCnt",t[t.adTimeoutCnt=3]="adTimeoutCnt",t[t.adErrorCnt=4]="adErrorCnt",t[t.adReturnedFromCacheCnt=5]="adReturnedFromCacheCnt",t[t.adEmptyResponseErrorCnt=6]="adEmptyResponseErrorCnt",t[t.adResponseFormatErrorCnt=7]="adResponseFormatErrorCnt",t[t.adInvalidResponseCnt=8]="adInvalidResponseCnt"}(r||(r={}));class c{constructor(){var t=this;this.hasRegisteredEventListener=!1,this.xdrLogValues=[],this.msxLogValues=[],this.adReqCnt=0,this.adReqTimeoutCnt=0,this.reportXandrAdsRequestBeforeUnload=()=>{null!==o.YT&&void 0!==o.YT&&o.YT.sendLoadTimeEvent&&o.YT.sendLoadTimeEvent({markers:{naAdReq:this.adReqCnt,xdrna:this.xdrLogValues.join("-"),msxna:this.msxLogValues.join("-"),adReqTimeoutCnt:this.adReqTimeoutCnt}})},this.logCount=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t.xdrLogValues.length){const e=Object.values(i).filter(t=>"number"==typeof t).length;t.xdrLogValues=new Array(e).fill(0)}t.registerLogFlushEventListenerIfNeeded(),e in i&&(t.xdrLogValues[e]+=n)},this.logCountForMSX=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t.msxLogValues.length){const e=Object.values(r).filter(t=>"number"==typeof t).length;t.msxLogValues=new Array(e).fill(0)}t.registerLogFlushEventListenerIfNeeded(),e in r&&(t.msxLogValues[e]+=n)},this.logRequestLevelCount=()=>{this.registerLogFlushEventListenerIfNeeded(),this.adReqCnt+=1},this.logRequestLevelTimeoutCount=()=>{this.registerLogFlushEventListenerIfNeeded(),this.adReqTimeoutCnt+=1}}static getInstance(){return a.vv.get("__LogHelper__",()=>new c)}registerLogFlushEventListenerIfNeeded(){this.hasRegisteredEventListener||(this.hasRegisteredEventListener=!0,window.addEventListener("beforeunload",this.reportXandrAdsRequestBeforeUnload,{once:!0}))}}const u=(0,s.G)(c)},15301:function(t,e,n){n.d(e,{k:function(){return c}});var i=n(93468),r=n(65022),o=n(77246),s=n(27261),a=n(3762);async function c(t){if(!(0,o.S)())return;const{src:e,id:n,async:c=!0,container:l=document.head,loadMode:d="skipIfExists",retryNumber:f=0,retryDelayMs:h=0}=t;if("skipIfExists"==d&&(u.has(n)||Boolean(document.getElementById(n))))return u.get(n);try{const t=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(e<=1)return t();let i,r=1;do{try{i=await t()}catch(t){if(r===e)throw t&&t.message&&(t.message=`${t.message} after ${r} attempts`),t;await(0,a.jh)(n)}}while(!i&&++r<=e);return i}(()=>function(t,e,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((r,o)=>{const a=(0,s.C7)(t,e,i,void 0,void 0,()=>r(!0));a.crossOrigin=void 0,a.onerror=o,n.append(a)})}(e,n,l,c),f,h);u.set(n,t),await t}catch(t){var p;throw(0,i.c_)(t,r.WqK,"Failed to download Static JS",void 0,{scriptId:n,scriptSrc:e}),null===(p=document.getElementById(n))||void 0===p||p.remove(),t}finally{u.delete(n)}}const u=new Map},15373:function(t,e,n){n.d(e,{uc:function(){return o}});var i=n(32633);let r={getAuthData:async t=>({resource:t,error:{message:"Auth manager is not initialized",status:i.f.OtherError}})};function o(){return r}},15398:function(t,e,n){n.d(e,{DD:function(){return u}});var i=n(94672),r=n(12870),o=n(17254),s=n(98216),a=n(943);const c=["windirect","winp0dash","winp1taskbar","winp2juntaskbar","winp2"];i.B.SectionHeaderGreetingTopStories,i.B.SectionHeaderTopStories;function u(t){return!(!function(){if("windows"===(0,a.e)().appType)return!0;const t=(function(){let t;try{location.search&&(t=new URLSearchParams(location.search.toLowerCase()).get("ocid")),t||(t=(0,a.e)().ocid),!t&&s.YT&&(t=s.YT.getPageMetadata().contract.page.ocid)}catch(t){}return t}()||"").toLowerCase();return c.includes(t)||t.startsWith("win")}()||!t)&&(-1!==r.Rb.CurrentFlights.indexOf(t.toLowerCase())&&function(t){const{markets:e=[]}=(0,i.V)()[t]||{};if(!e.length)return!0;return-1!==e.indexOf(o.T3.CurrentMarket)}(t))}},15507:function(t,e,n){n.d(e,{M:function(){return a}});var i=n(65022),r=n(93468),o=n(98216),s=n(77246);class a{constructor(t,e,n,i){this.chromiumApiRetryCount=5,this.isNtpPrivateApiAvailable=t=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[t],this.prefSettingKey=t,this.searchForKeyName=e,this.targetKeyName=n,this.defaultItem=i}async getPreferenceSetting(t,e){try{const n=await this.getPreferenceSettingValueArray(e),i=n.findIndex(e=>e[this.searchForKeyName]===t);return i>-1?n[i]:null}catch(e){const n=`Failed to find user preference key: ${t}`;return this.logAppError(i.r0p,n,e),null}}async savePreferenceSetting(t,e){try{const n=await this.getPreferenceSettingValueArray()||[],i=n.findIndex(e=>e[this.searchForKeyName]===t);if(i>-1){const t={...n[i],...e};n[i]=t}else{const i={...this.defaultItem,...e};i[this.searchForKeyName]=t,n.push(i)}return this.setAndSavePreferenceSetting(n)}catch(e){const n="Failed to store user preference setting";return this.logAppError(i.NVY,n,`Key:${t}.Error:${e}`),!1}}isApiAvailableToUse(){return new Promise(t=>{const e="Error in isApiAvailableToUse";try{this.isGoodToUseNtpSettingsPrivate("getAllPrefs")?void 0===this.isPrefSettingKeyAvailable?window.chrome.ntpSettingsPrivate.getAllPrefs(n=>{if(this.isPrefSettingKeyAvailable=n&&n.findIndex(t=>t.key===this.prefSettingKey)>-1,!this.isPrefSettingKeyAvailable){let t="";try{n&&n.forEach(e=>t+=`${e.key}+`)}catch(t){this.logAppError(i.r0p,"Error: Can not log keylist from preference setting",t)}this.logAppError(i.pUO,e,`missing preference key: ${this.prefSettingKey}, available keys: ${t}`)}t(this.isPrefSettingKeyAvailable)}):t(this.isPrefSettingKeyAvailable):(this.logAppError(i.Syp,e,"getAllPrefs not present"),t(!1))}catch(e){this.logAppError(i.Syp,"Error: Unexpected throw in isApiAvailableToUse",e),t(!1)}})}logAppError(t,e,n){null===o.YT||void 0===o.YT||o.YT.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:n,stack:Error().stack}})}async getPreferenceSettingValueArray(t){try{if(this.settingValuesArray&&!t)return this.settingValuesArray;{const t=await this.getPreferenceValueFromBrowser();return this.settingValuesArray=t||[],this.settingValuesArray}}catch(t){const e=`Failed to read ${this.prefSettingKey} preference setting`;return this.logAppError(i.tqL,e,t),[]}}setAndSavePreferenceSetting(t){if(!(0,s.S)())return!1;try{if(this.isGoodToUseNtpSettingsPrivate("setPref"))return this.settingValuesArray=t,window.chrome.ntpSettingsPrivate.setPref(this.prefSettingKey,this.settingValuesArray,c),!0;{const t="window.chrome.ntpSettingsPrivate.setPref does not exist.";return this.logAppError(i.cZD,t,`Key:${this.prefSettingKey}`),!1}}catch(t){return!1}}isGoodToUseNtpSettingsPrivate(t){let e=this.isNtpPrivateApiAvailable(t),n=0;for(;n<this.chromiumApiRetryCount&&!e;)n++,setTimeout(()=>{e=this.isNtpPrivateApiAvailable(t),e&&(0,r.vV)(i.W5k,`Chromium API retry succeed after ${n} retry`)},50);if(!e){const e=`functionName: ${t},\n            canUseDOM: ${(0,s.S)()},\n            windows: ${window},\n            document: ${window&&window.document},\n            createElement: ${window&&window.document&&window.document.createElement},\n            chrome: ${window&&window.chrome},\n            ntpSettingsPrivate: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate},\n            ntpSettingsPrivate funtions: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate&&Object.getOwnPropertyNames(window.chrome.ntpSettingsPrivate).toString()}\n            `;(0,r.vV)(i.huQ,"Failed to get funtion from window.chrome.ntpSettingsPrivate.",void 0,{...i.huQ.pb,customMessage:e,stack:Error().stack})}return e}getPreferenceValueFromBrowser(){return new Promise((t,e)=>{if(this.isGoodToUseNtpSettingsPrivate("getPref"))window.chrome.ntpSettingsPrivate.getPref(this.prefSettingKey,function(e){e&&e.value?t(e.value):t(null)});else{const t="window.chrome.ntpSettingsPrivate.getPref does not exist.";this.logAppError(i.r6S,t,""),e(t)}})}}let c=t=>{}},15589:function(t,e,n){var i;function r(t){switch(t){case i.prod:case i.staging:return i.prod;case i.int1:return i.int1;case i.int:case i.intpr:case i.intperf:return i.int;default:return null}}n.d(e,{F:function(){return r},O:function(){return i}}),function(t){t.prod="prod",t.staging="staging",t.int1="int1",t.int="int",t.intpr="intPR",t.intperf="intPerf"}(i||(i={}))},16091:function(t,e,n){n.d(e,{G:function(){return r}});var i=n(77246);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bindMethod:!0,forceLazy:!1};return"object"!=typeof n.g||!n.g.TEST_ENV||n.g.TEST_SINGLETONPROXY||e.forceLazy?(0,i.S)()&&!e.forceLazy?t.getInstance():new Proxy(t,{get(t,n,i){const r=t.getInstance(),o=Reflect.get(r,n,r);return e.bindMethod&&"function"==typeof o?o.bind(r):o},set(t,e,n,i){const r=t.getInstance();return Reflect.set(r,e,n,r)}}):t.getInstance()}},16253:function(t,e,n){n.d(e,{Fs:function(){return p},Kg:function(){return d},U6:function(){return w},nA:function(){return u},r8:function(){return g},rP:function(){return l},v3:function(){return v},vd:function(){return m}});var i=n(63581),r=n(930),o=n(84855),s=n(669),a=n(91532),c=n(44944);const u=t=>"WeatherHero"==t.type?o.UoA:t.type+(t.id??""),l="TTVR.ViewCards",d="TTVR.SDCards",f=new Map([[a.C.infopaneCard,()=>!0],[a.C.sectionHeaderCard,()=>!0],[a.C.topStoriesCard,()=>!0],[a.C.contentCard,t=>{const e=(0,s.Ie)(t)||(0,s.YA)(t);return e&&e.height>=i.L._300x225.height&&e.width>=i.L._300x225.width}],[a.C.weatherHeroExperienceCarouselCard,()=>!0]]),h=[a.C.contentCard,a.C.infopaneCard,a.C.sectionHeaderCard,a.C.topStoriesCard,a.C.weatherHeroExperienceCarouselCard];function p(t){const e=c.G[t.type];if(e&&h.includes(e)){const n=f.get(e);return!!n&&n(t)}return!1}const m={C1:1,C2:2,C3:3,C4:4,C5:5,C6:6};function g(t,e){return t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:2)*(m[e]||1)}const v=t=>{switch(t){case r.uE._1x_1y:return 1;case r.uE._1x_2y:case r.uE._2x_1y:return 2;case r.uE._3x_1y:return 3;case r.uE._2x_2y:case r.uE._4x_1y:return 4;default:return 2}},w={contentGroup:o.qNJ,horoscopeCard:o.IWO,linkedInCard:o.k2X,moneyInfoCard:o.ahW,onThisDayCard:o.B34,qnaCard:o.Qb0,"shopping-carousel":o.yXx,sportsCard:o.FC5,trafficCard:o.F9m,travelDestination:o.WNH,trendingNowCard:o.dnH,weather:o._1i,autosCarousel:o.WG6,boostAdCard:o.Op9,electionsCard:o.oMs,rewardsCard:o.adn,gamingRecentlyPlayedCard:o.gIT,"trending-in-ten-minutes-id":o.oJ5,"infopane-id":o.oJ5,"war-in-ukraine-carousel-id":o.oJ5,"local-news-carousel-id":o.oJ5,casualGamesCarouselCard:o.CNr,trendingSearchCard:o.tKm,mangaCard:o.Ir6,mangaCarousel:o.aI7,"shopping-prong-card-response":o.oJ5,winAppCard:o.nR3,publisherList:o.QYe,promotedAdCard:o.XRH}},16414:function(t,e,n){n.d(e,{D:function(){return i},o:function(){return r}});const i="default",r=-1},16418:function(t,e,n){n.d(e,{ZQ:function(){return dt},aJ:function(){return ht},cY:function(){return ft}});var i=n(53788),r=n(98216),o=n(80247),s=n(98763),a=n(65022);const c=Object.freeze({experience:"e",page:"p",other:"o",script:"js",service:"s",container:"c",custom:"x"});var u;!function(t){t[t.keepPrevious=1]="keepPrevious",t[t.keepThis=2]="keepThis",t[t.keepAll=3]="keepAll"}(u||(u={}));var l=n(73691),d=n(27261),f=n(77246),h=n(68399),p=n(30817),m=n(53685),g=n(41862),v=n(14012),w=n(88294);const y=new Map([["min",t=>t.length?t.reduce((t,e)=>Math.min(t,e),1/0):void 0],["max",t=>t.length?t.reduce((t,e)=>Math.max(t,e),-1/0):void 0],["first",t=>{for(const e of t)if(null!=e)return e}]]),b={clientrtt:"tcp",origin:"origin",cdntime:"self"},S=/\/\/([^/]+)\/([^?&#]+)/,x=/^assets\.msn\.(com|cn)/i,C=/^(ent-)?api\.msn\.(com|cn)/i,k="service",T="[cdn]/",$="[1s]/",A="[self]/",I=`${A}[root]`,P="[1s-cdn]/",_=(0,s.Xe)();function M(t,e,n,r){const o=(0,p.gU)(),s=function(t){const e=new Map,n=t=>function(t,e){const{name:n}=e;let i=t.get(n);i||t.set(n,i=[]);i.push(e)}(e,t);performance.getEntriesByType("navigation").forEach(t=>{n(function(t,e){return{name:t.name,startTime:t.startTime,requestStart:t.requestStart,responseEnd:t.responseEnd,transferSize:t.transferSize,duration:t.duration,serverTiming:t.serverTiming,initiatorType:t.initiatorType,nextHopProtocol:t.nextHopProtocol,...e}}(t,{name:I}))});const r=(0,i.X1)(performance.getEntriesByType("resource"),t,"startTime",!0);return r.forEach(n),e}(r),a={networkCounter:new g.G,networkMap:s,filterContext:r},u=function(t,e){const n={name:"experiences",data:{type:c.container}};return t&&t.forEach(t=>{const i=function(t,e){const{filterContext:n,networkMap:i}=e,r=q(t,["min",[["first","scripts","from"],["first","config","from"]]]),o=r?q(t,["max",[["first","scripts","to"],["first","config","to"]]]):void 0,s=r&&o?B(r,o,void 0,n):void 0;let a=G(t,["first","render","to"]);J(a)||(a=G(t,["first","update","to"]),a&&w.v.log(`${t.timelineName} is missing 'render' mark`));const u=a&&q(t,["min",[["first","render","from"],["first","update","from"]]]),d=u?B(u,a,void 0,n):void 0;if(!s&&!d)return;const f={name:t.timelineName,data:{type:c.experience}};L(f,"init",s),L(f,"render",d),s&&d&&L(f,"_self",B(r,a,void 0,n));const h=t.getMeasureValues({coreName:l.EA});h.forEach(t=>{const n=t.customData,r=function(t,e,n){const i=t&&e.get(t);if(!i)return;const r=N(i,t=>Math.abs(t.startTime-n.from));if(r>=0){const n=i.splice(r,1)[0];return i.length||e.delete(t),n}}(n&&n.url,i,t);F(E(t)||l.EA,c.service,f,r,t,e)});const p=t.getMeasureValues({entityMeasures:!0});if(p.length){const t=U(f,{name:"custom",data:{type:c.custom}});p.forEach(e=>{D(t,e,n)})}return f}(t,e);i&&U(n,i)}),n}(e,a),d=function(t){const e={name:"scripts",data:{type:c.container}},n={name:"services",data:{type:c.container}},i={name:"other",data:{type:c.container}};return(0,f.S)()?function(t,e,n,i){const{networkMap:r}=t;r.forEach(o=>{o.forEach(o=>{const{initiatorType:s,name:a}=o;if("img"===s)return;let u,d,f,h;const p=R(a);if(p&&p.endsWith(".js")){d=p.replace(/(\.[0-9a-f]{20})?\.js$/,"").replace(/bundles\/v1\/\w+\/[\w.]+\//,""),u=e,f=c.script}else if("css"===s||"iframe"===s||"other"===s||"beacon"===s)u=i,f=c.other;else{var m;u=n,f=c.service;const t=null===(m=(0,l.Yk)())||void 0===m?void 0:m.getMeasureValues({coreName:a});if(t&&t.length){const{startTime:e}=o;h=t[N(t,t=>{let{from:n}=t;return Math.abs(n-e)})],d=E(h)}}let g=d||p;g&&(g=g.toLowerCase(),F(g,f,u,o,h,t),r.delete(a))})})}(t,e,n,i):function(t,e,n){var i;const r=null===(i=(0,l.Yk)())||void 0===i?void 0:i.getMeasureValues({entityMeasures:!1});r&&r.forEach(i=>{var r;const{coreName:o,from:s,to:a}=i,u=null===(r=R(o))||void 0===r?void 0:r.toLowerCase();if(!u)return;let l,d;o.endsWith(".js")?(l=e,d=c.script):(l=n,d=c.service);F(u,d,l,{startTime:s,duration:a-s},void 0,t)})}(t,e,n),[e,n,i]}(a),v=function(t){const e={name:"custom",data:{type:c.custom}};(0,h.Qn)(t).forEach(n=>D(e,n,t)),(0,h.kf)(t).forEach(t=>{let{name:n,duration:i}=t;return function(t,e,n){W(t,e,n)}(e,n,i)}),(0,h.vx)(t).forEach(n=>{let{name:i,time:r}=n;return H(e,i,r,t)});const n=t===i.vs;if(n){const n=(0,p.ZF)();O(e,m.jy,t,n,m.jy,p.pR),O(e,m.xA,t,n,m.xA,p.pP)}else H(e,m.xA,t.timeFilter.end,t);return e}(r),y={name:"",data:{type:c.container}};L(y,"calc",B(o,(0,p.gU)(),void 0,i.vs));const b={metrics:y.data,...t||{}},S={_meta:b};let x=!1;if([v,u,...d].forEach(t=>{const{data:e}=t;(e.children||e.spans||e.durations||e.scalars||e.instants)&&(S[t.name]=e,x=!0)}),x)return n&&n.length&&(b.pivots=n.map(t=>t.key),b.pivots64=n.map(t=>t.key64)),S}function R(t){if(t){const e=t.match(S);if(e){let[,t,n]=e;return n=n.toLowerCase(),t.match(x)?n=(n.startsWith(k)?P:T)+n:t.match(C)?n=$+n:t===_.get()&&(n=A+n),n}return t.toLowerCase()}}function E(t){const e=t&&t.customData;if(e){const{requestName:t,url:n,mappedUrl:i}=e;return t||R(i||n)}}function F(t,e,n,i,r,o){const{networkCounter:s,filterContext:a}=o,c=s.qualifyKey(t),u={name:c,data:{type:e}},l=function(t,e){if(!e)return;const{startTime:n,requestStart:i,responseEnd:r,transferSize:o,duration:s,serverTiming:a}=e,c=!!i,u={name:t,hasFullTimings:c,networkDur:s,networkStart:n};if(c){u.connectDur=i-n,u.requestDur=r-i;const t=(0,v.Lx)(e);null!=t&&(u.cached=t?1:0,t||(u.transferSize=o))}if(!u.cached&&(t.startsWith(T)||t.startsWith(P))&&a&&a.length){const t=u.cdn={};a.forEach(e=>{let{name:n,duration:i}=e;const r=b[n];r&&(t[r]=i)})}return u}(c,i);if(l){const{cdn:t,networkStart:e,networkDur:n}=l;L(u,"network",B(e,void 0,n,a))&&(l.hasFullTimings&&(W(u,"connect",l.connectDur),W(u,"request",l.requestDur),V(u,"size",l.transferSize),V(u,"cache",l.cached)),t&&(W(u,"cdnTCP",t.tcp),W(u,"cdnSelf",t.self),W(u,"cdnOrigin",t.origin)))}if(r&&L(u,"app",B(r.from,r.to,void 0,a))){const t=r.customData,{perfCritical:e,error:n}=t||{};e&&V(u,"critical",1),n&&V(u,"error",1)}u.data.spans&&U(n,u)}function D(t,e,n){const i=B(e.from,e.to,void 0,n);if(i){L(t,e.coreName+e.idSuffix,i)}}function O(t,e,n,i,r,o){H(t,e,i[(0,f.S)()?r:o],n)}function N(t,e){const n=t&&t.length||0;if(n<=1)return n-1;let i=1/0,r=0;return t.length>1&&t.forEach((t,n)=>{const o=e(t);o<i&&(i=o,r=n)}),r}function U(t,e){return j(t,"children",e.name,e.data),e}function L(t,e,n){return n?j(t,"spans",e,n):void 0}function B(t,e,n,i){let{spanMapperFn:r}=i;return r(t,e,n)}function W(t,e,n){return z(t,e,n,"durations")}function H(t,e,n,i){let{timeFilterFn:r,timeMapperFn:o}=i;if(r(n))return z(t,e,o(n),"instants")}function V(t,e,n){return z(t,e,n,"scalars")}function z(t,e,n,r){if(J(n)){return j(t,r,e,(0,i.LI)(n))}}function j(t,e,n,i){return(t.data[e]||(t.data[e]={}))[n]=i,i}function q(t,e){const[n,i]=e,r=[];for(const e of i){const n=G(t,e);null!=n&&r.push(n)}const o=y.get(n),s=o&&o(r);return J(s)?s:void 0}function G(t,e){const[n,i,r]=e,o=t.getMeasureValues({coreName:i});if(o&&o.length){const e=y.get(n);if(e){const n=function(t,e,n){return t.getMeasureValues({coreName:e}).map(t=>t[n]).filter(t=>null!=t)}(t,i,r),o=e(n);if(J(o))return o}}}function J(t){return null!=t&&!isNaN(t)}_.set((0,d.ou)());var K=n(63608),Q=n(93468),X=n(12986),Y=n(50369),Z=n(51518);const tt=6e4,et=(0,s.bP)(),nt=(0,s.Xe)(),it=(0,s.bP)(),rt=(0,s.bP)(),ot=(0,s.Xe)(),st=(0,s.Xe)(),at=()=>{},ct=(0,s.MV)(),ut=(0,s.MV)(),lt=(0,s.MV)();function dt(t,e,n,i,r){if([ct,ut,lt,nt,et,st,ot].forEach(t=>t.unset()),rt.set(i||X.A),it.set(r||X.A),!i||!r||!e)return;const{bundleInfo:s,pcsInfo:a}=e.ClientSettings||{};st.set({buildAlias:s&&s.alias,env:a&&a.env});const{pivotsFinalized:c}=(0,o.kP)(t,e,n),u=!t&&(0,Z.E)(),l=t&&(0,o.Kz)();ot.set(!0),l&&c.then(()=>{(0,o.Kz)()||pt()}),(u||l)&&(nt.set(!0),et.set(mt({props:{},dedupeBehavior:2,startTime:0,getMatches:()=>l?(0,o.HB)():[]})))}function ft(t,e,n){if(ot.get())return n=n||(0,o.HB)(),M(st.get(),t,n,e)}function ht(t){if(pt()&&t){vt(t,Object.values(Y.A.get()),(0,i.ms)())}}function pt(){if(et.get())return et.call(!0),nt.unset(),et.unset(),!0}function mt(t){0===ct.size&&(!nt.get()&&performance.clearResourceTimings(),rt.call());const{props:e,dedupeBehavior:n,groupId:o,traceId:s}=t,c=(0,K.y)(e)+`|${s||""}|${o||""}`,u=ct.get(c);if(u&&u.size)if(n&&2!==n){if(1===n)return at}else{const t=o&&lt.get(o);t&&t.size&&u.forEach(e=>t.delete(e));const e=s&&ut.get(s);e&&e.size&&u.forEach(t=>e.delete(t)),u.clear()}let l;return l=e=>{const n=ct.get(c);if(n&&n.delete(l)){const u=s&&ut.get(s);u&&u.delete(l);const d=o&&lt.get(o);d&&(e?d.delete(l):(d.forEach(t=>t!==l&&t(!0)),d.clear())),n.size||!ct.delete(c)||ct.size||it.call(),e||function(t){const e=(0,i.ms)({start:t.startTime,end:performance.now()}),{spanFilterFn:n}=e,o=Object.values(Y.A.get()).filter(t=>{const{timeSpan:e}=t;return e&&n(e[0],void 0,e[1])}),s={},c=t.getMatches();if(!vt(s,o,e,c))return;try{r.YT.sendLoadTimeEvent({markers:s})}catch(t){(0,Q.vV)(a.P_C,"Failed to upload entity-metrics for manual trace",`Matches: ${c.map(t=>t.key).join("|")}`)}}(t)}},gt(ct.getObj(),c,l),gt(ut.getObj(),s,l),gt(lt.getObj(),o,l),setTimeout(()=>l(!0),t.stopTimeout||tt),l}function gt(t,e,n){if(e){let i=t.get(e);!i&&t.set(e,i=new Set),void 0!==n&&i.add(n)}}function vt(t,e,n,i){if(t&&ot.get()){const r=ft(e,n,i);if(r)return t.entityMetrics=r,!0}}},16507:function(t,e,n){n.d(e,{n:function(){return i}});var i,r=n(41667),o=n(84194);!function(t){function e(t){return null!=t}t.isNotNullOrUndefined=e,t.isDefined=function(t){return void 0!==t},t.isKeyValuePair=function(e,n,i){return t.isNonNullObject(e)&&n(e.key)&&i(e.value)},t.isNonNullObject=function(t){return t&&"object"==typeof t},t.isNotNull=function(t){return null!==t},t.isNullOrWhiteSpace=function(t){return!(0,r.A)(t)||""===t.trim()},t.toNumber=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(!t)return e;const n=(0,o.A)(t);return isNaN(n)?e:n},t.arrayHasData=function(t){return!!e(t)&&(t.constructor===Array&&t.length>0)},t.stringHasData=function(t){return(0,r.A)(t)&&t.trim().length>0},t.objectToString=function t(e){let n="",i=!0;if("object"!=typeof e)return n;for(const r in e)"object"==typeof e[r]?n+=i?`${t(e[r])}`:`-${t(e[r])}`:n+=i?`${e[r]}`:`-${e[r]}`,i=!1;return n},t.removeHyphens=function(t){if(t)return t.replace(/-/g,"")}}(i||(i={}))},16611:function(t,e,n){n.d(e,{e1:function(){return a},mU:function(){return l}});var i=n(79426);let r,o,s=!1;function a(t){return"visible"!==document.visibilityState||t&&s?(r||(r=new i.e,document.addEventListener("visibilitychange",c)),r.getResultAsync()):Promise.resolve()}function c(){"visible"===document.visibilityState&&u()}function u(){!s&&r&&(r.set(),r=null,document.removeEventListener("visibilitychange",c))}function l(){return o||(o=new Promise(t=>{"visible"===document.visibilityState&&t(),document.addEventListener("visibilitychange",function e(){"visible"===document.visibilityState&&(t(),document.removeEventListener("visibilitychange",e))})})),o}},16813:function(t,e,n){var i;n.d(e,{r:function(){return i}}),function(t){t.CallToAction="CallToAction",t.CallToChoice="CallToChoice"}(i||(i={}))},16822:function(t,e,n){n.d(e,{nX:function(){return H},x5:function(){return V},je:function(){return W}});var i=n(89151),r=n(30817),o=n(65022),s=n(93468),a=n(53685),c=n(68399);const u=t=>{let e=-1;const n=t[a.oC],i=t[a.jy];n&&i&&(e=n-i),t[a.ly]=e,(0,c.Ww)({name:a.ly,startTime:i,endTime:n})},l=t=>{let e=-1;const n=t[a.oC],i=t[a.yE];i&&n&&(e=i-n),t[a.S7]=e,(0,c.Ww)({name:a.S7,startTime:n,endTime:i})};var d=n(14012);function f(t){window.windowsPerfMarker&&window.windowsPerfMarker(t)}function h(){const t=`${a.xA}.BasicFeed`;!function(t){const e=(0,r.ZF)();for(const[n,i]of t)for(const t of i){const i=e[t];if(null!=i){e[n]=i;break}}}([[t,["TTVR.River","TTVR.GridViewFeed","TTVR.StripeFeed","TTVR.WaterfallViewFeed"]]]);const e=(t,e,i)=>{const r=i&&e?i-e:-1;n[t]=r,(0,c.Ww)({name:t,startTime:e,endTime:i})},n=(0,r.ZF)(),i=n[t],o=n[`${a.xA}.SearchBox`],s=n[`${a.xA}.SDCards`],u=n.WpoResponseBack;e("SearchBoxToFeed",o,i),e("FeedSDRender",i,s),e("FeedBasicRender",u,i)}var p=n(70177),m=n(59545),g=n(23768),v=n(77246);let w=!1,y=!1,b=!1;function S(){!w&&document.hidden?y=!0:"visible"===document.visibilityState&&(b=!0)}function x(){return y}(0,v.S)()&&(window.addEventListener&&window.addEventListener("beforeunload",function(){w=!0}),void 0!==document.hidden&&null!==document.hidden&&document.addEventListener("visibilitychange",S),S());var C=n(56589),k=n(74195),T=n(17254),$=n(27191),A=n(50677),I=n(90589),P=n(45083);const _={prefix:"SW",startTime:"StartTime",navigationFetchTime:"NavigationFetchTime",navigationCacheReadTime:"NavigationCacheReadTime",navFeedHandlerComplete:"NavFeedHandlerComplete",navFeedHandlerWillRespond:"NavFeedHandlerWillRespond",navFeedHandlerDidRespond:"NavFeedHandlerDidRespond",navFeedHandlerStart:"NavFeedHandlerStart",navFeedCacheDuration:"NavFeedCacheDuration",navParseDuration:"NavParseDuration",navFeedCachedStatus:"NavFeedCachedStatus",navFeedCacheReadTime:"NavFeedCacheReadTime",navFeedFetchTime:"NavFeedFetchTime",navFeedCacheOpenDuration:"NavFeedCacheOpenDuration",navCachedResponseAge:"NavCachedResponseAge",navRoutingReason:"NavRoutingReason",navRoutingDuration:"NavRoutingDuration",clientNavCacheReadStart:"clientNavCacheReadStart",clientNavFetchStart:"clientNavFetchStart"};function M(t){return[_.prefix,t].filter(t=>t.length>0).join(".")}function R(t,e){return new Promise(n=>{const i=new MessageChannel;i.port1.onmessage=t=>{n(t.data)},t.postMessage(e,[i.port2])})}async function E(){return function(t){if(!navigator.serviceWorker)return;const e=navigator.serviceWorker.controller;return e?R(e,t):navigator.serviceWorker.ready.then(e=>{const n=e.active;if(n)return R(n,t)})}({type:"NAV_PERF_DATA"})}var F=n(98216);const D={hit:1,"hit-mem":2,miss:0};function O(t){const e=(0,r.Zm)();N(e)&&(t[M(_.startTime)]=function(t){return t.requestStart-t.workerStart}(e),t[M(_.navigationFetchTime)]=function(t){const e=t.transferSize;if(0===e||300===e)return-1;return t.responseStart-t.requestStart}(e),t[M(_.navigationCacheReadTime)]=function(t){const e=t.transferSize;return 0===e||300===e?t.responseStart-t.requestStart:-1}(e),async function(t){if(!N())return;const e=await E();if(!e)return;e.cacheLookupStatus&&(t[a.R0]=D[e.cacheLookupStatus]);let n={};if(e&&e.swTimeOrigin){const t=e.swTimeOrigin;e.resourceTiming=U(e.resourceTiming,t),n=U(e,t,"SW."),n.clientTimeOrigin=performance.timeOrigin}F.YT.sendLoadTimeEvent({markers:n}),window._swTimings=n}(t))}function N(t){return!!(t=t||(0,r.Zm)())&&Boolean(t.workerStart)}function U(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return;const i={};for(const r in t){const o=t[r];"number"!=typeof o||o<0?i[`${n}${r}`]=o:r.endsWith("Start")||r.endsWith("End")?i[`${n}${r}`]=Math.round(o+e-performance.timeOrigin):r.endsWith("Time")?i[`${n}${r}`]=Math.round(o):i[`${n}${r}`]=o}return i}var L=n(53829),B=n(6860);function W(t,e,n){var a;if(!(0,v.S)())return;const c=(0,m.Kl)();c&&e===i.Ci.Primary&&g.m.updateAboveTheFoldVisuallyReady.getActionSender(c).send(performance.now());const u=e===i.Ci.Primary,l=(0,i.wI)(e),d=(0,r.ZF)();if(d.IncompleteMarkers=null==l?void 0:l.join(","),x())return void t([]);let f=[];const h=u?o.N61:o.Fdr;f=u?(0,i.z1)():(0,i.Yy)();const w=(0,i.$y)(),y=w.marker||"None",b=w.value||"None";let S=", Visual dependency callback was unavailable.";if(n){const t=n();S=t.length?`, Incomplete visual dependencies: ${JSON.stringify(t)}.`:", No pending visual dependencies."}if((0,s.vV)(h,"Missing perf markers",`Missing perf markers: ${JSON.stringify(l)}${S} Last Marked: ${y} ${b}`),null===(a=window)||void 0===a||a.dispatchEvent(new Event("PerfMarkMissErr")),window.isSSRCompleted&&l.includes("TTF")){const t=[...(0,p.Kh)().entries()].map(t=>{let[e,n]=t;return`${e}:${n}`}).join(",");(0,s.vV)(o.BZ4,"Missing TTF marker in SSR page",`Elements that are still in top-down hydration process: ${t}`)}const C=(0,i.xY)();C&&u&&l.includes(`TTVR.${C}`)&&((0,s.vV)(o.bLg,"Expected feed timed out while loading",`Expected feed timed out while loading: ${C}`),d&&console.log(JSON.stringify(d))),window.renderCacheEnabled&&u&&(0,L.nB)(),t(f)}async function H(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.ZF)(),{onAfterPageTimingsUpdated:o,disableLoadTimeEvent:s,reportEntityMetrics:c}=e,p=(0,r.Zm)();if(p){const{domComplete:t,loadEventStart:e,responseStart:i,domainLookupEnd:r,domainLookupStart:o,domInteractive:s,domContentLoadedEventStart:c,domContentLoadedEventEnd:f,fetchStart:h,connectEnd:m,connectStart:g,workerStart:v,responseEnd:w,requestStart:y,unloadEventStart:b,unloadEventEnd:S,type:x,systemEntropy:C,secureConnectionStart:k,redirectCount:$,redirectEnd:A,redirectStart:I}=p;n.timeToFirstByte=i,n.timeToDomComplete=t,n.timeToOnLoad=e,n.domainLookupTime=r-o,n.timeToFetchStart=h,n.timeToWorkerStart=v,n.connectStart=g,n.connectTime=m-g,n.requestStart=y,n.requestTime=i-y,n.responseStart=i,n.responseTime=w-i,n.requestResponseTime=w-y,n.fetchTime=w-h,n.swInitTime=h-v,n.swFetchTime=o-h,n.timeToUnload=S-b,n.timeToInteractive=s,n.domContentLoadedEventStart=c,n.domContentLoadedEventEnd=f,n.navigationType=x,n.systemEntropy=C,n.timeToSecureConnection=k-g,n.redirectStart=I,n.redirectEnd=A,n.redirectCount=$,function(t){t.buildVer=T.T3.BuildVersion||-1}(n),function(t){if(performance.getEntriesByType){const e=performance.getEntriesByType("paint").filter(t=>"first-contentful-paint"===t.name);e.length>0&&(t[a.q]=Math.round(e[0].startTime))}}(n),(0,d.vO)(n),(0,d.XL)(n),(0,d.yj)(n),(0,d.mo)(n),(0,d.GN)(n),u(n),(0,d.sV)(n),l(n)}(0,d.Wl)(n),(0,d.Hx)(n);for(const e of t){const t=e[0];n[t]||(n[t]=e[1])}const m=(0,i.eD)();m&&(n.ReasonForTTVR=m);const g=n[$.$w];g&&(f($.cn),f($.Jc),(0,A.Wy)(g),function(t){if(performance&&performance.getEntriesByType&&t&&t[a.xA]){const e=performance.getEntriesByType("navigation");if(e.length){const n=e[0];let i=0,r=0;a.CS in n&&a.Bt in n&&(i=n[a.CS],r=n[a.Bt]),i<0&&r<0&&(t["TTVR."+a.Ng]=Math.round(t[a.xA]-i),t["TTVR."+a.O1]=Math.round(t[a.xA]-r))}}}(n)),C.L.getConfigTimings(n),O(n),n.wasBrowserHiddenAtLeastOnce=x(),h(),o&&o(),(0,P.TR)(),Promise.all([(0,I.A)(),(0,P.GP)()]).then(()=>{(0,A.CJ)(n),s||(0,B.o)(window,{reportEntityMetrics:c})}),(0,k.Q6)({id:"PostTtvr",type:"command"})}async function V(t,e,n){const i=(0,r.ZF)(),o=(0,r.zq)();if((t=t.filter(t=>!(t[0]in i))).forEach(t=>{const e=t[0];e in i||(o[e]=t[1],i[e]=t[1])}),k.WD){const t=await(0,k.H$)({id:"perfmarkers"},4e3);if(t&&t.fetched){const e=t.payload;e&&e["WW.MyFeed"]&&(e.FeedRequest=e["WW.MyFeed"]),Object.assign(o,t.payload),Object.assign(i,t.payload)}}o.TimeToSendSecondaryPerfMarkers=Math.round(performance.now()),e&&e(),n||Promise.all([(0,I.A)(),(0,P.GP)()]).then(()=>{(0,B.o)(window,{isSecondaryBeacon:!0})})}},16856:function(t,e,n){function i(){return{experienceType:"AppConfig",instanceSrc:"default"}}n.d(e,{G:function(){return i}})},17128:function(t,e,n){n.d(e,{Ps:function(){return v},Ve:function(){return g},dx:function(){return m}});var i=n(65022),r=n(93468),o=n(76166),s=n(12870);const a="OneWebServiceLatency",c="//assets.msn",u="//assets2.msn",l="//api.msn",d="prg-1s-bkupdmnt",f="prg-1s-bkupdmnt1",h="prg-1s-bkupdmnt2",p="prg-1s-bkupdmnt3";function m(){const t=s.Rb.CurrentFlightSet;return!(!t||!(t.has(d)||t.has(f)||t.has(h)||t.has(p)))}function g(){const t=s.Rb.CurrentFlightSet;return!(!t||!t.has(d)&&!t.has(f))}async function v(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(e=await(0,o.hv)(t,d,n),e&&e.ok)return e}catch(e){(0,r.c_)(e,i.aVy,i.aVy.message,`Failed URL: ${t}`)}return e&&e.headers&&e.headers.get(a)||f?e:(t=s.Rb.CurrentFlightSet&&s.Rb.CurrentFlightSet.has(p)?t.replace(c,l).replace("/service/","/"):t.replace(c,u),(0,o.hv)(t,d,n))}},17254:function(t,e,n){n.d(e,{DF:function(){return F},T3:function(){return O},rA:function(){return D},Lo:function(){return N}});var i,r,o,s=n(78629),a=n(33918),c=n(65022),u=n(30817),l=n(18258);!function(t){t.WWW="www",t.MicrosoftStart="microsoftstart",t.INT="int",t.INT1="int1",t.MicrosoftStartINT="microsoftstart-int",t.MicrosoftStartINT1="microsoftstart-int1"}(i||(i={})),function(t){t.MSN="msn",t.MicrosoftStart="microsoftstart"}(r||(r={})),function(t){t.COM="com",t.CN="cn"}(o||(o={}));var d=n(15589),f=n(40387),h=n(77246),p=n(27261),m=n(17720),g=n(16091),v=n(2462),w=n(57865),y=n(18605),b=n(28828);var S,x=n(28024),C=n(38796);!function(t){t.prod="prod",t.prodssr="prod-ssr",t.staging="staging",t.int1="int1",t.int="int",t.intpr="intpr",t.intperf="intperf"}(S||(S={}));var k=n(67387);var T=n(19548),$=n(16507),A=n(49084),I=n(48608),P=n(12870);var _=n(41667),M=n(91494),R=n(11141);const E="__AppEnvironmentInstance__";class F{get ShouldUseFdheadQsp(){return this.shouldUseFdheadQsp}set ShouldUseFdheadQsp(t){this.shouldUseFdheadQsp=t}get DisableInMemoryCache(){return!!this.disableInMemoryCache}set DisableInMemoryCache(t){this.disableInMemoryCache=t}get CanvasTheme(){return this.canvasTheme}set CanvasTheme(t){this.canvasTheme=t}get OneServiceContentMarketQspKey(){return this.oneServiceContentMarketQspKey}get Ecasession(){return void 0===this.ecasession&&(this.ecasession=(0,v.Ri)("ecasession")||"init"),this.ecasession}get BrowserOptOut(){return void 0===this.browserOptOut&&(this.browserOptOut="1"===(0,v.Ri)("TOptOut")),this.browserOptOut}get MachineId(){return this.machineId}set MachineId(t){this.machineId=t}get isMobile(){var t,e;const n=(null===P.Rb||void 0===P.Rb||null===(t=P.Rb.ClientSettings)||void 0===t?void 0:t.ocid)||"",i=(null===P.Rb||void 0===P.Rb||null===(e=P.Rb.ClientSettings)||void 0===e?void 0:e.deviceFormFactor)||"";return n.startsWith("msnaroverlay")||"phone"===i}get isMiniProgram(){var t;const e=P.Rb.ClientSettings||{ocid:"",deviceFormFactor:""},n=(0,h.S)()?"weatherminiprogram"===e.ocid||((null===(t=navigator)||void 0===t?void 0:t.userAgent)||"").indexOf("miniProgram")>-1:"weatherminiprogram"===e.ocid;return"phone"===e.deviceFormFactor&&n}get isOverlayFrame(){var t;return((null===P.Rb||void 0===P.Rb||null===(t=P.Rb.ClientSettings)||void 0===t?void 0:t.ocid)||"").startsWith("msnaroverlay")}get ActivityId(){return this.activityId}set ActivityId(t){this.activityId=t,P.Rb.ClientSettings={...P.Rb.ClientSettings,aid:t}}get FrontDoorMuid(){return this.frontDoorMuid}get EnvironmentConfigUrl(){const t=new URL("",this.environmentConfigUrl);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.config","dev");const e=new URLSearchParams((0,p.iA)()).get("env.config");return e&&t.searchParams.set("env.config",e),t}get ContentServiceUrlBase(){const t=new URL("",this.contentServiceUrlBase);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.content","dev");const e=new URLSearchParams((0,p.iA)()).get("env.content");return e&&t.searchParams.set("env.content",e),t}get CurrentRequestTargetScope(){return this.currentRequestTargetScope}set CurrentRequestTargetScope(t){this.currentRequestTargetScope=t}get LocaleContentMarket(){var t,e;return(0,x.YP)(P.Rb.ClientSettings&&P.Rb.ClientSettings.locale)||(null===(t=this.currentRequestTargetScope)||void 0===t||null===(t=t.locale)||void 0===t?void 0:t.content)||(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.locale)}get LocaleDisplayLanguage(){return(0,x.YP)(P.Rb.ClientSettings&&P.Rb.ClientSettings.locale,!0)||this.LocaleContentMarket}get LocaleContentMarketString(){const t=this.LocaleContentMarket;return t&&t.language&&t.market?(0,x.Ah)(t):""}get LocaleDisplayLanguageString(){const t=this.LocaleDisplayLanguage;return t&&t.language&&t.market?(0,x.Ah)(t):""}get SourceUrl(){let t=O.HostPage.originalUrl;const e=O.CurrentRequestTargetScope.pageType,n=O.HostPage.verticalKey;if("localhost.msn.com"===O.HostPage.hostName&&"ntp"===e)return t="https://ntp.msn.com/edge/ntp",t;if(e&&n){const i=e.toLowerCase();(i.indexOf("dhp")>-1||i.indexOf("ntp")>-1)&&(t="https://"+O.HostPage.hostName+"/"+n+"/"+e)}return t}get CurrentMarket(){return this.currentMarket}set CurrentMarket(t){this.currentMarket=t}get EnableFiveColLayout(){return this.enableFiveColLayout}set EnableFiveColLayout(t){this.enableFiveColLayout=t}get Environment(){return this.environment}set Environment(t){this.environment=t}get StaticDomain(){return this.staticDomain}get HostPage(){return this.hostPage}set HostPage(t){this.hostPage=t}get AppType(){return this.appType}get MiniAppId(){return this.miniAppId}get AuthCookieName(){return this.authCookieName}set AuthCookieName(t){this.authCookieName=t}get UseAuthFetch(){return this.useAuthFetch}set UseAuthFetch(t){this.useAuthFetch=t}get AccountInfoPromise(){return this.accountInfoPromise}set AccountInfoPromise(t){this.accountInfoPromise=t}get ResolvedAccountInfo(){return this.resolvedAccountInfo}set ResolvedAccountInfo(t){this.resolvedAccountInfo=t}get BuildVersion(){return this.buildVersion||""}get ClarityEnabled(){return this.clarityEnabled}set ClarityEnabled(t){this.clarityEnabled=t}get IsWinAADUser(){return this.isWinAADUser}set IsWinAADUser(t){this.isWinAADUser=t}get RootTelemetryId(){return this.rootTelemetryId}set RootTelemetryId(t){this.rootTelemetryId=t}get TrackInfo(){return this.trackInfo}set TrackInfo(t){this.trackInfo=t}get UserId(){return this.getUserMuid()||this.userId}set UserId(t){this.userId=t}get OneServiceApiKey(){return this.oneServiceApiKey}set OneServiceApiKey(t){this.oneServiceApiKey=t}get OneServiceOverride(){return this.oneServiceOverride}set OneServiceOverride(t){this.oneServiceOverride=t}get EnvInstanceOverride(){return this.envInstanceOverride}get IsDebug(){return this.isDebug}get NavTargetHostName(){return this.navTargetHost}get UseCachedApp(){return(0,h.S)()&&!!window.__useCachedApp}get NavTargetUrlWithLocale(){return`https://${this.NavTargetHostName}/${this.CurrentMarket}`}get IsChinaCompliance(){return this.isChinaCompliance}get IsCaliforniaRegion(){return this.isCaliforniaRegion}get AssetsUrl(){return this.staticAssetsUrl}set AssetsUrl(t){this.staticAssetsUrl=t}get StaticsUrl(){return this.staticsUrl}get StaticsUrlWithBuild(){return this.staticsUrlWithBuild}get topDomain(){return this.isChinaCompliance?o.CN:o.COM}get OptOutOfPersonalization(){return this.optOutOfPersonalization}set OptOutOfPersonalization(t){this.optOutOfPersonalization=t}get OptOutOfModelTraining(){return this.optOutOfModelTraining}set OptOutOfModelTraining(t){this.optOutOfModelTraining=t}get isGccModUser(){if((0,A.lp)()){const t=(0,I.A)();Promise.resolve(t===s.rK.GCC_MODERATE)}if(this.AccountInfoPromise)return this.AccountInfoPromise.then(t=>(null==t?void 0:t.region_scope)===s.rK.GCC_MODERATE)}get unsupportedEnterpriseCloud(){if((0,A.lp)()){const t=(0,I.A)();Promise.resolve(!(t===s.rK.GLOBAL))}if(this.AccountInfoPromise)return this.AccountInfoPromise.then(t=>!((null==t?void 0:t.region_scope)===s.rK.GLOBAL))}get WidgetAttributes(){return this.widgetAttributes}set WidgetAttributes(t){this.widgetAttributes=t}get ServiceUrlBase(){const t=new URL("",this.serviceUrlBase);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,p.iA)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get FeedServiceUrlBase(){if(!this.feedServiceUrlBase)return null;const t=new URL("",this.feedServiceUrlBase);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,p.iA)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get EnterpriseServiceUrlBase(){if(!this.enterpriseServiceDomainUrl)return;const t=new URL("",this.enterpriseServiceDomainUrl);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,p.iA)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get isAadAccountUser(){return this.CurrentRequestTargetScope&&"enterprise"===this.CurrentRequestTargetScope.audienceMode&&this.ResolvedAccountInfo&&this.ResolvedAccountInfo.account_type&&"AAD"===this.ResolvedAccountInfo.account_type}get IsFrePage(){return this.isFrePage}get DisableCachingConfigs(){return this.disableCachingConfigs}get EnableConfigService(){const t=T._3.getQueryParameterByName("enableConfigService",(0,p.iA)());return t?"true"===t.toLocaleLowerCase():this.enableConfigService}get EnableCMSPPEConfigs(){return P.Rb&&P.Rb.EnableCMSPPEConfigs}get IsMultiConfigRetrievalEnabled(){return this.isMultiConfigRetrievalEnabled}get SendFeedCallActivityIdInHeader(){return this.sendFeedCallActivityIdInHeader}get SendUserIdInHeader(){return this.sendUserIdInHeader}set SendUserIdInHeader(t){this.sendUserIdInHeader=t}get ConfigServiceBaseUrl(){return this.configServiceBaseUrl}get CrsRetryBaseUrl(){return this.crsRetryBaseUrl}get FeatureFlags(){return this.featureFlags}get HostHeaderOverride(){return this.hostHeaderOverride}get ConfigRootUrl(){if(!this.configRootUrl)return null;const t=new URL("",this.configRootUrl);"dev"===new URLSearchParams((0,p.iA)()).get("env")&&t.searchParams.set("env.config","dev");const e=new URLSearchParams((0,p.iA)()).get("env.config");return e&&t.searchParams.set("env.config",e),t}get CacheBustingIdentifier(){return this.cacheBustingIdentifier}get IsGitConfigs(){return this.isGitConfigs}get CountryCode(){return this.countryCode}set CountryCode(t){this.countryCode=t}get ActivityIdLowerCaseNoHypens(){return(P.Rb&&P.Rb.ClientSettings&&P.Rb.ClientSettings.aid||"").toLowerCase()}get Latitude(){return this.latitude}get Longitude(){return this.longitude}get ConfigOrigins(){return this.configOrigins}get CrsVersion(){return this.crsVersion}get CrsPath(){return this.crsPath}get CrsDisableServerCache(){return this.crsDisableServerCache}set CrsDisableServerCache(t){this.crsDisableServerCache=t}get LanguageRegionMismatch(){return this.findLanguageRegionMismatch()?"marketmismatch":""}get isWindowsDashboard(){return"windowsNewsPlus"===O.AppType||"winWidgets"===O.AppType}get LanguageRegionMismatchExplicit(){return this.findLanguageRegionMismatchExplicit()?"marketmismatch":""}get MarketRequestInputLanguage(){return this.marketRequestInputLanguage}get MarketRequestInputRegion(){return this.marketRequestInputRegion}get MarketRequestInputGeoCountry(){return this.marketRequestInputGeoCountry}get MarketDetectionType(){return this.marketDetectionType}get TelemetryInitOptions(){return this.telemetryInitOptions}get BatchedEvents(){const t=(null===P.Rb||void 0===P.Rb?void 0:P.Rb.CurrentFlightSet)||new Set("");return t.has("telbatloadtime")?["LoadTime","LoadTimeDiag"]:t.has("telbaterrors")?["AppError"]:t.has("telbatdiag")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo"]:t.has("telbatmost")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo","ContentView"]:t.has("telbatcontentvw")?["ContentView"]:t.has("telbatlogs")?["AppError","ClientLog","TraceInfo"]:void 0}get ConfigStaticFallbackBaseUrl(){return`${this.IsChinaCompliance?a.Kb:a.ZW}/periconfigs/`}findLanguageRegionMismatch(){var t,e,n,i,r,o;if(P.Rb.ClientSettings&&"true"===P.Rb.ClientSettings.static_page)return!1;const s=P.Rb.ClientSettings&&(null===(t=P.Rb.ClientSettings)||void 0===t?void 0:t.market)&&(null===(e=P.Rb.ClientSettings)||void 0===e||null===(e=e.market)||void 0===e?void 0:e.detection),a=P.Rb.ClientSettings&&(null===(n=P.Rb.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=P.Rb.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=(0,x.YP)(P.Rb.ClientSettings&&(null===(r=P.Rb.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=P.Rb.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content)),u=s&&(null==s?void 0:s.recommendLanguageCoachmark);if(s&&("implicitExisting"===s.type||"implicitNew"===s.type||"cm"===s.type||"implicitReset"===s.type)&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase()||"true"===u)return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if("implicitExisting"===s.type&&s.geo_country&&""!==s.geo_country&&a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}get MarketMismatchDetail(){return this.findLanguageRegionMismatch()||this.findLanguageRegionMismatchExplicit()?this.marketMismatchDetails:null}findLanguageRegionMismatchExplicit(){var t,e,n,i,r,o;if(P.Rb.ClientSettings&&"true"===P.Rb.ClientSettings.static_page)return!1;const s=P.Rb.ClientSettings&&(null===(t=P.Rb.ClientSettings)||void 0===t?void 0:t.market)&&(null===(e=P.Rb.ClientSettings)||void 0===e||null===(e=e.market)||void 0===e?void 0:e.detection),a=P.Rb.ClientSettings&&(null===(n=P.Rb.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=P.Rb.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=(0,x.YP)(P.Rb.ClientSettings&&(null===(r=P.Rb.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=P.Rb.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content));if(s&&"compliance"!==s.type&&"url"!==s.type&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if(a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}setConfigOrigin(){const t={feature:l.t.Production,loc:l.t.Production};return this.IsGitConfigs&&!this.EnableConfigService||(t.feature=l.t.Production,t.loc=l.t.Production),t}constructor(t,e,n,i,r){this.assetsGlobalUrl="https://assets.msn.com",this.assetsCNUrl="https://assets.msn.cn",this.heroOcids=["widgetonlockscreen","widgetonlockscreenwin10","calendarontaskbar","winp2fpwidgetboard","wind_spot_2","webwidgetonboard","webwidgetonlockscreen","wind_spot_desktop"],this.optOutOfPersonalization=!1,this.optOutOfModelTraining=!1,this.marketMismatchDetails={type:"",mismatchItem1:"",mismatchItem2:""},this.initializeAppEnvironment(t,e,n,i,r)}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return m.vv.get(E,()=>new F(t,e,n,i,r))}static resetInstance(){const t=new F(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return m.vv.set(E,t),O=(0,g.G)(F),O}get IsHeroNTP(){return this.isHeroNTP}set IsHeroNTP(t){this.isHeroNTP=t}get IsUCBased(){return this.isUCBased}set IsUCBased(t){this.isUCBased=t}get IsUCPeekMode(){return this.isUCPeekMode}set IsUCPeekMode(t){this.isUCPeekMode=t}get IsHalfViewportUC(){return this.isHalfViewportUC}set IsHalfViewportUC(t){this.isHalfViewportUC=t}get UxMode(){var t;return null===(t=this.currentRequestTargetScope)||void 0===t||null===(t=t.modes)||void 0===t?void 0:t.uxMode}initializeAppEnvironment(t,e,n,i,r){var o,s,u,l;const m=(0,p.VQ)(),g=(0,h.S)()?(0,p.KP)(k.MK):null,v=(0,p.$N)(),w=(0,p.IU)(),y=(0,p.iA)(),b=(0,R.M8)(m);let S=null;const x=P.Rb&&P.Rb.ClientSettings,$=T._3.getParamsWithItems(y,!0);let A=!1;if(x){this.isCaliforniaRegion=x.geo_subdivision&&"california"==x.geo_subdivision.toLocaleLowerCase(),this.isChinaCompliance=function(t,e){return!!(t.hostname.toLowerCase().endsWith(".cn")||e.isChinaCompliance||e.useCnDomain||t.search.match(/isChinaBuild=true/i)||t.search.match(/item=revip:cn/))}({hostname:m,search:y},x),(0,C.jB)(this.isChinaCompliance),this.activityId=this.tryReformatGuid(x.aid),this.currentMarket=this.LocaleContentMarketString||x.apps_locale,this.countryCode=x.geo_country,this.frontDoorMuid=x.fd_muid,this.latitude=x.geo_lat,this.longitude=x.geo_long,this.configRootUrl=x.configRootUrl?new URL("",x.configRootUrl):null,S=(0,d.F)(x.pcsInfo&&x.pcsInfo.env||"prod"),this.setAccountInfoPromise(),this.appType=x.apptype||"",this.miniAppId=x.miniAppId||"",this.authCookieName=this.getAuthCookieName(),this.useAuthFetch=!1;const{featureFlags:t}=x;this.featureFlags=t,A=t&&"true"===t.disableCachingConfigs,this.enableConfigService=!t||!t.enableConfigService||"true"===t.enableConfigService,this.sendFeedCallActivityIdInHeader=(!t||!t.disableActivityIdInHeader||"true"!==t.disableActivityIdInHeader)&&"hub"===this.appType,this.cacheBustingIdentifier=x.cbid;const{bundleInfo:e,pcsInfo:n}=x||{};this.isDebug=(T._3.getQueryParameterByName("debug",v)||"").toLowerCase()in{1:1,true:1}||(T._3.getQueryParameterByName("item",v)||"").toLowerCase().indexOf("/debug")>0||b;const i=this.getRunTimePropertyBag(e,n);(0,c.RWs)(i),(0,M.RX)(i),this.configIndexDocId=x.configIndexDocId,this.widgetAttributes=x.widgetAttributes}const I=(0,d.F)(T._3.getQueryParameterByName("env",v));this.environment=I||S||d.O.prod,this.envInstanceOverride=T._3.getQueryParameterByName("instance",v);const _=x&&x.servicesEndpoints,E=_&&_.feedService&&_.feedService.domain||w;this.serviceDomainUrl=n||E,this.oneServiceOverride=r,this.staticDomain=new URL(E).host,this.staticAssetsUrl=(0,R.VJ)(null==_||null===(o=_.staticConfig)||void 0===o?void 0:o.domain,this.isChinaCompliance),this.staticsUrl=(0,R.JO)(b,this.staticAssetsUrl,w);const F=null===(s=$.find(t=>"pr"===t.key))||void 0===s?void 0:s.value,D=F&&`pr-${F}`||"latest";this.staticsUrlWithBuild=this.staticsUrl+D+"/",this.enterpriseServiceDomainUrl=_&&_.enterpriseFeedService&&_.enterpriseFeedService.domain;const{crs:O={}}=_||{},{v:N,domain:U,path:L}=O;this.crsVersion=N,this.crsDomain=U,this.crsPath=L||a.iT;const{requestInput:B={},detection:W={}}=x&&x.market||{},{language:H="",region:V="",geo_country:z=""}=B||{},{type:j=""}=W||{};this.marketRequestInputLanguage=H,this.marketRequestInputRegion=V,this.marketRequestInputGeoCountry=z,this.marketDetectionType=j,this.serviceUrlBase=t||g&&g.getAttribute(k.Rs)&&new URL("",g.getAttribute(k.Rs))||new URL("/service/",this.serviceDomainUrl),this.feedServiceUrlBase=this.serviceDomainUrl&&new URL("/service/",this.serviceDomainUrl)||void 0,this.hostPage=f.q.getHostPageFromUrl(v),this.isFrePage="1"===T._3.getQueryParameterByName("fre",v),this.userId=this.getUserMuid(),this.rootTelemetryId=g?Number(g.getAttribute(k.Tp)):0;const q=g&&g.getAttribute(k.MQ),G=g&&g.getAttribute(k.Jp);this.trackInfo={sitePage:{page_product:q,page_type:G}},this.setNavTargetHostName(),this.setTargetScope();const J=this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments||[];this.disableCachingConfigs=A||(0,h.S)()&&J.includes("inlincrscall"),this.crsVersion=function(t,e,n){try{return t&&e&&e.includes(a.jM)&&"weather"!==n&&"finance"!==n?a.Q9:t}catch(t){}return t}(this.crsVersion||"",J,this.appType||""),this.isGitConfigs=this.useGitConfigs(),this.configOrigins=this.setConfigOrigin(),this.contentServiceUrlBase=this.serviceDomainUrl?new URL("/content/",this.serviceDomainUrl):void 0,this.isMultiConfigRetrievalEnabled=this.useMultiConfigsRetrieval();const K=this.getConfigServiceBaseUrl(this.isMultiConfigRetrievalEnabled,e);this.configServiceBaseUrl=K?new URL("",K):null,this.environmentConfigUrl=this.serviceDomainUrl?new URL("/config/v1/",this.serviceDomainUrl):void 0,this.oneServiceApiKey=this.getOneServiceApiKey(),this.enableFiveColLayout=!1,i&&(this.hostHeaderOverride=i);const Q={appType:this.appType,flights:P.Rb.CurrentFlights,itemOverrides:$},X=y&&(y.includes("vptest=1")||y.includes("reqsrc=vp")),Y="edgeChromium"===this.appType&&!(0,h.S)();this.shouldUseFdheadQsp=X||function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{itemOverrides:n}=t||{},i=n&&n.find(t=>"should1sUseFdheadQsp"===t.key);if(i&&i.value)return"true"===i.value;if(e)return!1;const r=n&&n.find(t=>"flights"===t.key||"appendflights"===t.key.toLowerCase());return!!(r&&r.value&&r.value.length>0)}(Q,Y),this.oneServiceContentMarketQspKey=X?"market":"cm";const Z="homePage"===this.appType&&y&&y.includes("segment="),tt=T._3.getQueryParameterByName("ucexperience",(0,p.$N)());this.isHeroNTP=this.heroOcids.includes(null===P.Rb||void 0===P.Rb||null===(u=P.Rb.ClientSettings)||void 0===u?void 0:u.ocid)&&("edgeChromium"===this.appType||Z),this.isHalfViewportUC="half"===tt,this.isUCBased="full"===tt||this.isHalfViewportUC,this.isUCPeekMode="peek"===T._3.getQueryParameterByName("exp",(0,p.$N)()),this.telemetryInitOptions={excludeCsMetaData:null===(l=P.Rb.CurrentFlightSet)||void 0===l?void 0:l.has("telnometadata")},this.shouldSendUnloadTelemetry(),this.shouldThrottleLoadTime()}getOneServiceApiKey(){var t,e;if(this.widgetAttributes&&this.widgetAttributes.feed&&this.widgetAttributes.feed.apiKey)return this.widgetAttributes.feed.apiKey;const n="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM";let i;const r=["gaming","gaming::car","gaming::ai","gaming::deepseek"];switch(this.appType){case"windowsShell":case"windowsShellV2":i="pWw5OmQehOA0XNfgcgrTrwEJZJJJzE83ovtTQx6JRG";break;case"windowsNewsPlus":case"winWidgets":case"webWidgets":i="AEbyVYqTQAPvg4lWwMSFHaLkDzl3weRKKIDDInLQUj";break;case"edgeChromium":i="1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc";break;case"bingHomepage":case"distribution":i="lenovo"===P.Rb.ClientSettings.pagetype?"OrorOEMX3w4Hsk49OXMM6YayCYQw3OHcpzqiXEk9xd":"edgewelcome"===P.Rb.ClientSettings.pagetype?"oPFhbDSAghltCuG6UvQCcxmngSVye65eXQHHu3voxZ":"QMmdky7jrTlM4mWJmMYQTi71lp678KyZJBKHCAyKCg";break;case"sharedWidgets":i="hFWgtnoLG1BXruRRhEVJo5ACP8414XUG0Ric6JbyND";break;case"gaming":i="play"===(null===(t=this.currentRequestTargetScope)||void 0===t?void 0:t.pageType)?n:r.includes(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.pageType)?"1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc":"Uj7u7bqBgMhDGBUVPSbcHUe0pU7X8TbVRviCO2fojo";break;case"travel":i="8RwD77wJgNQmmVBdGmZsK6vvPCrG58iRCQRoPsE4JJ";break;case"health":i="FywQv6H345wNCU4yKWraF2esI9qiMQFx90v53mMHrm";break;default:i=n}return i}getUserMuid(){let t;const e=(0,v.ab)();return(0,_.A)(e)&&(t="m-"+e),t}getConfigServiceBaseUrl(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case S.prod:case S.prodssr:case S.staging:return t;default:return n?location.origin||null:(0,p.IU)()||null}}(this.crsDomain||(this.isChinaCompliance?a.Kb:a.ZW),this.environment),i=this.isGitConfigs?`${this.crsPath}${this.crsVersion||a.fK}/config/`:`${this.crsPath}${t?"v2/":""}configindex/`,r=(0,p.IU)();if(this.crsRetryBaseUrl=r?r+i:null,e)return e+i;if((0,h.S)()&&(this.renderWidgets()||"sharedWidgets"===this.appType||"bingHomepage"===this.appType||"distribution"===this.appType||"gaming"===this.appType||("sports"===this.appType||"finance"===this.appType||"weather"===this.appType)&&this.widgetAttributes)){const t=(this.crsDomain||"https://www.msn."+(this.IsChinaCompliance?"cn":"com"))+i;return this.crsRetryBaseUrl=t,n?`${n}`+i:t}return n||(0,p.IU)()?(n||(0,p.IU)())+i:null}useMultiConfigsRetrieval(){const t=(0,p.iA)();if(t){const e=T._3.getQueryParameterByName("isMultiConfigRetrievalEnabled",t);if(e)return"true"===e.toLocaleLowerCase()}return!this.featureFlags||!this.featureFlags.isMultiConfigRetrievalEnabled||"true"===this.featureFlags.isMultiConfigRetrievalEnabled}useGitConfigs(){const t=(0,p.iA)();if(t){const e=T._3.getQueryParameterByName("isGitConfig",t);if(e)return"true"===e.toLocaleLowerCase()}return e=this.crsVersion,n=this.configIndexDocId,!(!this.appType||!e||e<a.fK||n);var e,n}renderWidgets(){const t=(0,p.iA)();if(t){const e=T._3.getQueryParameterByName("renderWidget",t);if(e)return"true"===e.toLocaleLowerCase()}return!1}getAuthCookieName(){if(this.authCookieName)return this.authCookieName;let t;switch((P.Rb&&P.Rb.ClientSettings).apptype||""){case"windows":t="windowshp"===P.Rb.ClientSettings.pagetype?"anon":"app_anon";break;case"bingHomepage":case"community":case"contentTools":case"finance":case"gaming":case"health":case"homePage":case"hub":case"personalize":case"sharedWidgets":case"shopping":case"sports":case"traffic":case"travel":case"ugc":case"views":case"weather":default:t="anon";break;case"edgeChromium":case"edgeMobile":case"distribution":case"windowsNewsPlus":case"winWidgets":case"webWidgets":case"windowsShell":case"windowsShellV2":case"office":case"channelmobile":case"superApp":t="app_anon"}return t}setAccountInfoPromise(){this.ResolvedAccountInfo=null,this.AccountInfoPromise=new Promise(t=>{if(!((0,h.S)()&&window.chrome&&window.chrome.authPrivate&&window.chrome.authPrivate.getPrimaryAccountInfo))return t(null);const e=Math.round(performance.now());window.chrome.authPrivate.getPrimaryAccountInfo(n=>{const i=Math.round(performance.now());return(0,u.ZF)()["Auth.GetPrimaryAccountInfo"]=i-e,this.ResolvedAccountInfo=n,t(n)})}),this.AccountInfoPromise}tryReformatGuid(t){if(t&&32===t.length){const e=t.match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/i);e&&(t=e.slice(1).join("-"))}return t}setTargetScope(){if(!P.Rb||!P.Rb.ClientSettings)return;const t=function(t,e){let n;const i=decodeURIComponent((0,y._)(t,"aace")),{child:r}=i&&(0,b.B)(i)||{},o=(0,y._)(t,w.wX);var s;return n=i&&(1===r||o)?"kids":(null===(s=e.modes)||void 0===s?void 0:s.audienceMode)||e.audienceMode||"adult",n}((0,p.gH)(),P.Rb.ClientSettings),{browser:e,deviceFormFactor:n,domain:i,ocid:r,os:o,modes:s,pagetype:a}=P.Rb.ClientSettings,c=P.Rb.CurrentFlights.split(",");if(this.currentRequestTargetScope={audienceMode:t,browser:e,deviceFormFactor:n,domain:i,locale:{content:this.LocaleContentMarket,display:this.LocaleDisplayLanguage},ocid:r,os:o,modes:s,platform:"web",pageType:a,pageExperiments:c},!this.currentRequestTargetScope.locale&&$.n.stringHasData(this.LocaleContentMarketString)){const t=this.LocaleContentMarketString.split("-");t.length>1&&(this.currentRequestTargetScope.locale={language:t[0],market:t[t.length-1],content:{language:t[0],market:t[t.length-1]},display:{language:t[0],market:t[t.length-1]}})}}setNavTargetHostName(){let{subDomain:t,domainName:e,topLevelDomain:n}={subDomain:i.WWW,domainName:r.MSN,topLevelDomain:o.COM};const s="homePage"!==this.appType&&P.Rb&&P.Rb.CurrentFlightSet&&P.Rb.CurrentFlightSet.has("1s-viewurldomain");switch(this.environment){case d.O.prod:case d.O.staging:t=s?i.MicrosoftStart:i.WWW;break;case d.O.int1:t=s?i.MicrosoftStartINT1:i.INT1;break;case d.O.int:case d.O.intpr:case d.O.intperf:t=s?i.MicrosoftStartINT:i.INT}this.isChinaCompliance&&(n=o.CN),this.navTargetHost=`${t}.${e}.${n}`}getRunTimePropertyBag(t,e){const n={appType:this.appType};e&&(n.pcsVersion=e.v,n.pcsEnv=e.env);const{alias:i,v:r}=t||{};this.buildVersion=r||"",n.build=this.buildVersion,i&&(n.buildAlias=i),this.isDebug&&(n.isDebugPage=!0);const o=P.Rb.CurrentFlights;return o&&(n.shouldDelayUntilLoadTime="edgeChromium"===this.appType&&P.Rb.IsPrerender,n.shouldSampleErrorsForTreatement1=o.includes("apperror1")||o.includes("errorsamplingb")),n}shouldSendUnloadTelemetry(){var t;(0,h.S)()&&null!==(t=P.Rb.CurrentFlightSet)&&void 0!==t&&t.has("remunloadflt")&&(window.__sendUnloadTelemetry=!1)}shouldThrottleLoadTime(){var t;(0,h.S)()&&null!==(t=P.Rb.CurrentFlightSet)&&void 0!==t&&t.has("throttleloadtime")&&(window.__throttleLoadTime=!0)}getStaticUrls(t){return{com:`${this.assetsGlobalUrl}/staticsb/statics/${t}`,cn:`${this.assetsCNUrl}/staticsb/statics/${t}`}}}const D=F.getInstance;let O=(0,g.G)(F);const N=()=>D().Environment===d.O.staging},17388:function(t,e,n){n.d(e,{q:function(){return r},u:function(){return o}});var i=n(88294);const r=function(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3]?n[t]?n[t].push(e):n[t]=[e]:t&&"function"==typeof e&&n&&(i.v.log(`DisplayAd: addEventListener eventName: ${t} callback: ${e} events: ${n}`),n[t]&&n[t][0].toString()!=e.toString()?n[t].push(e):n[t]=[e])},o=(t,e,n,i,r)=>{if(!e||!n)return;if(e.divid=e.divid||e.divName,e.msnSdkName=i,r){if(n[t]&&n[t].length)for(let i=0;i<n[t].length;i++)n[t][i](e);return}let o=5;const s=setInterval(()=>{if(n[t]&&n[t].length){for(let i=0;i<n[t].length;i++)n[t][i](e);clearInterval(s)}else o--||clearInterval(s)},500)}},17501:function(t,e,n){var i;n.d(e,{x:function(){return i}}),function(t){t[t.All=0]="All",t[t.Otf=1]="Otf",t[t.OneDS=2]="OneDS",t[t.CTag=3]="CTag",t[t.Comscore=4]="Comscore",t[t.Debug=5]="Debug",t[t.SuperApp=6]="SuperApp",t[t.Automation=7]="Automation",t[t.SuperAppBridge=8]="SuperAppBridge"}(i||(i={}))},17703:function(t,e,n){n.d(e,{b:function(){return f}});var i=n(99893),r=n(79742),o=n(90831),s=n(9774),a=n(45494);const c={[a.f.C0001]:s.j.Essential,[a.f.C0002]:s.j.Advertising,[a.f.C0003]:s.j.SocialMedia,[a.f.C0004]:s.j.ThirdPartyAnalytics};var u=n(45181),l=n(59239),d=n(77246);function f(t){if(u.n.get(u.Y.Initialized))return;let e=i.O.None,n=r.z.NotRequired;(0,d.S)()&&(t&&t.required?(e=i.O.WidgetHost,n=t.categories?r.z.NotRequired:r.z.Required,h(t.categories),window.addEventListener(o.t,t=>h(t.detail))):(0,l.Tj)()?(e=i.O.MSCCBanner,n=(0,l.GR)()?r.z.Required:r.z.NotRequired,n===r.z.Required?u.n.set(u.Y.ActiveCookieCategories,[s.j.Essential]):u.n.set(u.Y.ActiveCookieCategories,[...Object.values(s.j)])):(0,l.d1)()&&(e=i.O.OneTrustBanner,n=(0,l.Cl)()?r.z.Required:r.z.NotRequired,p(),window.addEventListener(o.M,p))),u.n.set(u.Y.CookieConsentStatus,n),u.n.set(u.Y.CookieConsentProvider,e),u.n.set(u.Y.Initialized,!0)}function h(t){const e=t&&Object.keys(t).filter(e=>Object.values(s.j).includes(e)&&1===t[e])||new Array;e.includes(s.j.Essential)||e.unshift(s.j.Essential),u.n.set(u.Y.ActiveCookieCategories,e)}function p(){const t=window.OnetrustActiveGroups,e=t&&t.trim().split(",").filter(t=>{const e=t&&t.trim();return Object.values(a.f).includes(e)}).map(t=>{const e=t.trim();return c[e]})||new Array;e.includes(s.j.Essential)||e.unshift(s.j.Essential),u.n.set(u.Y.ActiveCookieCategories,e)}},17720:function(t,e,n){n.d(e,{$U:function(){return o},vv:function(){return r}});let i=new Map;const r=Object.freeze({set(t,e){return i.set(t,e),this},get:function(t,e){let n=i.get(t);return void 0===n&&e&&(n=e(),i.set(t,n)),n},clear(){i.clear()},delete:t=>i.delete(t),has:t=>i.has(t)});function o(t){const e=Symbol();return{get current(){return r.get(e,()=>t)},set current(t){r.set(e,t)}}}},17732:function(t,e,n){n.d(e,{vk:function(){return i}});class i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;this.maxLength=t,this.list=[]}push(t){this.list.push(t),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}}},18e3:function(t,e,n){n.d(e,{m:function(){return v}});n(57209);var i=n(98165),r=n(12870);const o="undefined"!=typeof window?function(){const t={positions:[],beacons:{},clickBeacons:{},elements:{},timer:null,watch:null,paused:!1,supportsIO:!(window.location.search.indexOf("useLegacyTracking=1")>-1)&&"IntersectionObserver"in window,viewedBeaconHistory:new Set},e="background: #fff; border-radius: 2px; color: #5f6a96; padding: 4px;";let n=!1;window&&(n=window.location.search.toLowerCase().indexOf("debug=1",0)>-1);const i=function(t){"NOT_PROVIDED"!==t&&((new Image).src=t)},r=function(e){const n=t.clickBeacons[e]||[];if(n.length)for(let t=0,e=n.length;t<e;t++)i(n[t])},s=function(t,e){const n=(new Date).getTime()/1e3|0,i=Math.floor(9007199254740990*Math.random()),r=e&&e.index||0;return t.replace("$(AD_POSN)",encodeURIComponent("pp=m,pi="+r)).replace("{REQUEST_ID}",i).replace("[timestamp]",n).replace("[CACHEBUSTER]",n).replace("[RANDOM_NUMBER]",i)},a=function(t,e){return t.replace("$(S_VIEW_TYPE)",e)},c=function(t,e,n){const i=function(t,e){const n=e+1,i=Math.floor(t.width/n),r=Math.floor(t.height/n),o=Math.max(0,t.left),s=t.top,a=[];for(let t=1;t<n;t++){const e=o+i*t;for(let t=1;t<n;t++){const n=s+r*t;a[a.length]=[e,n]}}return a}(e,10);let r=0;for(let e=0,n=i.length;e<n;e++){const n=i[e][0],o=i[e][1];u(t,n,o)||r++}const o=100*n;return!(100-r/i.length*100>=o)},u=(t,e,n)=>{if(!!t.shadowRoot){const i=t.shadowRoot.elementFromPoint(e,n);return t.shadowRoot.contains(i)||t.contains(i)}const i=document.elementFromPoint(e,n);return!(!i||"MSFT-FEED-LAYOUT"!==i.tagName.toUpperCase()&&"VIEWS-NATIVE-AD"!==i.tagName.toUpperCase()&&"EDGE-CHROMIUM-PAGE"!==i.tagName.toUpperCase())},l=function(t,e){const n=function(){const t=document,e=window,n=t.body,i=t.documentElement;return{height:e.innerHeight||i.clientHeight||n&&n.clientHeight,width:e.innerWidth||i.clientWidth||n&&n.clientWidth}}(),i=t.getBoundingClientRect(),r=Math.max(0,Math.min(i.bottom,n.height)-Math.max(i.top,0)),o=Math.max(0,Math.min(i.right,n.width)-Math.max(i.left,0)),s=r/(i.height||t.offsetHeight)||0,a=o/(i.width||t.offsetWidth)||0;return!window.disableObstructionDetection&&window.addEventListener&&c(t,i,e)?0:Math.max(0,s+a-1)},d=function(t,e,n){return window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},f=function(){const i=t.positions.length;for(let o=0;o<i;o++){const i=t.positions[o];if(!t.paused&&i){const s=i.uid,a=i.node;if(!a)continue;if(t.elements[s]||(t.elements[s]=a,t.clickBeacons[s]&&d(a,"click",function(){r(s)})),l(a,i.threshold)<i.threshold)i.history=null;else{i.history||(i.history=Date.now(),n&&console.log("%c[ Gemini: Started - "+i.history+" ]",e));const r=(Date.now()-i.history)/1e3;if(n&&console.log("%c[ Gemini: Tracking - "+r+" ]",e),r>=i.duration&&(n&&console.log("%c[ Gemini: Tracking - "+r+" ]",e),i.timer&&(clearInterval(i.timer),i.timer=null),i.observer&&i.observer.unobserve(a),t.viewedBeaconHistory.has(i.uid)||(t.viewedBeaconHistory.add(i.uid),i.callback(i)),i.history=Date.now(),t.positions.splice(o,1),o-=1,!t.positions.length)){n&&console.log("%c[ Gemini: Finished - "+i.history+" ]","background: #eb2e2e; border-radius: 2px; color: #fff; padding: 4px;"),t.timer&&(clearInterval(t.timer),t.timer=null);break}}}}},h=function(t){const e=t.node;if(!t.observer){const n=new IntersectionObserver(function(e){return function(e){const n=e[e.length-1];n.isIntersecting?n.isIntersecting&&!t.timer&&(t.timer=setInterval(f,150)):(clearInterval(t.timer),t.timer=null,t.history=null)}(e)},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});n.observe(e),t.observer=n}},p=function(e,r,a,c,u,l){const d=a.a,f=a.c,p=a.d,m=a.p,g=a.t,v=t.beacons,w=t.positions,y=m/100;v[e]||(v[e]={});v[e][r]={urls:c,threshold:y,duration:p,type:g,consecutive:f,audio:d};const b={uid:e,threshold:y,duration:p,consecutive:f,audio:d,callback:function(){const t=v[e][r],a=t.urls,c=a.length,u=o.beaconCallback;for(let o=0;o<c;o++){const c=a[o];i(s(c,l)),"function"==typeof u&&u(v[e][r],e,r,c),n&&console.log("%c[ Gemini: $$$$ ]\n"+JSON.stringify({url:c,rule:r,threshold:t.threshold,duration:t.duration,consecutive:t.consecutive},null,2),"background: #5c71d9; border-radius: 2px; color: #fff; padding: 4px;")}},node:u,history:null};w.push(b),t.supportsIO&&h(b)},m=function(e,n,i){const r=n.rules,o=r.viewabilityDefStatic,s=r.viewabilityDefStatic3P,c=n.tag,u=c.clickTrackingUrl,l=c.imprTrackingUrl,d=c.imprTrackingUrls,f=n.actionUrls,h=n.beacon;if(f&&f.PARTIAL_VIEW){const t=f.PARTIAL_VIEW;p(e,"viewabilityDefStaticPartial",{p:.01,d:0,t:21},t,i,n)}if(o||h||f&&f.IMPR_INTERNAL){const t="viewabilityDefStatic",r=o||{c:1,d:1,p:50};let s=[];h&&h.length&&s.push(h),f&&f.IMPR_INTERNAL&&(s=s.concat(f.IMPR_INTERNAL)),d&&d.length?s=s.concat(d):l&&(l instanceof Array?s=s.concat(l):s.push(l)),p(e,t,r,s,i,n)}if(s&&f&&f.STATIC_VIEW_3P){const t=s.length;for(let r=0;r<t;r++){const t=f.STATIC_VIEW_3P.slice(),o=s[r],c="viewabilityDefStatic3P:"+r,u=s[r].t;for(let e=0,n=t.length;e<n;e++)t[e]=a(t[e],u);p(e,c,o,t,i,n)}}let m=[];f&&f.CLICK_INTERNAL&&(m=m.concat(f.CLICK_INTERNAL)),u&&u.length&&(m=m.concat(u)),t.clickBeacons[e]=m},g=function(t,e){const n=t.ads,i=t.section.id,r=n.length;for(let t=0;t<r;t++){const r=n[t],o=r.customId||"gemini-"+i+"-"+(r.creativeId||r.demandSourceCreativeId||r.dynamicProductAdId||0)+"-"+r.index,s=e;r.tag="string"==typeof r.tag?JSON.parse(r.tag):r.tag,r.beacon=r.beacon.replace("$(AD_POSN)",encodeURIComponent("pp=m,pi="+r.index)),m(o,r,s)}},v=function(e,i){const r=e instanceof Array;if(!e||r&&!e.length||e&&"object"!=typeof e)return;e&&!r&&(e=[e]);const o=e.length;for(let t=0;t<o;t++){const n=e[t],r=n.sectionads;if(r)for(let t=0;t<r.length;t++)g(r[t],i);else g(n,i)}return"IntersectionObserver"in window||t.timer||(n&&console.log("%c[ Gemini: Start Watching ]","background: #55ae3f; border-radius: 2px; color: #fff; padding: 4px;"),t.timer=setInterval(f,150)),this};return window.Gemini=v,"hidden"in document&&document.addEventListener("visibilitychange",function(){return t.paused=document.hidden}),v.version="2.0",v}():null;var s=n(88294),a=n(93468),c=n(65022),u=n(84397),l=n(95125),d=n(1755),f=n(77246),h=n(27261),p=n(98216),m=n(29231),g=n(31774);class v{constructor(t){this.config=t,this.visiJsonTrackingData=new Map,this.userActionLog=new l.Yg,this.beaconsProcessed=new Map,this.currentVideoDom=new Map,this.onObserve=(t,e)=>(n,r)=>{n&&n.forEach(n=>{s.v.logCallback(()=>"IntersectionRatio: "+n.intersectionRatio.toString());let o=1e3;(0,i.T)()&&(o=0),n.intersectionRatio>=.5?this.timerId=window.setTimeout((n,i)=>{this.fireVisibilityBeacon(n,i),this.userActionLog.fireImpressionLog(t,e,i)},o,r,n.target):this.timerId&&clearTimeout(this.timerId)})}}async sendBeaconForAdServed(t){const{beaconsJson:e,beaconsSupportHttpPOST:n}=t;this.fireAdServedTrackingCall(e,n)}async fireAdServedTrackingCall(t,e){if(t&&t.length>0)try{const e=JSON.parse(t),i=e&&e.trb;if(i)for(let t=0;t<i.length;t++){var n;const r=i[t];null!==(n=window.servedBeaconUrls)&&void 0!==n&&n.includes(r)||(this.beaconsProcessed&&this.beaconsProcessed.has(r)&&this.beaconsProcessed.get(r)===u._D.BeaconTypeAdServed||v.allServeBeaconsFiredOnPage&&v.allServeBeaconsFiredOnPage.has(r)||this.fireTrackingBeacon(i[t],u._D.BeaconTypeAdServed,e.e))}}catch(e){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to fire ad served call",`Fail to parse beacon json tracking data: ${t}`))}}fireClickTrackingCall(t,e){if(t&&t.length>0)try{const n=JSON.parse(t),i=JSON.parse(e),r=n&&n.tcb,o=i&&i.e;if(r)for(let t=0;t<r.length;t++)this.fireTrackingBeacon(r[t],u._D.BeaconTypeClick,o)}catch(e){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to fire ad clicked call",`Fail to parse beacon click json: ${t}`))}}fireUserActionBeacon(t){this.fireTrackingBeacon(t,u._D.UserActionEvent,!1)}visibilityObserver(t,e,n){const i=document.querySelector(t.replace(/\s/g,".")),r=t.slice(1,t.length);i&&this.elementVisibilityObserver(i,e,void 0,r,n)}visibilityCarouselObserver(t,e){t&&e&&this.elementVisibilityObserver(t,e)}elementVisibilityObserver(t,e,n,i,r,o,s,u,l){if(this.visiJsonTrackingData.set(t,e),n)try{!function(t,e){window.Gemini&&window.Gemini(t,e)}(JSON.parse(n),t)}catch(t){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to invoke gemini caller",`Fail to parse beacon gemini json: ${n}`))}const d={root:null,rootMargin:"0px",threshold:.5};let f;return this.doubleVerifyConfig=l,this.onObserve=this.onObserve.bind(this),this.fireVisibilityBeacon=this.fireVisibilityBeacon.bind(this),this.loadPolyfills().then(()=>{f=new IntersectionObserver(this.onObserve(s,u),d),f.observe(t),r&&r.length>0&&(this.trackBingViewability=this.trackBingViewability.bind(this),this.trackBingViewability(t,i,r,!0,this.beaconsProcessed,o,e))}),()=>{var t;return null===(t=f)||void 0===t?void 0:t.disconnect()}}checkVideoElementChanged(t,e,n){const i=t&&t.querySelector("native-ad-video-player")&&t.querySelector("native-ad-video-player").shadowRoot,r=i&&i.querySelector("content-video-player")&&i.querySelector("content-video-player").shadowRoot?i.querySelector("content-video-player").shadowRoot.querySelector("video"):null,o=n?n.get(t):null;n&&r!=o&&(e.element=r,e.videoParenentElement=i&&i.host&&i.host.parentElement,window&&window.MSANTracker&&window.MSANTracker.TrackElements&&(window.MSANTracker.PlayUtils.untrackElement(o),window.MSANTracker.TrackElements([e],window)),n.set(t,r))}trackBingViewability(t,e,n,i,r,o,s){const a=(this.config&&this.config.VideoAd&&this.config.VideoAd.view&&this.config.VideoAd.view.triggerType)??"play",c=(this.config&&this.config.VideoAd&&this.config.VideoAd.view&&this.config.VideoAd.view.durationMs)??2e3,l=!!o,d=e?e.concat(" video"):"";let f=t,h=null;i&&l&&(null==this.currentVideoDom&&(this.currentVideoDom=new Map),f=t&&t.querySelector("native-ad-video-player")&&t.querySelector("native-ad-video-player").shadowRoot,h=f&&f.querySelector("content-video-player")&&f.querySelector("content-video-player").shadowRoot&&f.querySelector("content-video-player").shadowRoot.querySelector("video"),this.currentVideoDom.set(t,h));let p=[];const m=[];let g=[],v=[];if(n&&n.length>0)for(let t=0;t<n.length;t++){const e=n[t];r&&r.has(e)&&r.get(e)===u._D.BeaconTypeVisibility||(l?g.push({type:"videoView",triggerType:a,url:e,percentage:50,duration:c}):m.push({type:"view",triggerType:"view",url:e,percentage:50,duration:1e3}),null!=r&&i&&r.set(e,u._D.BeaconTypeVisibility),v.push({beaconUrl:e,type:u._D.BeaconTypeVisibility}))}if(l){const{bingBeacons:n,servedBeacons:a,videoTrackedUrls:c}=this.getBeaconsForVideo(o,r,i,s);g=g.concat(n),v=v.concat(c),p=[{impid:e,element:i?t:null,beacons:a},{impid:i?e:d,element:i?h:null,videoParenentElement:i?f&&f.host&&f.host.parentElement:null,beacons:g}]}else p=[{impid:e,element:i?t:null,beacons:m}];if(window&&window.MSANTracker&&window.MSANTracker.TrackElements&&window.MSANTracker.TrackElements(p,window),i&&l){const n={impid:e,element:h,videoParenentElement:f&&f.host&&f.host.parentElement,beacons:g};setInterval(this.checkVideoElementChanged,100,t,n,this.currentVideoDom)}return v}getBeaconsForVideo(t,e,n,i){const o=(this.config&&this.config.VideoAd&&this.config.VideoAd.mobileEnable)??!0,s=(this.config&&this.config.VideoAd&&this.config.VideoAd.impression&&this.config.VideoAd.impression.durationMs)??1e3;let l=[];const d=[],{bingBeacons:f,videoUrls:h}=this.generateVideoBeaconsFromVast(t,e,n);l=l.concat(h);const m=i,g=r.Rb&&r.Rb.ClientSettings||{},v=g.browser&&"true"===g.browser.ismobile||"phone"===g.deviceFormFactor;if(m&&m.length>0)try{const t=JSON.parse(m);if(t){const i=t.trb;if(i)for(let r=0;r<i.length;r++){const a=i[r];e&&e.has(a)&&e.get(a)===u._D.BeaconTypeAdServed||(d.push({type:"videoImpression",triggerType:"view",url:t.e?a:decodeURIComponent(a),percentage:50,duration:o&&v?300:s}),null!=e&&n&&e.set(a,u._D.BeaconTypeAdServed),l.push({beaconUrl:a,type:u._D.BeaconTypeAdServed}))}}}catch(t){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to fire video tracked beacon",`Fail to parse beacon json tracking data: ${m}`))}return{bingBeacons:f,servedBeacons:d,videoTrackedUrls:l}}getMilliseconds(t){const e=t.split(".");let n=0;const i=e[0];e.length>1&&(n+=Number(e[1]));const r=i.split(":");return n+1e3*(3600*Number(r[0])+60*Number(r[1])+Number(r[2]))}generateVideoBeaconsFromVast(t,e,n){const i=[],r=[],o=this.getMilliseconds(t.Duration);if(t.TrackingEvents)for(let s=0;s<t.TrackingEvents.length;s++)if(t.TrackingEvents[s]){const a=t.TrackingEvents[s].value;if(e&&e.has(a)&&e.get(a)===u._D.BeaconTypeVideoProgress)continue;let c="";switch(t.TrackingEvents[s].event&&(c=t.TrackingEvents[s].event.toLowerCase()),c){case u._D.StartEvent:i.push({type:"start",triggerType:"play",url:a,percentage:50,duration:0});break;case u._D.FirstQuartileEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/4)});break;case u._D.MidPointEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/2)});break;case u._D.ThirdQuartileEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/4*3)});break;case u._D.CompleteEvent:i.push({type:"complete",triggerType:"play",url:a,percentage:50,duration:o});break;case u._D.ProgressEvent:t.TrackingEvents[s].offset&&i.push({type:"progress",triggerType:"play",url:a,percentage:50,duration:this.getMilliseconds(t.TrackingEvents[s].offset)})}null!=e&&n&&e.set(a,u._D.BeaconTypeVideoProgress),r.push({beaconUrl:a,type:u._D.BeaconTypeVideoProgress})}return{bingBeacons:i,videoUrls:r}}firePageMonetizedTelemetry(t){if(null==t||!t.getAttribute)return;const e=t.getAttribute(m.i);try{const n=JSON.parse(e);(null==n?void 0:n.ism)&&p.YT.sendContentViewEvent(t.parentElement,m.ym.Partial)}catch(t){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to set isMonetized flag",`Fail to parse telemetryObject json: ${e}`))}}fireVisibilityBeacon(t,e){if(s.v.logCallback(()=>"ad visible for 1 second"),this.firePageMonetizedTelemetry(e),this.visiJsonTrackingData&&this.visiJsonTrackingData.get(e))try{const t=JSON.parse(this.visiJsonTrackingData.get(e)),r=t&&t.tvb,o=(0,g.FS)(this.doubleVerifyConfig);var n;if(null!=o&&o.shouldAttach)(0,g.Mb)(null==o?void 0:o.dvTrackers,null===(n=this.doubleVerifyConfig)||void 0===n?void 0:n.nativeAdId,c.fze);if(r)for(let e=0;e<r.length;e++){var i;const n=r[e];null!==(i=window.viewedBeaconUrls)&&void 0!==i&&i.includes(n)||(this.beaconsProcessed&&this.beaconsProcessed.has(n)&&this.beaconsProcessed.get(n)===u._D.BeaconTypeVisibility||v.allVisiBeaconsFiredOnPage&&v.allVisiBeaconsFiredOnPage.has(n)||this.fireTrackingBeacon(n,u._D.BeaconTypeVisibility,t.e))}}catch(t){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to fire visibility beacon",`Fail to parse beacon json tracking data: ${this.visiJsonTrackingData.get(e)}`))}t&&t.unobserve(e)}fireRequestLevelBeacons(t){t&&t.forEach(t=>{t&&this.fireRequestLevelBeaconCall(t)})}fireJSTrackers(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&t.length>0)try{const n=JSON.parse(t),i=n&&n.tjb;if(!Array.isArray(i))return;for(const t of i)t&&"string"==typeof t&&(this.beaconsProcessed&&this.beaconsProcessed.has(t)&&this.beaconsProcessed.get(t)===u._D.BeaconTypeJsTracker||(e&&this.isXandrVisibilityTracker(t)?this.fireXandrJSTracker(t):this.fireJSTracker(t)))}catch(e){p.YT.sendAppErrorEvent((0,a.$5)(c.wvT,"Fail to fire jstrackers",`Fail to parse beacon json tracking data: ${t}`))}}async fireJSTracker(t){return new Promise((e,n)=>{if(!(0,f.S)())return void n(new Error("DOM is not available"));const i=(0,h.C7)(t,void 0,!0,void 0);i.onload=()=>{s.v.logCallback(()=>"Added jsTracker url: "+t),this.beaconsProcessed.set(t,u._D.BeaconTypeJsTracker),e()},i.onerror=e=>{p.YT.sendAppErrorEvent({...c.mi4,message:"Failed to load partner jsTracker file",pb:{...c.mi4.pb,customMessage:`Error occurred while loading ad partner trackerJS file: ${t}`}}),n()},document.body.appendChild(i)})}extractXandrTrackerInfo(t){let e,n;const i=t.match(/\/v\/s\/(\d+)\/trk\.js/);if(i)e="trk",n=i[1];else{const i=t.match(/\/viewability\/versions\/(v[\d.]+)\/banner\.js/);i?(e="banner",n=i[1]):(e="unknown",n="unknown")}return{scriptType:e,version:n,iframeId:`${v.xandrIframePrefix}-${e}-${n}`}}extractTagIdFromTrackerUrl(t){const e=t.match(/[;&]tag_id=([^;&]+)/);return e?e[1]:null}createXandrScriptKey(t){try{const{scriptType:e,version:n}=this.extractXandrTrackerInfo(t),i=this.extractTagIdFromTrackerUrl(t);if(i&&"unknown"!==e&&"unknown"!==n)return`${e}-${n}-${i}`}catch(t){s.v.logCallback(()=>`Failed to parse Xandr script key, using full URL: ${t.message}`)}return s.v.logCallback(()=>`Using full URL as Xandr script key for: ${t.substring(0,100)}...`),t}getOrCreateXandrIframe(t){if(!(0,f.S)())return null;const{scriptType:e,version:n,iframeId:i}=this.extractXandrTrackerInfo(t),r=`${e}-${n}`;let o=document.getElementById(i);return o||(o=document.createElement("iframe"),o.id=i,o.width="0",o.height="0",o.tabIndex=-1,o.style.cssText="border: 0px; display: none; margin: 0px; padding: 0px; position: absolute; left: -9999px; top: -9999px;",o.onload=()=>{const t=o.contentDocument||o.contentWindow&&o.contentWindow.document;t&&(t.open(),t.write('\n                        <html>\n                            <head></head>\n                            <body marginwidth="0" marginheight="0"></body>\n                        </html>\n                    '),t.close())},document.body.appendChild(o),s.v.logCallback(()=>`Created new Xandr ${r} tracker iframe with ID: ${i}`)),o}injectScriptIntoIframe(t){return new Promise((e,n)=>{try{const i=this.getOrCreateXandrIframe(t),r=(null==i?void 0:i.contentDocument)||(null==i?void 0:i.contentWindow)&&i.contentWindow.document;if(!r)return(0,a.vV)(c.mi4,"Unable to access iframe document for Xandr tracker injection"),void n();const o=()=>{if(!r.head)return void setTimeout(o,10);const i=(0,h.C7)(t,void 0,!0,void 0);i.onload=()=>{s.v.logCallback(()=>"Added jsTracker url to iframe: "+t),this.beaconsProcessed.set(t,u._D.BeaconTypeJsTracker),e()},i.onerror=e=>{p.YT.sendAppErrorEvent({...c.mi4,message:"Failed to load Xandr tracker file",pb:{...c.mi4.pb,customMessage:`Error occurred while loading ad Xandr trackerJS file: ${t}`}}),n(e)},r.head.appendChild(i)};o()}catch(t){(0,a.vV)(c.mi4,"Error injecting Xandr tracker script into iframe",t),n()}})}async fireRequestLevelBeaconCall(t){if(t){s.v.logCallback(()=>"Firing encoded requestlevel beacon: "+t);let e=await new Image(1,1);e.src=t,e=null}}firePostTrackingBeacon(t,e,n){let i=u._D.BeaconFormatEncoded;n||(t=decodeURIComponent(t),i=u._D.BeaconFormatDecoded),t&&(s.v.logCallback(()=>"Firing "+i+" "+e+" beacon, beaconUrl: "+t),navigator.sendBeacon(t),this.beaconsProcessed.set(t,e))}fireTrackingBeacon(t,e,n){let i=u._D.BeaconFormatEncoded;n||(t=decodeURIComponent(t),i=u._D.BeaconFormatDecoded),t&&(s.v.logCallback(()=>"Firing "+i+" "+e+" beacon, beaconUrl: "+t),this.fireBeaconCall(t,e))}fireBeaconCall(t,e){try{let e=new Image(1,1);e.src=t,e=null}catch(e){p.YT.sendAppErrorEvent((0,a.$5)(c.pwC,"Invalid beacon URL",`Fail to parse beacon json tracking data: ${t}`))}finally{this.beaconsProcessed.set(t,e),e===u._D.BeaconTypeVisibility&&v.allVisiBeaconsFiredOnPage.add(t),e===u._D.BeaconTypeAdServed&&v.allServeBeaconsFiredOnPage.add(t)}}supportsIntersectionObserver(){return"IntersectionObserver"in n.g&&"IntersectionObserverEntry"in n.g&&"intersectionRatio"in IntersectionObserverEntry.prototype}loadPolyfills(){const t=[];return this.supportsIntersectionObserver()||t.push(n.e("node_modules_intersection-observer_intersection-observer_js").then(n.t.bind(n,95097,23))),Promise.all(t)}isXandrVisibilityTracker(t){var e;return null!==r.Rb&&void 0!==r.Rb&&null!==(e=r.Rb.CurrentFlightSet)&&void 0!==e&&e.has("prg-ad-new-xandr-rf")?t.includes("trk.js"):t.includes("trk.js")||t.includes("/viewability/versions/v")&&t.includes("banner.js")}xandrJSTrackerInjection(t){var e;if(null!==r.Rb&&void 0!==r.Rb&&null!==(e=r.Rb.CurrentFlightSet)&&void 0!==e&&e.has("prg-ad-new-xandr-rf"))this.fireJSTracker(t);else{const e=this.createXandrScriptKey(t);if(v.allInjectedXandrScripts.has(e))return void s.v.logCallback(()=>`Duplicate Xandr script skipped: ${t}`);v.allInjectedXandrScripts.add(e),s.v.logCallback(()=>`Pre-registered Xandr script key: ${e} for URL: ${t}`),this.injectScriptIntoIframe(t)}}fireXandrJSTracker(t){document.addEventListener(d.rz,e=>{const n=this.extractAdIdFromXandrTrackerUrl(t);e.detail.adUniqueIds.includes(n)&&this.xandrJSTrackerInjection(this.replaceXandrVisibilityTrackerParam(n,t))})}replaceXandrVisibilityTrackerParam(t,e){const n=`dom_id=${t};`,i=`dom_elt_var=${t};`;return e.replace(n,i)}extractAdIdFromXandrTrackerUrl(t){var e;const n=null===(e=t.match(/dom_id=([a-zA-Z0-9_-]+);/))||void 0===e?void 0:e[1];return n||(0,a.vV)(c.ne$,"Xandr visibility tracker URL doesn't have ad id","dom_id parameter is empty",{trackerUrl:t}),n}get intersectionObserver(){return this.loadPolyfills()}}v.allInjectedXandrScripts=new Set,v.allVisiBeaconsFiredOnPage=new Set,v.allServeBeaconsFiredOnPage=new Set,v.xandrIframePrefix="xandr-iframe"},18258:function(t,e,n){var i;n.d(e,{t:function(){return i}}),function(t){t[t.Production=0]="Production",t[t.Local=1]="Local"}(i||(i={}))},18287:function(t,e,n){n.d(e,{$$:function(){return F},B3:function(){return D},Ju:function(){return _},LF:function(){return O},g_:function(){return E},zH:function(){return R}});var i=n(31653),r=n(65022),o=n(7258),s=n(88294),a=n(93468),c=n(30817),u=n(89151),l=n(5518),d=n(79426),f=n(89980),h=n(17254),p=n(49084),m=n(12870),g=n(78629),v=n(77246),w=n(27261),y=n(26555),b=n(18284),S=n(23572);const x="4.24.0",C="2.24.0",k="1p-2.24.0",T="2.16";let $,A,I,P;function _(){return A}function M(t){const{tenantScope:e="Dual",tenantId:n}=(null==t?void 0:t.tenantOptions)||{},{appId:r=g.L2}=(null==t?void 0:t.clientOptions)||{};let o;o=n||("MSA"===e?"consumers":"AAD"===e?"organizations":"common");return{auth:{clientId:r,authority:`https://login.microsoftonline.com/${o}`,redirectUri:N(),navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1,claimsBasedCachingEnabled:!0},system:{loggerOptions:{loggerCallback:(t,e,n)=>{if(!n)switch(t){case"Error":return void s.v.logError("dual-auth: "+e.toString());case"Info":case"Verbose":case"Warning":return void s.v.log("dual-auth: "+e.toString())}}},tokenRenewalOffsetSeconds:i.HJ}}}function R(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e={scopes:["User.Read"],loginHint:"",redirectUri:N(t)};return t||Object.assign(e,{...L(),extraQueryParameters:{edge_suppress_profile_switch:"1"}}),e}function E(t,e){const n={...L(),account:t,postLogoutRedirectUri:N(),extraQueryParameters:{logout_hint:e,edge_suppress_profile_switch:"1"}};return W()&&(n.logoutHint=e,delete n.extraQueryParameters.logout_hint),n}function F(t){return{scopes:t,forceRefresh:!1,redirectUri:N(!0)}}$="localhost.msn.com"===(0,w.VQ)(),P=(0,w.ou)().toLowerCase().endsWith(".cn"),I=((0,w.iA)().match(/\bpr=([\d]+)\b/)||{})[1];const D=(0,b.A)(async(t,e)=>{await async function(){if(!(0,v.S)())return;let t;(0,p.Sm)()&&(await Promise.race([U.getResultAsync(),(0,u.dT)(),(0,l.Y_)(1e4).then(()=>t=!0)]),t&&(0,a.vV)(r.vsI,"Loading MSAL before TTVR in delay load"));const e=(0,S.aK)(),n=e&&e.startMeasure("loadMsalScript").endMeasure;let i;const s=new Promise(t=>{i=t}),c=t=>{n&&n({customSuffix:t}),i()},d=z(`auth/msal-browser-${B()}.min.js`),f=(0,w.C7)(d);return f.onload=()=>c(),f.onerror=t=>{(0,a.vV)(r.TwO,"Error in loading MSAL script",(0,o.M5)(t)),c("error")},document.head.appendChild(f),await s}();const n=window.msal;if(A=!!n,n&&!e){const e=new n.PublicClientApplication(M(t));return await e.initialize(),e}n&&!W()&&function(){const t=(0,f.Lg)();t.keys().forEach(e=>{const n=e.match(/-[-]+/),i=n&&n[0].length;i>=2&&(2===i&&e.includes("accesstoken")||3===i&&e.includes("idtoken")||4===i&&e.includes("refreshtoken"))&&t.removeItem(e)})}();const i=V()?{performanceTelemetryConfiguration:{samplingPrecentage:1}}:void 0;if(n&&n.PublicClientApplication){const e=new n.PublicClientApplication(M(t),i);return function(t){if(!W()||!m.Rb.CurrentFlightSet.has("prg-msal224-ts")&&!h.T3.IsDebug)return;let e=1;const n=(0,c.ZF)(),i=(t,i)=>n[`MSAL.${e}.${t}`]=i,r=t=>Math.round(10*t)/10;t.addPerformanceCallback(t=>{t.forEach(t=>{const n=t.name;i(`${n}-start`,r(t.startTimeMs-performance.timeOrigin)),i(n,r(t.durationMs)),i("meta",`c:${t.fromCache?1:0}-v:${t.startPageVisibility}-ok:${t.success?1:0}`),i("cv",t.correlationId);const o="DurationMs";(0,y.A)(t,(t,e)=>{if(e.endsWith(o)){const n=e.substring(0,e.length-o.length);i(`fn.${n}`,t)}}),e++})})}(e),e}});function O(){U.set()}function N(t){return z(t?"auth/auth-redirect-blank.html":"0/auth/auth-redirect.html","https://"+(!!(0,w.VQ)().match(/\.msn\.(com|cn)$/i)?(0,w.ou)():"www.msn."+(P?"cn":"com")),!1)}const U=new d.e;function L(){const t={appType:h.T3.AppType,authRedirJsVer:T,buildVersion:h.T3.BuildVersion,debug:h.T3.IsDebug?1:void 0,msalJsVer:B(),pr:I,returnUrl:(0,w.$N)(),isCnDomain:h.T3.IsChinaCompliance};return{state:encodeURIComponent(JSON.stringify(t))}}function B(){return V()?k:H()?C:x}function W(){return H()||V()}function H(){return m.Rb.CurrentFlightSet.has("prg-msal224-b")}function V(){return m.Rb.CurrentFlightSet.has("prg-msal224-1p")}function z(t){let e="/latest",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://assets.msn."+(P?"cn":"com");I&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?e=`/pr-${I}`:$&&(e="",n=`https://${(0,w.ou)()}`);return`${n}/staticsb/statics${e}/${t}`}},18510:function(t,e,n){n.d(e,{G4:function(){return l},_Y:function(){return f},kl:function(){return d},hL:function(){return u}});var i=n(30817),r=n(80247),o=n(68399),s=n(89151),a=n(98216);n(28383);let c;function u(){return c||(c=new Promise(t=>{if(!window.isSSREnabled)return void t();const e=new URLSearchParams(location.search).get("delayTopDownHydration");"1"===e||"true"===e?window.startHydration=t:"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{t()},{once:!0}):t()})),c}function l(){const t=window.customElements.define,e=window.customElements.get,n=[];window.customElements.define=function(t,e,i){n.push({name:t,ctor:e,options:i})},window.customElements.get=function(t){return e.call(window.customElements,t)||!!n.find(e=>e.name===t)},u().then(()=>{window.customElements.define=t,n.forEach(t=>{let{name:e,ctor:n,options:i}=t;customElements.define(e,n,i)}),window.customElements.get=e})}function d(){const t=(0,i.ZF)();a.YT.addOrUpdateCustomProperty("ssr-enabled",1),a.YT.addOrUpdateTmplProperty("ssr-enabled","1"),t.isSSREnabled=1;const e=function(){const t=performance.getEntriesByType("navigation")[0].serverTiming;if(t){const e=t.find(t=>"rsClusterName"===t.name);if(e)return e.description}}();e&&(a.YT.addOrUpdateCustomProperty("rs-cluster-name",e),t["rs-cluster-name"]=e)}function f(){var t;const e=(0,i.ZF)(),n=null!==(t=window)&&void 0!==t&&t.isSSRCompleted?1:0;a.YT.addOrUpdateCustomProperty("ssr-completed",n),e.isSSRCompleted=n,e.ssrRenderDuration=window.ssrRenderDuration,a.YT.addOrUpdateTmplProperty("ssr-completed",n.toString()),(0,r.i8)("renderArch",n?"ssr":"fallback-csr"),(0,o.up)({name:"TTSR",time:e[`${s.wL}Complete`]}),window.ssrCpuCost>0&&(e.ssrCpuCost=window.ssrCpuCost)}},18605:function(t,e,n){function i(t,e){if(t){const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return n&&n.length>1?n[1]:null}return null}n.d(e,{_:function(){return i}})},18702:function(t,e,n){n.d(e,{w:function(){return f}});var i=n(41589),r=n(17075),o=n(22182),s=n(90609),a=n(51830);class c extends a.A{constructor(t,e,n,i,r,o,s){super(e,n,i,r,o,s),this.RequestId=t}set isMetrics(t){this._isMetrics=t}get isMetrics(){return this._isMetrics}}var u=n(28083),l=n(77246),d=n(87346);class f{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.requestId=e,(0,l.S)()?(this.logger=o.J.getInstance("ExperienceLogger",r.$.Info,u.e.Browser),this.isDebugEnabled=((0,d.K)(t,"debug")||"").toLowerCase()in{1:1,true:1}||"vp"===((0,d.K)(window.location.href,"reqsrc")||"").toLowerCase(),this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):(this.logger=o.J.getInstance("ExperienceLogger",r.$.Info,u.e.NodeJs),this.isDebugEnabled=!1),this.setupLogLevel()}getLoggingService(){return this.logger}isDebug(){return this.isDebugEnabled}setDebug(t){this.isDebugEnabled=t,this.setupLogLevel()}setTags(t){this.tags=t}log(t,e){if(!this.tags||!this.tags.length||e&&e.length&&e.filter(t=>this.tags.includes(t)).length>0){const e=new c(this.requestId,t);this.logger.info(e)}}logError(t){const e=new c(this.requestId,t);this.logger.error(e)}logCallback(t){this.logger.infoCallback(t)}logObjects(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=new c(this.requestId,null,e);this.logger.info(i)}logSingleObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new c(this.requestId,null,t);n.isMetrics=e,this.logger.info(n)}setupLogLevel(){this.logger.setLevel(this.isDebug()?r.$.Info:r.$.Error),this.setupAppenders()}setupAppenders(){this.logger.removeAllAppenders(),(0,l.S)()?this.logger.addAppender(new i.F(this.logger.getLevel())):this.logger.addAppender(new s.H(this.logger.getLevel()))}}},18708:function(t,e,n){n.d(e,{X:function(){return C}});var i=n(77246),r=n(17720),o=n(52684),s=n(13629),a=n(17254),c=n(46261);const u=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","",""]);function l(t,e){var n;const i=null===a.T3||void 0===a.T3||null===(n=a.T3.LocaleContentMarket)||void 0===n?void 0:n.market,r=(t.isoCode||"").toUpperCase(),o=r&&i&&i.substr(-r.length).toUpperCase()===r,s=[t.addressLine,t.locality,!(0,c.Yk)(t.isoCode)&&t.subRegion,!(null!=e&&e.skipRegionAndCountry)&&t.region,!(null!=e&&e.skipRegionAndCountry)&&!o&&t.country].filter(t=>!!t);return s.filter((t,e)=>t!==s[e+1])}var d=n(19548),f=n(12870),h=n(93468),p=n(65022),m=n(74326),g=n(19993);class v{constructor(t,e,n,i,r,o,s,a){this.fetchImpl=t,this.host=e,this.api=n,this.appId=i,this.excludeSubTypes=r,this.flightId=o,this.useOneService=s,this.includeSubTypes=a,this.filterSuggestion=t=>-1===this.excludeSubTypes.indexOf(t.subType)&&(!this.includeSubTypes||!t.subType||-1!==this.includeSubTypes.indexOf(t.subType)),this._parseLocationFromAS=!0}addExtraASParams(t,e){return t}_getDefaultSuggestions(){return[]}async getSuggestions(t,e){if(t.disableThisRequest)return null;if((!t.searchText||""===t.searchText.trim())&&(t.disableFavorites||!this._useFavoriteSuggestions))return{suggestions:[]};const n=this._constructASRequestUrl(t);return this.fetchImpl(n.href).then(t=>t.json()).then(e=>{const n=this.useOneService?this._parseOneServiceSuggestions(e):this._parseSuggestionsV6(e),i=t.searchText&&""!==t.searchText.trim()?[]:this._getDefaultSuggestions();return n.suggestions=this._combineSuggestions(n.suggestions,i),this._updateSuggestionsRank(n.suggestions),n}).catch(n=>{if(e){const e=this._constructASRequestUrl({...t,searchText:""});(0,h.vV)(p.hPD,"Autosuggest request failed for client v6",JSON.stringify({urlWithoutQuery:e&&e.href,error:n}))}return null})}getHistorySuggestions(t){return[]}_constructASRequestUrl(t){let e,n;return this.useOneService?(e=this.getOneServiceQueryParams(t),n=(0,m.nI)(this.api,(0,m.pN)())):(e=this.getBingQueryParams(t),n=new URL(this.api,this.host)),n.search=d._3.keyValueArrayToQueryString(e),n}getBingQueryParams(t){return[{key:"appid",value:this.appId},{key:"count",value:""+t.maxResults},{key:"q",value:t.searchText},{key:"localcircularview",value:t.userLocation&&`${t.userLocation},100`},{key:"setmkt",value:f.Rb.Locale},{key:"setlang",value:f.Rb.Locale},{key:"types",value:t.suggestionTypes||""},{key:"abbrtext",value:t.abbrSuggestions?"1":""},{key:"structuredaddress",value:"true"},{key:"strucaddrread",value:"1"},{key:"setflight",value:this.flightId}]}getOneServiceQueryParams(t){return[{key:"apikey",value:a.T3.OneServiceApiKey},{key:"type",value:t.suggestionTypes||""},{key:"$top",value:""+t.maxResults},{key:"q",value:t.searchText},{key:"location",value:t.userLocation&&`${t.userLocation}`},{key:a.T3.OneServiceContentMarketQspKey,value:f.Rb.Locale},{key:"setflight",value:this.flightId},{key:"qscope",value:"locations"},{key:"activityId",value:a.T3.ActivityId},{key:"ocid",value:g.WR.getOneServiceOCID(a.T3.TrackInfo,"feeds")}]}_combineSuggestions(t,e){let n=[];if(e&&e.length){n=e;let i=!1;for(let r=0;r<t.length;r++){t[r].root;const o=t[r].address,s=o&&o.streetAddress,a=o&&o.addressLocality,c=t[r].name;for(let t=0;t<e.length;t++){const n=e[t];if(s&&n.formatedAddress&&n.formatedAddress.indexOf(s)>-1&&(a&&n.formatedAddress.indexOf(a)>-1||c&&n.title&&n.title.indexOf(c)>-1)){i=!0;break}}i?i=!1:n.push(t[r])}}else n=t;return n}_updateSuggestionsRank(t){for(let e=0;e<t.length;e++)t[e].suggestionRank=e}_parseSuggestionsV6(t){const e={},n=[];if(t){const i=t.instrumentation;e.formattingRules=this._createFormattingRulesV6(t.formattingRules);const r=this._getDefaultFormattingRuleV6(e.formattingRules),s=t.value;for(let t=0;t<s.length;t++){const a={},c=s[t];try{a.root=c,a.type=c._type,a.readLink=c.readLink,a.readLinkPingSuffix=c.readLinkPingSuffix,a.instrumentationInfo=i,a.suggestionRank=t,a.formattingRuleId=c.formattingRuleId,a.formattingRule=a.formattingRuleId&&e.formattingRules[a.formattingRuleId]||r,a.entityId=c.id,a.name=c.name,a.query=c.query;const s=c.categories;a.primaryCategoryPath=s&&s.length&&s[0],a.entityId&&0===a.entityId.indexOf("local_geoid")&&(a.geoId=a.entityId,a.entityId="");const u=c.entityPresentationInfo;u&&u.entitySubTypeHints&&u.entitySubTypeHints.length&&(a.subType=u.entitySubTypeHints[0]);const l=c.geo;if(l&&this._parseLocationFromAS){const t=l.latitude,e=l.longitude;t&&e&&(a.location={latitude:t,longitude:e})}c.address?(a.address=c.address,a.address.addressRegion=o.abbreviateUSState(a.address.addressRegion,f.Rb.Locale,a.address.countryIso)):c.location&&c.location.length?a.address=c.location[0].address:"PostalAddress"===a.type&&(a.address=c),"Favorite"==a.type&&(a.alternateName=c.alternateName,a.subType=c.subType,this._processFavoriteItemId(c,a)),n.push(a)}catch(t){}}}return e.suggestions=n.filter(this.filterSuggestion),e}_parseOneServiceSuggestions(t){const e={},n=t.value[0].groups[0].suggestionItems;for(let t=0;t<n.length;t++){const e={},i=n[t];try{e.readLink=i.dataUrl,e.suggestionRank=t,e.name=i.name,e.entityId=i.id,e.formattingRuleId=i.metadata.formattingRuleId,e.formattingRule=i.metadata.formattingRules&&JSON.parse(i.metadata.formattingRules),e.address=i.metadata,e.address.addressRegion=o.abbreviateUSState(i.metadata.addressRegion,f.Rb.Locale,i.metadata.countryIso);const r=i.metadata.latitude,s=i.metadata.longitude;r&&s&&(e.location={latitude:r,longitude:s}),e.subType=i.metadata.entitySubTypeHints,n[t]=e}catch(t){}}return e.suggestions=n.filter(this.filterSuggestion),e}_createFormattingRulesV6(t){const e={};if(t)for(let n=0;n<t.length;n++){const i=JSON.parse(t[n]);e[i.identifier]=i}return e}_getDefaultFormattingRuleV6(t){let e=t&&t.Default||null;for(const n in t){e||(e=t[n]);if(f.Rb.Locale.indexOf(n.toLowerCase())>-1){e=t[n];break}}return e}_processFavoriteItemId(t,e){const n=t.bingId;!n||0!==n.indexOf("local_ypid:")&&0!==n.indexOf("sid")&&0!==n.indexOf("local_vdpid")||(e.entityId=n),e.bingId=n}}v.autosuggestCallerId="autosug";class w{constructor(t,e){this.key=t,this.fetchImpl=e,this.geocode=async(t,e,n,i,r)=>{const o={success:!1,statusCode:null,authenticationResultCode:null,statusDescription:null,name:t,results:null};if(!location)return null;const s=n&&n<=w._maxNumberOfResults?n:w._defaultResultCount,a=[{key:"key",value:this.key},{key:"maxResults",value:""+s},{key:"q",value:encodeURIComponent(t)},{key:"inclnb",value:i?"1":"0"},{key:"incl",value:r?"ciso2":""},{key:"userMapView",value:w._getBoundsString(e)},{key:"culture",value:f.Rb.Locale}],c=new URL(w.geoApi,w.geoHost);return c.search=d._3.keyValueArrayToQueryString(a),this.fetchImpl(c.href).then(t=>t.json()).then(t=>{if(t&&t.authenticationResultCode===w._validAuthenticationCode&&t.statusCode===w._validStatusCode&&t.statusDescription===w._validStatusDescription&&t.resourceSets&&0!==t.resourceSets.length){let e;o.success=!0,o.statusCode=w._validStatusCode,o.authenticationResultCode=w._validAuthenticationCode,o.statusDescription=w._validStatusDescription;for(let n=0,i=t.resourceSets.length;n<i;n++)if(e=t.resourceSets[n].resources,e&&0!==e.length){o.results=e;break}o.traceId=t.traceId}else t?(o.statusCode=t.statusCode,o.authenticationResultCode=t.authenticationResultCode,o.statusDescription=t.statusDescription,o.errorMessage=t.errorDetails&&t.errorDetails.length>0&&t.errorDetails[0],o.traceId=t.traceId):(o.statusCode=400,o.authenticationResultCode="Unknown",o.statusDescription="Unknown");return o}).catch(t=>(o.authenticationResultCode="Unknown",o.statusCode=404,o.statusDescription="Http Error",o))}}static _getBoundsString(t){return t?t.south+","+t.west+","+t.north+","+t.east:""}}w._validAuthenticationCode="ValidCredentials",w._validStatusCode=200,w._validStatusDescription="OK",w._defaultResultCount=5,w._maxNumberOfResults=20,w.geoHost="https://dev.virtualearth.net",w.geoApi="/REST/v1/Locations";class y{constructor(t){this.suggestion=t,this._formatSuggestion(this.suggestion),this.setSimpleSearchText(),this._setDisplayName()}_setDisplayName(){const t=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";this.suggestionTextLine2?this.suggestion.displayName=this.suggestionTextLine1+t+this.suggestionTextLine2:this.suggestion.displayName=this.suggestionTextLine1}setSimpleSearchText(){const t=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";if("Favorite"===this.suggestion.type){const e=this.suggestion,n=e.name,i=e.address&&e.address.streetAddress;this._searchText=n!==i&&i?n+t+i:n}else this.suggestionTextLine2?this._searchText=this.suggestionTextLine2+t+this.suggestionTextLine1:this._searchText=this.suggestionTextLine1;this.suggestion&&(this.suggestion.searchText=this._searchText)}_removeCountry(t){let e=", ";this._formattingRule&&(e=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ");const n=this.suggestion.address||this.suggestion.root,i=n&&n.addressCountry;if(i&&t&&t.slice(t.length-i.length)===i){const n=t.slice(0,t.length-i.length);return n.slice(n.length-e.length)===e?n.slice(0,n.length-e.length):n}return t}_formatSuggestion(t){const e=this.suggestion.formattingRule,n=t;if("Favorite"===t.type)return n.alternateName?this.suggestionTextLine1=n.alternateName:this.suggestionTextLine1=n.name,this.suggestionTextLine2=n.address&&n.address.streetAddress,this.suggestion.formatedAddress=n.address&&n.address.streetAddress,void(this.suggestion.title=n.name);n.name&&(this.suggestionTextLine1=n.name,t.title=n.name),n.query&&(this.suggestionTextLine1=n.query),e?(this._formattingRule=e,this.suggestion.address?this._applyFormattingRule(this.suggestion.address):this._applyFormattingRule(t.root)):(this.suggestionTextLine1=t.title,this.suggestionTextLine2=t.formatedAddress),this.suggestion.formatedLine1=this.suggestionTextLine1,this.suggestion.formatedLine2=this.suggestionTextLine2,this.suggestion.formatedLine2WithoutCountry=this._removeCountry(this.suggestionTextLine2)}_applyFormattingRule(t){let e=0;const n=this._formattingRule["b:fieldGroups"]||this._formattingRule.fieldGroups;if(!this.suggestionTextLine1)for(;e<n.length;e++){const i=this._getFormattedGroupString(t,n[e]);if(i){this.suggestionTextLine1=i,this.suggestion.title=i,++e;break}}const i=[];for(;e<n.length;e++){const r=this._getFormattedGroupString(t,n[e]);r&&i.push(r)}const r=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ";this.suggestionTextLine2=i.join(r),this.suggestion.formatedAddress=this.suggestionTextLine2}_getFormattedGroupString(t,e){const n=[];let i;const r=e.fields;for(let e=0;e<r.length;e++)i=this._getPrimaryField(t,r[e]),i||(i=this._getAlternateField(t,r[e])),i&&n.push(i);const o=e.fieldSeparator||" ";return n.join(o)}_getPrimaryField(t,e){let n;return t&&e&&(n=t[e.name]),n}_getAlternateField(t,e){let n;if(t&&e){const i=e.alternateField;if(i){const e=i.split(",");for(let i=0;i<e.length&&(n=t[e[i]],!n);i++);}}return n}}y.HistorySuggestionType="history";class b{static get defaultConfig(){return r.vv.get(this.defaultConfigKey,()=>({num:5,appId:"D41D8CD98F00B204E9800998ECF8427E1FBE79C2",geocoderKey:"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im ",suggestionTypes:"Place,Address,Business",endpoint:"https://www.bing.com",excludeSubTypes:["CountryRegion","AdminDivision1"],flightId:""}))}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fetchImpl=t,this.userLocation=n,this.xhrFetch=i,this._translateSuggestion=t=>{var e,n;const i=t.suggestion.address||t.suggestion.root,r=null===(e=t.suggestion.location)||void 0===e?void 0:e.latitude,a=null===(n=t.suggestion.location)||void 0===n?void 0:n.longitude,c={language:f.Rb.Locale,addressLine:t.suggestion.name||(null==i?void 0:i.streetAddress)||(null==i?void 0:i.postalCode),locality:null==i?void 0:i.addressLocality,region:(0,o.abbreviateUSState)(null==i?void 0:i.addressRegion,f.Rb.Locale,null==i?void 0:i.countryIso),subRegion:null==i?void 0:i.addressSubregion,country:i&&(i.addressCountry||""),latitude:r&&Number(r).toString(),longitude:a&&Number(a).toString(),typeV6:t.suggestion.type,subType:t.suggestion.subType,searchText:t.suggestion.searchText,formattedAddress:t.suggestion.formatedAddress,readLink:t.suggestion.readLink,locationType:(0,s.As)(t.suggestion.type,t.suggestion.subType),isoCode:i&&(i.countryIso||""),entityId:t.suggestion.entityId,geoId:t.suggestion.geoId};return!c.locality&&c.addressLine&&(c.locality=c.addressLine,c.addressLine=void 0),c.firstLine=function(t){return l(t)[0]}(c),c.secondLine=function(t){return l(t).slice(1).join(", ")}(c),c},this.cfg={...b.defaultConfig,...e||{}},"CN"==(null==n?void 0:n.isoCode)||a.T3.IsChinaCompliance?this.cfg.endpoint="https://cn.bing.com":this.cfg.endpoint="https://www.bing.com",this._extraResult=this.cfg.latinPercentageLimit>0?5:0,this._geocoder=new w(this.cfg.geocoderKey,t),this._autoSuggestModel=new v(t,this.cfg.endpoint,b[this.cfg.useOneServiceProxy?"oneServiceAutosuggestApi":"bingAutosuggestApi"],this.cfg.appId,this.cfg.excludeSubTypes,this.cfg.flightId,this.cfg.useOneServiceProxy,this.cfg.includeSubTypes)}getLocationSearchResponse(t){return Promise.resolve(null)}async getAutoSuggestResponse(t,e){if(t){var n,i;const r="zh-cn"===(null===f.Rb||void 0===f.Rb||null===(n=f.Rb.Locale)||void 0===n?void 0:n.toLowerCase())&&"zh"!==(null===f.Rb||void 0===f.Rb||null===(i=f.Rb.ClientSettings)||void 0===i||null===(i=i.geo_country)||void 0===i?void 0:i.toLowerCase())?"40,116":this.userLocation&&`${this.userLocation.latitude},${this.userLocation.longitude}`,o={searchText:t,maxResults:this.cfg.num+this._extraResult,userLocation:r,suggestionTypes:this.cfg.suggestionTypes,abbrSuggestions:!0,localMapView:null},s=await this._autoSuggestModel.getSuggestions(o,e);return this._parseSuggestions(s)}}_latinPercentage(t){const e=t.locality+t.country+t.region+t.subRegion;if(!e)return 0;return e.match(b.latinParttern).join("").length/e.length}_parseSuggestions(t){const e=[],n=null==t?void 0:t.suggestions;if(n&&n.length>0)for(let t=0;t<n.length;t++)e.push(this._getSuggestionResult(n[t]));let i=e.map(this._translateSuggestion);return this.cfg.latinPercentageLimit>0&&i.length>this.cfg.num&&(i=i.filter(t=>this._latinPercentage(t)>this.cfg.latinPercentageLimit).slice(0,this.cfg.num)),i=i.filter(t=>function(t){var e;if("zh-cn"===(null==t||null===(e=t.language)||void 0===e?void 0:e.toLowerCase())){if(null==t||!t.country){var n;if("cn"!==(null==t||null===(n=t.isoCode)||void 0===n?void 0:n.toLowerCase()))return!1;t.country=""}if(null!=t&&t.addressLine){if((null==t||!t.locality)&&(null==t||!t.subRegion)&&(null==t||!t.region)&&u.has(t.addressLine))return!1}else if((null==t||!t.subRegion)&&(null==t||!t.region)&&u.has(null==t?void 0:t.locality))return!1}return!(!t||!t.addressLine&&!t.locality)}(t)),i}_getSuggestionResult(t){return new y(t)}async _getLatLongFromReadLink(t){if(!t.readLink)return null;const e=new URL(t.readLink);return e.searchParams.append("appid",this.cfg.appId),this.fetchImpl(e.href).then(t=>t.json()).then(e=>{var n;const i=e.geo||(null===(n=e.value)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.geo);if(i&&i.latitude&&i.longitude)return{...t,latitude:i.latitude.toString(),longitude:i.longitude.toString()}}).catch(t=>null)}async geocodeSuggestion(t){try{const e=await this._doGeoCodeSuggestion(t);if(null!==e)return{...t,longitude:e.longitude,latitude:e.latitude};(0,h.vV)(p._kG,"failed to fetch location latitude and longitude in auto suggestion v6",void 0,{...p._kG.pb,customMessage:t.searchText})}catch(t){(0,h.c_)(t,p._kG,"error in library [location-service],Geocoder exception for autosuggestion v6")}return null}async _doGeoCodeSuggestion(t){const e=t;if(e.longitude&&e.latitude)return e;const n=await this._getLatLongFromReadLink(t);if(n)return n;const i=this._getSuggestionAddress(e);return this._geocoder.geocode(i,null,1).then(t=>{if(t.success&&t.results&&t.results.length>0){const n=t.results[0];n.bbox;if(n.point){const t=n.point.coordinates;return e.latitude=t[0].toString(),e.longitude=t[1].toString(),e}}return null})}_getSuggestionAddress(t){return t&&"LocalBusiness"===t.typeV6&&t.formattedAddress?t.formattedAddress:t&&t.searchText}}b.bingAutosuggestApi="/api/v6/Places/AutoSuggest",b.oneServiceAutosuggestApi="msn/suggestions",b.defaultConfigKey=Symbol("defaultConfig"),b.latinParttern=/[\u00C0-\u00ff\w\s\d.,/#!$%^&*;:{}=\-_`~()]+/gu;var S=n(76166),x=n(12426);function C(t){const e=(0,i.S)()?window.fetch.bind(window):S.GC;return new b(e,t,(0,x.iw)())}},18731:function(t,e,n){n.d(e,{KP:function(){return a},bb:function(){return s},e9:function(){return c}});var i=n(17254),r=n(28383),o=n(51947);class s{constructor(){let{params:t,qspPrefix:e,spec:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.requestData=new r.CN(n||o.ZU,e||o.UJ),t&&this.requestData.loadQueryParams(t),i&&(this.RequestId=i)}get requestId(){return this.RequestId||this.app.ActivityId}get app(){return i.T3}get data(){return this.requestData.data}}function a(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("function"==typeof t){const e=t();if(e||0===e)return e}if(n)throw new Error("Expected "+e+" to return value. Possible invalid RequestContext spec used or the spec doesn't contain this data.")}function c(t){return a(t.data.locationHref,"locationHref",!1)}},18750:function(t,e,n){n.d(e,{r0:function(){return a},ud:function(){return s}});var i=n(17254),r=n(27261);function o(){var t;return(null===(t=(0,i.rA)().WidgetAttributes)||void 0===t||null===(t=t.propertyBag)||void 0===t?void 0:t.theme)||new URLSearchParams((0,r.iA)()).get("theme")}function s(){var t;if(null===(t=window)||void 0===t||!t.matchMedia)return;const e=o();if(e)return"dark"===e;const n=window.matchMedia("(prefers-color-scheme: dark)");return n?!!n.matches:void 0}function a(t){return!(null==t||!t.useMobile||null==t||!t.isDarkModeForMobile)}},18806:function(t,e,n){n.d(e,{E0:function(){return r},Hb:function(){return o},tK:function(){return i}});const i="https://www.msn.com/PV.xml",r={UserAction:"MS.News.Web.PageAction",PageView:"MS.News.Web.PageView",ContentView:"MS.News.Web.ContentView",AppError:"MS.News.Web.AppError",AppErrorDiag:"MS.News.Web.AppErrorDiag",LoadTime:"MS.News.Web.LoadTime",LoadTimeDiag:"MS.News.Web.LoadTimeDiag",Unload:"MS.News.Web.Unload",Base:"MS.News.Web.Base",Feedback:"MS.News.Web.Feedback",AdImpression:"MS.News.Web.AdImpression",AdFeedback:"MS.News.Web.AdFeedback",GamePlay:"MS.News.Web.GamePlay",VideoPlay:"MS.News.Web.VideoPlay",VideoAdPlay:"MS.News.Web.VideoAdPlay",AudioPlay:"MS.News.Web.AudioPlay",ServerLog:"MS.News.Web.ServerLog",AppPerfTrace:"MS.News.Web.AppPerfTrace",Auth:"MS.News.Web.Auth",HeartBeat:"MS.News.Web.HeartBeat",ClientLog:"MS.News.Web.ClientLog",PageOutOfFocus:"MS.News.Web.PageOutOfFocus",TraceInfo:"MS.News.Web.TraceInfo"},o=1e3},19045:function(t,e,n){n.d(e,{$:function(){return o}});var i=n(17254),r=n(12870);function o(){const t=r.Rb&&r.Rb.Diagnostics||{},e=r.Rb&&r.Rb.ClientSettings,{mc:n={}}=t||{},{pageGenTime:o="",geo_citycf:s="",geo_countrycf:a="",requestTrailInfo:c,detection:u}=e||{},{cdn:l=""}=c||{},d={refs:{refA:i.T3.ActivityIdLowerCaseNoHypens||"",refC:o},cookies:n,geoConfidence:{cityConfidence:s,countryConfidence:a},langMismatch:i.T3.MarketMismatchDetail,cdn:l};return JSON.stringify(d)}},19330:function(t,e,n){var i,r;n.d(e,{W:function(){return r},y:function(){return i}}),function(t){t.MobileApp="mobileapp",t.MobileWeb="mobileweb",t.DesktopWeb="desktopweb",t.DesktopApp="desktopapp"}(i||(i={})),function(t){t.Publisher="Publisher",t.Language="Language",t.Market="Market",t.PageType="PageType",t.DeviceType="DeviceType",t.ContentCategory="ContentCategory",t.ContentSubcategory="ContentSubcategory",t.ProviderId="ProviderId",t.ContentTopic="ContentTopic",t.GameTitle="GameTitle",t.GameGenre="GameGenre"}(r||(r={}))},19397:function(t,e,n){n.d(e,{U:function(){return s}});var i=n(76166),r=n(88294),o=n(18284);const s=(0,o.A)(async(t,e)=>{if(!t||!e||""===e.trim())return;const n={method:"GET",headers:a(t),mode:"cors",credentials:"omit"},o=`https://graph.microsoft.com/v1.0/users/${e}/photos/96x96/$value`;try{const t=await(0,i.hv)(decodeURIComponent(o),1e4,n);return t&&t.ok?URL.createObjectURL(await t.blob()):(r.v.log(`dual-auth: ProfilePictureFetch: Fetch returned error.  Status: ${t.status} - ${t.statusText}`),null)}catch(t){return r.v.logError(`dual-auth: ProfilePictureFetch exception: ${t}`),null}},(t,e)=>e);function a(t){const e={};return t&&(e.Authorization=`Bearer ${t}`),e}},19548:function(t,e,n){n.d(e,{Dv:function(){return m},R1:function(){return p},_3:function(){return i}});var i,r=n(16507),o=n(46277),s=n(78285),a=n(693),c=n(41667),u=n(99173),l=n(61676),d=n(7258),f=n(88294),h=n(27261);function p(t,e){try{const n=new URL(t,(0,h.IU)());return e&&e.forEach(t=>{let[e,i]=t;return e&&null!=i&&n.searchParams.append(e,i)}),n}catch(t){f.v.logError((0,d.M5)(t))}}function m(t){if(!t)return;const e=new URLSearchParams(window.location.search),n=new URL(t);if(function(){const t=window.location.href;return null!==i.getQueryParameterByName("disti",t)}()){const t=e.get("ocid");if(t){const e=new URLSearchParams(n.search);e.set("ocid",t),n.search=`?${e.toString()}`}}const r=e.getAll("item");return r&&r.length?(r.forEach(t=>{const e=n.search?"&":"?";-1===n.search.indexOf(t)&&(n.search+=`${e}item=${t}`)}),n.toString()):n.toString()}!function(t){const e=/[^A-Za-z0-9]+/g;function n(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,c.A)(t))return null;return d((t||"").split("?")[1],e)}function i(t){return t=t.replace(/\+/g," "),t=decodeURIComponent(t)}function d(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];if(t&&t.startsWith("?")&&(t=t.substring(1)),t){const r=(t=t.split("#")[0]).split("&");for(let t=0;t<r.length;t++){const s=r[t].split("=");let a=s[0],c=s[1];e&&(a=i(a),c&&(c=i(c)));const u={key:a,value:c},l=(0,o.A)(n,t=>t.key===u.key);-1===l?n.push(u):n[l]=u}}return n}t.getParamsFromUrl=n,t.encodeURIComponentForPrime=function(t){return encodeURIComponent(t.replace(e,"-"))},t.getParams=d,t.getParamsWithItems=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"item";const r=[];if(t){t.startsWith("?")&&(t=t.substring(1));const o=(t=t.split("#")[0]).split("&");for(let t=0;t<o.length;t++){const s=o[t].split("=");let a=s[0],c=s[1];if(e&&(a=i(a),c&&(c=i(c))),a.toLowerCase()===n){c=c.replace("::::",";;;;");const t=c.split(":");if(2===t.length){a=t[0],c=t[1].replace(";;;;","::::");const e={key:a,value:c};-1===r.findIndex(t=>t.key===e.key)&&r.push(e)}}}}return r};const f={};function p(t){const e={},i=n(t,!0);return i&&i.length&&i.forEach(t=>e[t.key]=t.value),e}t.getQueryParameterByName=function(t,e){f[e]||(f[e]=p(e));const n=f[e][t];return void 0!==n?n:null},t.isValidUrl=function(t,e){return(0,c.A)(t)&&t.length>0&&(!e||e&&0===t.indexOf("http"))},t.keyValueArrayToQueryString=function(t){return!(0,s.A)(t)||(0,a.A)(t)?"":t.filter(t=>r.n.isKeyValuePair(t,t=>"string"==typeof t,t=>"string"==typeof t)).map(t=>t.key+"="+t.value).join("&")},t.getParamsObj=p,t.joinSubpathToURL=function(t,e){const n=t.href,i=(0,u.A)(n,"/"),r=(0,l.A)(e,"/");return new URL(`${i}/${r}`)},t.updateSearchParam=function(t,e,n){return t&&t.searchParams&&t.searchParams.get(e)&&t.searchParams.set(e,n),t},t.appendSearchParam=function(t,e,n,i){return t&&(t.searchParams||i?t.searchParams.append(e,n):t=new URL(t.href+(t.search.indexOf("?")>=0?"&":"?")+e+"="+n)),t},t.getAbsoluteUrl=function(t){return t.indexOf("://")>0||0===t.indexOf("//")?t:(0,h.IU)()+t};const m=new Set(["/","$","^","+",".","(",")","=","!","|"]);t.urlPatternToRegExp=function(t){if(0==t.indexOf("/")&&t.lastIndexOf("/")>0){const e=t.slice(1,t.lastIndexOf("/")),n=t.substring(t.lastIndexOf("/")+1)||void 0;return new RegExp(e,n)}return function(t){const e=["^"];let n;for(let i=0;i<t.length;++i){const r=t[i];if(m.has(r))e.push("\\"+r);else{if("*"===r){const n=t[i-1];let r=1;for(;"*"===t[i+1];)r++,i++;const o=t[i+1];!(r>1)||"/"!==n&&void 0!==n||"/"!==o&&void 0!==o?e.push("([^/]*)"):(e.push("((?:[^/]*(?:/|$))*)"),i++);continue}switch(r){case"?":e.push(".");break;case"{":n=!0,e.push("(");break;case"}":n=!1,e.push(")");break;case",":if(n){e.push("|");break}e.push("\\"+r);break;default:e.push(r)}}}return e.push("$"),new RegExp(e.join(""))}(t)},t.compareURLs=function(t,e){try{const n=new URL(t),i=new URL(e),r=n.searchParams,o=i.searchParams,s=[],a=[],c=[];return r.forEach((t,e)=>{o.has(e)?o.get(e)!==r.get(e)&&c.push(e):a.push(e)}),o.forEach((t,e)=>{r.has(e)||s.push(e)}),{hostMismatch:n.hostname!==i.hostname,pathMismatch:n.pathname!==i.pathname,paramsMissingLeft:s.join(","),paramsMissingRight:a.join(","),paramsDiff:c.join(",")}}catch(t){return{}}}}(i||(i={}))},19575:function(t,e,n){n.d(e,{g:function(){return o}});var i=n(28828),r=n(88294);class o{get supported(){return!!this.storage}constructor(t){this.storage=t}getItem(t){if(this.supported)return this.storage.getItem(t)}getObject(t,e){const n=this.getItem(t);if(null!=n){const t=(0,i.B)(n);if(null!=t)return t}return e}key(t){if(this.supported&&t>=0)return this.storage.key(t)}keys(){return this.supported?Object.keys(this.storage):[]}setObject(t,e){void 0!==e?this.setItem(t,JSON.stringify(e)):this.removeItem(t)}removeObject(t){const e=this.removeItem(t);if(null!=e)return(0,i.B)(e)}setItem(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.supported)try{if(!e)throw"Attempted to store null/undefined value: "+e;this.storage.setItem(t,e)}catch(t){if(!n)throw t;r.v.logError(t)}else if(!n)throw new Error("WebStorage not supported")}get length(){if(this.supported)return this.storage.length}removeItem(t){if(this.supported){const e=this.getItem(t);return this.storage.removeItem(t),e}}clear(){this.supported&&this.storage.clear()}removeSubstringKeys(t){if(!this.supported||!t)return;const e=[];for(let n=0;n<this.storage.length;n++){const i=this.key(n);i&&i.includes(t)&&e.push(i)}for(let t=0;t<e.length;t++)this.removeItem(e[t])}}},19621:function(t,e,n){n.d(e,{A:function(){return w}});var i=n(28006),r=n(83542),o=n(49084),s=n(85766),a=n(59983),c=n(17254),u=n(77246),l=n(37423),d=n(24678),f=n(77479),h=n(2462);class p{reduce(t,e){if(!t){return{signedIn:this.getSignInStatus(),useEnterpriseCompliance:!1}}if(!e)return t;let n,i=!1;return i=d.n.handleAction(e,f.p.signedInStatus,e=>{n={...t,signedIn:e}}),i=i||d.n.handleAction(e,f.p.useEnterpriseCompliance,e=>{n={...t,useEnterpriseCompliance:e}}),i=i||d.n.handleAction(e,f.p.updateLocation,e=>{n={...t,location:e}}),n||t}getSignInStatus(){if((0,o.lp)()){return(0,s.eM)().isSignedIn}if(!(0,u.S)()){const{oneServiceHeaders:t}=(0,l.cn)();if(t&&Object.keys(t).length>0&&t.authorization)return 2}if((0,o.nf)())return 0;if((0,o.FS)())return(0,a.Dm)()?2:1;const t=c.T3.AuthCookieName;if(""==t)return 1;const e="app_anon"==t?"aace":"ace";return(0,h.Ri)(e)?2:1}}var m=n(44369),g=n(98216);class v extends r.i{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s,!0),this.initOverrides=()=>{}}static initialize(t,e,n){let r=t.connector(i.bn);return r||(r=new v(i.bn,"",t,new p,e,void 0,n)),(0,m.F)(r),r}getSignInState(){return this.getCurrentState().signedIn}setSignInState(t){const e=this.getCurrentState().signedIn;e!==t?(f.p.signedInStatus.getActionSender(this).send(t),g.YT.addOrUpdateTmplString(`auth-stateChange-${e}-${t}`)):f.p.signedInStatusConfirmed.getActionSender(this).send()}useEnterpriseCompliance(){return this.getCurrentState().useEnterpriseCompliance}}const w=v.initialize},19920:function(t,e,n){n.d(e,{Y:function(){return i}});const i=new class{constructor(){this.requestQueue=[],this.isProcessing=!1}async enqueueTask(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise((e,i)=>{this.requestQueue.push(async()=>{try{const i=await t(...n);e(i)}catch(t){i(t)}}),this.processQueue()})}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.requestQueue.length>0;){const t=this.requestQueue.shift();t&&await t()}this.isProcessing=!1}}}},19993:function(t,e,n){n.d(e,{WR:function(){return U},XH:function(){return D}});var i=n(14586),r=n(85889),o=n(17254),s=n(4865),a=n(12870),c=n(67387),u=n(49084),l=n(78629),d=n(89980),f=n(48608),h=n(43889);var p=n(16507),m=n(96592),g=n(15098),v=n(486),w=n(30158),y=n(86948),b=n(8353),S=n(77246),x=n(37423),C=n(28868),k=n(64405),T=n(90454),$=n(1350),A=n(56639);function I(t){if(!(0,C.RH)())return;const e=(0,A.cE)();null!=e&&e.isProd||(0,T.ZM)({appId:$.H7,type:"Debug",name:"HP_WEBVIEW_SERVER_LOG",data:{message:t}})}var P=n(98216),_=n(88206),M=n(15373),R=n(41667),E=n(5518);const F="prg-telemetry-trace";function D(t){return((0,r.vM)()||(0,r.aD)())&&(t===i.$W||t===i.Ci)}const O="traceparent";var N;!function(t){t.ANID="ANID",t.PICASSOID="PicassoID"}(N||(N={}));var U;!function(t){function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,v.wx)(),l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const f=(0,o.rA)(),h=[{key:"apikey",value:D(e)?i.D:f.OneServiceApiKey},{key:"activityId",value:f.ActivityId},{key:"ocid",value:n?T(f.TrackInfo,e):e},{key:f.OneServiceContentMarketQspKey,value:f.CurrentMarket},{key:"it",value:(0,s.p)()}],p=(0,a.Th)().CurrentFlights;if(f.SendUserIdInHeader||!t||null!=p&&p.includes("1s-r-user-qsp")||h.push({key:"user",value:t}),u&&h.push({key:v.L9,value:v.B4}),a.Rb.IsBlendedEnterprise&&h.push({key:"audienceMode",value:"enterprise"}),f.ShouldUseFdheadQsp&&!d){let t=p;if(r){t=t?`${t},${r}`:r;const e="prg-bngimg-t";-1===t.indexOf(e)&&(t+=","+e),!0===c&&(t=r)}h.push({key:"fdhead",value:t})}if(null!=p&&p.includes(F)){const t=_.T.getTraceInstance(),e="00-"+t.getTraceId(!0)+"-"+t.getSpanId(!0)+"-00";h.push({key:"traceparent",value:e})}if(!l){const t=f.AuthCookieName;t&&h.push({key:"scn",value:t.toUpperCase()})}return h}async function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.wx)(),e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const p={};let m;const g=(0,o.rA)()||{};if((0,a.Th)().CurrentFlights&&(0,a.Th)().CurrentFlights.includes("prg-tracingheader")){const t=_.T.getTraceInstance(),e=t.getTraceId(!0),n=t.getSpanId(!0);p[c.aS.traceParent]="00-"+e+"-"+n+"-00"}if("windowsShell"===g.AppType||"windowsShellV2"===g.AppType)g.IsWinAADUser&&(m=await $(),Object.assign(p,(0,u.BL)(m)));else if("winWidgets"===g.AppType||"webWidgets"==g.AppType){if((0,S.S)()&&"function"==typeof window.createWindowsWidget1SAuthHeaders){const t=await window.createWindowsWidget1SAuthHeaders();Object.assign(p,t)}}else{if(g.WidgetAttributes){m=(await(0,w.f7)()).tokenValue}if(("shopping"==g.AppType||"views"==g.AppType)&&(0,C.RH)()){if("MSA"==(await(0,y.rj)()).accountType){Object.assign(p,await(0,k.U)());for(const t in p)0===t.indexOf("X-MSEdge")&&delete p[t];return p.SiteName=`api.msn.${g.topDomain}`,I(p),p}}if(!m)if(t&&!await g.isGccModUser){var T;const t={id:l.IW,friendlyName:l.C1},e=await(null===(T=(0,M.uc)())||void 0===T?void 0:T.getAuthData(t));m=null==e?void 0:e.authToken}else if("gaming"===n&&i&&(0,S.S)()){const t=(0,d.Lg)().getObject("xboxXTokenId");t&&t.notAfter&&new Date(t.notAfter)>new Date&&(p[c.aS.xboxToken]=JSON.stringify(t))}else if(s){var A;m=null===(A=(0,f._W)())||void 0===A?void 0:A.access_token}else if((null==e||!e.skipDualAuthHeader)&&(0,u.FS)()&&!(0,u.lp)()){const t=(0,u.nf)()?await(0,b.a8)():(0,u.HN)();m=null==t?void 0:t.accessToken}Object.assign(p,(0,u.LK)(m))}if((0,r.vM)()){const t=(0,h.W9)().getItem("nativeAppUserConfig"),e=JSON.parse(t)||{},n=null==e?void 0:e.preferredIdType;Object.values(N).includes(n)&&(p["X-1S-Digital-ID"]=`preferredIdType=${n}`)}if(g.SendUserIdInHeader&&(Object.assign(p,function(){var t;const e={},n=document.head.hasAttribute("data-client-settings")?document.head:window.document.getElementsByClassName("peregrine-widget-settings")[0],i=n&&n.getAttribute("data-client-settings"),r=i?null===(t=JSON.parse(i))||void 0===t?void 0:t.fd_muid:void 0;return r&&(e.MUID=`m-${r}`),e}()),g.WidgetAttributes&&"bingHomepage"===g.AppType)){const t=await(0,w.f7)();null!=t&&t.muid&&(p.MUID=t.muid,P.YT.addOrUpdateTmplProperty("bhpmuidhdrosu","1"))}if(!(0,S.S)()){const{oneServiceHeaders:t,cookie:e,referer:n,clientData:i,userAgent:r}=(0,x.cn)();t&&Object.assign(p,t),i&&(p["X-Client-Data"]=i),e&&(p.Cookie=e),n&&(p.Referer=n),r&&(p["User-Agent"]=r)}return p}function T(t,e){return p.n.isNonNullObject(t)&&p.n.isNonNullObject(t.sitePage)&&(0,R.A)(t.sitePage.page_product)&&(0,R.A)(t.sitePage.page_type)?t.sitePage.page_product+"-"+t.sitePage.page_type+(e?"-"+e:""):e}t.serviceRequestOnComplete=async function(t,e){try{const n=await t();return e(),n}catch(t){throw e(),t}},t.getOneServiceParamsWithoutAuth=e,t.getOneServiceNonDynamicParamsWithoutAuth=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=(0,o.rA)(),r=[{key:"apikey",value:i.OneServiceApiKey},{key:"ocid",value:e?T(i.TrackInfo,t):t},{key:i.OneServiceContentMarketQspKey,value:i.CurrentMarket}];return!i.SendUserIdInHeader&&n&&r.push({key:"user",value:n}),(0,v.wx)()&&r.push({key:v.L9,value:v.B4}),r},t.getOneServiceParamsWithAuth=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,o.rA)(),[...e(t,n,i,r,s,(0,v.wx)(),!1,a)]},t.getOneServiceHeaders=n,t.getOneServiceFeedCallHeaders=async function(t,e,i){const r=await n(t,null,e,i),s=(0,o.rA)(),a=s.ActivityId;return s.SendFeedCallActivityIdInHeader&&a&&(r[c.aS.activityId]=a),r},t.getLocationParams=function(t,e){const n=(0,o.rA)(),i=t||n.Latitude,r=e||n.Longitude;return i&&r?{key:"location",value:`${i}|${r}`}:null},t.getOneServiceOCID=T,t.getBaseRequestData=async function(e,n){return{headers:await t.getOneServiceHeaders((0,v.wx)(),n),method:e}},t.getCommonParams=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,a.Th)().UserIsSignedIn?this.getOneServiceParamsWithAuth((0,o.rA)().UserId,t,e):this.getOneServiceParamsWithoutAuth((0,o.rA)().UserId,t,e)},t.getCommonParams2=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,y.Fo)()?this.getOneServiceParamsWithAuth((0,o.rA)().UserId,t,e,n):this.getOneServiceParamsWithoutAuth((0,o.rA)().UserId,t,e,n)},t.urlContainsOcidParam=function(t){if(!t)return!1;const e=t.split("?");if(e.length<2)return!1;const n=e[1].split("#")[0];return!!new m.m(n).get("ocid")},t.removeOcidFromUrl=function(t){if(!t)return t;const e=t.split("?");if(e.length<2)return t;const n=e[1].split("#")[0],i=new m.m(n);if(i.get("ocid")){i.delete("ocid");let e=t.replace(n,i.toString());return"?"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e}return t},t.removeOcidFromRiverCardProviderResponse=function(e){e&&e.cardMetadata&&e.cardMetadata.length&&e.cardMetadata.forEach(e=>{e.cardContent&&e.cardContent.destinationUrl?e.cardContent.destinationUrl=t.removeOcidFromUrl(e.cardContent.destinationUrl):e.subItems&&e.subItems.length&&e.subItems.forEach(e=>{e.cardContent&&e.cardContent.destinationUrl&&(e.cardContent.destinationUrl=t.removeOcidFromUrl(e.cardContent.destinationUrl))}),e.metadata&&e.metadata.relatedCards&&e.metadata.relatedCards.forEach(e=>{e.url=t.removeOcidFromUrl(e.url)})})},t.removeOcidFromWindowsOneServiceResponse=function(e){e&&e.cards&&e.cards.forEach(e=>{e.subCards.forEach(e=>{e.url?e.url=t.removeOcidFromUrl(e.url):e.subCards&&e.subCards.forEach(e=>{e.url&&(e.url=t.removeOcidFromUrl(e.url))})})})};const $=(0,g.L)(async()=>{if(!((0,S.S)()&&window&&window.ShellFeedsApp&&window.ShellFeedsApp.getQueryHeadersAsync))return;const t=await Promise.race([window.ShellFeedsApp.getQueryHeadersAsync(),(0,E.Y_)(3e3).then(()=>null)]),e=t&&t[c.aS.entAuthorization]||null;return e&&setTimeout(()=>$.cache.clear(),36e5),e});t.getUniFeatTunHeader=async function(){const t={},e=(0,o.rA)()||{};(0,S.S)()&&"edgeChromium"===e.AppType&&(t.EdgeInterestTier1Ids=(0,d.Lg)().getItem("userTopics"));const n=P.YT.getPageMetadata(),i=null==n?void 0:n.combinedContract;var r,s,a,c,u,l,f;return i&&(t.LoginState=null===(r=i.user)||void 0===r?void 0:r.loginState,t.Product=null===(s=i.page)||void 0===s?void 0:s.product,t.PageName=null===(a=i.page)||void 0===a?void 0:a.name,t.PageType=null===(c=i.page)||void 0===c?void 0:c.type,t.OCID=null===(u=i.page)||void 0===u?void 0:u.ocid,t.ViewPortWidth=null===(l=i.browser)||void 0===l?void 0:l.width,t.ViewPortHeight=null===(f=i.browser)||void 0===f?void 0:f.height),function(t){let e="";return Object.keys(t).forEach(n=>{e+=`${n}:${Array.isArray(t[n])?t[n].join(","):t[n]};`}),e}(t)},t._reset=function(){$.cache.clear()},t.addTelemetryTracingQueryParam=function(t){if(a.Rb&&a.Rb.CurrentFlightSet&&a.Rb.CurrentFlightSet.has(F)){const e=_.T.getTraceInstance(),n="00-"+e.getTraceId(!0)+"-"+e.getSpanId(!0)+"-00";t.searchParams.set(O,n)}}}(U||(U={}))},20048:function(t,e,n){n.d(e,{_:function(){return i}});const i=[{name:"product-image",layout:{position:"absolute",left:0,top:0,width:"300",height:"225",zIndex:1}},n(38870).o]},20292:function(t,e,n){n.d(e,{_F:function(){return m},aW:function(){return p},yS:function(){return d}});var i=n(65431),r=n(65022),o=n(93468),s=n(17254),a=n(12870),c=n(5044);const u=16,l="cs-infopane-card, cs-infopane-card-28, cs-infopane-card-immersive, cs-responsive-infopane";function d(t,e,n,a){var c;null!=t&&null!==(c=t.indices)&&void 0!==c&&c.length&&(t.placementLevelSignals=t.indices.map((c,u)=>{var d;const m=(null===(d=t.placementLevelSignals)||void 0===d?void 0:d[u])||{},g=function(t,e,n,a,c,u){var d,m,g,v,w;if(null==t||!t.region)return{};let y=`nativead-${t.region}-${e}`;const b=null===(d=t.region)||void 0===d?void 0:d.includes("infopane"),S=null===(m=t.region)||void 0===m?void 0:m.includes("sliver"),x=null===(g=t.region)||void 0===g?void 0:g.includes("rectangle"),C=(null===(v=document)||void 0===v||null===(v=v.querySelector("entry-point"))||void 0===v||null===(v=v.shadowRoot)||void 0===v||null===(w=v.querySelector)||void 0===w?void 0:w.call(v,"waterfall-view-feed"))||c;let k;if(b)y="infopane";else if(S){if(y=`sliver-${e}`,C&&c)try{k=C.getBoundingClientRect().top>c.getBoundingClientRect().bottom}catch(t){k=void 0}}else x&&(y=`rectangle${e}`);const T=function(t,e){var n;if(!t)return;const r=null==e||null===(n=e.adTemplateConfig)||void 0===n?void 0:n.cardSizeConfig;if(r&&r[t])return r[t];return t.includes("infopane")?(null==r?void 0:r.infopane)||i.Hv.infopane:t.includes("riverdb")?(null==r?void 0:r.riverdb)||i.Hv.riverdb:t.includes("river")?(null==r?void 0:r.river)||i.Hv.river:i.Hv[t]||void 0}(t.region,n),$=p(t.region,k);let A=null!=n&&n.passAdOcidRegSize?{pageRegion:$,cardSize:T}:{};null==n||!n.passBrandSafetySignals||null!=a&&a.length||function(t,e,n,i,r,o){var s;let a,c=[];if(e){const{layout:t,masterLayoutCardList:e,masterCardMapWpoItems:n,river:o}=(null==r?void 0:r.feedManager)||{};if(i)c.push(...f(e,n,t,0));else{let i;if(null==o||o.forEach(t=>{var e;const n=null==t||null===(e=t.cardMetadataList)||void 0===e?void 0:e[0];"display-ad-banner"===(null==n?void 0:n.id)&&"number"==typeof(null==n?void 0:n.order)&&(i=n.order-1)}),"number"==typeof i&&i>=0){const r=f(e,n,t,i-1),o=f(e,n,t,i);c.push(...r,...o),null!=o&&o.length||(a=!0)}}}else if(n){var u;const t=null==r||null===(u=r.feedManager)||void 0===u||null===(u=u.waterfall)||void 0===u||null===(u=u.flatMap(t=>t.columns[0]))||void 0===u?void 0:u.find(t=>t.instanceId===o);c=null==t?void 0:t.adjacentCardIds}null!==(s=c)&&void 0!==s&&s.length&&(t.adjacentCardIds=c);a&&(t.isPartialBrandSafety=a)}(A,S,x,k,C,y);if(!u&&(null!=n&&n.enableAddingAdCoords||null!=n&&n.passAdOcidRegSize)){const i=function(t,e,n,i,r,o,s,a,c){var u,d;const f=null==i||null===(u=i.shadowRoot)||void 0===u?void 0:u.querySelectorAll("cs-super-container");let p,m=null;if(f&&f.length>0){if("DESKTOP-FEED-VIEWS"===(null==i?void 0:i.tagName)){if(o){let t=f[0];for(let e=0;e<4&&t;e++){var g,v,w;const e=t.shadowRoot;if(null==e||null===(g=e.children)||void 0===g||!g.length)break;const n=e.children[0];if(!n)break;const i=null===(v=n.shadowRoot)||void 0===v||null===(w=v.querySelector)||void 0===w?void 0:w.call(v,l);if(i){m=i;break}t=n}}}else for(const t of f){var y;const i=null==t||null===(y=t.shadowRoot)||void 0===y||null===(y=y.querySelector("cs-responsive-feed-layout"))||void 0===y?void 0:y.shadowRoot;if(i&&(o?m=i.querySelector(l):s?({adElement:m,left:p}=h(r,c,n,e)):m=a?r:null==i?void 0:i.querySelector(`[id*="${c}"]`),m))break}}else a||"inarticle"===t||"interstitialgallery"===t?m=r:s&&({adElement:m,left:p}=h(r,c,n,e));const b=null===(d=m)||void 0===d?void 0:d.getBoundingClientRect();if(!b)return;return{top:b.top,left:p??b.left,width:b.width,height:b.height}}(t.region,T,e,C,c,b,S,x,y);if(i)return null!=n&&n.enableAddingAdCoords&&(A.coords={x:i.left,y:i.top}),null!=n&&n.passAdOcidRegSize&&i.width&&i.height&&(A.cardSize={w:i.width,h:i.height}),A;t.region.includes("river")&&"views"===s.T3.AppType||(0,o.vV)(r.$2y,"Placement level signal fell back to cached coordinates",`{"cardId": "${y}", "placement": ${JSON.stringify(t)}}`,void 0,void 0,20)}if(null!=n&&n.enableAddingAdCoords&&u){const t=u(y);t&&(A={...A,...t})}return A}(t,c,e,m.adjacentCardIds,n,a);return{...m,...g}}))}function f(t,e,n,i){var r;const o=[];return!t||!e||!n||"number"!=typeof i||i<0||null==t||null===(r=t.river)||void 0===r||null===(r=r[n])||void 0===r||r.filter(t=>{var e;return void 0!==(null==t||null===(e=t.cards)||void 0===e||null===(e=e[i])||void 0===e?void 0:e.wpoId)}).forEach(t=>{const n=t.cards[i].wpoId,r=null==e?void 0:e.get("river_wfcard"+n),s=(null==r?void 0:r.subItems)||(null==r?void 0:r.subCards);if(null!=s&&s.length){let t=0;for(const e of s)if(null!=e&&e.id&&(o.push(e.id),t++),3===t)break}else(null==r?void 0:r.id)&&o.push(r.id)}),o}function h(t,e,n,i){var r;let o,s=null==t||null===(r=t.shadowRoot)||void 0===r?void 0:r.querySelector(`[id*="${e}"]`);if(!s&&t&&null!=i&&i.w){try{const e=t.getBoundingClientRect();if(e){const t=2*i.w+u;o=1===n?e.left-t/2:e.left+u/2}}catch(t){o=void 0}s=t}return{adElement:s,left:o}}function p(t,e){if(t)return t.includes("infopane")?"views"===s.T3.AppType?"consumption-infopane":"infopane":t.includes("river")?"views"===s.T3.AppType?"consumption-river":"river":t.includes("rectangle")?"views"===s.T3.AppType?"rightrail":"river":t.includes("sliver")?"views"===s.T3.AppType||e?"topbanner":"sliver":t.includes("inarticle")?"intra-article":t.includes("interstitialgallery")?"intra-gallery":t}function m(t,e,n){t&&(t.auctionLevelSignals={...t.auctionLevelSignals,isPrerender:!(null===a.Rb||void 0===a.Rb||!a.Rb.IsPrerender),isSSR:!1,vpSize:window&&{w:window.innerWidth,h:window.innerHeight},ocid:null!=e&&e.passAdOcidRegSize?(0,c.En)():void 0},null!=e&&e.passCohortSignalsAds&&n&&(t.auctionLevelSignals.userSignals=n))}},20431:function(t,e,n){n.d(e,{dX:function(){return _},wR:function(){return $},Is:function(){return P},Cp:function(){return T},$y:function(){return A},k$:function(){return I}});var i=n(77216),r=n(33107),o=n(53788),s=n(98763),a=n(77246),c=n(16418),u=n(41862),l=n(30817),d=n(12986);const f=(0,s.pV)(()=>new u.G);f.unset();const h="-start",p="-end";class m{constructor(t,e,n,i,r){var o;this.timelineName=t,this.instanceId=e,this.addPerfMarks=n,this.addPageTimings=i,this.async=r,this.measures=new w,this.timeRange=[1/0,-1/0],this.timelineName=(o=t,f.get().qualifyKey(o))}get timeSpan(){const[t,e]=this.timeRange;if(t!==1/0&&e!==-1/0)return[t,e-t]}startMeasure(t,e,n){const{async:i,startTime:r}=n||{},o=b(r);if(null==o)return{endMeasure:d.A};const{timeRange:s}=this;o<s[0]&&(s[0]=o);const a=v(t,e),c=this.measures.add({coreName:a,from:o,async:null!=i?i:this.async,idSuffix:""},n);return{endMeasure:n=>{const{customSuffix:i,customData:r,endTime:a}=n||{},u=b(a);if(null==u||u<o)return;if(i&&e!==i){const e=v(t,i);this.measures.rename(c,e)}c.to=u,c.customData=r,u>s[1]&&(s[1]=u);!function(t,e,n,i){if(!n&&!i)return;const{from:r,to:o}=e;if(null!=r){const e=t+h,s=(0,l.ZF)();if(n&&(s[e]=r),i&&performance.mark(e,{startTime:r}),null!=o&&(n&&(s[t]=o-r),i)){const n=t+p;performance.mark(n,{startTime:o}),performance.measure(t,e,n)}}}(y(this.timelineName,c),c,this.addPageTimings,this.addPerfMarks)}}}rename(t){if(this.timelineName!==t){if(this.addPageTimings){const e=this.timelineName,n=(0,l.ZF)();this.measures.get().forEach(i=>{const r=y(e,i);delete n[r+h],delete n[r];const o=y(t,i);n[o+h]=i.from,n[o]=i.to-i.from})}this.timelineName=t}}getPageMeasures(){return this.measures.get().map(t=>({...t,timelineName:this.timelineName}))}getMeasureValues(t){return this.measures.get(t)}instrumentFunc(t,e,n){var i=this;return function(){const r=i.startMeasure(t).endMeasure;try{for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const t=e.apply(n,s);return t instanceof Promise?g(t,r):r(),t}catch(t){r({customSuffix:"error"})}}}instrumentPromise(t,e,n){const i=this.startMeasure(t,null,n).endMeasure;return g(e(),i)}}function g(t,e){return t.then(()=>e()).catch(()=>e({customSuffix:"error"})),t}function v(t,e){return e?`${t}-${e}`:t}class w{constructor(){this.list=[],this.entList=[],this.map=new Map}add(t,e){return e&&e.entityMeasure?this.entList.push(t):this.list.push(t),this.addToMap(t)}addToMap(t){const e=t.coreName;let n=this.map.get(e);return!n&&this.map.set(e,n=[]),t.idSuffix=(0,u.J)(n.length),n.push(t),t}get(t){const{coreName:e,entityMeasures:n}=t||{};let i;return i=e?this.map.get(e)||[]:n?this.entList:!1===n?this.list:[...this.list,...this.entList],i}rename(t,e){const n=t.coreName;if(n==e)return;const i=this.map.get(n),r=i.indexOf(t);if(r>=0){i.splice(r,1);for(let t=r,e=i.length;t<e;t++)i[t].idSuffix=(0,u.J)(t);t.coreName=e,this.addToMap(t)}}}function y(t,e){return`${t}-${e.coreName}${e.idSuffix}`}function b(t){return null==t?(0,l.gU)():"number"==typeof t&&t>=0?t:void 0}var S=n(50369),x=n(73691);const C=(0,s.Xe)(),k=(0,s.pV)(()=>({}));function T(t,e){(0,r.ST)(e),function(t){Object.assign(k.get(),C.set((0,i.x)(t)))}(t)}function $(){return k.get()}function A(t){const e=k.get();e.enablePerfTimeline=t,e.trackAllExp=t,e.enableEntityMetricsTimeline=t,e.traceLevel=i.X.default,!(0,a.S)()&&(0,x.As)(t)}const I=(t,e,n)=>function(t){const e=k.get();if(!e.enablePerfTimeline)return!1;const{experiencesForPerf:n}=e;if(n&&n[t])return!0;const{experiencesExcludedForPerf:i}=e;if(i&&i[t])return!1;return e.trackAllExp}(t)?function(t,e,n){const i=M(t,e),o=S.A.get(),s=k.get();return o[i]||(o[i]=(0,r.zr)(m,t,e,s.addPerformanceMarks,s.addPageTimings,n))}(t,e,n):void 0;function P(){const t=[],e=S.A.get();return Object.keys(e).forEach(n=>t.push(...e[n].getPageMeasures())),t}function _(t){k.get().enableEntityMetricsTimeline&&(0,c.aJ)(t)}function M(t,e){return`${t}-${e||"0"}`}(0,a.S)()&&(window._getEntityMetricsCollection=t=>(0,c.cY)(Object.values(S.A.get()),(0,o.ms)(t)))},21481:function(t,e,n){n.d(e,{U:function(){return P}});var i=n(56911),r=n(56589),o=n(92011),s=n(38493),a=n(94061),c=n(73691),u=n(30817),l=n(93468),d=n(65022),f=n(89151),h=n(13053),p=n(23768),m=n(59545),g=n(11372),v=n(70177);class w extends Event{constructor(t){super(w.type,{bubbles:!0,composed:!0}),this.complete=t}static isPendingTask(t){var e;return t.type===w.type&&"function"==typeof(null===(e=t.complete)||void 0===e?void 0:e.then)}}w.type="pending-task";var y=n(47149),b=n(77246),S=n(17720);const x="__propsMap__",C="__currentPropsToken__",k=()=>(S.vv.get(x)||S.vv.set(x,{}),S.vv.get(x));S.vv.set(x,{}),S.vv.set(C,1);var T=n(79426);let $=[];new Set,new T.e;var A=n(78981);const I="props-token";class P extends o.L{constructor(){super(...arguments),this.ensureObservableBeforeConnect=!1,this.hydratable=!1,this.isSSRRendered=!1,this.useTTSRMarker=!1,this.needPendingTask=!1}connectedCallback(){this.initializeCore().then(()=>{var t;return this.ttvrEnd=null===(t=this.perfTimeline)||void 0===t?void 0:t.startMeasure("render").endMeasure})}async initializeCore(){const t=this.getExperienceType(),e=this.perfTimeline=(0,a.hB)(t,this.instanceId);if(this.initStart=e&&(()=>this.initEnd=e.startMeasure("init").endMeasure),this.fetch=(0,c.xS)({perfTimeline:e}),(0,u._P)("WCE.Count"),(0,b.S)())this.hydratable=this.hasAttribute("defer-hydration")||this.hasAttribute("needs-hydration"),this.isSSRRendered=this.hasAttribute("needs-hydration"),this.useTTSRMarker=this.hasAttribute("use-ttsr")||this.hasAttribute("needs-hydration"),this.initializeAsync();else{const t=this.initializeOnServerSide();this.needPendingTask&&this.dispatchEvent(new w(t))}}async initializeOnServerSide(){var t;null===(t=this.initStart)||void 0===t||t.call(this),this.needPendingTask=!1;const e=this.getExperienceType();try{var n;const t=this.getConfigRef();if(!this.config){let e;if("string"!=typeof t)try{e=r.L.getConfigSync(t)}catch(t){}e||(this.needPendingTask=!0,e=await r.L.getConfig(t)),this.config=e.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const t=this.getTelemetryContract();this.telemetryObject=new y.$(t)}const e=this.experienceConnected();e&&(this.needPendingTask=!0,await e),super.connectedCallback(),this.shadowDomPopulated(),null===(n=this.initEnd)||void 0===n||n.call(this)}catch(t){var i,o;if(null===(i=this.initEnd)||void 0===i||i.call(this,{customSuffix:"error"}),(0,l.c_)(t,d.bGx,`Exception web component experience(${e}) initializeOnServerSide.`,`ssrLayout:${null===(o=window.ssrLayoutState)||void 0===o?void 0:o.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`),this.lifecycleExceptionToThrowErrorOnServerSide)throw t.message=`InitializeOnServerSide exception in ${e}: ${t.message}`,t}}async initializeAsync(){var t;this.hydratable&&await(0,v.mb)(this),null===(t=this.initStart)||void 0===t||t.call(this),this.reportStartTimeToMilestoneConnector(p.m.updateVisuallyReadyTiming);const e=this.getExperienceType();try{var n;const t=this.getConfigRef();if(!this.config){const e=await r.L.getConfig(t);this.config=e.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const t=this.getTelemetryContract();this.telemetryObject=new y.$(t)}const{stalenessInfo:i}=this.config;i&&i.isStaleCheckRequired&&(s={experienceType:e,thresholdMinutes:i.staleThreshold,criticalCallback:()=>this.prerenderRefreshCritical(),delayCallback:()=>this.prerenderRefresh(),isRequiredForInitialRendering:i.isRequiredForInitialRendering},$.push(s)),this.ensureObservableBeforeConnect&&this.$fastController.bindObservables();const o=this.experienceConnected();if(o){const t=this.hydratable&&v.Pj?(0,v.B1)(`${this.getExperienceType()}:experienceConnected`):void 0;null==t||t.start(),await o,null==t||t.markEnd()}if(this.hydratable){const t=v.Pj?(0,v.B1)(`${this.getExperienceType()}:beforeHydration`):void 0;null==t||t.start(),await this.beforeHydration(),null==t||t.markEnd()}super.connectedCallback(),this.shadowDomPopulated(),this.hydratable&&await this.afterHydration(),this.perfTimeline&&(0,a.HA)(this,this.perfTimeline,A.P),null===(n=this.initEnd)||void 0===n||n.call(this)}catch(t){var i,o;(0,l.c_)(t,d.bGx,`Exception web component experience initializeAsync. ExperienceType: ${e}`,`ssrLayout:${null===(i=window.ssrLayoutState)||void 0===i?void 0:i.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`),this.processExperienceInitializeError(),null===(o=this.initEnd)||void 0===o||o.call(this,{customSuffix:"error"})}var s}experienceConnected(){}beforeHydration(){}afterHydration(){}shadowDomPopulated(){}prerenderRefreshCritical(){return Promise.resolve(void 0)}prerenderRefresh(){}processExperienceInitializeError(){}getConfigRef(){return{instanceSrc:this.instanceSrc,experienceType:this.getExperienceType(),sharedNs:this.sharedNs}}getTelemetryContract(){return{type:g.MJ.Module,name:this.getExperienceType()}}getApproxTTVRValue(t){const e=(0,u.ZF)();if(this.useTTSRMarker&&e.isSSRCompleted)return e[f.wL+(t||this.getExperienceType())]||e[f.wL+"Complete"]}markVisuallyReady(t,e){var n,i;const r=this.getApproxTTVRValue();e??(e=void 0===r),t=r||t;const o=(0,f.yi)(this.getExperienceType(),!1,t,e);return this.reportEndTimeToMilestoneConnector(p.m.updateVisuallyReadyTiming,t),null===(n=this.ttvrEnd)||void 0===n||n.call(this,{endTime:t}),null===(i=this.visualReadinessCallback)||void 0===i||i.call(this),o}markVisuallyReadyRaf(t){(0,h.D)(()=>this.markVisuallyReady(t))}reportStartTimeToMilestoneConnector(t){this.reportTimeToMilestoneConnector(t,performance.now())}reportEndTimeToMilestoneConnector(t,e){this.reportTimeToMilestoneConnector(t,void 0,e||performance.now())}reportTimeToMilestoneConnector(t,e,n){const i=(0,m.Kl)();i&&t.getActionSender(i).send({experienceType:this.getExperienceType(),experienceInstance:this.instanceId,startTime:e,endTime:n})}attributeChangedCallback(t,e,n){if(super.attributeChangedCallback(t,e,n),t===I){const t=function(t){const e=k(),n=e[t];return delete e[t],n}(n);Object.assign(this,t)}}}(0,i.Cg)([(0,s.CF)({attribute:"config-instance-src"})],P.prototype,"instanceSrc",void 0),(0,i.Cg)([(0,s.CF)({attribute:"config-shared-ns"})],P.prototype,"sharedNs",void 0),(0,i.Cg)([(0,s.CF)({attribute:"instance-id"})],P.prototype,"instanceId",void 0),(0,i.Cg)([(0,s.CF)({attribute:I})],P.prototype,"propsToken",void 0)},21599:function(t,e,n){var i,r;n.d(e,{R:function(){return r},z:function(){return i}}),function(t){t.FeedLayoutPromotions="FeedLayoutPromotions",t.FreOverlay="FreOverlay",t.NurturingFunctional="NurturingFunctional",t.NurturingPromotions="NurturingPromotions"}(i||(i={})),function(t){t.Engaged="Engaged",t.Dismissed="Dismissed",t.Ignored="Ignored"}(r||(r={}))},21629:function(t,e,n){n.d(e,{X:function(){return s},E:function(){return o}});var i=n(93468),r=n(65022);const o=t=>{if(!t)return;const e=(t=>{try{return{success:!0,data:JSON.parse(t)}}catch(t){return{success:!1,error:t}}})(t);if(e.success)return e.data;(0,i.vV)(r.YHC,"Failed to parse MSN_KV",`Failed to parse MSN_KV: ${t}`,{error:e.error,msn_kv:t})},s=(t,e)=>{if(91===e)return t.description?"DTS_91_3":"DTS_91_1"}},22123:function(t,e,n){n.r(e),n.d(e,{AdLabelType:function(){return R.UM},BlockedDomainAndTitles:function(){return R.jw},BlockedHosts:function(){return R.MC},CurrentTopSitesEdgeNextWCTemplate:function(){return Ee},DragDropType:function(){return R.oy},GroupPolicySettings:function(){return R.pV},TileSource:function(){return R.U9},ToolingInfo:function(){return Nn},TopSitesClassNameConstants:function(){return R.mk},TopSitesDataHelper:function(){return Le},TopSitesEdgeNextWC:function(){return tn},TopSitesEdgeNextWCInlineStyles:function(){return Dn},TopSitesEdgeNextWCStyles:function(){return On},TopSitesEdgeNextWCTemplate:function(){return Fe},TopSitesEdgeNextWCWithCarouselStyles:function(){return Fn},TopSitesEdgeNextWCWithJSDependencyStyles:function(){return _n},TopSitesElementConstants:function(){return R.JC},TopSitesNextStyles:function(){return Pn},TopSitesResponsiveStyles:function(){return In},addDialogHeight:function(){return R.j6},addDialogWithSubSectionHeight:function(){return R.wA},blockedDomainsPair:function(){return R.QH},carouselColsPerSlideMap:function(){return R.A},carouselTilesxColxRowsMap:function(){return R.Ho},carouselTopSiteListTemplate:function(){return Me},closeButtonSvg:function(){return Te},contextMenuWidth:function(){return R.bL},defaultMaxTileForFirstRow:function(){return R.tU},defaultMaxTileForSixteenTopSites:function(){return R.Mb},defaultMaxTileForThreeRowsTopSites:function(){return R.LF},defaultMaxTileForTwentyTopSites:function(){return R.rq},defaultMaxTiles:function(){return R.j5},defaultOverrideIconsList:function(){return R.sT},defaultTopSiteIcon:function(){return R.Jx},dialogWidth:function(){return R.p$},displayPinIconTopSitesBindingSource:function(){return Pe},edgeExpTopSites:function(){return R.OF},editDialogHeight:function(){return R.uR},feeds3T1SearchBoxWidthTilesxColxRowsMap:function(){return R.Li},feeds3T1SearchBoxWidthWithNotificationMiniCardTilesxColxRowsMap:function(){return R.lu},googleExpTopSites:function(){return R.$v},m365CopilotIcon:function(){return R.Tj},mockedVPTestTopSites:function(){return R.$1},normalTopSiteListTemplate:function(){return Re},notificationToastDefaultDisplayMs:function(){return R.QV},pinToastDefaultDisplayMs:function(){return R._B},pinToastTemplate:function(){return Ae},privacyUrl:function(){return R.Gi},ruby2RowsTilesxColxRowsMap:function(){return R.YC},rubyTilesxColxRowsMap:function(){return R.Bq},tileDialogMargin:function(){return R.Fp},titleOverrides:function(){return R.W3},topSiteAddDialogTemplate:function(){return Ce},topSiteEditDialogTemplate:function(){return ke},topSiteShell:function(){return R.Np},topSiteTileHeight:function(){return R.g9},topSiteTileWidth:function(){return R.nZ},topSitesBindingSource:function(){return Ie},topSitesCollapsedStorageKey:function(){return R.x4},topSitesDragDropStorageKey:function(){return R.fe},topSitesDragDropUnpinStorageKey:function(){return R.ve},topSitesUndoToastMessageMargin:function(){return R.gy},topSitesUnpinnedStorageKey:function(){return R.Ze},undoToastTemplate:function(){return $e},validQueryParameterPrefix:function(){return R.IQ}});var i=n(4731),r=n(37180);var o=n(75904),s=n(17469),a=n(56911),c=n(85593),u=n(7965),l=n(71967),d=n(28611),f=n(17254),h=n(36090),p=n(89980),m=n(12870),g=n(56018),v=n(9120),w=n(19548),y=n(88296),b=n(27942),S=n(79426),x=n(18750),C=n(28006),k=n(84855);const T=t=>`<img src="${(0,f.rA)().StaticsUrl}latest/fluent-icons/${t}.svg" aria-hidden="true" />`,$=T("delete_20_regular"),A=T("edit_20_regular"),I=T("eye_off_16_regular"),P=T("pin_16_regular"),_=T("pin_16_filled"),M=T("tray_item_add_20_regular");var R=n(50091),E=n(11367),F=n(56085),D=n(7469),O=n(65022),N=n(30817),U=n(89151),L=n(93468),B=n(11372),W=n(87518);const H="curated_topsite",V="user_topsite",z="frequent_topsite",j="promotedcurated_topsite",q="promotedcurated_topsite_sponsored",G="wpopromoted_topsite",J="curatedleadgen_topsite",K="autoappend_topsite",Q="tile",X="url",Y="context_menu",Z="topsite_remove_toast",tt="remove",et="undoremove",nt="close",it="cancel",rt="rename",ot="save",st="suggestedlink",at="edit_dialog",ct="add_dialog",ut="topsiteaddtile",lt="topsite",dt="turnonpreview",ft="turnoffpreview",ht="topsitePinToTaskBar",pt="unpin",mt="pin",gt="action_menu",vt="carousel",wt="nextflipperclick",yt="preflipperclick",bt="name_input",St="url_input";var xt;!function(t){t.tsn="tsn",t.moreOption="More Options",t.remove="Remove",t.undoRemove="Undo Remove",t.close="Close",t.rename="Rename",t.save="Save",t.cancel="Cancel",t.addSite="Add a site",t.add="Add",t.show="Show",t.suggestedLink="Add a suggested link",t.turnOnPreview="Turn On Preview",t.turnOffPreview="Turn Off Preview",t.container="Container",t.unpin="Unpin",t.pin="Pin",t.topsiteTaskbarpin="TopSite Pin to TaskBar",t.ActionMenu="Action Menu",t.Impression="Impression",t.carouselClick="Carousel click",t.inputName="Click name input",t.inputUrl="Click URL input"}(xt||(xt={}));const Ct="tsu";const kt=t=>{let e,n=!1;switch(t.tileSource){case 4:case 3:e=V;break;case-5:e=H,n=!0;break;case-6:e=j,n=!0;break;case-7:e=q,n=!0;break;case-4:e=G,n=!0;break;case-8:e=J,n=!0;break;case 2:e=K,n=!0;break;default:e=z}return{tileSourcePrefix:e,isCuratedOrPromoted:n}};var Tt=n(60815),$t=n(38493),At=n(11566),It=n(87405),Pt=n(70487),_t=n(16611),Mt=n(15003),Rt=n(27597),Et=n(31157),Ft=n(31086),Dt=n(98216),Ot=n(40956),Nt=n(85490),Ut=n(96950),Lt=n(91640),Bt=n(60402),Wt=n(39957),Ht=n(63563),Vt=n.n(Ht),zt=n(20128),jt=n(35445),qt=n(22445),Gt=n(42956),Jt=n(6301),Kt=n(52374),Qt=n.n(Kt),Xt=n(65908);zt.S,jt.MsnActionsMenu,Gt.a,Xt.s,qt.MZ;const Yt=Ut.qy`<span class="badge">${t=>t.badge.children}</span>`,Zt=Ut.qy`<fluent-button class="end-button" appearance="stealth" title="${t=>t.contextMenuLabel}" aria-label="${t=>t.contextMenuLabel}" aria-expanded="${(t,e)=>e.parent.isActionMenuOpen}" role="button" @click=${(t,e)=>e.parent.toggleActionMenu&&e.parent.toggleActionMenu(t,e.event)} data-t="${t=>t.toggleActionMenuButtonTelemetryTag}" icon-only>${Ut.qy.partial(Vt())}</fluent-button>`,te=Ut.qy`<div class="image-container"><img src="${t=>t.faviconUrl}" /></div>`,ee=(Ut.qy`<div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.z)(t=>t.badge,Yt)}</div>`,Ut.qy`<a class="control topsite-ruby-link" aria-label="${t=>t.title}" title="${t=>t.title}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" target="${(t,e)=>e.parent.config.enableOpenInNewTab?e.parent.linkTarget:void 0}" @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${te}</a>`),ne=Ut.qy`<a class="control topsite-ruby-link" aria-label="${t=>t.title}" title="${t=>t.title}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" @click=${(t,e)=>e.parent.preventClickOnTopSite(e.event)} @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${te}</a>`,ie=Ut.qy`<div class="top-site-ruby" aria-label="${t=>t.title}" title="${t=>t.title}" data-t="${t=>t.contentViewTelemetryTag}" @mouseenter="${(t,e)=>e.parent.handleTopSiteMouseEnter()}" @click="${(t,e)=>e.parent.logTileActivatedClick(t)}" @auxclick="${(t,e)=>e.parent.logTileActivatedClick(t)}">${(0,Lt.z)(t=>t.disableHref,ne,ee)}<div class="site-name ${(t,e)=>e.parent.config.enableSiteTitleLargerFont?"larger-font":""}"><span>${t=>t.title}</span></div>${(0,Lt.z)((t,e)=>e.parent.canLoadHoverElements&&e.parent.renderTopSiteStartAndEnd,Ut.qy`<span class="end"><div class="top-site-next-g">${Zt}</div></span>`)}</div>`,re=Ut.qy`<div class="top-site-ruby add-placeholder drag-locked"><div class="image-container"><a class="control" href="#" @click=${(t,e)=>t.onAddTopSiteClick(e.event)} data-t="${t=>t.addTopSiteButtonTelemetryTag}" aria-label="${(t,e)=>e.parent.strings.ariaLabel_addTile}" title="${(t,e)=>e.parent.strings.ariaLabel_addTile}"><svg width="24" height="24" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z" /></svg></a></div></div>`,oe=Ut.qy`<ruby-topsites-dialog mode="add" id="topSiteAddDialog" class="ruby-top-sites-dialog" ${(0,Bt.K)("topSitesAddDialogRef")} cancelText="${t=>t.topSiteAddDialog.cancelText}" headerTitle="${t=>t.topSiteAddDialog.headerTitle}" saveText="${t=>t.topSiteAddDialog.saveText}" closeText="${t=>t.topSiteAddDialog.closeText}" :nameInputData="${t=>t.topSiteAddDialog.nameInputBox}" :urlInputData="${t=>t.topSiteAddDialog.urlInputBox}" :validator = "${t=>t.topSiteAddDialog.validator}" :newOrUpdatedTopSite="${t=>t.topSiteAddDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteAddDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteAddDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteAddDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteAddDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteAddDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteAddDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteAddDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteAddDialog.saveHandler(e.event)}" style="${t=>t.topSiteAddDialogContainerPosition}"></ruby-topsites-dialog>`,se=Ut.qy`<ruby-topsites-dialog mode="edit" id="topSiteEditDialog" class="ruby-top-sites-dialog" ${(0,Bt.K)("topSitesEditDialogRef")} cancelText="${t=>t.topSiteEditDialog.cancelText}" headerTitle="${t=>t.topSiteEditDialog.headerTitle}" saveText="${t=>t.topSiteEditDialog.saveText}" closeText="${t=>t.topSiteEditDialog.closeText}" :nameInputData="${t=>t.topSiteEditDialog.nameInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteEditDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteEditDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteEditDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteEditDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteEditDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteEditDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteEditDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteEditDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteEditDialog.saveHandler(e.event)}" style="${t=>t.topSiteEditDialogContainerPosition}"></ruby-topsites-dialog>`,ae=Ut.qy`<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/></svg>`,ce=Ut.qy`<msn-toast id="undo-toast">${(0,Wt.ux)(t=>t.undoToast.removedText,Ut.qy`<span>${t=>t}</span>`)}<fluent-button ${(0,Bt.K)("undoButton")} appearance="lightweight" slot="actions" class="toast-navigation-button" title=${t=>t.undoToast.undoButtonLabel} @click=${(t,e)=>t.undoToast.undoTopSiteHandler(e.event)} data-t="${t=>t.undoToast.undoButtonTelemetryTag}">${t=>t.undoToast.undoButtonLabel}</fluent-button><fluent-button apperance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.undoToast.closeButtonLabel} @click=${(t,e)=>t.undoToast.closeHandler(e.event)} data-t="${t=>t.undoToast.closeButtonTelemetryTag}">${ae}</fluent-button></msn-toast>`,ue=Ut.qy`<div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.JC.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.K)("topSitesContainer")}>${Ut.qy`${(0,Wt.ux)(t=>t.topSites,ie)}`} ${Ut.qy`${(0,Wt.ux)(t=>t.topSitesPlaceHolders,re)}`}</div></div>`,le=Ut.qy`<div class="root ruby-top-sites ${t=>t.extraAddedSitesClassName} ${t=>t.className}  ${t=>t.moveUpward?"move-upward":""}" id="${R.JC.topSitesClassSelector}" ${(0,Bt.K)("topSitesRoot")}>${ue}</div><div ${(0,Bt.K)("dialogRoot")}>${(0,Lt.z)(t=>t.isAddDialogOpen,oe)} ${(0,Lt.z)(t=>t.topSiteAddedSuccessfully,Ut.qy`<div class="top-site-add-success" aria-live="polite">${t=>t.lastAddedTopSite} added successfully</div>`)} ${(0,Lt.z)(t=>t.isEditDialogOpen,se)} ${(0,Lt.z)(t=>t.isActionMenuOpen,Ut.qy`<div data-t=${t=>t.topsiteItemContainerTelemetry()}><msn-actions-menu id="actions-menu" :referrerButton=${t=>t.activeContextMenuButtonElement} class="ruby-long-width-menu" :menuItems=${t=>{var e;return null===(e=t.actionsMenuProps)||void 0===e?void 0:e.menuItems}} ${(0,Bt.K)("topSiteActionsMenu")} @dismiss-menu=${t=>t.isActionMenuOpen=!1} :isGlyphUrlsPicture=${!0} data-t=${t=>t.actionsMenuTelemetry()}></msn-actions-menu></div>`)}<div ${(0,Bt.K)("toastContainer")} class="toast-root">${(0,Lt.z)(t=>"undo"===t.currentToastTag,ce)}</div></div>`;var de=n(45089),fe=n.n(de);zt.S,jt.MsnActionsMenu,Gt.a,Jt.N,qt.MZ;const he=Ut.qy`<span class="badge">${t=>t.badge.children}</span>`,pe=Ut.qy` ${t=>"topSiteAdLabelSmall"!==t.adLabelType?Ut.qy`<span class="dot-separator">  </span>`:null}<msn-native-ad-ad-label class="${t=>"topSiteAdLabelSmall"===t.adLabelType?"ad-link-label top-site-ad-label":"ad-link-label"}" type="${t=>t.adLabelType}" tel-metadata="${t=>t.anchorTelemetryTag}" privacy-url=${t=>R.Gi}></msn-native-ad-ad-label>`,me=(t,e)=>{const n=[];return n.push("top-site-f3v1b"),n.push("top-site-s2ts"),n.join(" ")},ge=Ut.qy`<fluent-button class="start-button" appearance="stealth" aria-lable="${t=>t.pinLabel}" role="button" data-t="${t=>t.pinActionButtonTelemetryTag}" icon-only>${Ut.qy` ${(0,Lt.z)(t=>1===t.dragDropType,Ut.qy`${Ut.qy.partial(Qt())}`)} `}</fluent-button>`,ve=Ut.qy`<fluent-button class="end-button" appearance="stealth" title="${t=>t.contextMenuLabel}" aria-label="${t=>t.contextMenuLabel}" role="button" @click=${(t,e)=>e.parent.toggleActionMenu&&e.parent.toggleActionMenu(t,e.event)} data-t="${t=>t.toggleActionMenuButtonTelemetryTag}" icon-only>${Ut.qy.partial(Vt())}</fluent-button>`,we=Ut.qy`<div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.z)(t=>t.adLabelType&&t.isSponsored&&2!==t.tileSource,pe)} ${(0,Lt.z)(t=>t.badge,he)}</div>`,ye=Ut.qy`<a class="control" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" target="${(t,e)=>e.parent.config.enableOpenInNewTab?e.parent.linkTarget:void 0}" @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${we}</a>`,be=Ut.qy`<a class="control" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" @click=${(t,e)=>e.parent.preventClickOnTopSite(e.event)} @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${we}</a>`,Se=Ut.qy`<div title="${t=>t.title}" aria-label="${t=>t.title}" class="top-site-next small-top-sites pill-top-site pinned-top-site ${(t,e)=>e.parent.config.backgroundOpacity?`tstb-${e.parent.config.backgroundOpacity}`:""} ${(t,e)=>e.parent.config.enableCircleShadeIcon?"tscsi":""} ${me} ${(t,e)=>e.parent.topSitesClassName}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.contentViewTelemetryTag}" @mouseenter="${(t,e)=>e.parent.handleTopSiteMouseEnter(e.event.currentTarget,t.url)}">${(0,Lt.z)((t,e)=>e.parent.canLoadHoverElements&&(e.parent.renderTopSiteStartAndEnd&&1===t.dragDropType||t.promote),Ut.qy`<span class="start"><div class="top-site-next-g">${ge}</div></span>`)}<div class="content-container ${(t,e)=>e.parent.topSitesClassName}" @click="${(t,e)=>e.parent.logTileActivatedClick(t)}" @auxclick="${(t,e)=>e.parent.logTileActivatedClick(t)}"><div class="image-container"><div class="image"><img src="${t=>t.faviconUrl}" /></div></div><div class="title-container">${(0,Lt.z)(t=>t.disableHref,be,ye)}</div></div>${(0,Lt.z)((t,e)=>e.parent.canLoadHoverElements&&e.parent.renderTopSiteStartAndEnd,Ut.qy`<span class="end"><div class="top-site-next-g">${ve}</div></span>`)}</div>`,xe=Ut.qy`<div class="top-site-next small-top-sites pill-top-site drag-locked add-placeholder ${(t,e)=>e.parent.config.backgroundOpacity?`tstb-${e.parent.config.backgroundOpacity}`:""} ${(t,e)=>e.parent.config.enableCircleShadeIcon?"tscsi":""} ${me} ${(t,e)=>e.parent.topSitesClassName}"><div class="content-container ${(t,e)=>e.parent.topSitesClassName}"><div class="image-container"><div class="image new-add-image"><svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z" /></svg></div></div><div class="title-container"><a class="control" href="#" @click=${(t,e)=>t.onAddTopSiteClick(e.event)} data-t="${t=>t.addTopSiteButtonTelemetryTag}" aria-label="${(t,e)=>e.parent.strings.ariaLabel_addTile}" title="${(t,e)=>e.parent.strings.ariaLabel_addTile}"><div class="top-site-title"><span class="top-site-title-text">${(t,e)=>e.parent.getAddShortcutTitle()}</span></div></a></div></div></div>`,Ce=Ut.qy`<msn-top-site-dialog id="topSiteAddDialog" ${(0,Bt.K)("topSitesAddDialogRef")} cancelText="${t=>t.topSiteAddDialog.cancelText}" headerTitle="${t=>t.topSiteAddDialog.headerTitle}" saveText="${t=>t.topSiteAddDialog.saveText}" closeText="${t=>t.topSiteAddDialog.closeText}" :nameInputData="${t=>t.topSiteAddDialog.nameInputBox}" :urlInputData="${t=>t.topSiteAddDialog.urlInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteAddDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteAddDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteAddDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteAddDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteAddDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteAddDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteAddDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteAddDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteAddDialog.saveHandler(e.event)}" style="${t=>t.topSiteAddDialogContainerPosition}">${(0,Lt.z)(t=>t.config.suggestedTopSiteList&&t.config.suggestedTopSiteList.length>0,Ut.qy`<div slot="subSection"><h3 class="suggestion-title">${t=>t.strings.addDialogSubHeading}</h3><div class="suggestion-body">${(0,Wt.ux)(t=>t.config.suggestedTopSiteList,Ut.qy`<div tabIndex="0" class="suggested-top-site"><div class="top-site-next" href="${t=>t.url}" title="${t=>t.title}" aria-label="${t=>t.title}" tabIndex="-1" @click=${(t,e)=>e.parent.topSiteAddDialog.saveHandler&&e.parent.topSiteAddDialog.saveHandler(e.event,t)} @keydown=${(t,e)=>e.parent.topSiteAddDialog.saveHandler&&e.parent.topSiteAddDialog.saveHandler(e.event,t)}><div class="content-container"><div class="image"><img src="${t=>(0,c.getImageUrl)(t.faviconId)}" alt="${t=>t.title}" /></div><div class="title-container"><div class="control" data-t="${t=>t.suggestedLinkTelemetryTag}"><div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.z)(t=>t.adLabelType&&t.isSponsored,pe)} ${(0,Lt.z)(t=>t.badge,he)}</div></div></div></div></div></div>`)}</div></div>`)}</msn-top-site-dialog>`,ke=Ut.qy`<msn-top-site-dialog id="topSiteEditDialog" ${(0,Bt.K)("topSitesEditDialogRef")} cancelText="${t=>t.topSiteEditDialog.cancelText}" headerTitle="${t=>t.topSiteEditDialog.headerTitle}" saveText="${t=>t.topSiteEditDialog.saveText}" closeText="${t=>t.topSiteEditDialog.closeText}" :nameInputData="${t=>t.topSiteEditDialog.nameInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteEditDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteEditDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteEditDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteEditDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteEditDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteEditDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteEditDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteEditDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteEditDialog.saveHandler(e.event)}" style="${t=>t.topSiteEditDialogContainerPosition}"></msn-top-site-dialog>`,Te=Ut.qy`<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/></svg>`,$e=Ut.qy`<msn-toast id="undo-toast">${(0,Wt.ux)(t=>t.undoToast.removedText,Ut.qy`<span>${t=>t}</span>`)}<fluent-button ${(0,Bt.K)("undoButton")} appearance="stealth" slot="actions" class="toast-navigation-button" title=${t=>t.undoToast.undoButtonLabel} @click=${(t,e)=>t.undoToast.undoTopSiteHandler(e.event)} data-t="${t=>t.undoToast.undoButtonTelemetryTag}">${t=>t.undoToast.undoButtonLabel}</fluent-button><fluent-button appearance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.undoToast.closeButtonLabel} @click=${(t,e)=>t.undoToast.closeHandler(e.event)} data-t="${t=>t.undoToast.closeButtonTelemetryTag}">${Te}</fluent-button></msn-toast>`,Ae=Ut.qy`<msn-toast id="pin-toast">${(0,Wt.ux)(t=>t.pinToast.pinText,Ut.qy`<span>${t=>t}</span>`)}<fluent-button appearance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.pinToast.closeButtonLabel} @click=${(t,e)=>t.pinToast.closeHandler(e.event)} data-t="${t=>t.pinToast.closeButtonTelemetryTag}">${Te}</fluent-button></msn-toast>`,Ie=t=>t.topSites,Pe=t=>t.topSites.map(t=>({...t,displayPinIcon:!0})),_e=Ut.qy`<div class="fliper">${Ut.qy.partial(fe())}</div>`;const Me=Ut.qy`<msft-stripe speed="3600" part="msft-stripe" ${(0,Bt.K)("ref_stripe")} class="${t=>`${t.enableQuickBrief?"strip-with-quick-brief":""}${t.config.enableShowFlipperOpacity?"strip-with-opacity-flipper":""}`}"><div slot="previous-flipper">${Ut.qy`<div class="pre-fliper" role="button" @click="${t=>t.onFlipperClick(!1)}" aria-label=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.preFlipperText}} title=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.preFlipperText}} data-t="${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.clickCarouselPreButtonTag}}">${_e}</div>`}</div><div slot="next-flipper">${Ut.qy`<div class="next-fliper" role="button" @click="${t=>t.onFlipperClick(!0)}" aria-label=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.nextFlipperText}} title=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.nextFlipperText}} data-t="${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.clickCarouselNextButtonTag}}">${_e}</div>`}</div><div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.JC.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.K)("topSitesContainer")}>${Ut.qy`${(0,Wt.ux)(Ie,Se)}`}</div></div></msft-stripe><div class="top-sites ${t=>t.twoRowSitesClassName}"><div class="sites">${Ut.qy`${(0,Wt.ux)(t=>t.topSitesPlaceHolders,xe)}`}</div></div>`,Re=Ut.qy`<div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.JC.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.K)("topSitesContainer")}>${Ut.qy`${(0,Wt.ux)(Ie,Se)}`} ${Ut.qy`${(0,Wt.ux)(t=>t.topSitesPlaceHolders,xe)}`}</div></div>`,Ee=Ut.qy`<div class="root ${t=>t.extraAddedSitesClassName} ${t=>t.className}  ${t=>t.moveUpward?"move-upward":""}" id="${R.JC.topSitesClassSelector}" ${(0,Bt.K)("topSitesRoot")}>${(0,Lt.z)(t=>t.config.enableCarouselTopSite,Me)} ${(0,Lt.z)(t=>!t.config.enableCarouselTopSite,Re)}</div><div ${(0,Bt.K)("dialogRoot")}>${(0,Lt.z)(t=>t.isAddDialogOpen,Ce)} ${(0,Lt.z)(t=>t.topSiteAddedSuccessfully,Ut.qy`<div class="top-site-add-success" aria-live="polite">${t=>t.lastAddedTopSite} added successfully</div>`)} ${(0,Lt.z)(t=>t.isEditDialogOpen,ke)} ${(0,Lt.z)(t=>t.isActionMenuOpen,Ut.qy`<div data-t=${t=>t.topsiteItemContainerTelemetry()}><msn-actions-menu id="actions-menu" :referrerButton=${t=>t.activeContextMenuButtonElement} class="long-width-menu" :menuItems=${t=>{var e;return null===(e=t.actionsMenuProps)||void 0===e?void 0:e.menuItems}} ${(0,Bt.K)("topSiteActionsMenu")} @dismiss-menu=${t=>t.isActionMenuOpen=!1} :isGlyphUrlsPicture=${!0} data-t=${t=>t.actionsMenuTelemetry()}></msn-actions-menu></div>`)}<div ${(0,Bt.K)("toastContainer")} class="toast-root">${(0,Lt.z)(t=>"undo"===t.currentToastTag,$e)} ${(0,Lt.z)(t=>"pin"===t.currentToastTag,Ae)}</div></div>`,Fe=Ut.qy` ${(0,Lt.z)(t=>t.isRuby,le,Ee)}
`;class De{constructor(t,e){this.onTouchStart=()=>{this.sortableService&&this.sortableService.destroy(),this.sortableService=null,document.addEventListener("mousemove",this.onMouseMove)},this.onMouseMove=()=>{this.initializeService(),document.removeEventListener("mousemove",this.onMouseMove)},this.onUnloadPage=()=>{this.clearTopsiteByUnpinnedSites(),this.clearUnpinStorage()},this.component=t,this.container=e.container,this.disableDragDrop=e.disableDragDrop,this.webStorage=(0,p.Lg)(),this.bindEvents()}bindEvents(){window.addEventListener("beforeunload",this.onUnloadPage),document.addEventListener("touchstart",this.onTouchStart),document.addEventListener("mousemove",this.onMouseMove)}unBindEvents(){window.removeEventListener("beforeunload",this.onUnloadPage),document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("mousemove",this.onMouseMove)}getDataFromStorage(t){try{const e=this.webStorage.getItem(t);if(e){return JSON.parse(e)}}catch(t){Dt.YT.sendAppErrorEvent({...O.eFv,message:"Cannot read/write storage for topsite drag drop service",pb:{...O.eFv.pb,customMessage:`Cannot get drag drop service data, msg: ${t.message||JSON.stringify(t)}`}})}}saveDataToStorage(t,e){try{this.webStorage.setItem(t,JSON.stringify(e))}catch(t){Dt.YT.sendAppErrorEvent({...O.eFv,message:"Cannot read/write storage for topsite drag drop service",pb:{...O.eFv.pb,customMessage:`Cannot save data to topsites, msg: ${t.message||JSON.stringify(t)}`}})}}reorderItems(t,e,n){Array.isArray(t)&&t.splice(e,0,t.splice(n,1)[0])}getValidTopSitesFromStorageData(){const t=this.getDataFromStorage(R.fe)||{},e=(t.data??[]).filter(t=>t.slot>=0).sort((t,e)=>t.slot-e.slot).reduce((t,e)=>"rid"in e||"url"in e||"faviconUrl"in e?((0===t.length||t[t.length-1].slot!==e.slot)&&t.push(e),t):t,[]);return{...t,data:e}}getFixedTopSites(){const{data:t}=this.getValidTopSitesFromStorageData();return t||[]}getTopSites(t,e){let n=t;const{data:i}=this.getValidTopSitesFromStorageData();if(!i)return t;const r=i.filter(t=>t.slot<e),o=(0,Ot.A)(t,r,"url");return n=[...(0,Ft.q)(o,r)],n=n.filter(t=>t).slice(0,e),n}removeTopSiteFromStorage(t,e){const n=this.getDataFromStorage(t)||{},i=n.data;i&&(n.data=i.filter(t=>t.rid!==e.rid),this.saveDataToStorage(t,n))}clearUnpinStorage(){this.saveDataToStorage(R.ve,{})}clearTopsiteByUnpinnedSites(){const t=(this.getDataFromStorage(R.ve)||{}).data;t&&t.forEach(t=>{this.removeTopSite(t)})}addTopSite(t,e){let n=this.getValidTopSitesFromStorageData(),i=n.data;if(i||(i=[],n={data:i}),e){i.filter(e=>e.rid!==t.rid&&e.slot>=Math.min(t.fromIndex,t.toIndex)&&e.slot<=Math.max(t.fromIndex,t.toIndex)).forEach(e=>t.fromIndex>t.toIndex?e.slot++:e.slot--)}const r=i.find(e=>e.rid===t.rid);r?Object.assign(r,t):i.push(t),n.data=(0,Nt.A)(i,"rid"),this.saveDataToStorage(R.fe,n),this.removeUnpinnedTopSite(t)}removeTopSite(t){this.removeTopSiteFromStorage(R.fe,t)}addUnpinnedTopSite(t){let e=this.getDataFromStorage(R.ve)||{},n=e.data;n||(n=[],e={data:n}),n.push(t),this.saveDataToStorage(R.ve,e)}removeUnpinnedTopSite(t){this.removeTopSiteFromStorage(R.ve,t)}updateTopSites(t){const e=this.getValidTopSitesFromStorageData(),n=e.data;if(!n)return;const i=n.find(e=>e.rid===t.rid);i&&Object.assign(i,t),this.saveDataToStorage(R.fe,e)}async initializeService(){if(this.sortableService||this.disableDragDrop)return;let t;if(t=this.container instanceof Promise?await this.container:this.container,!t)return;const{Sortable:e}=await n.e("node_modules_sortablejs_modular_sortable_esm_js").then(n.bind(n,26732)),i=new Image;i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",this.sortableService=e.create(t,{animation:150,chosenClass:"drag-chosen",dragClass:"drag-dragged",delay:100,touchStartThreshold:5,delayOnTouchOnly:!0,filter:".drag-locked",setData:t=>{t.setDragImage(i,0,0)},onMove:t=>{if(t.related||t.dragged)return!t.related.classList.contains("drag-locked")&&!t.dragged.classList.contains("drag-locked")&&(t.related.classList.add("drag-chosen__no-hover"),!0)},onEnd:e=>{var n;const{oldIndex:i,newIndex:r}=e;null===(n=Array.from(t.children))||void 0===n||n.forEach(t=>{var e;null===(e=t.classList)||void 0===e||e.remove("drag-chosen__no-hover")});const o=this.component.topSites;if(o&&0!==o.length&&-1!==i&&-1!==r&&i!==r){var s;Dt.YT.addOrUpdateTmplProperty("tpsdrag","1");if(!this.component.getUserSelectedSetting())return;const t={...o[i],slot:r,fromIndex:i,toIndex:r,dragDropType:1};this.addTopSite(t,!0);const n=null===(s=this.component.$fastController.subscribers)||void 0===s?void 0:s.topSites;if(n){const t=[...this.component.topSites];this.reorderItems(t,r,i);let o=[];if(n.spillover)o=n.spillover;else{const{sub1:t,sub2:e}=n;o=[t,e].filter(t=>t)}const s=o.filter(t=>t.subject===Ie)[0];if(s){const t=s.sub1.views,n=t[i].firstChild.parentNode;if(r<i)n.insertBefore(t[r].firstChild,e.item.nextSibling),n.insertBefore(t[i].firstChild,e.item),n.insertBefore(t[i].lastChild,e.item.nextSibling);else{const o=t[r+1];o&&n.insertBefore(o.firstChild,e.item.nextSibling),n.insertBefore(t[i].firstChild,e.item),n.insertBefore(t[i].lastChild,e.item.nextSibling)}this.reorderItems(t,r,i),this.component.getOrUpdateTopSites()}}Dt.YT.sendActionEvent(e.item)}},onChange:t=>{this.component.setActiveTopSiteElement(t.item)}})}destroy(){this.sortableService&&this.sortableService.destroy(),this.sortableService=null,this.unBindEvents()}}var Oe=n(52088),Ne=n(26560);const Ue="TSNP1.topsites";class Le{constructor(){try{this.storage=window.localStorage}catch(t){}}write(t,e){if(this.storage)try{this.storage[t]=e}catch(t){}}writeJsonKey(t,e){return this.write(t,JSON.stringify(e))}readJsonKey(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=null===(e=this.storage)||void 0===e?void 0:e[t];try{return i?JSON.parse(i):n}catch(t){return(0,L.c_)(t,O.FeD,"Unable to parse local JSON top sites data"),n}}getTopSites(){return Be(this.readJsonKey(Ue)||[],!0)}writeTopSites(t){this.writeJsonKey(Ue,t)}}function Be(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],i=t.filter((t,e)=>!(null==t||!t.url)||(n.push({i:e,reason:t?"Missing URL":"Empty site"}),!1));return n.length&&(0,L.vV)(O.JN4,"Skipped some invalid top site data"+(e?" from local storage":""),void 0,{skippedSites:n}),i}var We,He,Ve;function ze(t,e){var n;null===(n=window.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n||n.initiatePreload(t,e)}function je(t){var e;return null!==(e=window.chrome)&&void 0!==e&&null!==(e=e.ntpSettingsPrivate)&&void 0!==e&&e.initiatePreload&&t?t.includes("msNewTabPageTriggerForPrerender2")?"prerender":t.includes("msNewTabPageTriggerForPrefetch")?"prefetch":null:null}!function(t){t.PrerenderAndPreconnect="msNewTabPageTriggerForPrerender2",t.Prefetch="msNewTabPageTriggerForPrefetch"}(We||(We={})),function(t){t.Idle="idle",t.HoverWaiting="hover_waiting",t.Preconnected="preconnected",t.Prefetched="prefetched",t.Prerendering="prerendering"}(He||(He={})),function(t){t.Prerender="prerender",t.Prefetch="prefetch"}(Ve||(Ve={}));class qe{constructor(t,e,n,i,r,o,s){this.state="idle",this.hoverTimer=null,this.boundMouseLeave=this.handleMouseLeave.bind(this),this.boundMouseDown=this.handleMouseDown.bind(this),this.boundMouseUp=this.handleMouseUp.bind(this),this.element=t,this.url=e,this.mode=n,this.prefetchEnabled=i,this.preconnectDelayMs=r,this.prefetchDelayMs=o,this.onDestroy=s}reset(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.state="idle"}handleMouseEnter(){this.reset(),this.state="hover_waiting",this.element.addEventListener("mouseleave",this.boundMouseLeave),this.element.addEventListener("mousedown",this.boundMouseDown),this.element.addEventListener("mouseup",this.boundMouseUp),"prerender"===this.mode?this.hoverTimer=window.setTimeout(()=>{"hover_waiting"===this.state&&(this.state="preconnected",ze("PRECONNECT",this.url))},this.preconnectDelayMs):this.hoverTimer=window.setTimeout(()=>{"hover_waiting"===this.state&&(this.state="prefetched",ze("PREFETCH",this.url))},this.prefetchDelayMs)}handleMouseLeave(){var t;"prerendering"===this.state&&(null===(t=window.chrome)||void 0===t||null===(t=t.ntpSettingsPrivate)||void 0===t||t.cancelPrerender()),this.cleanup()}handleMouseDown(){"prerender"===this.mode&&(this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.state="prerendering",this.prefetchEnabled&&ze("PREFETCH",this.url),ze("PRERENDER",this.url))}handleMouseUp(){this.cleanup()}cleanup(){this.element.removeEventListener("mouseleave",this.boundMouseLeave),this.element.removeEventListener("mousedown",this.boundMouseDown),this.element.removeEventListener("mouseup",this.boundMouseUp),this.reset(),this.onDestroy()}destroy(){this.cleanup()}}class Ge{static isEnabled(t){return null!==je(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;this.elementStates=new Map;const i=je(t);i&&(this.mode=i,this.prefetchEnabled=!(null==t||!t.includes("msNewTabPageTriggerForPrefetch")),this.preconnectDelayMs=e,this.prefetchDelayMs=n)}getOrCreateState(t,e){let n=this.elementStates.get(t);return n?n.url!==e&&(n.url=e,n.reset()):(n=new qe(t,e,this.mode,this.prefetchEnabled,this.preconnectDelayMs,this.prefetchDelayMs,()=>this.elementStates.delete(t)),this.elementStates.set(t,n)),n}startTrackingElementForPreload(t,e){t&&e&&this.getOrCreateState(t,e).handleMouseEnter()}reset(){this.elementStates.forEach(t=>t.destroy()),this.elementStates.clear()}}var Je=n(21481),Ke=n(77246),Qe=n(27261),Xe=n(35849),Ye=n(54761),Ze=n(69118);class tn extends Je.U{constructor(){var t;super(...arguments),t=this,this.dataHelper=new Le,this.hoverTelemtryTimer=null,this.linkTarget="_self",this.enableQuickBrief=!1,this.widthPerPage=92,this.carouselPageIndex=0,this.carouselColsPerSlide=0,this.scrollDirection=window.document.dir===Et.O.rtl?-1:1,this.darkModeQuery=window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)"),this.isDarkMode=this.darkModeQuery.matches,this.isRuby=E.gR.isRuby,this.canShowCodexBingUpsellByPolicy=!1,this.initCopilotInTopSitesTelemetry=()=>{const t=this.copilotTopSiteIndex??0,e=`copilotTopSiteIndex${t}`;null===Dt.YT||void 0===Dt.YT||Dt.YT.addOrUpdateTmplProperty(e,"1");const n=`M365CopilotAppInTopSites_${t}`;this.copilotInTopSitesTelemetryTag=(0,W.g)(n,{type:B.b5.TopSites},B.MS.Open,B.MJ.ActionButton,n,{destinationUrl:this.copilotTopSiteUrl}).getMetadataTag()},this.extraAddedSitesClassName="",this.topSitesEndMarginUsedPadding=0,this.actionMenuOpenTime=void 0,this.isActionMenuOpen=!1,this.isEditDialogOpen=!1,this.isUndoToastOpen=!1,this.isPinToastOpen=!1,this.preloadManager=null,this.topSiteMapper=new Map,this.topSites=[],this.currentToastTag=void 0,this.toastExpirationTimerHost={currentToastTimerHandle:null},this.moveUpward=!1,this.topSiteAddedSuccessfully=!1,this.addTopSiteDialogListener=!1,this.editTopSiteDialogListener=!1,this.numberPromotedSites=0,this.disablePromoteTopSites=!1,this.isMinVisitAffiliateSitesFeatureActive=!1,this.appendGoogleSitesOnNTP=!1,this.blockGoogleTopSitesExp=!1,this.isDisableDefaultInProgress=!1,this.getUserSelectedSetting=()=>this.userSelectedSetting,this.setActiveTopSiteElement=t=>{this.activeTopSiteElement=t},this.renderTopSiteStartAndEnd=!1,this.canLoadHoverElements=!1,this.closeFlyouts=(0,l.P)(()=>{this.isActionMenuOpen&&this.toggleActionMenu(null),this.isAddDialogOpen&&this.toggleAddDialog(),this.isEditDialogOpen&&this.toggleEditDialog()},400),this.closeToast=function(){var e,n,i;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.currentToastTag=null,r&&(0,d.YJ)(d.xV.toast,!1),t.isAddDialogOpen&&t.toggleAddDialog(),t.isEditDialogOpen&&t.toggleEditDialog(),null===(e=t.activeContextMenuButtonElement)||void 0===e||e.focus(),null===(n=t.toastContainer)||void 0===n||n.removeEventListener("focus",t.handleToastFocus,!0),null===(i=t.toastContainer)||void 0===i||i.removeEventListener("blur",t.handleToastBlur,!0)},this.generateActionsMenuProps=async()=>({menuItems:await this.getActionMenuItem(),onDismiss:this.toggleActionMenu}),this.getActionMenuItem=async()=>{var t,e,i,r,o,s;const a=(null===(t=this.activeTopSiteItem)||void 0===t?void 0:t.url)===this.copilotTopSiteUrl,c=this.activeTopSiteItem&&!a&&[-5,-6].includes(this.activeTopSiteItem.tileSource),u=this.activeTopSiteItem&&!a&&(-8===this.activeTopSiteItem.tileSource||-7===this.activeTopSiteItem.tileSource),l=f.T3.CurrentMarket===h.DX.ENUS,{checkTopsitesTail:d,findActiveSiteIndex:m,pinAction:g,pinToTaskBarHandler:v,togglePinToast:w}=await n.e("experiences_spotlight-card-wc_dist_ContentTemplates_OnThisDay_OnThisDayCard_template_js-exper-6a4990").then(n.bind(n,19649)),y={id:"Remove",title:this.strings.removeLabelText,glyph:$,onClick:t=>{d(m(this.activeTopSiteItem,this.topSites),this.dragDropService,this.topSites),"https://www.office.com"==this.activeTopSiteItem.url&&(this.deletedUrlLookup[this.activeTopSiteItem.url]=!0,this.webStorage.setObject("removedTopSiteUrls",this.deletedUrlLookup)),-6!=this.activeTopSiteItem.tileSource&&-7!=this.activeTopSiteItem.tileSource||(this.numberPromotedSites--,(0,p.Lg)().setItem(R.Ze,this.numberPromotedSites.toString())),this.dragDropService&&"slot"in this.activeTopSiteItem&&this.dragDropService.removeTopSite(this.activeTopSiteItem),(0,At.$G)(t,this.getOrUpdateTopSites,this.activeTopSiteItem,this.ntpApiHandle,this.toggleUndoToast.bind(this,!0),!0),this.onMostVisitedHandler()},telemetryTag:null===(e=this.topSiteActionTelemetryContext)||void 0===e||null===(e=e.removeTopSite)||void 0===e?void 0:e.getMetadataTag()},b={id:"Rename",title:this.strings.renameLabelText,glyph:A,onClick:t=>{this.toggleEditDialog(t)},telemetryTag:null===(i=this.topSiteActionTelemetryContext)||void 0===i||null===(i=i.editDialog)||void 0===i?void 0:i.getMetadataTag()},S=[b,y];if(c){var x;const t={id:"Hide",title:l?this.strings.hidePromotedCuratedLabelText:this.strings.hideCuratedLabelText,glyph:I,onClick:t=>{this.disableCurated()},telemetryTag:null===(x=this.topSiteActionTelemetryContext)||void 0===x||null===(x=x.removeCurated)||void 0===x?void 0:x.getMetadataTag()};S.push(t)}if(u){var C;const t={id:"Hide",title:l?this.strings.hideSponsoredCuratedLabelText:this.strings.hideCuratedLabelText,glyph:I,onClick:t=>{this.disableCurated()},telemetryTag:null===(C=this.topSiteActionTelemetryContext)||void 0===C||null===(C=C.removeCurated)||void 0===C?void 0:C.getMetadataTag()};S.push(t)}const k={id:"Pin",title:1===(null===(r=this.activeTopSiteItem)||void 0===r?void 0:r.dragDropType)?this.strings.unpinSite:this.strings.pinSite,glyph:1===(null===(o=this.activeTopSiteItem)||void 0===o?void 0:o.dragDropType)?_:P,onClick:t=>{g(this.dragDropService,this)},telemetryTag:null===(s=this.topSiteActionTelemetryContext)||void 0===s||null===(s=s.pinningTopSiteInQuickLinks)||void 0===s?void 0:s.getMetadataTag()};if(S.push(k),this.isRuby)return[b,y];if(this.config.enablePinningTopSite){var T;const t={id:"PinToTaskBar",title:this.strings.pinToTaskBar,glyph:M,onClick:t=>{v(this.activeTopSiteItem),w(this)},telemetryTag:null===(T=this.topSiteActionTelemetryContext)||void 0===T||null===(T=T.pinningTopSite)||void 0===T?void 0:T.getMetadataTag()};S.push(t)}return S},this.getOrUpdateTopSites=()=>{var t;this.topSites=this.getTopSites(),this.currentTilesNumber=(null===(t=this.topSites)||void 0===t?void 0:t.length)??0,this.topSitesPlaceHolders=this.getTopSitesPlaceHolders()},this.handleClick=t=>{this.isActionMenuOpen&&(!this.topSiteActionsMenu||this.topSiteActionsMenu.contains(t.target)||this.activeContextMenuButtonElement.contains(t.target)||!t.composedPath()||t.composedPath().includes(this.activeContextMenuButtonElement)||this.toggleActionMenu(this.activeTopSiteItem,t)),this.topSites&&this.topSites.length>0&&this.ShowPinningWizardCampaign()},this.lowEndDeviceHandler=t=>{var e;this.isLowEndDevice=(null==t||null===(e=t.detail)||void 0===e?void 0:e.isLowEndDevice)??!1},this.onMostVisitedHandler=()=>{this.getOrUpdateTopSites()},this.toggleActionMenu=async(t,e)=>{var n;(this.activeTopSiteElement=!this.isActionMenuOpen&&e?e.currentTarget.parentElement.parentElement:this.activeTopSiteElement,this.activeTopSiteItem=t,this.isActionMenuOpen)?(window.removeEventListener("scroll",this.closeFlyouts),this.actionsMenuProps=void 0):(this.actionMenuOpenTime=null===(n=performance)||void 0===n?void 0:n.now(),window.addEventListener("scroll",this.closeFlyouts),e&&e.currentTarget&&Oe.W.addElement(e.currentTarget),this.topSiteActionTelemetryContext&&this.activeTopSiteItem&&(this.topSiteActionTelemetryContext=((t,e,n)=>{const{tileSourcePrefix:i,isCuratedOrPromoted:r}=kt(e),{removeTopSite:o,editDialog:s,closeEditDialog:a,saveEdit:c,cancelEdit:u,turnOffPreview:l,turnOnPreview:d,pinningTopSiteInQuickLinks:f,undoRemoveTopSite:h,closeRemoveToast:p,pinningTopSite:m}=t;o.contract.name=`${i}_${tt}`,h.contract.name=`${i}_${et}`,p.contract.name=`${i}_${Z}`,s.contract.name=`${i}_${rt}`,a.contract.name=`${i}_${at}_${nt}`,c.contract.name=`${i}_${at}_${ot}`,u.contract.name=`${i}_${at}_${it}`,l.contract.name=`${i}_${ft}`,d.contract.name=`${i}_${dt}`,m.contract.name=`${i}_${mt}`,f.contract.name=`${i}_${ht}`;const g=!e.pinActionButtonTelemetryTag;return n&&(f.contract.name=g?`${i}_${mt}`:f.contract.name=`${i}_${pt}`),r&&(o.contract.content.headline=`${xt.remove}_${e.title}`,h.contract.content.headline=`${xt.undoRemove}_${e.title}`,p.contract.content.headline=`${xt.close}_${e.title}`,s.contract.content.headline=`${xt.rename}_${e.title}`,a.contract.content.headline=`${xt.close}_${e.title}`,c.contract.content.headline=`${xt.save}_${e.title}`,u.contract.content.headline=`${xt.cancel}_${e.title}`,l.contract.content.headline=`${xt.turnOffPreview}_${e.title}`,d.contract.content.headline=`${xt.turnOnPreview}_${e.title}`,m.contract.content.headline=`${xt.topsiteTaskbarpin}_${e.title}`,f.contract.content.headline=`${xt.pin}_${e.title}`,n&&(f.contract.content.headline=g?`${xt.pin}_${e.title}`:`${xt.unpin}_${e.title}`),o.contract.destinationUrl=`${e.url}`,h.contract.destinationUrl=`${e.url}`,p.contract.destinationUrl=`${e.url}`,s.contract.destinationUrl=`${e.url}`,a.contract.destinationUrl=`${e.url}`,c.contract.destinationUrl=`${e.url}`,u.contract.destinationUrl=`${e.url}`,l.contract.destinationUrl=`${e.url}`,d.contract.destinationUrl=`${e.url}`,m.contract.destinationUrl=`${e.url}`,f.contract.destinationUrl=`${e.url}`),t})(this.topSiteActionTelemetryContext,this.activeTopSiteItem,this.isRuby)),this.activeContextMenuButtonElement=e.currentTarget,this.generateActionsMenuProps().then(t=>{this.actionsMenuProps=t}));this.isActionMenuOpen=!this.isActionMenuOpen,(0,d.YJ)(d.xV.actionMenuOpen,this.isActionMenuOpen)},this.toggleAddDialog=t=>{const e=!this.isAddDialogOpen&&t?t.currentTarget.parentElement.parentElement:null;if(this.isAddDialogOpen)window.removeEventListener("scroll",this.closeFlyouts);else{window.addEventListener("scroll",this.closeFlyouts),t&&t.currentTarget&&Oe.W.addElement(t.currentTarget);const n=document.dir===Et.O.ltr,i=this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0?R.wA:R.j6,r=(0,At.Rm)(e,this.topSitesRoot,i,document.documentElement.clientWidth,document.documentElement.clientHeight,n);this.topSiteAddDialogContainerPosition=r,this.addTopSiteButtonRef=null==t?void 0:t.currentTarget}this.isAddDialogOpen=!this.isAddDialogOpen,this.isAddDialogOpen||(this.isEditDialogOpen&&this.toggleEditDialog(),"undo"===this.currentToastTag&&this.toggleUndoToast(),this.addTopSiteButtonRef&&window.setTimeout(()=>this.addTopSiteButtonRef.focus(),0)),(0,d.YJ)(d.xV.addTopSite,this.isAddDialogOpen),this.topSiteAddDialog.newOrUpdatedTopSite={name:"",url:""}},this.toggleEditDialog=t=>{if(this.isEditDialogOpen)window.removeEventListener("scroll",this.closeFlyouts);else{window.addEventListener("scroll",this.closeFlyouts),t&&t.currentTarget&&Oe.W.addElement(t.currentTarget),this.topSiteEditDialog.newOrUpdatedTopSite={name:this.activeTopSiteItem.title,url:this.activeTopSiteItem.url},this.topSiteEditDialog.nameInputBox.value=this.activeTopSiteItem.title;const e=document.dir===Et.O.ltr,n=(0,At.Rm)(this.activeTopSiteElement,this.topSitesRoot,R.uR,document.documentElement.clientWidth,document.documentElement.clientHeight,e);this.topSiteEditDialogContainerPosition=n}this.isEditDialogOpen=!this.isEditDialogOpen,this.isEditDialogOpen||(this.isAddDialogOpen&&this.toggleAddDialog(),"undo"===this.currentToastTag&&this.toggleUndoToast()),(0,d.YJ)(d.xV.editTopSite,this.isEditDialogOpen)},this.updateToastContainer=()=>{const t=this.topSitesRoot;if(!t)return!1;const e=t.getBoundingClientRect(),n=`top: ${Math.ceil(e.bottom)+window.scrollY+R.gy}px`;return this.toastContainer.setAttribute("style",n),this.toastContainer.addEventListener("focus",this.handleToastFocus,!0),this.toastContainer.addEventListener("blur",this.handleToastBlur,!0),!0},this.handleToastFocus=t=>{this.toastContainer.contains(t.target)&&((0,At.Cd)(this.toastExpirationTimerHost),window.addEventListener("keydown",this.handleToastKeyDown,!0))},this.handleToastBlur=t=>{this.toastContainer.contains(t.relatedTarget)||((0,At.Br)(this.toastExpirationTimerHost),window.removeEventListener("keydown",this.handleToastKeyDown,!0))},this.handleToastKeyDown=t=>{this.toastContainer&&"Escape"===t.key&&this.closeToast()},this.toggleUndoToast=t=>{(t||"undo"!==this.currentToastTag)&&this.toastContainer&&this.updateToastContainer()?(this.isActionMenuOpen=!1,this.undoToast=this.generateUndoToastProps(),Oe.W.addElement(this.toastContainer),this.currentToastTag="undo",(0,At.Jh)(this.toastExpirationTimerHost,this.undoToast.notificationDurationMs,this.closeToast),window.setTimeout(()=>{this.undoButton.focus()},100)):this.closeToast(),(0,d.YJ)(d.xV.toast,"undo"===this.currentToastTag)},this.saveTopSitesTP1Data=()=>{this.dataHelper.writeTopSites(this.topSites)},this.onBreakpointCallback=t=>{this.columnArrangement=t,this.carouselColsPerSlide=R.A[t],this.carouselPageIndex=0,this.scrollToPosition(),this.reRenderTopsite()},this.getCurrentLayoutConfig=()=>{var t;const e=null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.selectedFeedDisplaySetting,n=this.userSelectedSetting&&"off"!==this.userSelectedSetting?this.userSelectedSetting:"onerow",i=this.tilesxColxRowsMap[n];var r;if(!i)return Dt.YT.sendAppErrorEvent({...O.b04,message:"Can't find layout config for topsites",pb:{...O.b04.pb,userSelectedSetting:this.userSelectedSetting,chromiumPageSettingStatePresent:!!this.chromiumPageSettingState,selectedQuickLinksDisplaySetting:null===(r=this.chromiumPageSettingState)||void 0===r?void 0:r.selectedQuickLinksDisplaySetting}}),null;const o=i[this.columnArrangement];return o[e]??o.default},this.onResize=()=>{this.closeFlyouts()},this.themeChanged=t=>{this.isDarkMode=!(null==t||!t.matches)}}get displayCopilotInTopSites(){return this.canShowCodexBingUpsellByPolicy&&void 0!==this.copilotTopSiteIndex&&!!this.copilotTopSiteUrl}async experienceConnected(){var t,e,n,i;(0,N.ZF)().TopSitesConnected=null===(t=performance)||void 0===t?void 0:t.now();const r=!m.Rb.IsPrerender;if(this.wpoConfig=function(){try{const t=Ze.h.getWpoTreatmentsWithType(Ye.Ar.topSitesPromotion),e=Ze.h.getWpoTreatmentsWithType(Ye.Ar.topSites),n=[...t||[],...e||[]];if((null==n?void 0:n.length)>0&&n[0].properties)return n[0].properties}catch(t){const e="Error in getting wpo topSites config";(0,L.vV)(O.rSI,e,`error:${t}`)}return null}(),this.isRuby&&this.config.curatedSitesRuby&&(this.config.curatedSites=this.config.curatedSitesRuby),this.wpoConfig){var o,s,a;const t=(null===(o=this.wpoConfig.recommendedSites)||void 0===o?void 0:o.filter(t=>!t.isSponsored))??[];if(this.config={...this.config,...this.wpoConfig,recommendedSites:t},Dt.YT.addOrUpdateTmplProperty("wpoRecEn",this.wpoConfig.enableRecommendedSites?"1":"0"),Dt.YT.addOrUpdateTmplProperty("wpoRecTtls",(null==t||null===(s=t.map(t=>t.title))||void 0===s?void 0:s.toString())||"X"),(null===(a=this.wpoConfig.recommendedSites)||void 0===a?void 0:a.length)>0){const t=(0,At.Jo)(this.wpoConfig.recommendedSites,this.config.curatedSites);this.config={...this.config,curatedSites:t}}}var c;(r&&(this.topSites=this.dataHelper.getTopSites()),this.isTP1DataUsed=r&&this.topSites.length>0,this.isTP1DataUsed)?(await this.waitForSelectedQuickLinksReady(),this.chromiumPageSettingState=(0,Xe.zP)(C.h$).getCurrentState(),this.userSelectedSetting=this.chromiumPageSettingState.selectedQuickLinksDisplaySetting||this.selectedQuickLinksDisplaySetting,(0,N.ZF)().TopSitesConnectedFirstGetTopSites=null===(c=performance)||void 0===c?void 0:c.now(),(0,Ke.S)()&&(0,_t.e1)().then(()=>(0,F.B)(11,m.Rb.IsPrerender))):await this.subscribeToChromiumPageState();this.columnArrangement=(0,y.TU)().currentColumnArrangement,this.numberPromotedSites=this.config.promoteCurated;const u=(0,p.Lg)().getItem(R.Ze),l=Number(null==u?void 0:u);if(this.disablePromoteTopSites=!isNaN(l)&&0===l,!this.disablePromoteTopSites&&this.numberPromotedSites>l&&(this.numberPromotedSites=l),this.enableSixteenTopSites?(this.maxTiles=R.Mb,this.extraAddedSitesClassName="tworows"===this.userSelectedSetting&&this.columnArrangement>="c4"?null:R.mk.tenSites):(this.maxTiles=R.j5,this.extraAddedSitesClassName=R.mk.eightSites),this.config.enableOneColumn&&this.columnArrangement===b.j1.c1&&(this.extraAddedSitesClassName=R.mk.sixSites),this.topSitesLayoutDataConnector=(0,Xe.zP)(C.OJ),(0,Rt.vQ)(C.OJ,t=>{this.topSitesLayoutState=t}),null===(e=this.topSitesLayoutDataConnector)||void 0===e||null===(n=e.updateMaxTiles)||void 0===n||n.call(e,this.maxTiles),this.pageSettingsConnector=(0,Xe.zP)(C.h$),this.copilotTopSiteIndex=this.config.copilotTopSiteIndex??void 0,this.copilotTopSiteUrl=this.config.copilotTopSiteUrl??void 0,void 0!==this.copilotTopSiteIndex&&!this.isRuby){var d;const t=null===(d=this.pageSettingsConnector)||void 0===d?void 0:d.getCurrentState();this.canShowCodexBingUpsellByPolicy=!(0,f.rA)().isAadAccountUser||((null==t?void 0:t.isCodexBingUpsellEnabledByPolicy)??!1)}if(this.displayCopilotInTopSites&&this.initCopilotInTopSitesTelemetry(),this.isTP1DataUsed){const t=this.getCurrentLayoutConfig();t&&(this.maxTiles=t.tile,this.extraAddedSitesClassName=t.class),this.topSites.length>=this.maxTiles&&(this.topSites=this.topSites.slice(0,this.maxActualTile))}const h=window;if(h.chrome&&h.chrome.embeddedSearch&&(this.ntpApiHandle=h.chrome.embeddedSearch.newTabPage),h.chrome&&h.chrome.ntpSettingsPrivate&&(this.ntpSettingsPrivateApiHandle=h.chrome.ntpSettingsPrivate),this.ntpApiHandle&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedHandler),this.minimumTopSites=R.j5-1,!(0,Ke.S)()){this.setAttribute("needs-recreation","");const t=this.getCurrentLayoutConfig();return this.maxTiles=null==t?void 0:t.tile,this.extraAddedSitesClassName=t.class,void this.getOrUpdateTopSites()}var g,v;this.isTP1DataUsed?(this.currentTilesNumber=(null===(g=this.topSites)||void 0===g?void 0:g.length)??0,this.topSitesPlaceHolders=this.getTopSitesPlaceHolders()):(this.getOrUpdateTopSites(),(0,N.ZF)().TopSitesConnectedFirstGetTopSites=null===(v=performance)||void 0===v?void 0:v.now(),(0,Ke.S)()&&(0,_t.e1)().then(()=>(0,F.B)(11,m.Rb.IsPrerender)));this.topSiteAddedSuccessfully=!1,(0,It.KO)(Pt.u.topSites,this),this.processMinimumVisitAffiliateFeatureState(),this.isMinVisitAffiliateSitesFeatureActive&&this.persistMinVisitAffiliateInfo(),this.initCanLoadHoverElements(),this.isDarkMode=!(null===(i=this.darkModeQuery)||void 0===i||!i.matches),this.darkModeQuery.addEventListener("change",this.themeChanged),this.checkTopSitesIcon()}beforeHydration(){this.$fastController.needsHydration=!1,null===Dt.YT||void 0===Dt.YT||Dt.YT.addOrUpdateTmplProperty("ts_try_hydration","1")}async subscribeToChromiumPageState(){const t=new S.e;(0,Rt.vQ)(C.h$,e=>{var n;if(!e.isLoadCompleted)return;t.set(),this.chromiumPageSettingState=e;const i=this.config.enableOpenInNewTab&&e.openInNewTab;if(!this.preloadManager&&this.config.enableEdgePreloadExperiment&&!i&&null!==(n=e.configData)&&void 0!==n&&n.enabledFeatures&&Ge.isEnabled(e.configData.enabledFeatures)&&(this.preloadManager=new Ge(e.configData.enabledFeatures)),e&&e.configData){var r;if(e.configData.enabledFeatures)if(this.blockGoogleTopSitesExp=e.configData.enabledFeatures.includes("msNtpExpBlockTopSitesPromotions"),e.configData.enabledFeatures.includes("msNtpUseGoogleTopSites"))if(this.appendGoogleSitesOnNTP=!0,(null===(r=this.wpoConfig)||void 0===r||null===(r=r.recommendedSites)||void 0===r?void 0:r.length)>0&&this.config.curatedSitesEdgeExp){const t=(0,At.Jo)(this.wpoConfig.recommendedSites,this.config.curatedSitesEdgeExp);this.config.curatedSites=t}else this.config.curatedSites=this.config.curatedSitesEdgeExp??this.config.curatedSites;this.ntpApiVersion=e.configData.apiVersion}const o=e&&e.selectedQuickLinksDisplaySetting;this.enableSixteenTopSites&&this.userSelectedSetting!==o&&(this.userSelectedSetting&&(this.userSelectedSetting=o,"tworows"===this.userSelectedSetting&&(this.maxTiles=R.Mb),this.getOrUpdateTopSites()),this.userSelectedSetting=o),this.chromiumPageSettingLayoutState&&this.chromiumPageSettingLayoutState!=e&&this.reRenderTopsite(),this.chromiumPageSettingLayoutState=e,this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding&&this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding!=this.topSitesEndMarginUsedPadding&&(this.topSitesEndMarginUsedPadding=this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding),Dt.YT.addOrUpdateTmplProperty("tsHideDefault",""+(e.hideDefaultTopSites?1:0)),this.config.enableOpenInNewTab&&(this.linkTarget=e.openInNewTab?"_blank":"_self"),this.isRuby&&(this.isDarkMode=(0,x.ud)())}),window.isSSREnabled&&await t.getResultAsync()}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.dragDropService)||void 0===t||t.destroy(),this.dragDropService=null,window.removeEventListener("resize",this.onResize),window.removeEventListener("mouseup",this.handleClick,!1),window.removeEventListener("LowEndDeviceBkgd",this.lowEndDeviceHandler),this.darkModeQuery.removeEventListener("change",this.themeChanged)}async prerenderRefreshCritical(){return this.initializeTopSitesState()}getApproxTTVRValue(t){const e=(0,N.ZF)();if(e.isSSRCompleted)return e[U.wL+(t||this.getExperienceType())]||e[U.wL+"Complete"]}async shadowDomPopulated(){if(!(0,Ke.S)())return;window.addEventListener("resize",this.onResize),window.addEventListener("mouseup",this.handleClick,!1),window.addEventListener("LowEndDeviceBkgd",this.lowEndDeviceHandler),n.e("experiences_top-sites-edgenext-wc_dist_TopSitesEdgeNextWC_addDialog_js-experiences_top-sites--c06b42").then(n.bind(n,4673)).then(t=>{let{generateTopSiteAddDialogProps:e}=t;this.topSiteAddDialog=e(this.activeTopSiteElement,this)}),n.e("experiences_top-sites-edgenext-wc_dist_TopSitesEdgeNextWC_addDialog_js-experiences_top-sites--c06b42").then(n.bind(n,13232)).then(t=>{let{generateTopSiteEditDialogProps:e}=t;this.topSiteEditDialog=e(this.activeTopSiteElement,this)}),this.config.enableCarouselTopSite&&(this.carouselProps=this.generateCarouselProps()),(0,y.TU)().subscribe(this.onBreakpointCallback),this.topSitesContainerPromise=new Promise(t=>this.topSitesContainerPromiseResolver=t),this.dragDropService||this.initializeDragDropService();const t=this.getOverrideIconList();if(t&&t.length>0&&t.forEach(t=>{t.identifierHosts.forEach(e=>{this.topSiteMapper.set(e,t.faviconUrl??c.getImageUrl(t.faviconId))})}),this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0&&(this.config.suggestedTopSiteList=((t,e)=>{if(!t)return e;for(const t of e){const e=(0,W.l)(`${lt}_${ct}_${st}`,{headline:xt.suggestedLink,type:B.b5.TopSites},B.MS.Save,B.MJ.ActionButton,Ct);t.suggestedLinkTelemetryTag=e.getMetadataTag()}return e})(this.telemetryObject,this.config.suggestedTopSiteList)),this.initializeTopSitesState(),this.isTP1DataUsed?window.requestAnimationFrame(()=>{this.markVisuallyReady(),Dt.YT.observeSingleElement(this.topSitesRoot)}):window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.markVisuallyReady(),Dt.YT.observeSingleElement(this.topSitesRoot)})}),this.columnArrangement=(0,y.TU)().currentColumnArrangement,this.renderTopSiteStartAndEnd=!0,this.carouselColsPerSlide=R.A[this.columnArrangement],this.isTP1DataUsed){var e;const t=(null===(e=this.topSites)||void 0===e?void 0:e.length)??0;(0,g.E)(()=>{var e;this.subscribeToChromiumPageState(),this.getOrUpdateTopSites();((null===(e=this.topSites)||void 0===e?void 0:e.length)??0)-t>1&&(0,L.vV)(O.N1,"TopSites don't get enough data from TP1",void 0,{...O.N1.pb,tp1DataLength:this.topSites.length,maxTiles:this.maxTiles,columnArrangement:this.columnArrangement,shouldSampleErrorsForTreatement1:!0})})}else this.reRenderTopsite();this.registerElements(),window.addEventListener("beforeunload",this.saveTopSitesTP1Data,{once:!0})}registerElements(){if((0,f.rA)().ClarityEnabled){var t,e;const n=null===(t=this.shadowRoot)||void 0===t||null===(e=t.getElementById)||void 0===e?void 0:e.call(t,R.JC.topSitesId);n&&n.setAttribute("data-clarity-mask","true")}this.topSitesContainerPromiseResolver(this.topSitesContainer)}quickBriefVisibleChanged(){this.enableQuickBrief=this.quickBriefVisible,this.$fastController.isConnected&&this.reRenderTopsite(!0)}get shouldHidePlaceholders(){var t;return(null===(t=this.config)||void 0===t?void 0:t.qbHideAdd)&&this.quickBriefVisible}get maxActualTile(){return this.shouldHidePlaceholders?this.maxTiles:this.maxTiles-1}get tilesxColxRowsMap(){return this.isRuby?this.config.enable2RowsInRuby?R.YC:R.Bq:this.config.enableCarouselTopSite?R.Ho:this.quickBriefVisible?R.lu:R.Li}getExperienceType(){return k.v$w}get className(){var t,e,n;return this.isLowEndDevice&&"informational"==(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.currentLayout)?this.isDarkMode?R.mk.topSitesDark:R.mk.topSitesLight:this.needDarkThemeIcons?R.mk.topSitesLight:(null!==(e=this.chromiumPageSettingState)&&void 0!==e&&e.imageOfTheDayEnabled||null!==(n=this.chromiumPageSettingState)&&void 0!==n&&n.displayBackgroundImageType)&&!this.showFullPageBlur?this.isDarkMode?R.mk.topSitesDarkOnBackgroundImage:R.mk.topSitesLightOnBackgroundImage:this.isDarkMode?R.mk.topSitesDark:R.mk.topSitesLight}get enableSixteenTopSites(){var t;return!(null===(t=this.chromiumPageSettingState)||void 0===t||!t.ntpPrefOptionApiAvailability)}get twoRowSitesClassName(){var t;return this.selectedQuickLinksDisplaySetting&&"tworows"==this.selectedQuickLinksDisplaySetting?(null===(t=this.topSites)||void 0===t?void 0:t.length)<=this.minimumTopSites?"":R.mk.twoRowSites:""}get topSitesClassName(){return this.isInformationalLayout?"information-layout":""}get isInformationalLayout(){var t;return!("always"!=(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.selectedFeedDisplaySetting))}generateUndoTopSiteHandler(){return this.isDisableDefaultInProgress?(this.disableCurated(),void(this.isDisableDefaultInProgress=!1)):this.dragDropService&&"slot"in this.activeTopSiteItem?(this.dragDropService.addTopSite(this.activeTopSiteItem),this.toggleUndoToast(),void this.getOrUpdateTopSites()):(-6!=this.activeTopSiteItem.tileSource&&-7!=this.activeTopSiteItem.tileSource||(this.numberPromotedSites++,(0,p.Lg)().setItem(R.Ze,this.numberPromotedSites.toString())),(0,At.fc)(this.getOrUpdateTopSites,this.ntpApiHandle,this.activeTopSiteItem.rid,this.activeTopSiteItem.tileSource,this.activeTopSiteItem.url),void this.toggleUndoToast())}generateUndoToastProps(){var t,e;const n=this.activeTopSiteItem.title,i=n.length>20?`${n.substring(0,20)}`:n,r=this.strings.undoRemovedFormat;let o=(0,v.A)(r,i);return this.isDisableDefaultInProgress&&(o=[this.strings.undoDisableDefault]),{closeButtonLabel:this.strings.closeButtonText,closeButtonTelemetryTag:null===(t=this.topSiteActionTelemetryContext)||void 0===t||null===(t=t.closeRemoveToast)||void 0===t?void 0:t.getMetadataTag(),closeHandler:()=>{this.closeToast()},notificationDurationMs:R.QV,removedText:o,undoButtonLabel:this.strings.undoLabelText,undoButtonTelemetryTag:null===(e=this.topSiteActionTelemetryContext)||void 0===e||null===(e=e.undoRemoveTopSite)||void 0===e?void 0:e.getMetadataTag(),undoTopSiteHandler:()=>{this.generateUndoTopSiteHandler()}}}generateCarouselProps(){var t,e,n,i;return{preFlipperText:(null===(t=this.strings)||void 0===t?void 0:t.preFlipper)||"Previous sites",nextFlipperText:(null===(e=this.strings)||void 0===e?void 0:e.nextFlipper)||"Next sites",clickCarouselNextButtonTag:null===(n=this.topSitesTelemetryContext)||void 0===n||null===(n=n.clickCarouselNextButton)||void 0===n?void 0:n.getMetadataTag(),clickCarouselPreButtonTag:null===(i=this.topSitesTelemetryContext)||void 0===i||null===(i=i.clickCarouselPreButton)||void 0===i?void 0:i.getMetadataTag()}}mockTopSites(){return"1"===w._3.getQueryParameterByName("mockTopSites",(0,Qe.iA)())}getOrderedTopSites(){var t,e,n;let i=[];if(this.mockTopSites())return R.$1;if(!(0,Ke.S)())return Array(this.maxActualTile).fill(R.Np).map((t,e)=>({...t,rid:e+1}));var r,o,s,a,u;if(i=(0,At.g0)(this.ntpApiHandle),(this.appendGoogleSitesOnNTP||!this.blockGoogleTopSitesExp&&null!==(r=this.config)&&void 0!==r&&r.appendGoogleSites)&&(i=i.filter(t=>"www.office.com"!==t.domain)),(null!==(o=this.config)&&void 0!==o&&o.appendGoogleSites||null!==(s=this.config)&&void 0!==s&&s.isGoogleTopSitesCtrl)&&!this.blockGoogleTopSitesExp){0===i.filter(t=>"www.office.com"!==t.domain).length&&(Dt.YT.addOrUpdateTmplProperty("no_mv_sites","1"),(0,p.Lg)().setItem("tsAlternate","1"))}if(!this.blockGoogleTopSitesExp&&null!==(a=this.config)&&void 0!==a&&a.appendGoogleSites)if((null===(u=this.wpoConfig)||void 0===u||null===(u=u.recommendedSites)||void 0===u?void 0:u.length)>0&&this.config.curatedSitesCSExp){const t=(0,At.Jo)(this.wpoConfig.recommendedSites,this.config.curatedSitesCSExp);this.config.curatedSites=t}else this.config.curatedSites=this.config.curatedSitesCSExp??this.config.curatedSites;!this.isRuby&&this.config.noAds&&(this.config.curatedSites=this.config.curatedSites.filter(t=>!t.isSponsored)),i=this.removeBlockedSites(i);let l=1;const d=new Map,f=new Set,h=this.numberPromotedSites;let m=h>0&&!this.disablePromoteTopSites;const g=[];this.updateAffiliateAutoAppendTileSource(i);const v=this.getCurrentLayoutConfig(),w=this.shouldHidePlaceholders?v.tile:v.tile-1,y=null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.hideDefaultTopSites;let S=i.length>=w,x=!1;if(!y&&i&&this.config&&(i.length<w||m)&&this.config.curatedSites){c.initializeCuratedSitesFromConfig(this.config,i),i.length+h<w&&m&&(m=!1,S=!1,x=!0);const t=i.length;t>0&&(l=i[t-1].rid+1e3);const e=c.getCurated();if(e.forEach(t=>{t.isSponsored&&f.add(t.url)}),!m){const t=this.dedupeCuratedSitesByTitle(e,i).slice(0,this.maxActualTile-i.length).map(t=>(d.set(l,t),this.mapCuratedSiteToTopsites(l++,t,!1)));i.push(...t)}const n=this.dedupeCuratedSitesByTitle(e,i);n.sort((t,e)=>(t.isSponsored=t.isSponsored??!1,e.isSponsored=e.isSponsored??!1,Number(e.isSponsored)-Number(t.isSponsored)));const r=n.slice(0,h).map(t=>(d.set(l,t),this.mapCuratedSiteToTopsites(l++,t,!0)));g.push(...r)}this.config.enableRecommendedSites&&!y&&(i=(0,At.cn)(this.config,this.maxTiles,i,d,g));const C=new Set([0,7,8,2,-5,-8,-4]),k=new Set([4,3]);let T=v.tile;const $=(0,Ke.S)()?(null===(e=this.dragDropService)||void 0===e||null===(n=e.getFixedTopSites)||void 0===n?void 0:n.call(e))??[]:[];$.forEach(t=>{-8!=t.tileSource&&!t.isSponsored||f.has(t.url)||(t.isSponsored=!1,t.tileSource=-5)});let A=$.filter(t=>t.slot<T),I=(0,Ot.A)(i,A,"url"),P=I.filter(t=>k.has(t.tileSource));P.length+$.filter(t=>t.slot<v.tile).length<v.tile&&!this.shouldHidePlaceholders&&(T=v.tile-1,A=$.filter(t=>t.slot<T),I=(0,Ot.A)(i,A,"url"),P=I.filter(t=>k.has(t.tileSource)));const _=A.length,M=Math.min(T-_,P.length),E=T-_-M;let F=0,D=0,O=I.reduce((t,e)=>(C.has(e.tileSource)&&D<E&&(e.title=(0,At.em)(e.title,e.domain??e.url),t.push(e),D+=1),k.has(e.tileSource)&&F<M&&(t.push(e),F+=1),t),[]);if(x){0==O.filter(t=>-5==t.tileSource).length&&(m=!0,S=!0)}const N=new Map;if(m&&g.length>0)for(let t=h,e=0;t>0&&e<g.length;t--,e++)N.set(w-t,g[e]);"onerow"===this.userSelectedSetting&&M>0&&(this.columnArrangement===b.j1.c1||this.columnArrangement===b.j1.c2)&&(O=this.getOneColOrTwoColTopSites(I,M,E,T,m?g:[])),i=[...(0,Ft.q)(O,A)];let U=0===M;if(U=E>=h,U&&N.size>0&&N.forEach((t,e)=>{var n,r;3!=(null===(n=i[e])||void 0===n?void 0:n.tileSource)&&4!=(null===(r=i[e])||void 0===r?void 0:r.tileSource)||(U=!1)}),m&&U&&N.size>0&&N.forEach((t,e)=>{i.splice(e,0,t),i.pop()}),S&&U&&Dt.YT.addOrUpdateTmplString("promotedTopSites"),this.config.enableCarouselTopSite&&m&&U&&N.size>0){const t=[-6,-7],e=i.length;for(let n=this.numberPromotedSites;n>=1;n--)t.includes(i[e-n].tileSource)&&([i[this.carouselColsPerSlide-n],i[e-n]]=[i[e-n],i[this.carouselColsPerSlide-n]])}return i}mapCuratedSiteToTopsites(t,e,n){return{rid:t,dataGenerationTime:void 0,faviconUrl:e.faviconUrl??c.getImageUrl(e.faviconId),domain:void 0,title:e.title,tileSource:this.getTileSource(n,e.isSponsored),tileTitleSource:void 0,url:e.url,direction:e.direction,enforcement:void 0,isSponsored:e.isSponsored}}getRubyOrderedTopSites(){var t,e,n;let i=[];if(!(0,Ke.S)())return Array(this.maxActualTile).fill(R.Np).map((t,e)=>({...t,rid:e+1}));i=(0,At.g0)(this.ntpApiHandle),i=this.removeBlockedSites(i);let r=1;const o=new Map;let s=this.maxTiles?this.maxTiles-1:R.j5-1;const a=this.getCurrentLayoutConfig();s=this.shouldHidePlaceholders?a.tile:a.tile-1;if(!(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.hideDefaultTopSites)&&i&&this.config&&i.length<s&&this.config.curatedSites){c.initializeCuratedSitesFromConfig(this.config,i);const t=i.length;t>0&&(r=i[t-1].rid+1e3);const e=c.getCurated().map(t=>(o.set(r,t),{rid:r++,dataGenerationTime:void 0,faviconUrl:t.faviconUrl??c.getImageUrl(t.faviconId),domain:void 0,title:t.title,tileSource:this.getTileSource(!1,t.isSponsored),tileTitleSource:void 0,url:t.url,direction:t.direction,enforcement:void 0,isSponsored:t.isSponsored}));i.push(...e)}const u=new Set([0,7,8,2,-5,-8,-4]),l=new Set([4,3]);let d=a.tile;const f=(0,Ke.S)()?(null===(e=this.dragDropService)||void 0===e||null===(n=e.getFixedTopSites)||void 0===n?void 0:n.call(e))??[]:[];f.forEach(t=>{(-8==t.tileSource||t.isSponsored)&&(t.isSponsored=!1,t.tileSource=-5)});let h=f.filter(t=>t.slot<d),p=(0,Ot.A)(i,h,"url"),m=p.filter(t=>l.has(t.tileSource));m.length+f.filter(t=>t.slot<a.tile).length<a.tile&&!this.shouldHidePlaceholders&&(d=a.tile-1,h=f.filter(t=>t.slot<d),p=(0,Ot.A)(i,h,"url"),m=p.filter(t=>l.has(t.tileSource)));const g=h.length,v=Math.min(d-g,m.length),w=d-g-v;let y=0,S=0,x=p.reduce((t,e)=>(u.has(e.tileSource)&&S<w&&(e.title=(0,At.em)(e.title,e.domain??e.url),t.push(e),S+=1),l.has(e.tileSource)&&y<v&&(t.push(e),y+=1),t),[]);return"onerow"===this.userSelectedSetting&&v>0&&(this.columnArrangement===b.j1.c1||this.columnArrangement===b.j1.c2)&&(x=this.getOneColOrTwoColTopSites(p,v,w,d,[])),i=[...(0,Ft.q)(x,h)],i}getOneColOrTwoColTopSites(t,e,n,i,r){const o=new Set([-5,-4,0,7,8,2]),s=new Set([-8,-7]),a=new Set([4,3]);let c=[];const u=[],l=[];let d=[],f=0;for(const n of t)s.has(n.tileSource)?d.push(n):o.has(n.tileSource)?u.push(n):a.has(n.tileSource)&&f<e&&(l.push(n),f+=1);this.columnArrangement===b.j1.c1&&d.length<1?d=r.slice(0,1):this.columnArrangement===b.j1.c2&&d.length<2&&(d=r.length>d.length?r.slice(0,2):d);const h=d.length+u.length-n;h>0&&u.splice(0,h);const p=u.slice(0,i-(l.length+d.length));return c=[...l,...d,...p],c}getTopSites(){const t=Be(this.isRuby?this.getRubyOrderedTopSites():this.getOrderedTopSites());if(!this.isRuby&&this.displayCopilotInTopSites){var e;const o=this.copilotTopSiteUrl.replace(/\/$/,""),s=t.findIndex(t=>(t.url||"").replace(/\/$/,"")===o),a=-1!==s,u=!!((null===(e=c.getDeletedUrlLookup)||void 0===e?void 0:e.call(c))||{})[o],l=t.some(t=>(t.url||"").replace(/\/$/,"").includes("https://m365.cloud.microsoft/chat")&&1===t.dragDropType),d=this.activeTopSiteItem&&(this.activeTopSiteItem.url||"").replace(/\/$/,"")===o&&-1===this.activeTopSiteItem.dragDropType;let f=!1;try{const t=(0,p.Lg)().getItem(R.ve);if(t){const e=JSON.parse(t),n=null==e?void 0:e.data;Array.isArray(n)&&(f=n.some(t=>((null==t?void 0:t.url)||"").replace(/\/$/,"")===o))}}catch(t){(0,L.c_)(t,O.gQ_,"TopSitesEdgeNextWC: Error parsing unpinned topsites from local storage")}const h=Math.min(this.copilotTopSiteIndex,t.length),m=new Set([-7,-8,2]),g=t[h],v=g&&m.has(g.tileSource);if(a||v||u||l){if(a&&!u){const e=t[s];e&&(e.dragDropType=f||d?-1:1)}}else{var n;const e={rid:-1e3,dataGenerationTime:void 0,faviconUrl:R.Tj,domain:void 0,title:this.strings.m365CopilotAppName??"M365 Copilot",tileSource:-5,tileTitleSource:void 0,url:this.copilotTopSiteUrl,direction:null===(n=document)||void 0===n?void 0:n.dir,enforcement:void 0,isSponsored:!1,dragDropType:f||d?-1:1,slot:h};t.splice(h,0,e);try{if(this.dragDropService){var i,r;(null===(i=(r=this.dragDropService).getFixedTopSites)||void 0===i?void 0:i.call(r).some(t=>t.rid===e.rid))||this.dragDropService.addTopSite({...e,dragDropType:e.dragDropType})}}catch(t){(0,L.c_)(t,O.gQ_,"TopSitesEdgeNextWC: Error adding copilot site to dragDropService")}}}if(null==t||!t.length)return this.userSelectedSetting&&"off"==this.userSelectedSetting||this.zeroTopSitesErrorHandler(),[];const o=[],s=this.maxActualTile;return t.forEach((t,e)=>{var n,i;if(s<e)return;if((null===(n=this.config.overrideIconsList)||void 0===n?void 0:n.length)>0&&this.topSiteMapper.size>0)if(this.topSiteMapper.get(t.url))t.faviconUrl=this.topSiteMapper.get(t.url);else{const e=(0,At.yM)(t.url);this.topSiteMapper.get(e)&&(t.faviconUrl=this.topSiteMapper.get(e))}R.sT&&R.sT[t.url]&&(t.faviconUrl=c.getImageUrl(R.sT[t.url])),R.W3&&R.W3[t.url]&&(t.title=R.W3[t.url]);const r=new Ne.u(t.url),{topSitesAffiliates:a,affiliateLinkOverrides:u}=this.config;a&&a[r.domainPathAndQuery]&&"/"!==a[r.domainPathAndQuery]&&2===t.tileSource&&R.IQ.test(a[r.domainPathAndQuery])&&(t.url=t.url.replace(/\/$/,"")+a[r.domainPathAndQuery]),u&&this.handleAffiliateOverrides(r,t);const l={...t,adLabelType:this.config.adLabelType},d=this.userSelectedSetting?null===(i=this.tilesxColxRowsMap[this.userSelectedSetting])||void 0===i||null===(i=i[this.columnArrangement])||void 0===i||null===(i=i.default)||void 0===i?void 0:i.maxRowTileCount:null,f=((t,e,n,i)=>{if(!t)return;const{tileSourcePrefix:r,isCuratedOrPromoted:o}=kt(e),s=B.b5.TopSites;let a=xt.tsn,c=Ct;o&&(a=e.title,c=e.url);const u=i?Math.floor(n/i)+1:null,l=i?n%i+1:null;return{topSiteTile:(0,W.g)(`${r}_${Q}`,{headline:a,type:s},B.MS.View,B.EG.View,{overrideDestinationUrl:c,ext:{hl:a,row:u,col:l}}),destination:(0,W.g)(`${r}_${X}${"https://www.bing.com/work"===e.url?">top-sites-bookmarks-tile-click":""}`,{headline:a,type:s},B.MS.Navigate,B.EG.Click,{overrideDestinationUrl:c}),moreOption:(0,W.g)(`${r}_${Y}`,{headline:`${xt.moreOption}_${a}`,type:s},B.MS.More,{overrideDestinationUrl:c}),unpin:(0,W.g)(`${r}_${pt}`,{headline:`${xt.unpin}_${a}`,type:s},B.MS.Unpin,{overrideDestinationUrl:c}),pin:(0,W.g)(`${r}_${mt}`,{headline:`${xt.pin}_${a}`,type:s},B.MS.Pin,{overrideDestinationUrl:c})}})(this.telemetryObject,l,e,d);let h=(-6===l.tileSource||-7===l.tileSource)&&f&&f.unpin&&f.unpin.getMetadataTag();1===l.dragDropType&&(h=f&&f.pin&&f.pin.getMetadataTag()),o.push({...l,contextMenuLabel:this.strings.contextMenuLabel,contentViewTelemetryTag:f&&f.topSiteTile&&f.topSiteTile.getMetadataTag(),anchorTelemetryTag:f&&f.destination&&f.destination.getMetadataTag(),toggleActionMenuButtonTelemetryTag:f&&f.moreOption&&f.moreOption.getMetadataTag(),promote:1===l.dragDropType,pinLabel:1===l.dragDropType?this.strings.unpinSite:this.strings.pinSite,pinActionButtonTelemetryTag:h})}),o}handleAffiliateOverrides(t,e){const n=this.config.affiliateLinkOverrides;0===e.tileSource&&n[t.domainAndPath]&&"/"!==n[t.domainAndPath]&&this.config.enableAffiliateOverride&&!t.hasQuery&&(e.url=n[t.domain],e.tileSource=2,e.isSponsored=!0,Dt.YT.addOrUpdateTmplProperty("tsaffov","4"))}getTopSitesPlaceHolders(){const t=[];var e;this.currentTilesNumber<this.maxTiles&&(t.push({addTileSupported:!0,onAddTopSiteClick:this.toggleAddDialog,addTileLabel:this.strings.addTileLabel,ariaLabel:this.strings.ariaLabel_addTile,addTopSiteButtonTelemetryTag:null===(e=this.topSitesTelemetryContext)||void 0===e||null===(e=e.topSitePlaceHolderAddSite)||void 0===e?void 0:e.getMetadataTag()}),this.currentTilesNumber++);if(this.topSitesLayoutDataConnector){let t=0;if("onerow"==this.selectedQuickLinksDisplaySetting||"tworows"==this.selectedQuickLinksDisplaySetting){var n;const e=null===(n=this.tilesxColxRowsMap[this.selectedQuickLinksDisplaySetting][this.columnArrangement])||void 0===n||null===(n=n.default)||void 0===n?void 0:n.maxRowTileCount;e&&(t=this.currentTilesNumber>e?2:1)}else"off"==this.selectedQuickLinksDisplaySetting&&(t=0);var i;if(t!==this.topSitesLayoutState.actualRowCount)null===(i=this.topSitesLayoutDataConnector)||void 0===i||i.updateActualRowCount(t)}return t}disableCurated(){this.isDisableDefaultInProgress=!0;const t=this.chromiumPageSettingState,e={hideDefaultTopSites:!t.hideDefaultTopSites,currentBackgroundImageType:t.currentBackgroundImageType,originalLayout:t.currentLayout,currentLayout:"custom",greetingEnabled:t.greetingEnabled,imageOfTheDayEnabled:t.imageOfTheDayEnabled,selectedQuickLinksDisplaySetting:t.selectedQuickLinksDisplaySetting,selectedFeedDisplaySetting:t.selectedFeedDisplaySetting};this.pageSettingsConnector&&(this.pageSettingsConnector.updateLayout(e),this.getOrUpdateTopSites(),this.toggleUndoToast(),this.isDisableDefaultInProgress=!1,(0,Mt.i6)(k.v$w))}getAddShortcutTitle(){var t,e;return this.isRuby?(null===(e=this.strings)||void 0===e?void 0:e.rubyAddText)??"New":null!==(t=this.strings)&&void 0!==t&&t.addShortcutTitle?this.strings.addShortcutTitle:"Add shortcut"}async waitForSelectedQuickLinksReady(){const t=new S.e,e=n=>{n.isLoadCompleted&&n.selectedQuickLinksDisplaySetting&&((0,Rt.aD)(C.h$,e),t.set())};(0,Rt.vQ)(C.h$,e),await t.getResultAsync()}initializeTopSitesState(){var t;this.sitesClassName="expanded-sites",this.topSitesTelemetryContext=(t=>{if(!t)return;const e=B.b5.TopSites;return{topSitePlaceHolderAddSite:(0,W.g)(ut,{headline:xt.addSite,type:e},B.MS.Add,{overrideDestinationUrl:Ct}),topSiteCommon:(0,W.g)(`${lt}`,{headline:xt.container,type:e},B.MS.View,{overrideDestinationUrl:Ct}),saveAdd:(0,W.g)(`${lt}_${ct}_${ot}`,{headline:xt.add,type:e},B.MS.Save,{overrideDestinationUrl:Ct}),cancelAdd:(0,W.g)(`${lt}_${ct}_${it}`,{headline:xt.cancel,type:e},B.MS.Cancel,{overrideDestinationUrl:Ct}),closeAddDialog:(0,W.g)(`${lt}_${ct}_${nt}`,{headline:xt.close,type:e},B.MS.Close,{overrideDestinationUrl:Ct}),clickCarouselNextButton:(0,W.g)(`${lt}_${vt}_${wt}`,{headline:xt.carouselClick,type:e},B.MS.Click,{overrideDestinationUrl:Ct}),clickCarouselPreButton:(0,W.g)(`${lt}_${vt}_${yt}`,{headline:xt.carouselClick,type:e},B.MS.Click,{overrideDestinationUrl:Ct}),clickAddNameInput:(0,W.g)(`${lt}_${ct}_${bt}`,{headline:xt.inputName,type:e},B.MS.Click,{overrideDestinationUrl:Ct}),clickAddUrlInput:(0,W.g)(`${lt}_${ct}_${St}`,{headline:xt.inputUrl,type:e},B.MS.Click,{overrideDestinationUrl:Ct})}})(this.telemetryObject),this.topSiteActionTelemetryContext=(t=>{if(!t)return;const e=B.b5.TopSites;return{removeTopSite:(0,W.g)(`${tt}`,{headline:`${xt.remove} ${xt.tsn}`,type:e},B.MS.Remove,{overrideDestinationUrl:Ct}),undoRemoveTopSite:(0,W.g)(`${Z}_${et}`,{headline:`${xt.undoRemove} ${xt.tsn}`,type:e},B.MS.UndoRemove,{overrideDestinationUrl:Ct}),closeRemoveToast:(0,W.g)(`${Z}_${nt}`,{headline:xt.close,type:e},B.MS.Close,{overrideDestinationUrl:Ct}),editDialog:(0,W.g)(`${lt}_${rt}`,{headline:`${xt.rename} ${xt.tsn}`,type:e},B.MS.Rename,{overrideDestinationUrl:Ct}),closeEditDialog:(0,W.g)(`${lt}_${at}_${nt}`,{headline:xt.close,type:e},B.MS.Close,{overrideDestinationUrl:Ct}),saveEdit:(0,W.g)(`${lt}_${at}_${ot}`,{headline:xt.save,type:e},B.MS.Save,{overrideDestinationUrl:Ct}),cancelEdit:(0,W.g)(`${lt}_${at}_${it}`,{headline:xt.cancel,type:e},B.MS.Cancel,{overrideDestinationUrl:Ct}),turnOnPreview:(0,W.g)(`${lt}_${dt}`,{headline:xt.turnOnPreview,type:e},B.MS.TurnOn,{overrideDestinationUrl:Ct}),turnOffPreview:(0,W.g)(`${lt}_${ft}`,{headline:xt.turnOffPreview,type:e},B.MS.TurnOff,{overrideDestinationUrl:Ct}),pinningTopSite:(0,W.g)(`${lt}_${ht}`,{headline:xt.topsiteTaskbarpin,type:e},B.MS.Pin,{overrideDestinationUrl:Ct}),pinningTopSiteInQuickLinks:(0,W.g)(`${lt}_${mt}`,{headline:xt.pin,type:e},B.MS.Pin,{overrideDestinationUrl:Ct}),clickEditNameInput:(0,W.g)(`${lt}_${bt}`,{headline:xt.inputName,type:e},B.MS.Click,B.EG.Click,{overrideDestinationUrl:Ct})}})(this.telemetryObject),this.topSiteCommonTelemetryTag=null===(t=this.topSitesTelemetryContext)||void 0===t||null===(t=t.topSiteCommon)||void 0===t?void 0:t.getMetadataTag()}ShowPinningWizardCampaign(){D.uq.notifyTriggerEvent(D.SX.NTP_TOP_SITES_CLICK).then(t=>{t&&!t.success&&(0,L.vV)(O.P1Y,"TopSitesEdgeNextWC: "+t.Message)}).catch(t=>{(0,L.c_)(t,O.P1Y,"TopSitesEdgeNextWC: Failed to call window.chrome.edgeNurturingPrivate.NotifyTriggerEvent chromium API")})}reRenderTopsite(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.getCurrentLayoutConfig();this.maxTiles=e.tile,this.extraAddedSitesClassName=e.class,t?this.getOrUpdateTopSites():this.renderTopsite()}renderTopsite(){window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.getOrUpdateTopSites()},0)})}zeroTopSitesErrorHandler(){(0,L.vV)(O.TUW,"Zero top sites returned",void 0,{shouldSampleErrorsForTreatement1:!0})}initializeDragDropService(){this.dragDropService=new De(this,{container:this.topSitesContainerPromise,disableDragDrop:!this.config.draggable}),this.dragDropService.initializeService()}shouldDropTopSite(t){const e=0==t.url.indexOf("http://")?t.url.replace("http://","https://"):t.url,n=this.config.blockedDomains||R.QH;if(n)for(let t=0;t<n.length;t++){const i=n[t];if(e.startsWith(i.url)&&(!i.exc||!i.exc.find(t=>e.includes(t))))return!0}return!1}removeBlockedSites(t){return t?t.filter(t=>{if(0==t.tileSource){if(this.shouldDropTopSite(t))return Dt.YT.addOrUpdateTmplProperty("RemSE","1"),!1;if(this.config.enableAffiliateOverride&&this.config.affiliateLinkOverrides)return!Object.values(this.config.affiliateLinkOverrides).includes(t.url)}return!0}):null}getTileSource(t,e){return t?e?-7:-6:e?-8:-5}updateAffiliateAutoAppendTileSource(t){const{topSitesAffiliates:e}=this.config;t.forEach(t=>{const n=new Ne.u(t.url);e[n.domain]&&"/"!==e[n.domain]&&0==t.tileSource&&(t.tileSource=2,t.isSponsored=!0)})}getOverrideIconList(){var t;const e=[];for(const t of null===(n=this.config)||void 0===n?void 0:n.overrideIconsList){var n;e.push(t)}return((null===(t=this.config)||void 0===t||null===(t=t.curatedSites)||void 0===t?void 0:t.filter(t=>t.isSponsored).map(t=>({faviconUrl:t.faviconUrl,faviconId:t.faviconId,identifierHosts:[t.url]})))??[]).concat(e)}focusedAndNotAlways(){const{selectedFeedDisplaySetting:t,currentBackgroundImageType:e}=this.chromiumPageSettingState;return["peek","headingsonly","off"].includes(t)&&"off"===e}topsiteItemContainerTelemetry(){if(this.isActionMenuOpen&&this.activeTopSiteItem)return this.activeTopSiteItem.anchorTelemetryTag}actionsMenuTelemetry(){if(this.isActionMenuOpen&&this.activeTopSiteItem){const t=this.topSites.findIndex(t=>t.url===this.activeTopSiteItem.url);if(t>=0)return function(t,e){return(0,W.g)(`${gt}_${e}`,{headline:xt.ActionMenu,type:B.b5.TopSites},B.MS.Show,{overrideDestinationUrl:Ct})}(this.telemetryObject,t+1).getMetadataTag()}}preventClickOnTopSite(t){null==t||t.preventDefault()}getTopSiteTemplateUrl(t){return t.url}processMinimumVisitAffiliateFeatureState(){var t;if(!this.pageSettingsConnector||!this.chromiumPageSettingState)return;const e=this.pageSettingsConnector.isMinimumVisitAffiliateSitesPreferenceAvailable(),n=null===(t=this.chromiumPageSettingState.configData)||void 0===t||null===(t=t.enabledFeatures)||void 0===t?void 0:t.includes("msAffiliateSitesMinVisitCountReduction");this.isMinVisitAffiliateSitesFeatureActive=e&&n}persistMinVisitAffiliateInfo(){var t,e,n,i;const r=[];let o=!1;null!==(t=this.config)&&void 0!==t&&t.topSitesAffiliates&&(o=!0,this.parseAffiliateSites(r,"autoAppend")),null!==(e=this.config)&&void 0!==e&&e.enableAffiliateOverride&&null!==(n=this.config)&&void 0!==n&&n.affiliateLinkOverrides&&(o=!0,this.parseAffiliateSites(r,"override")),o&&null!==(i=this.ntpSettingsPrivateApiHandle)&&void 0!==i&&i.setPref&&this.ntpSettingsPrivateApiHandle.setPref(u.JW.minVisitAffiliateSites,r)}parseAffiliateSites(t,e){const{affiliateLinkOverrides:n,topSitesAffiliates:i}=this.config,r="override"===e?n:i;Object.entries(r).forEach(n=>{if(!n[0]||!n[1]||"/"===n[1])return;const i={domainAndMaybePath:"https://"+n[0]+"/",url:"override"===e?n[1]:"https://"+n[0]+n[1]};t.push(i)})}scrollToPosition(){var t;null===(t=this.ref_stripe)||void 0===t||t.scrollToPosition(this.scrollDirection*this.widthPerPage*this.carouselPageIndex)}onFlipperClick(t){const e=this.carouselPageIndex+(t?this.carouselColsPerSlide:-this.carouselColsPerSlide);this.carouselPageIndex=Math.max(0,e),this.scrollToPosition()}initCanLoadHoverElements(){this.config.enableElementsLazyLoad||(this.canLoadHoverElements=!0)}handleTopSiteMouseEnter(t,e){var n;(this.canLoadHoverElements||(this.canLoadHoverElements=!0),t&&e)&&(null===(n=this.preloadManager)||void 0===n||n.startTrackingElementForPreload(t,e))}handleTopSiteLinkFocus(){this.canLoadHoverElements||(this.canLoadHoverElements=!0)}logTileActivatedClick(t){var e,n;const i=null===(e=window)||void 0===e||null===(e=e.chrome)||void 0===e||null===(e=e.ntpSettingsPrivate)||void 0===e?void 0:e.logTopSitesTileActivated,r=null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n?void 0:n.TopSitesTileSource;if(i&&r){let e=r.OTHER;0===t.tileSource||2===t.tileSource?e=r.MOST_VISITED:3===t.tileSource?e=r.CUSTOM_LINK:7===t.tileSource&&r.NEXT_SITES?e=r.NEXT_SITES:8===t.tileSource&&r.PROMOTED_MEDIA_SITES&&(e=r.PROMOTED_MEDIA_SITES);const n=this.topSites.indexOf(t);if(-1!==n)if(isNaN(this.ntpApiVersion)||this.ntpApiVersion<1)i(e,n);else{i(e,n,this.topSites.filter(e=>e.tileSource===t.tileSource).indexOf(t),t.url)}}return!0}dedupeCuratedSitesByTitle(t,e){const n=e.map(t=>{var e;return null===(e=t.title)||void 0===e?void 0:e.toLocaleLowerCase()}),i=t.filter(t=>{var e;return!n.includes(null===(e=t.title)||void 0===e?void 0:e.toLocaleLowerCase())});return Dt.YT.addOrUpdateTmplProperty("tsDedupeCount",String(t.length-i.length)),i}checkTopSitesIcon(){window.setTimeout(()=>{var t,e,n,i;const r=this.isRuby?null===(t=this.shadowRoot)||void 0===t||null===(e=t.querySelectorAll)||void 0===e?void 0:e.call(t,".top-site-ruby"):null===(n=this.shadowRoot)||void 0===n||null===(i=n.querySelectorAll)||void 0===i?void 0:i.call(n,".top-site-next"),o=Array.from(r).map((t,e)=>{const n=this.isRuby?t.getAttribute("aria-label"):t.getAttribute("title"),i=t.querySelector(".image-container img");return{title:n,src:i?i.getAttribute("src"):"",index:e}}).filter(t=>!!t.title).map(t=>{let{title:e,src:n,index:i}=t;const r=this.topSites.find(t=>t.title===e);if(r)return r.faviconUrl===n?null:{...r,index:i}}).filter(t=>!!t);if(o.length){const t=o.reduce((t,e)=>`${t}|${e.rid}_${e.index}`,`count_${o.length}`);Dt.YT.addOrUpdateTmplProperty("tsIconMismatch",t)}},3e3)}}(0,a.Cg)([Tt.sH],tn.prototype,"isLowEndDevice",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"linkTarget",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"ref_stripe",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"enableQuickBrief",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"carouselProps",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isDarkMode",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isRuby",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"copilotInTopSitesTelemetryTag",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"canShowCodexBingUpsellByPolicy",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"copilotTopSiteIndex",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"copilotTopSiteUrl",void 0),(0,a.Cg)([Tt.Jg],tn.prototype,"displayCopilotInTopSites",null),(0,a.Cg)([(0,$t.CF)({mode:"boolean"})],tn.prototype,"quickBriefVisible",void 0),(0,a.Cg)([Tt.Jg],tn.prototype,"shouldHidePlaceholders",null),(0,a.Cg)([Tt.sH],tn.prototype,"actionsMenuProps",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"activeTopSiteItem",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"activeTopSiteElement",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"activeContextMenuButtonElement",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"maxTiles",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"chromiumPageSettingState",void 0),(0,a.Cg)([(0,$t.CF)({mode:"boolean"})],tn.prototype,"needDarkThemeIcons",void 0),(0,a.Cg)([Tt.Jg],tn.prototype,"className",null),(0,a.Cg)([Tt.sH],tn.prototype,"extraAddedSitesClassName",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"currentTilesNumber",void 0),(0,a.Cg)([(0,$t.CF)({mode:"boolean"})],tn.prototype,"showFullPageBlur",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"userSelectedSetting",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isAddDialogOpen",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isActionMenuOpen",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isEditDialogOpen",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isUndoToastOpen",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isPinToastOpen",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"isLtr",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"ntpApiHandle",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"sitesClassName",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteAddDialog",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteEditDialog",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteMapper",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSites",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSitesPlaceHolders",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"currentToastTag",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"undoToast",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"pinToast",void 0),(0,a.Cg)([$t.CF],tn.prototype,"selectedQuickLinksDisplaySetting",void 0),(0,a.Cg)([(0,$t.CF)({mode:"boolean"})],tn.prototype,"quickLinksToggleSpacingForBanner",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"moveUpward",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteAddedSuccessfully",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"lastAddedTopSite",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteAddDialogContainerPosition",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteEditDialogContainerPosition",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"topSiteCommonTelemetryTag",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"renderTopSiteStartAndEnd",void 0),(0,a.Cg)([Tt.sH],tn.prototype,"canLoadHoverElements",void 0),(0,a.Cg)([Tt.Jg],tn.prototype,"topSitesClassName",null),(0,a.Cg)([Tt.Jg],tn.prototype,"isInformationalLayout",null);var en=n(67931),nn=n(22870),rn=n(87122),on=n(7040),sn=n(55609),an=n(26920),cn=n(37302),un=n(14996),ln=n(48751),dn=n(10735),fn=n(86856),hn=n(45476),pn=n(41123),mn=n(95239),gn=n(92393),vn=n(43103),wn=n(74849),yn=n(32257),bn=n(39677),Sn=n(63069),xn=n(50882),Cn=n(59721);const kn="40px",Tn=wn.A` .ruby-top-sites{.top-site-ruby{border-radius:20px;background:rgba(242,236,232,0.6);border-color:rgba(255,255,255,1)}}@media (prefers-color-scheme:dark){.ruby-top-sites{.top-site-ruby{background:rgba(29,33,47,0.6);border-color:rgba(69,81,114,0.25)}}}`,$n=wn.A` .ruby-top-sites{&.${R.mk.rubyTenSites}{.top-sites{.sites{display:flex;flex-wrap:wrap;justify-content:center}}.top-site-ruby{.site-name{max-width:76px;font-weight:450}}}margin-bottom:${kn};.top-sites{--top-site-column-gap:40px;--top-site-pill-width:50px;.sites{row-gap:32px}}.top-site-ruby{display:block;cursor:pointer;width:var(--top-site-pill-width,48px);height:var(--top-site-pill-width,48px);padding:${yn.ACF};
            border-radius: ${yn.g6L};
            border: ${yn.KUh} solid ${yn.v45};
            background: ${yn.JMF};display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;box-sizing:border-box;.image-container{display:flex;align-items:center;justify-content:center;width:24px;height:24px;img{width:100%}svg path{fill:${yn.C6c}}}.control{color:${yn.C6c};
                box-sizing: content-box;
                font-family: inherit;
                font-size: 12px;
                font-weight: 400;
                line-height: 16px;
                white-space: nowrap;
                overflow: hidden;
                padding: 0;
                text-overflow: ellipsis;
                text-decoration: none;
                height: 24px;
                width: 24px;
                border-radius: ${bn.cbN}}.start{position:absolute;top:2px;right:10px;width:15px;height:15px;opacity:0}.end{position:absolute;top:-10px;right:-11px;width:13px;height:13px;opacity:0}& .control:after{bottom:0;content:"";height:calc(100% + 24px);left:0;position:absolute;right:0;top:0;width:100%;z-index:2}.site-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:64px;width:auto;background-color:transparent;color:${yn.C6c};  
                text-align: center;  
                border-radius: 6px;  
                padding: 0px 6px;  
                position: absolute;  
                z-index: 1;
                bottom: calc(-14px - ${yn.TMy});
                left: 50%;  
                transform: translateX(-50%);  
                white-space: nowrap;     
                font-weight: ${yn.fNx};
                font-size: ${yn.CuR};
                line-height: ${yn.$LU}}.site-name.larger-font{font-size:14px}}.top-site-ruby .top-site-title span{display:inline-block;max-width:64px;overflow:hidden;text-overflow:ellipsis}.top-site-ruby:active .start,.top-site-ruby:active .end,.top-site-ruby:focus .start,.top-site-ruby:focus .end,.top-site-ruby:hover .start,.top-site-ruby:hover .end,.top-site-ruby:hover fluent-button,.top-site-ruby .start:active,.top-site-ruby .end:active,.top-site-ruby .start:focus-within,.top-site-ruby .end:focus-within{background:transparent;opacity:1;outline:none}.start-button svg path,.end-button svg path{fill:${yn.C6c}}}.ruby-top-sites-dialog{--top-site-dialog-width:357px;--top-site-dialog-button-width:65px;--top-site-dialog-margin-top:-${kn};
        --control-corner-radius: 12;
        --neutral-fill-rest: rgba(246, 249, 252, 1);
        --neutral-foreground-rest: #262626;
        --neutral-layer-floating: #ffffff;
        position: absolute;
        z-index: ${Cn.P.Dialog.toString()}}fluent-button.toast-navigation-button::part(control):focus-visible{box-shadow:none}fluent-button.toast-navigation-button::part(content):focus-visible::before{height:0}#topSiteEditDialog.ruby-top-sites-dialog{--top-site-dialog-height:192px}#topSiteAddDialog.ruby-top-sites-dialog{--top-site-black-plate-width:40px;--top-site-black-plate-height:40px}@media (prefers-color-scheme:dark){.ruby-top-sites-dialog{--neutral-fill-rest:#363636;--neutral-foreground-rest:#f5f5f5;--neutral-layer-floating:#242424}}@media (forced-colors:active){fluent-button.toast-navigation-button::part(control),fluent-button.toast-close-button::part(control){border-width:1px;box-shadow:none}fluent-button.toast-close-button::part(control):focus-visible,fluent-button.toast-close-button::part(control):active,fluent-button.toast-close-button::part(control):hover,fluent-button.toast-navigation-button::part(control):focus-visible,fluent-button.toast-navigation-button::part(control):active,fluent-button.toast-navigation-button::part(control):hover{forced-color-adjust:none;background-color:${xn.A.Highlight};
            border-color:${xn.A.ButtonText};
            color: ${xn.A.HighlightText};
        }
    }
`.withBehaviors(new Sn.y(Tn)),An=t=>{const{r:e,g:n,b:i}=(0,nn.H0)((0,x.ud)()?en.KS:en.go);return new rn.M(e,n,i,t).toStringWebRGBA()},In=wn.A` .top-sites-responsive-pin-icon{flex-shrink:0;display:none;margin:0 5px}.top-sites .top-sites-responsive-pin-icon{line-height:26px}.top-sites .top-sites-responsive-pin-icon svg{width:14px;height:14px}`,Pn=wn.A` .top-site-next{background-color:transparent;border-radius:4px;box-shadow:none;display:flex;height:var(--top-site-height,84px);justify-content:center;width:var(--top-site-width,108px);position:relative;border:calc(${an.XA} * 1px) solid transparent}.top-site-next:hover{background:var(--top-site-fill-hover,${cn.Xt})}.top-site-next.top-site-f3v1b:hover{background:unset}.top-site-next:has(.control:focus){outline:none;border-color:${un.WN}}.top-site-next .control:focus{outline:none;border:none}.top-site-next .start,.top-site-next .end{position:absolute;top:var(--top-site-margin,9px);z-index:${(Cn.P.Default+2).toString()};opacity:0}.top-site-next.small-top-sites.top-site-f3v1b .start{top:var(--top-site-action-top-position);left:var(--top-site-action-border-position)}.top-site-next.small-top-sites.top-site-f3v1b .end{top:var(--top-site-action-top-position);right:var(--top-site-action-border-position)}.top-site-next .pinned-top-site .start{pointer-events:none}.top-site-next:active .start,.top-site-next:active .end,.top-site-next:focus .start,.top-site-next:focus .end,.top-site-next:hover .start,.top-site-next:hover .end,.top-site-next:hover fluent-button,.top-site-next .start:active,.top-site-next .end:active,.top-site-next .start:focus-within,.top-site-next .end:focus-within{background:transparent;opacity:1;outline:none}.top-site-next .content-container{transition:all 0.2s ease-in-out;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;height:100%;padding:10px 12px;border-radius:4px}.top-site-next .content-container.information-layout{padding:8px 10px;justify-content:center}.top-site-next .image{align-items:center;box-sizing:border-box;width:var(--top-site-black-plate-width,44px);height:var(--top-site-black-plate-height,44px);justify-content:center;display:flex}.top-site-next .image img{margin:0 auto;max-width:24px;height:24px}.top-site-next .title-container{display:flex;justify-content:center;margin:2px 0 0 0;width:100%}.top-site-next .control{box-sizing:content-box;color:var(--top-site-color,${ln.l});font-family:inherit;font-size:12px;font-weight:400;line-height:16px;max-height:16px;max-width:100%;white-space:nowrap;overflow:hidden;padding:0;text-overflow:ellipsis;text-decoration:none}.top-site-next .control:after{bottom:0;content:"";height:100%;left:0;position:absolute;right:0;top:0;width:100%;z-index:1}.top-site-next .top-site-next-g{display:grid;gap:5px;align-items:center;grid-auto-flow:column}.top-site-next .pinned-container{display:flex;width:0;margin-inline-end:2px;flex-direction:row-reverse}.top-site-next .pinned-indicator{height:12px;width:12px;align-self:center;display:flex}.top-site-next .pinned-indicator-svg svg{width:12px;height:12px}.ad-link-label{z-index:2}.top-site-next.tstb-80{.image,.image.new-add-image{background:${An(.8)}}&:hover{.image,.image.new-add-image{background:${dn.T}}}}.top-site-next.tstb-60{.image,.image.new-add-image{background:${An(.6)}}&:hover{.image,.image.new-add-image{background:${dn.T}}}}.top-site-next.tstb-40{.image,.image.new-add-image{background:${An(.4)}}&:hover{.image,.image.new-add-image{background:${dn.T}}}}.top-site-next.tscsi{.image{border-radius:50%}}`,_n=wn.A`
${(0,b._D)(b.j1.c3,null)}{.move-upward.six-sites{--top-sites-grid-template-column:6}}${(0,b._D)(b.j1.c3,null)}{.move-upward.nine-sites{--top-sites-grid-template-column:9}}.${R.mk.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:4}${(0,b._D)(b.j1.c2,null)}{.${R.mk.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:6}}${(0,b._D)(b.j1.c3,null)}{.${R.mk.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:7}}${(0,b._D)(b.j1.c4,null)}{.${R.mk.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:10}}.${R.mk.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:4}${(0,b._D)(b.j1.c2,null)}{.${R.mk.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:5}}${(0,b._D)(b.j1.c3,null)}{.${R.mk.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:3}}${(0,b._D)(b.j1.c4,null)}{.${R.mk.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:6}}.${R.mk.rubySites}{--top-sites-grid-template-column:4}${(0,b._D)(b.j1.c2,null)}{.${R.mk.rubySites}{--top-sites-grid-template-column:5}}${(0,b._D)(b.j1.c3,null)}{.${R.mk.rubySites}{--top-sites-grid-template-column:6}}${(0,b._D)(b.j1.c4,null)}{.${R.mk.rubySites}{--top-sites-grid-template-column:8}}.${R.mk.rubyTenSites}{--top-sites-grid-template-column:5}${(0,b._D)(b.j1.c2,null)}{.${R.mk.rubyTenSites}{--top-sites-grid-template-column:7}}${(0,b._D)(b.j1.c3,null)}{.${R.mk.rubyTenSites}{--top-sites-grid-template-column:10}}${(0,b._D)(b.j1.c4,null)}{.${R.mk.rubyTenSites}{--top-sites-grid-template-column:10}}`,Mn=wn.A``,Rn=wn.A`
msft-stripe .pre-fliper{position:absolute;left:-12px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(0deg)}msft-stripe .next-fliper{position:absolute;right:80px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(180deg)}`,En=wn.A` msft-stripe .fliper{background:#3b3b3b;fill:#fff}msft-stripe .fliper:hover{background:#383838}`,Fn=wn.A` .all-one-line-sites{padding:0 24px}.all-one-line-sites .top-sites{--top-site-column-gap:13px}msft-stripe{margin-right:11px;--scroll-fade-next:none;--scroll-fade-previous:none}msft-stripe.strip-with-quick-brief{padding-right:15px}msft-stripe .fliper{display:flex;align-items:center;justify-content:center;background-color:white;width:24px;height:40px;border-radius:4px;cursor:pointer;box-shadow:0px 0px 2px 0px rgba(0,0,0,0.12),0px 2px 4px 0px rgba(0,0,0,0.14)}msft-stripe .fliper svg{width:20px;height:20px}msft-stripe .pre-fliper{position:absolute;left:-33px;padding-left:16px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(180deg);opacity:0;transition:all .5s}.all-one-line-sites:hover msft-stripe .pre-fliper{opacity:1}msft-stripe .next-fliper{position:absolute;right:-125px;padding-left:16px;top:calc(50% - 54px/2 - 1.5px);opacity:0;transition:all .5s}.all-one-line-sites:hover msft-stripe .next-fliper{display:block;opacity:1}msft-stripe.strip-with-opacity-flipper .pre-fliper,msft-stripe.strip-with-opacity-flipper .next-fliper{display:block;opacity:0.5}msft-stripe::part(scroll-prev),msft-stripe::part(scroll-next){z-index:99}msft-stripe::part(heading-container){margin:0}msft-stripe::part(scroll-view){max-width:181px}${(0,b.H5)(b.j1.c1)}{msft-stripe::part(scroll-view){max-width:181px}}${(0,b.H5)(b.j1.c2)}{msft-stripe::part(scroll-view){max-width:271px}}${(0,b.H5)(b.j1.c3)}{msft-stripe::part(scroll-view){max-width:365px}}${(0,b.H5)(b.j1.c4)}{msft-stripe::part(scroll-view){max-width:641px}}${(0,b.H5)(b.j1.c5)}{msft-stripe::part(scroll-view){max-width:641px}}.${R.mk.carouselSites}{--top-sites-grid-template-column:20}${(0,b._D)(b.j1.c1,null)}{.${R.mk.carouselSites}{--top-sites-grid-template-column:20}}${(0,b._D)(b.j1.c2,null)}{.${R.mk.carouselSites}{--top-sites-grid-template-column:20}}${(0,b._D)(b.j1.c3,null)}{.${R.mk.carouselSites}{--top-sites-grid-template-column:20}}${(0,b._D)(b.j1.c4,null)}{.${R.mk.carouselSites}{--top-sites-grid-template-column:20}}`.withBehaviors(new fn.t(Mn,Rn),new vn.N(null,En)),Dn=wn.A` :host{width:100%;--menu-max-width:210px;--menu-min-width:160px;--top-site-dialog-z-index:900}.long-width-menu{--menu-max-width:360px}.ruby-long-width-menu{--menu-max-width:360px;--menu-min-width:246px;--control-corner-radius:12}.ruby-long-width-menu::part(menu){--fill-color:#ffffff}msn-actions-menu::part(menu-region){z-index:700}.root{display:flex;background-color:transparent;flex-direction:row;justify-content:center;position:relative;transition:transform .3s ease-out;z-index:301;--top-site-margin:4px;--outline-width:2}.expanded-sites{opacity:1;visibility:inherit}.expanded-sites-large{opacity:1;visibility:inherit}.dot-separator{margin-left:2px;margin-right:2px;font-size:9px}msft-top-site-placeholder fluent-button::part(content){height:16px}.add-button{width:100%;height:100%}.add-button svg{width:16px;height:16px;pointer-events:none}.add-button span{display:none}.add-dialog-show{display:block}.add-dialog-hide{display:none}.sites{display:grid;grid-template-columns:repeat(var(--top-sites-grid-template-column,8),auto);transition:opacity 0.3s ease-out;row-gap:8px;overflow:hidden}.top-sites > .sites{row-gap:10px;column-gap:var(--top-site-column-gap);overflow:visible;transition:none}.sites .start-button,.sites .end-button{width:24px;height:24px;min-width:24px;display:flex;justify-content:center}.sites .end-button-medium{width:24px;height:24px;min-width:24px;display:flex;justify-content:center;margin-right:7px}.sites .end-button-large{width:24px;height:24px;min-width:24px;display:flex;justify-content:center;margin-right:7px;--top-site-color:${(0,x.ud)()?"#FFFFFF":"#000000"}}.sites .start-button:hover,.sites .end-button:hover{background:var(--top-site-action-icon-hover,${hn.oO})}.sites .option-icon{width:14px;height:14px}.sites path{fill:var(--top-site-color,${ln.l})}@media screen and (-ms-high-contrast:active){.sites path{fill:currentColor}}.sites fluent-button{background:transparent}.suggestion-title{font-weight:600;font-size:${pn.K};line-height:20px}.suggestion-body{margin-top:16px;display:flex}.suggestion-body msft-top-site,.suggestion-body .top-site-next{transition:all 0.2s ease-in-out;border-radius:4px;background:${dn.T};box-shadow:0px 1.6px 3.6px rgb(0 0 0 / 13%),0px 0px 2.9px rgb(0 0 0 / 11%);cursor:default;width:104px}.suggestion-body .suggested-top-site{margin-inline-end:12px}.suggestion-body .suggested-top-site:last-child{margin-inline-end:0px}.suggestion-body msft-top-site:hover,.suggestion-body .top-site-next:hover{background:${dn.T};box-shadow:0px 3.2px 7.2px rgb(0 0 0 / 13%),0px 0px 3.8px rgb(0 0 0 / 11%)}.suggestion-body .top-site-next .control{display:inline}.toast-root{position:absolute;left:50%;transform:translate(-50%,0);width:fit-content;max-width:95%;z-index:700;--fill-color:${(()=>{const t=(0,on.k6)(()=>en.kJ)(sn.Ay);return(0,x.ud)()?en.z4:t})()};
        --neutral-foreground-rest: ${(()=>{const t=(0,on.k6)(()=>en.kJ)(sn.Ay);return(0,x.ud)()?t:en.z4})()};
        --accent-foreground-rest: ${(0,x.ud)()?"#006CBE":"#63ADE5"};
        --toast-message-max-width: 287px;
    }

    msn-toast::part(toast-root){
        color: ${ln.l};
        background: ${mn.p};outline:1px solid rgba(0,0,0,0.1)}.toast-close-button{background:transparent}fluent-button.toast-navigation-button::part(control){border:2px solid transparent}fluent-button.toast-navigation-button::part(control):focus-visible{border:2px solid var(--focus-stroke-outer);box-shadow:0 0 0 2px var(--focus-stroke-outer)}fluent-button.toast-navigation-button::part(content)::before{height:0}.toast-navigation-button{margin-inline-start:4px;background:transparent;color:${gn.W_}}.toast-navigation-button-accent{margin-inline-start:4px;--design-unit:3.2;--control-corner-radius:4}.top-sites{position:relative;--top-site-backplate-color:rgba(255,255,255,0.8);--top-site-backplate-border-color:rgba(0,0,0,0.05);--top-site-pill-width:77px;--top-site-pill-height:58px;--top-site-column-gap:6px;--top-site-border-width:1px}.top-sites.top-site-s2tss{--top-site-pill-width:81px;--top-site-pill-height:62px}.top-sites > .sites{--top-site-pill-calculated-width:calc(var(--top-site-pill-width) + var(--top-site-border-width) * 2);max-width:calc(var(--top-site-pill-calculated-width) * var(--top-sites-grid-template-column) + var(--top-site-column-gap) * (var(--top-sites-grid-template-column) - 1));grid-template-columns:repeat(auto-fit,var(--top-site-pill-calculated-width))}@media (prefers-color-scheme:dark){.top-sites{--top-site-backplate-color:rgba(0,0,0,0.4)}.ruby-long-width-menu::part(menu){--fill-color:#242424}msn-actions-menu::part(icon){filter:invert(1)}}.topSitesLightOnBackgroundImage{--top-site-fill-hover:rgba(229,229,229,0.3);--top-site-color:#FFFFFF;--top-site-action-icon-hover:rgba(234,234,234,0.42);--top-site-placeholder-backplate-fill:rgba(229,229,229,0.7);--neutral-foreground-hint:rgba(255,255,255,0.54)}.topSitesDarkOnBackgroundImage{--top-site-fill-hover:rgba(66,66,66,0.4);--top-site-color:#FFFFFF;--top-site-action-icon-hover:rgba(36,36,36,0.42);--neutral-foreground-hint:rgba(255,255,255,0.54)}.topSitesDark{--top-site-fill-hover:rgba(0,0,0,0.3);--top-site-color:#FFFFFF;--top-site-placeholder-backplate-fill:transparent}.topSitesLight{--top-site-fill-hover:rgba(229,229,229,0.3);--top-site-color:rgba(0,0,0,0.83);--top-site-placeholder-backplate-fill:transparent}.with-back-plate path{fill:${ln.l}}.top-site-next.drag-chosen:not(.top-site-f3v1b){background:var(--top-site-fill-hover,var(--neutral-fill-hover))}.top-site-next.drag-chosen__no-hover{background:transparent !important}.top-site-next.drag-dragged{background:transparent}.top-site-next.small-top-sites{height:80px;width:104px}.top-site-next.small-top-sites.information-layout{height:75px;width:99px}msft-top-site::part(image),.top-site-next .image{background:${dn.T};border-radius:4px}msft-top-site::part(image),.add-placeholder.top-site-f3v1b .image{background:transparent}msft-top-site::part(image),.add-placeholder.top-site-f3v1b .image.new-add-image{background:${dn.T}}msft-top-site::part(imageMSB){background:#0078D4;border-radius:4px}.top-site-next.pill-top-site .image{box-shadow:0px 2px 4px rgb(0 0 0 / 10%);border-radius:12px}.top-site-next.pill-top-site fluent-button{border-radius:4px}.top-site-next.pill-top-site{border-radius:6px}.top-site-next.pinned-top-site .start{pointer-events:none}.top-site-next .control{padding:0;margin:0}.top-site-next .top-site-title{display:flex;justify-content:center;align-items:center}.top-site-next .top-site-title-large-tile{display:flex;justify-content:center;align-items:center;color:${(0,x.ud)()?"white":"black"};
        --top-site-color: ${(0,x.ud)()?"white":"black"}}.top-site-next .top-site-title span{overflow:hidden;text-overflow:ellipsis}.top-site-next .top-site-title-large-tile a{overflow:hidden;text-overflow:ellipsis}.top-site-next .badge{padding:1px 5px;border-radius:12px;flex:none;min-width:16px;background-color:#EDEDED;color:#0078D4;margin-inline-start:4px;font-size:10px;line-height:13px;height:16px;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;max-width:215px;transition:all 0.2s ease-in-out}msft-top-site-placeholder{height:88px}msft-top-site-placeholder.small-top-sites{height:84px}msft-top-site-placeholder.small-top-sites.information-layout{height:75px;width:99px}.top-site-next.small-top-sites.top-site-f3v1b{--top-site-black-plate-height:36px;--top-site-black-plate-width:36px;--top-site-hover-backplate-width:90px;--top-site-hover-backplate-height:78px;--top-site-action-icon-hover:rgba(0,0,0,0.05);--top-site-action-top-position:-5px;--top-site-action-border-position:-4px;--top-site-anchor-left-fix:-10px;--top-site-fill-hover:transparent;width:var(--top-site-pill-width);height:var(--top-site-pill-height)}.top-site-next.small-top-sites.top-site-f3v1b.top-site-s2ts{--top-site-black-plate-height:40px;--top-site-black-plate-width:40px;--top-site-action-border-position:-6px}.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-color:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#242424}@media (prefers-color-scheme:light){.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-fill-hover:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#242424}}@media (prefers-color-scheme:dark){.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-color:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#ADADAD}.top-site-next.small-top-sites.top-site-f3v1b{--top-site-action-icon-hover:rgba(255,255,255,0.05)}}.top-site-next.small-top-sites.top-site-f3v1b::before{transition:all 0.5s ease-in-out}.top-site-next.small-top-sites.top-site-f3v1b .content-container{padding:0}.top-site-next.small-top-sites.top-site-f3v1b .content-container{justify-content:center}.top-site-next.small-top-sites.top-site-f3v1b .image img{max-width:24px;height:24px}.top-site-next.small-top-sites.top-site-f3v1b .image svg{width:20px;height:20px}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{width:15px;height:15px}@media (max-width:1097px){:host{--top-sites-grid-template-column:4}.ten-sites{--top-sites-grid-template-column:5}.eight-sites{--top-sites-grid-template-column:8}.six-sites{--top-sites-grid-template-column:3}}@media (min-width:1098px){:host{--top-sites-grid-template-column:8}.ten-sites{--top-sites-grid-template-column:10}.expanded-sites{min-height:90px}.expanded-sites.information-layout{min-height:75px}.expanded-sites-large{min-height:72.9px}}.top-sites > .expanded-sites{min-height:unset}.top-site-add-success{position:absolute;top:40px;left:-10000px}.pinned-indicator{width:12px;height:12px}#dismissButtonId{margin-top:1px}.topsite-info{float:inline-end}.top-site-next .start{inset-inline-start:var(--top-site-margin,9px)}.top-site-next .end{inset-inline-end:var(--top-site-margin,9px)}msn-actions-menu::part(icon-img){width:20px}${_n}
    ${In}
    ${Pn}
    ${Fn}
    ${$n}
`,On=Dn,Nn={experienceConfigSchema:undefined};i.m.define(r.c.registry),o.KF.define(s.i.registry)},22272:function(t,e,n){function i(t,e){if(!t||!e)throw new Error("PlacementInteractionsThrottle: Invalid parameters.");return(n,i)=>{if(!n)return!1;if(!i)return!0;let r;return Object.values(i).flat().forEach(e=>{(null==e?void 0:e.type)===t&&null!=e&&e.ts&&(!r||r.ts<e.ts)&&(r=e)}),!(r&&Date.now()-r.ts<=e)}}function r(t,e,n){return(i,r)=>{if(!i)return!1;let o=(null==r?void 0:r[i.id])||[];const{relatedPlacementIds:s}=n||{};if(null!=s&&s.length){const t=s.filter(t=>t!==i.id).flatMap(t=>(null==r?void 0:r[t])||[]);o=[...o,...t]}if(!o.length)return!0;let a;o.forEach(e=>{(null==e?void 0:e.type)===t&&null!=e&&e.ts&&(!a||a.ts<e.ts)&&(a=e)});return!!(!a||a.ts&&Date.now()-a.ts>e)}}n.d(e,{A:function(){return r},r:function(){return i}})},22309:function(t,e,n){n.d(e,{H:function(){return r}});var i=n(6727);class r{createPageViewPayload(t){if(!t)return;const e=t&&t.page,n=e&&e.content,r=t&&t.user,o={rnd:(0,i.Ln)(),udc:!0};return e&&(o["pg.n"]=e.name,o["pg.t"]=e.type,o["pg.c"]=e.config,o["pg.p"]=e.product,o.rf=e.referral,o.tp=e.url,o.cvs=e.canvas,e.consentChanged&&(o.ctsa=e.consentChanged)),n&&(o.di=n.domainId,o["st.dpt"]=n.category,o["st.sdpt"]=n.subcategory,o.subcvs=n.vertical),t&&(o.lng=t.locale&&t.locale.mkt,t.request&&(o.rid=t.request.requestId,o.activityId=t.request.activityId),t.browser&&(o["d.imd"]=t.browser.isMobile,o.scr=t.browser.screenSize,o.anoncknm=t.browser.anoncknm)),r&&(o.issso=r.isSso,o.aadState=r.aadState),o}}},22360:function(t,e,n){function i(t){return s(t,t=>t.configRef.experienceType,t=>t.experienceType,null)}function r(t){return s(t,t=>t.configRef)}function o(t){return`${t.experienceType}_${t.instanceSrc}_${t.sharedNs||""}`}function s(t,e,n,i,r){if(void 0===r&&(r=null),null!=t){if("string"==typeof t)return i&&i(t)||r;const o=t;if(o.configRef)return e&&e(o)||r;if(n)return n(t)||r}return r}n.d(e,{Dw:function(){return o},QH:function(){return r},dt:function(){return i}})},23360:function(t,e,n){let i,r;function o(){if(!i){const t=document.head.getAttribute("data-client-settings");t&&(i=JSON.parse(t))}return i}function s(){if(r)return r;const t=document.head.getAttribute("data-info");return r=((/f:\s*([^;]+)/i.exec(t)||{})[1]||"").toLowerCase(),r}n.d(e,{$q:function(){return s},pE:function(){return o}})},23572:function(t,e,n){n.d(e,{Kq:function(){return s},aK:function(){return o},eQ:function(){return a}});var i=n(9192),r=n(33107);const o=(0,n(15098).L)(()=>(0,r.S9)("auth","auth")),s=t=>(0,i.YK)(`Auth.${t}`,{logStart:!0,logDuration:!0,firstTimeOnly:!0}),a=(t,e)=>(0,i.cE)(`Auth.${t}`,e,!0)},23608:function(t,e,n){n.d(e,{dd:function(){return l},J7:function(){return u},Rd:function(){return b},FP:function(){return S},UA:function(){return y},B6:function(){return k},k0:function(){return C},nR:function(){return T},S1:function(){return p},pN:function(){return d},_H:function(){return v},aJ:function(){return w}});var i,r,o=n(83003);!function(t){t.Article="article",t.Gallery="slideshow",t.Video="video",t.Webcontent="webcontent",t.DailyBrief="dailybrief",t.Gem="GemArticle"}(i||(i={})),function(t){t.Manga="manga"}(r||(r={}));var s=n(17254);const a="ArticleContent",c="GalleryContent",u=(i.Article,i.Gallery,s.T3.NavTargetUrlWithLocale,"consumption-feed-main-id"),l="consumption-feed-common-header",d="header";var f;!function(t){t.articlePageBodySection="articlePageBodySection",t.consumptionFeedContent="consumption-feed-content",t.galleryPageBodySection="galleryPageBodySection",t.gridAreaGallery="galleryPage_gridarea_gallery",t.topSpanModule="top-span-module",t.viewsHeaderWrapper="viewsHeaderWrapper",t.viewsHeaderWrapperGradientMasthead="viewsHeaderWrapperGradientMasthead",t.viewsHeaderWrapperWithNoComm="viewsHeaderWrapperWithNoComm"}(f||(f={}));var h;!function(t){t.actionBarClick="actionBarClick",t.atMenuToggle="atMenuToggle",t.jumpToNextNextArticle="jumpToNextNextArticle",t.jumpToPreviousArticle="jumpToPreviousArticle",t.highlyEngagedUserDetected="highlyEngagedUserDetected",t.syncSocialReactions="syncSocialReactions",t.continueReadingClickSync="continueReadingClickSync",t.SearchBoxFocus="SearchBoxFocus",t.SearchBoxHover="SearchBoxHover"}(h||(h={}));new Set(["dailybrief"]);const p=["AAPXJ6m","AAPXQbT","AAPXPgV","AAPXGDK"];var m;!function(t){t.general="general",t.river="river",t.infopane="infopane",t.display="display"}(m||(m={}));new Map([[i.Article,"ar"],[i.Gallery,"ss"],[i.Video,"vi"],[o.pL.Article,"ar"],[o.pL.Slideshow,"ss"],[o.pL.Video,"vi"],[o.pL.WebContent,"vi"],[o.pL.GemArticle,"gm"]]),o.pL.Article,o.pL.Slideshow,o.pL.Video,o.pL.Video,i.Article,i.Gallery,i.Video,new Map([[i.Article,"article"],[i.Gallery,"gallery"],[i.DailyBrief,"insight"],[i.Video,"video"],[o.pL.Article,"article"],[o.pL.Slideshow,"gallery"],[o.pL.Video,"video"],[o.pL.WebContent,"video"]]),new Map([["article","article"],["gallery","gallery"],["insight","insight"],["video","video"],["gem","gem"]]),new Map([["article",i.Article],["gallery",i.Gallery],["insight",i.DailyBrief],["video",i.Video],["webcontent",i.Video]]);const g=/[a-z]{2}-[a-z]{2}\/[a-z0-9]+$/i,v=t=>t.replace(g,"[locale]/[primary]"),w=t=>t.replace(g,"[locale]/[secondary]"),y="24px",b=7,S=5;var x;!function(t){t.Article="webcomprubyar",t.Gallery="webcomprubyga",t.Video="webcomprubyvi",t.Gem="webcomprubygem"}(x||(x={}));const C=499,k=73,T="ConsumptionPage.SlideshowConfigs"},23768:function(t,e,n){n.d(e,{m:function(){return o}});var i=n(68480);class r{constructor(){this.updateHydrationComplete=new i.P("updateHydrationRenderComplete"),this.updateRiverHydrationComplete=new i.P("updateRiverHydrationRenderComplete"),this.updateAboveTheFoldVisuallyReady=new i.P("updateAboveTheFoldVisuallyReady"),this.updateBelowTheFoldTransitionStart=new i.P("updateBelowTheFoldTransitionStart"),this.updateExperienceLoadDeferralState=new i.P("updateExperienceLoadDeferralState"),this.updateExperienceCurrentState=new i.P("updateExperienceCurrentState"),this.updateExperiencePublicState=new i.P("updateExperiencePublicState"),this.updateExperienceRenderDeferralState=new i.P("updateExperienceRenderDeferralState"),this.updateInitTiming=new i.P("UpdateInitTiming"),this.updatePageComplete=new i.P("updatePageCompleteTiming"),this.updateRenderTiming=new i.P("UpdateRenderTiming"),this.updateVisuallyReadyTiming=new i.P("UpdateVisuallyReadyTiming"),this.updateStartLoadingTiming=new i.P("UpdateStartLoadingTiming"),this.updateMediaContentReadyTiming=new i.P("UpdateMediaContentReadyTiming"),this.updateDomCompleteTiming=new i.P("UpdateDomCompleteTiming"),this.updateMilestonePlugins=new i.P("updateMilestonePlugin")}resetInstance(){this.updateHydrationComplete.unregisterObservers(),this.updateRiverHydrationComplete.unregisterObservers(),this.updateAboveTheFoldVisuallyReady.unregisterObservers(),this.updateBelowTheFoldTransitionStart.unregisterObservers(),this.updateExperienceLoadDeferralState.unregisterObservers(),this.updateExperienceCurrentState.unregisterObservers(),this.updateExperiencePublicState.unregisterObservers(),this.updateExperienceRenderDeferralState.unregisterObservers(),this.updateInitTiming.unregisterObservers(),this.updatePageComplete.unregisterObservers(),this.updateRenderTiming.unregisterObservers(),this.updateVisuallyReadyTiming.unregisterObservers(),this.updateDomCompleteTiming.unregisterObservers(),this.updateMilestonePlugins.unregisterObservers(),o=new r}}let o=new r},23801:function(t,e,n){n.d(e,{E:function(){return p}});var i=n(23768),r=n(8092),o=n(59545),s=n(3371),a=n(41917),c=n(89388);function u(t,e){t.registerObserver(t=>{((t.params||[])[0]||[]).forEach(t=>{let{deferralInfo:n,experienceType:i}=t;n&&i&&function(t,e,n){if(!t||!e||!(e.eventType in r.R$)||!e.experienceType&&!e.experienceGroup)return;const{eventType:i,experienceType:o}=e,u=o||e.experienceGroup,l=a.Z.get(u);if(l&&l.referencedDependentsDeferralMap){if(l.currentState<i){const e=l.referencedDependentsDeferralMap.get(i);e?e.size>0&&e.set(t,n):l.referencedDependentsDeferralMap.set(i,new Map([[t,n]]))}}else a.Z.set(u,{currentState:s.Y.notStarted,referencedDependentsDeferralMap:new Map([[i,new Map([[t,n]])]])}),o&&(0,c.r)(o,!0)}(i,n,e)})})}function l(){u(i.m.updateExperienceLoadDeferralState,s.Y.loadDeferred),u(i.m.updateExperienceRenderDeferralState,s.Y.renderDeferred),i.m.updateExperienceCurrentState.registerObserver(t=>{const e=[];if(((t.params||[])[0]||[]).forEach(t=>{let{experienceType:n,currentState:i}=t;if(!n||!i)return;const c=a.Z.get(n);if(!c)return;c.currentState=i;const u=r.KB.get(i),l=u&&c.referencedDependentsDeferralMap.get(u);l&&l.forEach((t,n)=>{if(!n)return;const i=t===s.Y.loadDeferred?s.Y.resolvedForLoad:s.Y.resolvedForRender;e.push((0,o.bO)(n,i))})}),e.length){const t=(0,o.Kl)();t&&i.m.updateExperienceCurrentState.getActionSender(t).send(e)}})}var d=n(94444);let f=new Map;(0,d.x)(()=>{f=new Map});var h=n(83542);class p extends h.i{constructor(t,e,n,r,a,c,u){super(t,e,n,r,a,c,u),this.startObservers(),i.m.updateInitTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.initialized)),i.m.updateRenderTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.rendered)),i.m.updateVisuallyReadyTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.visuallyReady)),i.m.updateStartLoadingTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.startLoading)),i.m.updateMediaContentReadyTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.mediaContentReady)),i.m.updateDomCompleteTiming.registerObserver(t=>this.updateExperienceTiming(t.params[0],s.Y.domComplete)),i.m.updateExperienceLoadDeferralState.registerObserver(t=>{const e=((t.params||[])[0]||[]).map(t=>{let{experienceType:e,experienceGroup:n,experienceInstance:i}=t;return(0,o.bO)(e,s.Y.loadDeferred,n,i)});e.length&&i.m.updateExperienceCurrentState.getActionSender(this).send(e)}),i.m.updateExperienceRenderDeferralState.registerObserver(t=>{const e=((t.params||[])[0]||[]).map(t=>{let{experienceType:e,experienceGroup:n,experienceInstance:i}=t;return(0,o.bO)(e,s.Y.renderDeferred,n,i)});e.length&&i.m.updateExperienceCurrentState.getActionSender(this).send(e)})}startObservers(){l(),i.m.updateExperienceCurrentState.registerObserver(t=>{((t.params||[])[0]||[]).forEach(t=>{t.currentState===s.Y.domComplete&&f.forEach((e,n)=>{let i=!0;const{DomCompleteDependencies:r,DomCompleteCallback:o}=e;for(const e of r.values()){const{dependencyId:{experienceType:n,experienceGroup:r,experienceNamespace:o}}=e;if(n&&n!==t.experienceType||r&&r!==t.experienceGroup||o&&o!==t.experienceInstance||(e.milestoneReached=!0),!e.milestoneReached){i=!1;break}}i&&(e.dependenciesMet=!0,o&&(f.delete(n),o()))})})})}updateExperienceTiming(t,e){t&&t.endTime&&i.m.updateExperienceCurrentState.getActionSender(this).send([(0,o.bO)(t.experienceType,e,t.experienceGroup,t.experienceInstance)])}}},24035:function(t,e,n){n.d(e,{X:function(){return c},t:function(){return i}});var i,r=n(16091),o=n(17720),s=n(38467);!function(t){t[t.IsSignedIn=1]="IsSignedIn",t[t.CookieConsentStatus=2]="CookieConsentStatus",t[t.OnetrustActiveCookieGroups=3]="OnetrustActiveCookieGroups",t[t.IsDarkMode=4]="IsDarkMode",t[t.ColumnArrangement=5]="ColumnArrangement",t[t.CurrentRoute=6]="CurrentRoute",t[t.TopicData=7]="TopicData",t[t.IsDocumentVisible=8]="IsDocumentVisible",t[t.IsSingleColumn=9]="IsSingleColumn"}(i||(i={}));class a extends s.E{constructor(){super(...arguments),this.handleVisibilityChange=()=>{this.set(i.IsDocumentVisible,"visible"===document.visibilityState)}}subscribe(t,e){this.has(t)||(t===i.IsDarkMode&&this.initBrowserThemeListener(),t===i.IsDocumentVisible&&this.initBrowserVisibilityListener()),super.subscribe(t,e)}initBrowserThemeListener(){const t=window.matchMedia("(prefers-color-scheme:dark)");this.set(i.IsDarkMode,t.matches),t.onchange=t=>{this.set(i.IsDarkMode,t.matches)}}initBrowserVisibilityListener(){this.handleVisibilityChange(),document.addEventListener("visibilitychange",this.handleVisibilityChange,{once:!0})}static getInstance(){return o.vv.get(this.appStateInstanceKey,()=>new a("AppState"))}}a.appStateInstanceKey=Symbol("__windowsAppState__");const c=(0,r.G)(a,{bindMethod:!0})},24452:function(t,e,n){n.d(e,{$y:function(){return p},Gj:function(){return h},MZ:function(){return f},io:function(){return m}});var i=n(94354),r=n(84855),o=n(10117),s=n(38405),a=n(56589),c=n(88296),u=n(98216),l=n(17720),d=n(13312);const f=()=>window.location.pathname.includes("/personalize"),h=()=>!f()&&!window.location.pathname.includes("/navigation_page"),p=()=>h();async function m(){var t,e,n;const f={experienceType:r.HPc,instanceSrc:"default"},h=await a.L.getConfig(f);let p=null==h||null===(t=h.properties)||void 0===t||null===(t=t.riverSectionCardProviderConfig)||void 0===t?void 0:t.initialRequest;o.V_.enableEarlyMainFeedRequest=!0;const m=null===(e=(0,c.TU)())||void 0===e?void 0:e.currentColumnArrangement;m&&(p.column=m);const g={c1:d._4.C1,c2:d._4.C2,c3:d._4.C3,c4:d._4.C4,c5:d._4.C5},v=(0,s.cP)(g[m]);let w;p={...p,...v},p.pageConfiguration=null===(n=u.YT.getPageMetadata())||void 0===n||null===(n=n.contract)||void 0===n||null===(n=n.page)||void 0===n?void 0:n.config,o.V_.enableEarlyMainFeedRequest=!0;const y=(0,i.km)();if(y)w=y,l.vv.set("__isSSRWpoFeedConsumed__",!0);else{const t=new i.Oq({auctionRidOverride:!1,initialRequest:{timeoutMs:p.timeoutMs}},!1);await i.Oq.ensureLock();try{w=await t.fetchFromWpoService(p,!0,null,!1)}catch(t){if(t instanceof i.fb&&(u.YT.addOrUpdateTmplProperty("wpofetchabort",t.silentExit?"silentexit":"continue"),t.silentExit))return;throw t}finally{i.Oq.releaseLock()}w&&(w.responseStatus=t.getResponseStatus())}o.V_.storeEarlyWpoFeedData(w)}},24678:function(t,e,n){n.d(e,{n:function(){return o}});var i=n(68140),r=n(20368);class o{static handleAction(t,e,n){return!!o.endsWith(t.type+"",e.type)&&(n.apply(n,t.params),!0)}static handleActions(t,e,n){const i=t.type+"";return!!(0,r.A)(e,t=>o.endsWith(i,t.type))&&(n.apply(n,t.params),!0)}static safeHandleAction(t,e,n){if(!o.endsWith(t.type+"",e.type))throw"The action payload does not match the action type.";return n.apply(n,t.params),!0}}o.endsWith=String.prototype.endsWith?function(t,e){return t.endsWith(e)}:i.A},25152:function(t,e,n){n.d(e,{hE:function(){return u},hL:function(){return c}});var i=n(77246),r=n(51388),o=n(86418);const s="msn";let a=null;function c(t){var e;const n=t.shadowRoot;if(!n)return;Boolean(null===(e=n.host)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.globalStylesAdded)||function(){if(!(0,i.S)())return[];if(null===a){a=[];for(const e of Array.from(document.styleSheets)){var t;if(null===(t=e.href)||void 0===t||!t.includes(s))continue;const n=new CSSStyleSheet;try{const t=Array.from(e.cssRules).map(t=>t.cssText).join(" ");n.replaceSync(t)}catch(t){(0,o.vV)("Error during stylesheet construction",34030,{href:e.href,error:null==t?void 0:t.message})}a.push(n)}}return a}().forEach(t=>(0,r.K)(n,t))}class u{connectedCallback(t){const{source:e}=t;e&&c(e)}}},25194:function(t,e,n){n.d(e,{N1:function(){return l},S4:function(){return d},vz:function(){return s}});var i=n(11372),r=n(29231),o=n(52088);const s=["click","auxclick","contextmenu"],[a,c,u]=s,l="data-customhandled";class d{constructor(){this.clickSearchDepth=20,this.contextMenuEventCallback=t=>{const e=this.getClickTarget(t),n=e&&e.hasAttribute("custom-context-menu")?i.MS.CustomContextMenu:i.MS.ContextMenu;this.handleClickEvent(e,i.EG.RightClick,n)},this.clickEventCallback=t=>{const e=this.getClickTarget(t);1===t.button?this.handleClickEvent(e,i.EG.MiddleClick,i.MS.Navigate):this.handleClickEvent(e)},this.auxClickEventCallback=t=>{if(1===t.button){const e=this.getClickTarget(t);this.handleClickEvent(e,i.EG.MiddleClick,i.MS.Navigate)}}}observe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=arguments.length>1?arguments[1]:void 0;t.addEventListener(a,this.clickEventCallback),t.addEventListener(c,this.auxClickEventCallback),e||t.addEventListener(u,this.contextMenuEventCallback)}unobserve(t,e){t.removeEventListener(a,this.clickEventCallback),t.removeEventListener(c,this.auxClickEventCallback),e||t.removeEventListener(u,this.contextMenuEventCallback)}handleClickEvent(t,e,n){const i=this.getTelemetryClickTarget(t);if(!i)return;i&&i.hasAttribute(l)||this.dispatchEvent("telemetryclick",i,e,n)}dispatchEvent(t,e,n,i){const r=new CustomEvent(t,{detail:{element:e,action:n,behavior:i}});dispatchEvent(r)}getTelemetryClickTarget(t){let e=t;for(let t=0;t<this.clickSearchDepth&&e&&!this.validTarget(e);t++)if(e.assignedSlot)e=e.assignedSlot;else if(e.parentElement)e=e.parentElement;else{if(!e.parentNode||!e.parentNode.host)break;e=e.parentNode.host}if(this.validTarget(e))return e}getClickTarget(t){if(!t.composedPath||"function"!=typeof t.composedPath)return t.target;{const e=t.composedPath();if(e.length>2&&"hasAttribute"in e[0]&&!e[0].hasAttribute(r.i)&&"[object ShadowRoot]"===Object.prototype.toString.call(e[1])&&"hasAttribute"in e[2]&&e[2].hasAttribute(r.i))return e[2];if(e.length>0)return e[0]}}validTarget(t){const e=t instanceof Element;if(!t||!e)return!1;const n=o.W.get(t);let r;return r=n?n.contract:o.W.parseContract(t),"BUTTON"===t.nodeName||t.hasAttribute("href")||t.getAttribute&&"button"===t.getAttribute("role")||r&&r.type===i.MJ.DropDown||r&&r.type===i.MJ.ActionButton||r&&r.behavior&&t.tagName.includes("-")||t.form}}},26093:function(t,e,n){function i(t){return!t||!function(t){if(!t)return t;if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}(t)}n.d(e,{o:function(){return i}})},26560:function(t,e,n){n.d(e,{s:function(){return o},u:function(){return s}});var i=n(16507);const r=/www\d*\./i,o=/^https?:/i;class s{constructor(t){if(!i.n.isNotNullOrUndefined(t))return;let e;try{e=new URL(t.trim())}catch{e=void 0}if(!e||!t.toLocaleLowerCase().startsWith(e.origin.toLocaleLowerCase()))try{e=new URL("http://"+t)}catch{e=void 0}if(!e||!e.host||!o.test(e.protocol))return;const n=e.hostname.replace(r,"");this.url=e.href.replace(/\/$/,""),this.domain=n,this.domainAndPath=this.domain+e.pathname.replace(/[\s/]+$/g,""),this.domainPathAndQuery=this.domainAndPath+e.search,this.hasQuery=!!e.search}}},26854:function(t,e,n){n.d(e,{qx:function(){return l}});var i,r=n(81760),o=n(19330),s=n(77195);!function(t){t.TruncateArray="TruncateArray"}(i||(i={}));const a={[i.TruncateArray]:(t,e)=>Array.isArray(t)?t.slice(0,e):t},c=(t,e)=>e.reduce((t,e)=>a[e.type](t,e.config),t),u={[o.W.ContentTopic]:[{type:i.TruncateArray,config:3}]},l=t=>{const e=[];for(const n in s.ie.current){const i=s.ie.current[n],o=r.t.getMetadata(n),a=r.t.getRulesOverride()??u;if(o){const r=t(i,c(o,(null==a?void 0:a[n])||[]));void 0!==r&&e.push(r)}}return e}},27191:function(t,e,n){n.d(e,{$w:function(){return o},Jc:function(){return i},RD:function(){return r},Sg:function(){return s},cn:function(){return d},l:function(){return c},le:function(){return l},v4:function(){return a},x8:function(){return u}});const i="TTPR2",r="TTF.SearchBox",o="TTVR",s="TTVR.SearchBox",a="TFPR",c="TTVR.BackgroundExecution",u="backgroundpreload",l="prerender",d="TTAF"},27233:function(t,e){e.A='<svg slot="start" width="12" height="14" viewBox="0 0 12 14"><path d="M6 0a6 6 0 0 1 6 6c0 2.87-1.94 5.5-5.73 7.92a.5.5 0 0 1-.54 0C1.93 11.51 0 8.87 0 6a6 6 0 0 1 6-6Zm0 1a5 5 0 0 0-5 5c0 2.33 1.54 4.56 4.68 6.7l.32.2.32-.2C9.46 10.55 11 8.32 11 6a5 5 0 0 0-5-5Zm0 3.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z"/></svg>'},27261:function(t,e,n){n.d(e,{$N:function(){return s},$t:function(){return o},C7:function(){return S},F:function(){return g},IU:function(){return u},KP:function(){return m},V:function(){return v},VQ:function(){return a},W7:function(){return w},aQ:function(){return d},g3:function(){return h},gH:function(){return p},iA:function(){return l},iw:function(){return f},lS:function(){return b},mZ:function(){return y},ou:function(){return c}});var i=n(77246),r=n(37423);function o(){return(0,i.S)()?window.navigator.userAgent:(0,r.cn)().userAgent}function s(){return(0,i.S)()?window.location.href:(0,r.cn)().url.href}function a(){return(0,i.S)()?window.location.hostname:(0,r.cn)().url.hostname}function c(){return(0,i.S)()?window.location.host:(0,r.cn)().url.host}function u(){return(0,i.S)()?window.location.origin:(0,r.cn)().url.origin}function l(){return(0,i.S)()?window.location.search:(0,r.cn)().url.search}function d(){return(0,i.S)()?window.location.pathname:(0,r.cn)().url.pathname}function f(){return(0,i.S)()?window.location.protocol:(0,r.cn)().url.protocol}function h(){return(0,i.S)()?window.location.hash:(0,r.cn)().url.hash}function p(){return(0,i.S)()?window.document.cookie:(0,r.cn)().cookie}function m(t){if(!(0,i.S)())throw new Error("getDocumentElementById is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementById(t)}function g(t){if(!(0,i.S)())throw new Error("getDocumentElementsByTagName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByTagName(t)}function v(t){if(!(0,i.S)())throw new Error("getDocumentElementsByClassName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByClassName(t)}function w(){return(0,i.S)()?window.indexedDB:null}function y(){return(0,i.S)()?window.devicePixelRatio:(0,r.cn)().devicePixelRatio}function b(){if(!(0,i.S)())throw new Error("SSR currently does not support custom fonts.");return!!(window.CSS&&window.CSS.supports&&CSS.supports("(font-variation-settings: normal)"))}function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous",o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!(0,i.S)())throw new Error("createScriptTag is unsupported server side. This call should be wrapped in canUseDOM().");const a=document.createElement("script");return e&&(a.id=e),o&&a.setAttribute("class",o),s&&(a.onload=s),a.type="text/javascript",t&&(window&&window.trustedTypesURLValidation?a.src=window.trustedTypesURLValidation(t,"scriptSrcUrlPolicy"):a.src=t,a.async=n,a.crossOrigin=r),window&&window.NONCE_ID&&(a.nonce=window.NONCE_ID),a}},27597:function(t,e,n){n.d(e,{C1:function(){return o},Jl:function(){return c},aD:function(){return a},vQ:function(){return s}});var i=n(17720);let r;function o(t){r=t}function s(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=u();let o=i[t];if(o||(o=[],i[t]=o),o.push(e),n){const n=r(t);if(n){const t=n.getCurrentState();t&&e(t)}}}function a(t,e){const n=u(),i=n[t];if(i&&i.length){for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}n[t]=i}}function c(t,e){const n=u()[t];if(n&&e)for(const t of n)t(e)}function u(){return i.vv.get("reducers__callbackMap",()=>({}))}},27791:function(t,e,n){n.d(e,{GZ:function(){return c},cs:function(){return a}});var i=n(65022),r=n(27220),o=n(44449);const s=[{ratio:"invalid",width:1,height:9999},{ratio:"1x1.91",width:1,height:1.91},{ratio:"9x16",width:9,height:16},{ratio:"3x4",width:3,height:4},{ratio:"1x1",width:1,height:1},{ratio:"4x3",width:4,height:3},{ratio:"16x9",width:16,height:9},{ratio:"1.91x1",width:1.91,height:1}],a=(0,o.sx)(i._0l,"calculateRatio")(t=>{var e,n;const i=null==t||null===(e=t.items[0])||void 0===e?void 0:e.originalImageWidth,r=null==t||null===(n=t.items[0])||void 0===n?void 0:n.originalImageHeight;if(!i||!r)return;const o=l(t.items[0].imageUrl);if(!o)return;const a=o.searchParams.get("c");if(a&&"4"!==a)return;const c=Number(i),u=Number(r);let d=1;for(;d<s.length&&Math.ceil(c*s[d].height)!==Math.ceil(u*s[d].width);++d)if(!(Math.ceil(c*s[d].height)>Math.ceil(u*s[d].width))){if(1==d)break;const t=1*c/u;Math.abs(t-s[d].width/s[d].height)>=Math.abs(t-s[d-1].width/s[d-1].height)&&(d-=1);break}d==s.length&&(d-=1),t.template.desiredRatio=s[d].ratio}),c=(0,o.sx)(i._0l,"reduceWidthOrHeightAndUpdateUrl")((t,e,n,i)=>{const o=(0,r.A)(s,t=>t.ratio===e);if(1!==o.length)return;const a=o[0],c=n?t.ext.originalImageWidth:t.originalImageWidth,l=n?t.ext.originalImageHeight:t.originalImageHeight;if(!c||!l)return;const d=1*c/l,f=1*a.width/a.height,h={w:c,h:l};d>=f?h.w=Math.round(l*f):h.h=Math.round(c/f);const p={river:300,infopane:604};return h.w>p[i]?(h.h=Math.round(h.h*p[i]/h.w),h.w=p[i]):(h.h=p[i]*f,h.w=p[i]),u(h.h,h.w,t,n),h}),u=(0,o.sx)(i._0l,"updateUrlWithDesiredSize")((t,e,n,i)=>{const r=l(i?n.url:n.imageUrl);r&&(r.searchParams.set("h",t),r.searchParams.set("w",e),r.searchParams.set("c","4"),i?n.url=r.href:n.imageUrl=r.href)}),l=(0,o.sx)(i._0l,"constructUrl")(t=>{let e;try{e=new URL(t)}catch(n){try{e=new URL(`https://${t}`)}catch{return}}return e})},27942:function(t,e,n){n.d(e,{AE:function(){return b},F9:function(){return y},H5:function(){return x},VD:function(){return f},_D:function(){return S},eS:function(){return p},j1:function(){return i},mO:function(){return m},oK:function(){return c}});var i,r=n(11177),o=n(17720),s=n(63150),a=n(87944);!function(t){t.c1="c1",t.c2="c2",t.c3="c3",t.c4="c4",t.c5="c5"}(i||(i={}));const c={c1:1,c2:2,c3:3,c4:4,c5:5},u="__minViewportWidthOverrides__",l="__columnArrangementDefinitions__",d="__columnArrangementMap__",f=()=>(o.vv.get(l)||v(),o.vv.get(l)),h=()=>(o.vv.get(d)||v(),o.vv.get(d));function p(t){o.vv.set(u,t)}function m(){const t=f(),e=h();if(s.U0.fiveColSupported()&&4===t.length){const n=new g(i.c5,r.t9);t.push(n),e[i.c5]=n}}class g{constructor(t,e,n){this.arrangement=t,this.contentSizePx=e,this.isFirstBreakpoint=n}get minViewportWidthPx(){if(this.isFirstBreakpoint)return 0;const t=o.vv.get(u);if(t){const e=t.get(this.arrangement);if(e)return e}return this.contentSizePx+w}}function v(){const t=[];t.push(new g(i.c1,r.rY,!0)),t.push(new g(i.c2,r.sx)),t.push(new g(i.c3,r.zN)),t.push(new g(i.c4,r.YK)),s.U0.fiveColSupported()&&t.push(new g(i.c5,r.t9));const e={};for(const n of t)e[n.arrangement]=n;o.vv.set(l,t),o.vv.set(d,e)}const w=32;!function(){const t=[0],e=f();for(let i=1;i<e.length;i++){var n;t.push(null===(n=e[i])||void 0===n?void 0:n.minViewportWidthPx)}}();function y(t,e){const n=[],i=f(),r=h();if(t){const e=r[t],i=null==e?void 0:e.minViewportWidthPx;i>0&&n.push(`(min-width: ${(0,a.c)(i)})`)}if(e){const t=r[e],s=i.indexOf(t);var o;if(s<i.length-1)n.push(`(max-width: ${(0,a.c)((null===(o=i[s+1])||void 0===o?void 0:o.minViewportWidthPx)-1)})`)}return n.join(" and ")}function b(t){return y(t,t)}function S(t,e){const n=y(t,e);return n?"@media "+n:""}function x(t){return S(t,t)}},28006:function(t,e,n){n.d(e,{BO:function(){return m},BS:function(){return _},HI:function(){return b},KR:function(){return f},N$:function(){return w},OJ:function(){return A},Qb:function(){return a},TA:function(){return l},UX:function(){return u},UY:function(){return d},Vz:function(){return S},YL:function(){return $},YQ:function(){return p},ZI:function(){return v},_N:function(){return y},al:function(){return I},bn:function(){return x},cN:function(){return r},eX:function(){return R},h$:function(){return c},lm:function(){return o},lu:function(){return M},mL:function(){return h},n4:function(){return k},ni:function(){return P},oN:function(){return C},ql:function(){return i},sF:function(){return T},v:function(){return g},xW:function(){return s}});const i="AdminPortalData",r="AdsManager",o="BackgroundData",s="CategoryData",a="ChannelData",c="ChromiumPageSettings",u="DisplayAdsManager",l="ExperienceTrackerHomePageData",d="FeedbackData",f="IrisData",h="LayoutPreferenceData",p="LocationData",m="MilestoneData",g="NavigationData",v="NurturingPlacementManager",w="PlacementManager",y="Preload",b="RewardsData",S="SearchHistoryEdgenextData",x="SharedState",C="ShellNewTabData",k="SmartListSharedData",T="TelemetryData",$="TopicData",A="TopSitesLayoutData",I="VerticalPropertyData",P="WeatherData",_="WeatherCardData",M="FinanceData",R="SocialData"},28024:function(t,e,n){function i(t){if(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&t.display)return t.display;if(t.content)return t.content}return t}function r(t){return t.language&&t.market&&(t.language+"-"+(t.script?t.script+"-":"")+t.market).toLowerCase()||""}function o(t){var e;if(!t||!t.startsWith("f:"))return;const n=(t.match(/f:\s*([^;]+)/i)||[])[1];return n?null===(e=n.toLowerCase().split(","))||void 0===e?void 0:e.sort():[]}n.d(e,{Ah:function(){return r},YP:function(){return i},lC:function(){return o}})},28381:function(t,e,n){n.d(e,{y:function(){return y}});var i=n(17720),r=n(16091),o=n(60815),s=n(56911),a=n(77246),c=n(97364),u=n(97004),l=n(95239),d=n(85889),f=n(56639),h=n(43103);class p{constructor(){this.mediaQueryCallback=()=>{},this.appThemeState=null}eventListener(){if(this.appThemeState)if((0,f.vk)()){const t=(0,f.cE)(),e=null==t?void 0:t.isDarkMode;void 0!==e&&this.appThemeState.setAppInDarkMode(e)}else if((0,d.JK)()){const e=sessionStorage.getItem("nativeAppUserConfig");if(e){const t=JSON.parse(e),n=null==t?void 0:t.isDarkMode;void 0!==n&&this.appThemeState.setAppInDarkMode(n)}else{var t;this.appThemeState.setAppInDarkMode(!(null===(t=this.mediaQueryList)||void 0===t||!t.matches))}}else{var e;this.appThemeState.setAppInDarkMode(!(null===(e=this.mediaQueryList)||void 0===e||!e.matches))}}initialize(t){var e;return!(!this.mediaQueryList&&t)||!(null===(e=window)||void 0===e||!e.matchMedia)&&(this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),!!this.mediaQueryList&&(this.appThemeState=t,this.mediaQueryCallback=this.eventListener.bind(this),this.mediaQueryList.addEventListener("change",this.mediaQueryCallback),this.mediaQueryCallback(),!0))}uninitialize(){return this.mediaQueryList&&(this.mediaQueryList.removeEventListener("change",this.mediaQueryCallback),this.mediaQueryCallback=()=>{},this.mediaQueryList=void 0,this.appThemeState=null),!0}}class m{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.initialized=!1,this.source=t,this.appThemeState=null}handleChange(t,e){if(this.source&&e.target===this.source){const e=t.getValueFor(this.source),n=(0,h.e)(e.toColorString())<=u.y.DarkMode;this.appThemeState&&this.appThemeState.setAppInDarkMode(n)}}updateSource(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source=t}initialize(t){if(this.initialized)return!0;if(this.appThemeState=t,!this.source){const t=document.querySelector("fluent-design-system-provider[fill-color]");if(null==t)return!1;this.source=t}const e={target:this.source,token:l.p};return this.handleChange(l.p,e),l.p.subscribe(this),this.initialized=!0,this.initialized}uninitialize(){return this.initialized&&(l.p.unsubscribe(this),this.initialized=!1,this.appThemeState=null),!0}}class g{constructor(){this.appThemeInDarkMode=!1,this.themeSwitchSubscription=null;let t=null;if((0,a.S)())switch((0,c.YV)()){case"BaseLayerLuminance":t=new m;break;case"External":break;default:t=new p}else t=new p;t&&this.setThemeSubscription(t)}setThemeSubscription(t){if(this.themeSwitchSubscription&&this.themeSwitchSubscription.uninitialize(),this.themeSwitchSubscription=t,!this.themeSwitchSubscription)return;var e;this.themeSwitchSubscription.initialize(this)||(this.themeSwitchSubscription=new p,null===(e=this.themeSwitchSubscription)||void 0===e||e.initialize(this))}setAppInDarkMode(t){this.appThemeInDarkMode=t}appInDarkMode(){return this.appThemeInDarkMode}}(0,s.Cg)([o.sH],g.prototype,"appThemeInDarkMode",void 0);const v=new WeakMap;class w{constructor(){this._appThemeMode=null}get appThemeMode(){return this._appThemeMode||(this._appThemeMode=new g),this._appThemeMode}static getInstance(){return i.vv.get("__SuperComponentThemeHelper__",()=>new w)}setThemeSwitchSubscription(t){this.appThemeMode.setThemeSubscription(t)}setAppInDarkMode(t){this.appThemeMode.setAppInDarkMode(t)}appInDarkMode(){return this.appThemeMode.appInDarkMode()}subscribeThemeChange(t){if(!t||!this.appThemeMode||v.get(t))return;if(t.handleThemeChange(y.appInDarkMode()),!(0,c.TZ)())return;const e={handleChange:()=>{t.handleThemeChange(y.appInDarkMode())}};v.set(t,e),o.cP.getNotifier(this.appThemeMode).subscribe(e,"appThemeInDarkMode")}unsubscribeThemeChange(t){if(!(0,c.TZ)()||!t||!this.appThemeMode)return;const e=v.get(t);e&&(o.cP.getNotifier(this.appThemeMode).unsubscribe(e,"appThemeInDarkMode"),v.delete(t))}}const y=(0,r.G)(w)},28422:function(t,e,n){n.d(e,{g:function(){return u}});var i=n(30817),r=n(89151),o=n(16822),s=n(77246),a=n(12870),c=n(27191);async function u(t){if(!(0,s.S)())return;if(t=t||{},a.Rb.IsPrerender){(0,i.zq)()[c.le]=1}let e=!1;return new Promise(n=>{const i=setTimeout(()=>{n(),e=!0,(0,o.je)(s,r.Ci.Secondary,t.incompleteVisualDependencyCallback)},t.timeoutOverride||2e4);async function s(e){i&&clearTimeout(i);const n=!!t.pageLoadEventsAvailableCallback&&!t.pageLoadEventsAvailableCallback();(0,o.x5)(e,t.onBeforeNotifyCallback&&(()=>{t.onBeforeNotifyCallback(e)}),n)}(0,r.uR)().then(t=>{n(),e||s(t)})})}},28556:function(t,e,n){n(71481);var i=n(65022),r=n(93468),o=n(22020),s=n(18931),a=n(98216),c=n(17254),u=n(1732);class l extends s.lT{constructor(t,e){null!=t&&t.shadowRoot&&(null===a.YT||void 0===a.YT||a.YT.observeShadowRoot(t.shadowRoot)),super(t,e)}connect(){try{super.connect()}catch(n){if(this.needsHydration){var t;this.needsHydration=!1;const s={...i.rbF.pb,customMessage:`Error: ${null==n?void 0:n.message}`};if(n instanceof o.qQ){const t=new XMLSerializer;s.targetNodeId=n.factory.targetNodeId,s.targetTagName=n.factory.targetTagName,s.viewMarkup=t.serializeToString(n.fragment),s.templateString=n.templateString}var e;if(n.factories)s.factories=JSON.stringify(null===(e=n.factories)||void 0===e?void 0:e.map(t=>{var e;return{...t,dataBinding:{...null==t?void 0:t.dataBinding,evaluate:null==t||null===(e=t.dataBinding)||void 0===e||null===(e=e.evaluate)||void 0===e?void 0:e.toString()}}}));n.node&&(s.nodeHTML=n.node.outerHTML||""),n.templateString&&(s.templateString=n.templateString),n.stack&&(s.stack=n.stack);if(((null===c.T3||void 0===c.T3||null===(t=c.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.pageExperiments)||[]).includes("prg-swssrbspg-v1")&&(0,u.Lc)(),this.source.tagName.includes("HERO"))a.YT.sendAppErrorEvent({...i.pHQ,message:`Error while hydrating component: ${this.source.tagName}`,pb:s});else if("BACKGROUND-IMAGE"==this.source.tagName)a.YT.sendAppErrorEvent({...i.BL9,message:`Error while hydrating component: ${this.source.tagName}`,pb:s});else if("TOP-COMMENTS-CARD"==this.source.tagName)a.YT.sendAppErrorEvent({...i.ejj,message:`Error while hydrating component: ${this.source.tagName}`,pb:s});else if(this.source.tagName.includes("WEATHER-TOPSECTION")){const t=[];try{const e=document.querySelector("body > fluent-design-system-provider > ruby-page").shadowRoot.querySelector("div.feed-section > msn-feed").shadowRoot.querySelector("#mfl-0-0").shadowRoot.querySelector("#weather > weather-top-section-card").shadowRoot.querySelector("div.card-container");t.push(...Array.from(e.querySelectorAll("*")).map(t=>t.tagName))}catch(t){}finally{(0,r.vV)(i.NQ7,`Error while hydrating component: ${this.source.tagName}`,void 0,{...i.NQ7.pb,elementsInContainer:t.join(", ")})}}else(0,r.vV)(i.rbF,`Error while hydrating component: ${this.source.tagName}`,void 0,s);super.connect()}else(0,r.c_)(n,i.VNh,`Error while connecting component: ${this.source.tagName}`,void 0,{component:this.source.tagName})}}}s.V7.setStrategy(l)},28611:function(t,e,n){n.d(e,{Cq:function(){return u},YJ:function(){return a},vs:function(){return c},xV:function(){return i}});var i,r=n(17720),o=n(95992);!function(t){t.actionMenuOpen="actionMenuOpen",t.addTopSite="addTopSite",t.coachmark="coachmark",t.editTopSite="editTopSite",t.editWelcomeGreeting="editWelcomeGreeting",t.hamburgerMenu="hamburgerMenu",t.imageSearch="imageSearch",t.locationMarkerCard="locationMarkerCard",t.mobileAppUpsell="mobileAppUpsell",t.msRewards="msRewards",t.museumCard="museumCard",t.navOverflow="navOverflow",t.notificationBell="notificationBell",t.pivot="pivot",t.search="search",t.searchHistoryMoreOptions="searchHistoryMoreOptions",t.settings="settings",t.feedSettings="feedSettings",t.feedbackFaq="feedbackFaq",t.signInControl="signInControl",t.toast="toast",t.topSiteOverflowPanel="topSiteOverflowPanel",t.waffle="waffle",t.recommendedSitesSetting="recommendedSitesSetting",t.weatherOneLinerActionMenu="weatherOneLinerActionMenu",t.pulseActionMenu="pulseActionMenu",t.rewardsDialog="rewardsDialog",t.rewardsSignInDialog="rewardsSignInDialog",t.marketLanguageToggle="marketLanguageToggle"}(i||(i={}));class s{constructor(){this.flyoutOpen=!1,this.openFlyouts=new Set,this.registeredCallbacks=[]}static getInstance(){return r.vv.get("__FlyoutCoordinationInstance__",()=>new s)}reportFlyoutOpen(t,e){e?this.openFlyouts.add(t):this.openFlyouts.delete(t),this.flyoutOpen=this.openFlyouts.size>0;for(const n of this.registeredCallbacks)n(t,e)}registerFlyoutListener(t){this.registeredCallbacks.push(t)}unregisterFlyoutListener(t){(0,o.A)(this.registeredCallbacks,e=>t===e)}isFlyoutOpen(){return this.flyoutOpen}}function a(t,e){return s.getInstance().reportFlyoutOpen(t,e)}function c(t){return s.getInstance().registerFlyoutListener(t)}function u(t){return s.getInstance().unregisterFlyoutListener(t)}},28828:function(t,e,n){function i(t){try{if(t)return JSON.parse(t)}catch(t){}return null}n.d(e,{B:function(){return i}})},28868:function(t,e,n){n.d(e,{lA:function(){return s},RH:function(){return r}});var i=n(77246);function r(){var t,e;if(!(0,i.S)()||function(){const t=new URL(location.href),e=t.searchParams.get("chpltfm")||"",n=t.searchParams.get("ocid")||"",i=e.toLowerCase().split("-")[0];return n.toLowerCase()==="swiftKey".toLowerCase()||"swiftkey"==i.toLowerCase()}())return!1;const n=null===(t=window.sapphireWebViewBridge)||void 0===t?void 0:t.send,r=null===(e=window.webkit)||void 0===e||null===(e=e.messageHandlers)||void 0===e||null===(e=e.send)||void 0===e?void 0:e.postMessage;return n||r}function o(t,e){var n,i,r,o;console.log(t,e);const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),a={scenario:t,data:{data:e},id:s};var c;null!==(n=window.__sapphirePeregrineState)&&void 0!==n&&n.gAppId&&!a.data.data.appId&&(a.data.data.appId=null===(c=window.__sapphirePeregrineState)||void 0===c?void 0:c.gAppId);const u=JSON.stringify(a);var l;((null===(i=window.webkit)||void 0===i||null===(i=i.messageHandlers)||void 0===i||null===(i=i.send)||void 0===i?void 0:i.postMessage)&&(null===(r=window.webkit)||void 0===r||null===(r=r.messageHandlers)||void 0===r||null===(r=r.send)||void 0===r||r.postMessage(u)),(null===(o=window.sapphireWebViewBridge)||void 0===o?void 0:o.send)&&window.sapphireWebViewBridge.send(u),"subscribe"!==t&&"sendBroadcast"!==t)&&((null===(l=window.VPsapphireWebViewBridge)||void 0===l?void 0:l.send)&&window.VPsapphireWebViewBridge.send(u));return s}function s(t,e,n){if(!(0,i.S)())return;const r=o(t,e);n&&function(t,e){const{gJobListeners:n}=window.__sapphirePeregrineState;n[t]?n[t].push(e):n[t]=[e]}(r,n)}"undefined"==typeof window||window.__sapphirePeregrineState||(window.__sapphirePeregrineState={gJobListeners:{},gObservers:{},gAppId:void 0,gInited:!1})},29231:function(t,e,n){n.d(e,{RJ:function(){return o},i:function(){return i},kN:function(){return a},xB:function(){return s},ym:function(){return r}});const i="data-t";var r;!function(t){t.Auto="auto",t.AutoScroll="autoScroll",t.Load="load",t.OutOfFocus="outoffocus",t.Partial="partial",t.Resize="resize",t.Scroll="scroll",t.Swipe="swipe",t.Tap="tap",t.View="view"}(r||(r={}));const o="TelemetryPageViewNotificationEvent",s="AppErrorNotificationEvent",a="IDXId"},29252:function(t,e,n){n.d(e,{Ig:function(){return y},P7:function(){return v},T4:function(){return m},Xq:function(){return w},ei:function(){return c},r8:function(){return p},tb:function(){return b},uw:function(){return S},x5:function(){return g}});var i=n(75575),r=n(17254),o=n(74195),s=n(2462);const a=10/1440,c="cbypass";let u="",l=!1,d=0;const f=10;let h=parseInt((0,s.Ri)(c))||0;async function p(){h=Date.now(),(0,s.Ub)(c,h.toString(),a,r.T3.HostPage.topDomain,"/"),await i.S.purgeCacheAsync(i.p.river),(0,o.Q6)({id:"updatemyfeed",payload:h})}async function m(){h=Date.now(),(0,s.Ub)(c,h.toString(),a,r.T3.HostPage.topDomain,"/"),await i.S.purgeCacheAsync(i.p.river)}function g(){return h}function v(t){h>0&&t.searchParams.set(c,h.toString())}function w(){return u}function y(t,e){if(!t)return;if(e)return u=t,void(d=1);if(d>=f)return;const n=u?`${u},${t}`:t;d+=1,u=n}function b(){return l}function S(t){!0!==t&&"true"!==t||(l=!0)}},29582:function(t,e,n){n.d(e,{W:function(){return s}});var i=n(63456),r=n(80164);const o={n:"name",t:"type",a:"action",b:"behavior",customHandled:"customHandled",d:"overrideDestinationUrl",oe:"overrideEmailIdScrubbing",z:"zone",ism:"isMonetized",isfeed:"isFeed",isci:"isCI","c.hi":"content.headlineIdx","c.auth":"content.author","c.i":"content.id","c.l":"content.isLocal","c.s":"content.source","c.p":"content.parentId","c.t":"content.type","c.tp":"content.topic","c.v":"content.vertical","c.c":"content.category","c.sc":"content.subcategory","c.pn":"content.partnerName","c.pi":"content.partnerId","c.b":"content.brand","c.bi":"content.brandId","c.st":"content.subscriptionType","c.tv":"content.teraVertical","c.tc":"content.teraCategory","c.pl.i":"content.placement.id","c.pl.p":"content.placement.parentId","c.pl.o":"content.placement.ordinal","c.pl.l":"content.placement.lineage","c.pl.lo":"content.placement.lineageOrdinal","c.aud":"content.audienceMode","c.pv":"content.providerType","f.i":"feed.id","f.n":"feed.name","f.t":"feed.type",ext:"ext","m.c":"metrics.isContentCI"};class s{static compress(t){const e={},n=Object.keys(o);for(let r=0;r<n.length;r++){const s=n[r],a=(0,i.A)(t,o[s]);void 0!==a&&(e[s]=a)}const r=(0,i.A)(t,"content.headline");return r&&(e["c.hl"]=r),e}static decompress(t){if(!t)return;const e={},n=Object.keys(o);for(let s=0;s<n.length;s++){const a=n[s],c=(0,i.A)(t,a);void 0!==c&&(0,r.A)(e,o[a],c)}return t["c.hl"]&&(0,r.A)(e,"content.headline",t["c.hl"]),e}}},29736:function(t,e,n){n.d(e,{oF:function(){return E},GL:function(){return A},W3:function(){return C},XO:function(){return I},uF:function(){return k},Bv:function(){return P},ov:function(){return $},Mc:function(){return tt},kG:function(){return at},Vr:function(){return Vt},ET:function(){return M},hJ:function(){return R},pE:function(){return it},KH:function(){return wt},Bd:function(){return xt},cz:function(){return Wt},mf:function(){return kt},eY:function(){return yt},Wu:function(){return ct},SE:function(){return Bt},E9:function(){return Dt},Yx:function(){return Pt},Je:function(){return _t},R:function(){return It},Ii:function(){return Ft},aw:function(){return Mt},O4:function(){return Et},e2:function(){return Ut},EF:function(){return Nt},e:function(){return Ot},SG:function(){return Ht},O_:function(){return At},rk:function(){return Rt},mv:function(){return N},YS:function(){return L},Kp:function(){return rt},go:function(){return $t},ls:function(){return pt},_g:function(){return Tt},sg:function(){return st},l3:function(){return ot},L3:function(){return mt},l4:function(){return W},p8:function(){return j},Yl:function(){return H},Ve:function(){return Y},HW:function(){return dt},Z_:function(){return q},$y:function(){return Q},f_:function(){return X},Ug:function(){return z},BT:function(){return K},Oi:function(){return J},cJ:function(){return B},jI:function(){return et},T_:function(){return lt},b6:function(){return ft},fQ:function(){return _},Yc:function(){return F},zK:function(){return O},Wf:function(){return ut},v0:function(){return D},vT:function(){return V}});var i=n(89980),r=n(12870),o=n(17254),s=n(63150),a=n(55593),c=n(36090),u=n(43889),l=n(77246),d=n(98216),f=n(41820),h=n(48172),p=n(98793),m=n(1732),g=n(53626);const v=t=>(t?(0,i.Lg)().removeObject(g.CQ):(0,i.Lg)().getObject(g.CQ))??void 0;var w=n(2462),y=n(93468),b=n(65022);const S=30;var x;!function(t){t[t.UnsupportedEnvironment=1]="UnsupportedEnvironment",t[t.UnsupportedCohortConditions=2]="UnsupportedCohortConditions",t[t.UnsupportedMarket=3]="UnsupportedMarket",t[t.PageForced=4]="PageForced",t[t.ExplicitOptIn=5]="ExplicitOptIn",t[t.UserSelectionOptIn=6]="UserSelectionOptIn",t[t.BlockedByEdgeIsolation=7]="BlockedByEdgeIsolation",t[t.PageSettingsIneligible=8]="PageSettingsIneligible",t[t.InControlFlight=9]="InControlFlight",t[t.UserSelectionOptOut=10]="UserSelectionOptOut",t[t.OneServiceABCohort=11]="OneServiceABCohort",t[t.DogfoodingCohort=12]="DogfoodingCohort",t[t.ExternalOptInCohort=13]="ExternalOptInCohort",t[t.UntargetedCohort=14]="UntargetedCohort",t[t.TrySetCookieFailed=15]="TrySetCookieFailed",t[t.RemovedDueToDogfoodOptOut=16]="RemovedDueToDogfoodOptOut",t[t.RemovedDueToNoValidFlights=17]="RemovedDueToNoValidFlights",t[t.RemovedDueToStaleABState=18]="RemovedDueToStaleABState",t[t.InMsftShipped=19]="InMsftShipped",t[t.OneServiceAACohort=20]="OneServiceAACohort",t[t.ExitFromRubyInLoggingMode=21]="ExitFromRubyInLoggingMode",t[t.RemovedDueToSignInStatusChanged=22]="RemovedDueToSignInStatusChanged",t[t.NonAdultAudienceMode=23]="NonAdultAudienceMode",t[t.NotInCohortFlightNorShipped=24]="NotInCohortFlightNorShipped"}(x||(x={}));const C=Object.freeze(new Set(["en-us"])),k=Object.freeze(new Set(["edgeChromium","msn","msnStudio"])),T=Object.freeze(new Set(["en-us","en-ca","en-au","en-gb","en-in","zh-cn"]));var $,A;!function(t){t[t.Unknown=1]="Unknown",t[t.OptIn=2]="OptIn",t[t.OptOut=3]="OptOut",t[t.ExplicitOptIn=4]="ExplicitOptIn"}($||($={})),function(t){t[t.Unknown=1]="Unknown",t[t.In1SCohortForAA=2]="In1SCohortForAA",t[t.Out1SCohortForAA=3]="Out1SCohortForAA",t[t.InDogfoodingCohort=4]="InDogfoodingCohort",t[t.InAlphaDogfoodingCohort=5]="InAlphaDogfoodingCohort",t[t.ExternalOptIn=6]="ExternalOptIn",t[t.In1SCohortForAB=7]="In1SCohortForAB",t[t.Out1SCohortForAB=8]="Out1SCohortForAB",t[t.InUntargetedCohort=9]="InUntargetedCohort",t[t.InMsftShipped=12]="InMsftShipped"}(A||(A={}));const I="__rubyState",P="__rubyUX",_="_",M=60,R=Object.freeze({userSelection:$.Unknown,cohortStatus:A.Unknown}),E=5e3,F=Symbol("rubySwitchManager"),D=()=>{!(0,i.Lg)().getObject("showRubyCoachmark")&&(0,i.Lg)().setObject("showRubyCoachmark","true")},O=()=>{!(0,i.Lg)().getObject("explictOptInCompactMode")&&(0,i.Lg)().setObject("explictOptInCompactMode","true")},N=t=>{if(t&&t.changed&&t.deleted){const e=t,n=t=>t.name===I||t.name===P;if(!e.changed.some(n)&&!e.deleted.some(n))return!0}return!1};function U(t,e){var n,i;if(!(0,l.S)()||null!==(n=window.location.hostname)&&void 0!==n&&null!==(i=n.startsWith)&&void 0!==i&&i.call(n,"localhost"))return;e||(e=S);const r=new URL(window.location.href),o=`sr${t}`,s=Number(r.searchParams.get(o))||0;s<e&&(r.searchParams.set(o,String(s+1)),r.searchParams.delete("rubyopt"),window.location.href=r.href)}const L=()=>!(!r.Rb.IsPrerender||!function(){const t=v(!1);return!!(t&&t.time>performance.timeOrigin)}()),B=t=>{const e=String(t);tt("rubyUX",e),nt(f.K5.ruby_ux_history,e)},W=t=>{const e=String(t);tt("rubyAwt",e)},H=t=>{const e=String(t);tt("rubyset",e)},V=t=>nt(f.K5.ruby_set_history,String(t)),z=t=>{let{cookieValue:e,newCookieValue:n}=t;const i=Date.now(),r=`${e}->${n}|${i}`;tt("rubyState",r),nt(f.K5.ruby_state_history,r,i)},j=t=>{const e=o.T3.CurrentMarket;tt("rubyMktChange",`${e}->${t}`)},q=async t=>{const e=t=>[t,Date.now(),"hidden"===document.visibilityState?1:0].join("|"),n=await p.Q.getPreferenceSetting(f.K5.ruby_cookie_change_history,!0),i=`${null==n?void 0:n.value}->${e(t)}`;nt(f.K5.ruby_cookie_change_history,e(t)),tt("rubyCookieChangeHistory",i)},G=async()=>{const t=await p.Q.getPreferenceSetting(f.K5.ruby_cookie_change_history,!0);null!=t&&t.value&&tt("rubyCookieChangeHistory",String(null==t?void 0:t.value))},J=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rubyTargetedVersion";const i=`${t}|${d.YT.getRequestId()}|${e}|${Date.now()}`;tt(n,i),h.f.savePreferenceSetting(f.bJ.rubyTargetedVersion,{value:i})},K=(t,e)=>{var n;const i=`${t}|${null===(n=Array.from(e||[]).filter(t=>null!=t))||void 0===n?void 0:n.join(",")}`;tt("rubyRsmDbg",i)},Q=(t,e)=>{if(null==t||!t.serviceContext)return;const{rubySeenOrSelectedPrevious:n,rubySampleSelected:i,rubyEverSelected:r,rubyEverSelectedSync:o}=t.serviceContext;r&&tt(e?"rubyUntgtEverSelected":"rubyEverSelected"),o&&tt(e?"rubyUntgtEverSelectedSync":"rubyEverSelectedSync"),tt(e?"rubyUntgtUXSelected":"rubyUXSelected",String(r)),tt(e?"rubyUntgtUXSelectedSync":"rubyUXSelectedSync",String(o)),tt(e?"rubyUntgtUXSeenOrSelectedPrevious":"rubyUXSeenOrSelectedPrevious",String(n)),tt(e?"rubyUntgtUXSampleSelected":"rubyUXSampleSelected",String(i))},X=async()=>{var t,e;const[n,i,o,s,a]=await Promise.all([p.Q.getPreferenceSetting(f.K5.ruby_ux_history,!0),p.Q.getPreferenceSetting(f.K5.ruby_state_history,!0),h.f.getPreferenceSetting(f.bJ.rubyTargetedVersion,!0),h.f.getPreferenceSetting(f.bJ.rubyFlightHistory,!0),p.Q.getPreferenceSetting(f.K5.ruby_set_history,!0)]),c=(null==n?void 0:n.value)||"",u=(null==i?void 0:i.value)||"",l=(null==o||null===(t=o.value)||void 0===t?void 0:t.value)||"",d=(null==s||null===(e=s.value)||void 0===e?void 0:e.value)||"",m=(null==a?void 0:a.value)||"";tt("rubyUXHistory",c),tt("rubyStateHistory",u),tt("rubyTargetedVersionHistory",l),function(t){var e;if(null!==(e=r.Rb.ClientSettings)&&void 0!==e&&e.isStatics)return;const n=Ct();(t||n)&&tt("rubyFlightHistory",`${t}->${n}`),n?h.f.savePreferenceSetting(f.bJ.rubyFlightHistory,{setting:f.bJ.rubyFlightHistory,value:n,timestamp:Date.now(),source:"ntp"}):t&&h.f.deleteKeyValueFromPSL(f.bJ.rubyFlightHistory)}(d),tt("rubySetHistory",m)};function Y(){var t;const e=null===(t=r.Rb.ClientSettings)||void 0===t?void 0:t.rubyAdvRouting;if(e)tt("rubyAdvRouting",e);else{const t=(0,w.Ri)("aace"),e=["child:1","child=1"].some(e=>null==t?void 0:t.includes(e));(0,y.vV)(b.jyZ,"Expected rubyAdvRouting was missing. Defaulting to Classic NTP.",void 0,{hasChildCookie:e})}}const Z=t=>{d.YT?t():window.addEventListener("telemetryInitialized",t,{once:!0})},tt=(t,e)=>{Z(()=>{d.YT.addOrUpdateTmplProperty(t,e)})},et=()=>{(0,l.S)()&&null!==u.sZ&&void 0!==u.sZ&&u.sZ.supported&&Z(()=>{let t=u.sZ.getItem(f.qm.tabInitialRid);t||(t=d.YT.getRequestId(),u.sZ.setItem(f.qm.tabInitialRid,t)),tt("tabInitialRid",t)})},nt=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();rt()&&p.Q.savePreferenceSetting(t,{setting:t,value:e,timestamp:n,source:"ntp"})};async function it(){var t;const e=await async function(){return new Promise(t=>{var e;(0,l.S)()&&null!==(e=window.chrome)&&void 0!==e&&e.ntpSettingsPrivate?window.chrome.ntpSettingsPrivate.getAllPrefs(e=>{t(e)}):t([])})}(),n=e.find(t=>"ntp.background_image"===t.key),i=e.find(t=>"ntp.news_feed_display"===t.key),r=e.find(t=>"ntp.background_image_type"===t.key);return{backgroundImageProvider:null==n||null===(t=n.value)||void 0===t?void 0:t.provider,backgroundImageType:null==r?void 0:r.value,feedSetting:null==i?void 0:i.value}}const rt=()=>(0,m.Zx)("setPref");function ot(t,e){var n,i;(0,l.S)()&&(null===(n=window.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n||null===(n=n.onPrefsChanged)||void 0===n||null===(i=n.addListener)||void 0===i||i.call(n,n=>{if(!n||!n.length)return;const i={};n.forEach(e=>{var n,r;"ntp.background_image"===e.key?(null===(n=e.value)||void 0===n?void 0:n.provider)!==t.backgroundImageProvider&&(i.backgroundImageProvider=null===(r=e.value)||void 0===r?void 0:r.provider):"ntp.background_image_type"===e.key?e.value!==t.backgroundImageType&&(i.backgroundImageType=e.value):"ntp.news_feed_display"===e.key&&e.value!==t.feedSetting&&(i.feedSetting=e.value)}),Object.keys(i).length&&(Object.assign(t,i),e(i))}))}function st(t){return"Theme"===t.backgroundImageProvider&&"theme"===t.backgroundImageType}function at(t){return!st(t)&&!["Video","BrowserLocal"].includes(t.backgroundImageProvider)&&"off"!==t.feedSetting&&"headingsonly"!==t.feedSetting}const ct=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(t=>{var e,n;return!(null===(e=r.Rb.CurrentFlightSet)||void 0===e||null===(n=e.has)||void 0===n||!n.call(e,t))})};function ut(t){null!==t?p.Q.savePreferenceSetting(f.K5.is_ruby,{setting:f.K5.is_ruby,value:t,timestamp:Date.now(),source:"ntp"}):p.Q.deleteKeyValueFromPSL(f.K5.is_ruby)}function lt(t,e){const n=(0,w.Ub)(P,t,e);return rt()&&ut(t),n}function dt(t){tt("rubyc",t),p.Q.getPreferenceSetting(f.K5.is_ruby).then(t=>{t&&tt("rubyp",String(t.value))}),G()}function ft(t,e,n){void 0===n?U(t,e):window.setTimeout(()=>U(t,e),n)}const ht=async()=>{var t;const e=(null===(t=await p.Q.getPreferenceSetting(f.bJ.rubyCohortOptOutThreshold))||void 0===t?void 0:t.value)||0;return tt("rbtc",String(e)),"number"!=typeof e||(e>=3?(gt(),!1):(p.Q.savePreferenceSetting(f.bJ.rubyCohortOptOutThreshold,{setting:f.bJ.rubyCohortOptOutThreshold,value:e+1,timestamp:Date.now(),source:"ntp"}),!0))};function pt(){return(0,s.ce)()||(0,s.ns)()}async function mt(t,e){const n=pt()&&At()&&e;if(!pt()&&It()&&t==A.In1SCohortForAB&&e||n){const t=await ht();tt("rbtr",String(t?0:1))}else gt()}const gt=()=>{p.Q.deleteKeyValueFromPSL(f.bJ.rubyCohortOptOutThreshold)},vt=t=>{const e={};return null!=$[t.userSelection]&&t.userSelection!==$.Unknown&&(e.userSelection=t.userSelection),null!=A[t.cohortStatus]&&t.cohortStatus!==A.Unknown&&(e.cohortStatus=t.cohortStatus),n=e,0===Object.keys(n).length?void 0:e;var n},wt=t=>{if(t){const[e,n]=t.split(_).map(Number);return{...R,...vt({userSelection:e,cohortStatus:n})}}return R},yt=(t,e)=>{var n;t=(t||o.T3.CurrentMarket).toLocaleLowerCase();const i=T.has(t)||ct("prg-rn-allmkt")||Lt(),s=null===(n=o.T3.CurrentRequestTargetScope)||void 0===n?void 0:n.audienceMode;return i&&!o.T3.IsHeroNTP&&"kids"!==s&&(!e||"enterprise"!==s)&&(ct("prg-rn-mob")||!o.T3.isMobile&&"tablet"!==(null===(a=r.Rb.ClientSettings)||void 0===a?void 0:a.deviceFormFactor))&&!Ht();var a},bt={"-1":$.OptOut,0:$.Unknown,1:$.OptIn,2:$.OptIn},St={1:A.InDogfoodingCohort,2:A.ExternalOptIn},xt=()=>{const t=(0,a.a)().get("rubyopt");if(null!=t){const e=bt[t],n=St[t];return null==n?{userSelection:e}:{userSelection:e,cohortStatus:n}}},Ct=()=>["prg-rubyntp8","prg-ctrl4rubyntp","prg-rubyntp9","prg-ctrl5rubyntp","prg-cdynrbctrl","prg-dynrbchlr","prg-rubyntp-et","prg-ctrlrubyntp-et"].map(t=>ct(t)&&t||"").filter(t=>t).join(","),kt=()=>{var t;const e="adult"===(null===(t=o.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&(At()||It()),n=Tt();return e||n},Tt=()=>{var t;const e=[c.DX.ENUS,c.DX.ENGB,c.DX.ENAU,c.DX.ENCA,c.DX.ENIN];return"adult"===(null===(t=o.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&e.includes(o.T3.CurrentMarket)},$t=(t,e)=>!(!Et()||!1!==t)&&!e,At=()=>ct("ruby-ntp"),It=()=>ct("ruby-ntp-ctrl2","prg-ctrlrubyntp","prg-ctrl1rubyntp","prg-ctrlrubyntp3"),Pt=()=>ct("ruby-ntp-aa","ruby-ntp-ctrl"),_t=()=>At()||It(),Mt=()=>ct("prg-rn-codynamic"),Rt=()=>ct("prg-rn-untgt"),Et=()=>ct("prg-ctrl5rubyntp","prg-rubyntp9"),Ft=()=>ct("prg-ntp-ruby"),Dt=()=>ct("prg-ntprubyalpha"),Ot=()=>ct("prg-rsm2","prg-rsmi2")||Rt(),Nt=()=>ct("prg-ncrs"),Ut=()=>ct("prg-rn-mob"),Lt=()=>ct("prg-untgt-ar-t"),Bt=()=>Lt()||ct("prg-untgt-ar-c"),Wt=()=>ct("prg-rv-p0uxurl"),Ht=()=>ct("prg-vb-rn-off");function Vt(t){var e,n,i,s;if("ruby"===(null===(e=r.Rb.ClientSettings)||void 0===e||null===(e=e.bundleInfo)||void 0===e?void 0:e.variant)||!yt()||"adult"!==(null===(n=o.T3.CurrentRequestTargetScope)||void 0===n?void 0:n.audienceMode))return!1;const a=(null==t?void 0:t.rubyState)??wt((0,w.Ri)(I)),{userSelection:c,cohortStatus:u}=a;if(u!==A.In1SCohortForAB||c===$.OptOut)return!1;const l=r.Rb.EdgeNTPHeader,d=(null==t?void 0:t.isEdgeExpIsolationFlagEnabled)??(null==l||null===(i=l.enabledFeatures)||void 0===i?void 0:i.includes("msRubyFlightingAllowed"))??!1;if($t(d,!1))return!1;return!!at((null==t?void 0:t.pageSettings)??{backgroundImageProvider:null==l||null===(s=l.backgroundImage)||void 0===s?void 0:s.provider,backgroundImageType:null==l?void 0:l.currentBackgroundImageType,feedSetting:null==l?void 0:l.newsFeedDisplay})&&Tt()}},29784:function(t,e,n){n.d(e,{$6:function(){return _},DK:function(){return g},H8:function(){return k},K0:function(){return C},LT:function(){return w},PR:function(){return E},SU:function(){return x},Se:function(){return P},Ti:function(){return I},Ty:function(){return $},UP:function(){return T},_Y:function(){return M},rN:function(){return y},sX:function(){return v},y$:function(){return S},z0:function(){return m},zx:function(){return A}});var i=n(17254),r=n(43889),o=n(12870),s=n(63150),a=n(5044),c=n(19548),u=n(85889),l=n(48566),d=n(18750),f=n(60791),h=n(77246),p=n(27261);function m(t){let e="";const n=["{0}","{0}K","{0}M"];for(let i=n.length-1;i>=0;i--){const r=Math.pow(1e3,i);if(t>=r){let o;o=r<1e3?t:t/r,e=l.Qf.Format(n[i],Math.round(10*o)/10);break}}return e}!function(){let t=null}();function g(){if((0,h.S)()){if((0,f.j)()){const t=(0,f.a)();return Boolean(t&&t.isDarkMode)}if(((0,u.JK)()||(0,u.vM)())&&(0,r.W9)().supported){const t=(0,r.W9)().getItem("nativeAppUserConfig"),e=t&&JSON.parse(t);if(e)return e.isDarkMode}const t=c._3.getQueryParameterByName("isDarkTheme",location.href);if(null!==t)return"true"===t}return(0,d.ud)()}function v(t){const e=window.matchMedia("(prefers-color-scheme: dark)"),n=new WeakMap,i=e=>{let i=n.get(e);return i||(i=(e=>{let n=!1;return()=>{const i=g();n!==i&&(n=i,i?e.addStyles(t):e.removeStyles(t))}})(e),n.set(e,i)),i};return{connectedCallback(t){const n=i(t);n(),e.addEventListener("change",n)},disconnectedCallback(t){const i=n.get(t);i&&e.removeEventListener("change",i)}}}function w(){var t;return!b()&&(!(null!==o.Rb&&void 0!==o.Rb&&null!==(t=o.Rb.CurrentFlightSet)&&void 0!==t&&t.has("prg-watch-kumo-rf"))||P())}function y(){var t;return w()&&(P()||!(null!==o.Rb&&void 0!==o.Rb&&null!==(t=o.Rb.CurrentFlightSet)&&void 0!==t&&t.has("prg-watch-copi-rf")))}function b(){return null===i.T3||void 0===i.T3?void 0:i.T3.isMobile}function S(){return b()||(0,u.vM)()}const x=(t,e)=>t.replace(/<path\s[^>]*>/i,t=>-1===t.indexOf("fill=")?`${t.slice(0,-1)} fill="${e}">`:t);function C(t,e){return{...t,instanceId:`${t.instanceId}-${e}`}}function k(){var t;return"chrome"===(null===i.T3||void 0===i.T3||null===(t=i.T3.CurrentRequestTargetScope)||void 0===t||null===(t=t.browser)||void 0===t?void 0:t.browserType)}function T(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.$t)();return/Edg/.test(t)}function $(t,e){return(function(){return T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.$t)())&&S()}()||Boolean("emmx-launcher-feeds"===(null===(n=(0,a.En)())||void 0===n?void 0:n.toLowerCase())))&&t?t:e;var n}function A(t){const e=(0,f.a)(),n="iOS"===(null==e?void 0:e.platform);switch(t){case"article":return n?"saiar":"saaar";case"gallery":return n?"saiga":"saaga";case"video":return n?"saiwatch":"saawatch";case"videoinf":return n?"saivi":"saavi";default:return"saaar"}}function I(){const t=new URL((0,p.$N)());return"vp"===new URLSearchParams(t.search).get("reqsrc")}function P(){const t=(_()||(0,s.ns)())&&!(0,u.vM)();return!b()&&(function(){var t;const e=((0,a.En)()??new URL(window.location.href).searchParams.get("ocid")??"").toLowerCase(),n=((null===(t=i.T3.CurrentMarket)||void 0===t?void 0:t.split("-"))||[])[0];return"cp_msn_cmc"===e&&"en"===n}()||t)}function _(){return"gem"===E((0,p.$N)())}function M(t){const e=R(t);if(!e)return;const n=e.contentId;return decodeURIComponent(n)!==n?n:encodeURIComponent(n)}function R(t){var e;const n=new RegExp("^.*/(?<contentPrefix>[Aa][Rr]||[Ss]{2}||[Vv][Ii]||[Vv][Dd]||[Vv][Pp]||[Vv][Ss])-(?<contentId>[a-zA-Z0-9]{6,8})(([?].*)||#.*)?$"),i=new RegExp("^.*/(?<contentPrefix>[Vv][Ii])-(?<contentId>.*?)(([?].*)||#.*)?$"),r=new RegExp("^.*/(?<contentPrefix>[Ii][Ss]||[Gg][Mm])-(?<contentId>[a-zA-Z0-9]*)(([?].*)||#.*)?$"),o=t.match(n)||t.match(i)||t.match(r);return o&&null!==(e=o.groups)&&void 0!==e&&e.contentId&&"vn/video"!==o.groups.contentId?o.groups:null}function E(t){if(!t)return null;const e=R(t);if(!e||!e.contentPrefix)return null;switch(e.contentPrefix.toLowerCase()){case"ar":return"article";case"ss":return"gallery";case"vi":return e.contentId&&e.contentId.length>=6&&e.contentId.length<=8?"video":"webcontent";case"vp":case"vs":return"video";case"is":return"insight";case"gm":return"gem"}return null}},30158:function(t,e,n){n.d(e,{$O:function(){return a},f7:function(){return c}});var i=n(17254),r=n(15098),o=n(5518),s=n(77246);function a(){return i.T3.WidgetAttributes&&"shopping"==i.T3.AppType}const c=(0,r.L)(async()=>{let t;const e=(0,s.S)()&&window.__pw_options,n=e&&e.auth&&e.auth.serviceToken;if("object"==typeof n&&n.then){const e=3e3;t=await Promise.race([n,(0,o.Y_)(e).then(()=>null)])}return t||{tokenValue:void 0,accountType:void 0,muid:void 0}})},30216:function(t,e,n){var i,r;n.d(e,{J:function(){return i},X:function(){return r}}),function(t){t[t.none=0]="none",t[t.enabled=1]="enabled",t[t.saved=2]="saved",t[t.hide=4]="hide",t[t.showMore=8]="showMore",t[t.showFewer=16]="showFewer",t[t.mute=32]="mute",t[t.hidden=64]="hidden",t[t.report=128]="report",t[t.adFeedbackSubmitted=256]="adFeedbackSubmitted",t[t.hideTopic=512]="hideTopic",t[t.dismiss=1024]="dismiss",t[t.adPrivacy=2048]="adPrivacy",t[t.feedback=4096]="feedback",t[t.whyAmISee=8192]="whyAmISee",t[t.followedPublisher=16384]="followedPublisher",t[t.followedTopic=32768]="followedTopic",t[t.hideAds=65536]="hideAds",t[t.blockAdvertiser=131072]="blockAdvertiser"}(i||(i={})),function(t){t.Hide="Hide",t.Like="Like",t.Disabled="Disabled",t.Dislike="Dislike",t.Mute="Mute",t.MuteWebVideo="MuteWebVideo",t.Save="Save",t.Share="Share",t.ShowMore="ShowMore",t.ShowFewer="ShowFewer",t.Divider="Divider",t.Report="Report",t.ManageInterests="ManageInterests",t.ReportAd="ReportAd",t.AdPrivacy="AdPrivacy",t.AdChoice="AdChoice",t.HideTopic="HideTopic",t.Feedback="Feedback",t.WhyAmISee="WhyAmISee",t.CuratedByCopilot="CuratedByCopilot",t.FollowPublisher="FollowPublisher",t.FollowTopic="FollowTopic",t.Upvote="Upvote",t.Downvote="Downvote",t.BlockPublisherWithoutName="BlockPublisherWithoutName",t.Copilot="Copilot",t.OpenNewTab="OpenNewTab",t.OpenNewWindow="OpenNewWindow",t.LocationEdit="LocationEdit",t.LocationManage="LocationManage",t.CopyLink="CopyLink",t.CopyImageLink="CopyImageLink",t.ImageAttribution="ImageAttribution",t.AiDisclaimerAttribution="AiDisclaimerAttribution"}(r||(r={}))},30382:function(t,e,n){n.d(e,{g:function(){return J}});var i=n(84397),r=n(79426),o=n(93468),s=n(65022),a=n(17720),c=n(16091),u=n(6727),l=n(17254),d=n(15301),f=n(89151);const h=`${(0,l.rA)().StaticsUrl}latest/js/thirdparty/viewability/banner.5.8.21.js`,p=`${(0,l.rA)().StaticsUrl}latest/js/thirdparty/ast/ast_ntp.1.10.50.js`,m=()=>"edgeChromium"===l.T3.AppType,g=()=>m()?p:"https://adsdk.microsoft.com/ast/ast.js";function v(){var t;return!(null===(t=window.apntag)||void 0===t||!t.setPageOpts)}var w=n(74959);var y,b=n(17388),S=n(12870),x=n(53685),C=n(9192);!function(t){t.AdReturned="adAvailable",t.AdNotReturned="adNotReturned"}(y||(y={}));const k=new Map;let T=!1;const $=(t,e,n)=>{k.has(t)||k.set(t,new Map),k.get(t).set(e,n)},A=(t,e)=>{var n;return null===(n=k.get(t))||void 0===n?void 0:n.get(e)};var I=n(42494),P=n(97444),_=n(59660);const M="https://account.microsoft.com/privacy/ad-settings";var R=n(11696),E=n(33918);const F=["ads-msxmsankokr"],D=t=>{var e;const{pageType:n,rid:i,locale:r,enableAdTargetingKeywords:o}=t||{};let s={page_type:n,rid:i,user_locale:r,rebroadcast_origin:"MSN",is_supply_migration:1};return(null===S.Rb||void 0===S.Rb||null===(e=S.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(E.L2))||(s.flight=(()=>{const t=["ads-xdr-","prg-ad-xan-"];return Array.from(S.Rb.CurrentFlightSet).filter(e=>t.some(t=>e.startsWith(t))||F.includes(e))})()),o&&(s={...s,...(0,I.fv)()||{}}),s};function O(t){const e=P.A.getEnvelopeIdFromCookie(),n=(0,_.K)(),i=D(t),r=(t=>{var e;const{verticalName:n,audienceMode:i,ocid:r,impressedCrids:o,browserOptout:s,authCookieName:a,request_msan_kv:c}=t||{},u={vertical:n,audience_mode:i,ocid:r,impressed_crids:o||[],toptout:s?1:0};return(null===S.Rb||void 0===S.Rb||null===(e=S.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(E.L2))||(u.flights=S.Rb.AdsNumberLines),a&&(u.auth_cookie_name=a),c&&(u.msan_kv=c),u})(t),o={publisherId:1002164,anid:t.anid,bidTimeout:t.bidTimeout,bidExtensionTimeout:t.bidExtensionTimeout,disable1pXandrDomainEndpoint:!0,enableContent:!0,enableDevice:!0,use3pMeasurementScripts:!1,envelopeId:e,isMobile:t.isMobile,keywords:i,locale:t.locale,msft:r,muid:t.muid,oathAsid:n,trackingManagement:{native:{loadViewabilityScriptAt:"impression"}}};return(0,R.c)(o)}var N=n(45084);const U=(t,e)=>"tg:"+t+";p:7HD66FC;r:"+e;function L(t,e){var n;const{img:r,assets:o,targetId:s,tagCode:a,region:c,regionIndex:u,tag_msan_kv:d}=t,{enableAdTargetingKeywords:f,rid:h}=e,p=function(t,e){const n={ver:"1.2",privacy:1,assets:[]};return null!=t&&t.length?n.assets=t.map((t,e)=>({id:e+1,required:t.required?1:0,...t.title&&{title:{len:140}},...t.img&&{img:{type:t.img.type,w:t.img.w,h:t.img.h}},...t.data&&{data:{type:t.data.type,len:t.data.len}}})):(n.assets.push({id:1,required:1,title:{len:140}}),n.assets.push({id:2,required:1,data:{type:N.ux.providerName.data.type}}),(null==e?void 0:e.w)>0&&(null==e?void 0:e.h)>0&&n.assets.push({id:3,required:1,img:{type:N.ux.img.img.type,w:e.w,h:e.h}})),{ortb:n}}(null==o?void 0:o[0],r),m={targetId:s,member:i.Y$,invCode:a,native:p,extInvCode:(null===l.T3||void 0===l.T3||null===(n=l.T3.LocaleContentMarket)||void 0===n?void 0:n.market)||"CO",allowSmallerSizes:!1,nobidIfUnsold:!0,trafficSourceCode:U(a,h)};return f&&(m.keywords=((t,e)=>({pos:t,...(0,I._n)({region:e,position:null==t?void 0:t.toString()})||{}}))(Number(u),c)),d&&(m.msft_tag={msan_kv:d}),m}var B=n(15173);class W{constructor(){this.events=[]}static getInstance(){return a.vv.get("__NativeAdXandrWrapper__",()=>new W)}async loadSdkAsync(){return v()?Promise.resolve(!0):async function(){window.apntag=window.apntag||{anq:[]},window.apntag.anq=window.apntag.anq||[],await(0,d.k)({id:"ad-ast-sdk",src:g(),container:document.head,retryDelayMs:200,retryNumber:5})}().then(()=>!!v()).catch(()=>!1)}setEndpoint(t){globalThis.apntag.setEndpoint(t)}configPlacements(t,e){const n=O(e);this.runCommand(()=>globalThis.apntag.setPageOpts(n));const i=m()?h:"";i&&this.runCommand(()=>globalThis.apntag.setTrkjsEndpoint(i));const r=[];return t.forEach(t=>{this.runCommand(()=>this.removeAllEventListeners(t.targetId));const n=L(t,e);r.push(n),this.runCommand(()=>globalThis.apntag.defineTag(n)),this.attachEventHandlers(t.targetId,e.isPrerenderAdBeforeReveal)}),r}startAdServerCalls(t){globalThis&&globalThis.apntag&&this.runCommand(()=>{const e=!0===S.Rb.IsPrerender?performance.now()-(0,f.W4)(x.xF):performance.now();t.forEach(t=>$(t.targetId,"NAdInitiate",e)),globalThis.apntag.loadTags(t.map(t=>t.targetId))})}fireServeBeacon(t){globalThis&&globalThis.apntag&&globalThis.apntag.fireImpressionTrackers(t)}addEventListener(t,e){(0,b.q)(t,e,this.events)}removeAllEventListeners(t){["adRequested","adAvailable","adError","adRequestFailure","adNoBid"].forEach(e=>{globalThis.apntag.offEvent(e,t)})}attachEventHandlers(t,e){const n=this.events;globalThis.apntag.onEvent("adRequested",t,()=>{$(t,e?"TTNativeAd.Background.Request":"TTNativeAd.Request",(0,C.tZ)(S.Rb.IsPrerender&&!e,performance.now())),B.t4.logCount(B.Yo.adRequestedCnt)}),globalThis.apntag.onEvent("adAvailable",t,i=>{$(t,"TTNativeAd.Response",(0,C.tZ)(S.Rb.IsPrerender&&!e,performance.now())),function(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(T)return;const r=(0,w.n)(),a=null===(e=performance)||void 0===e||null===(n=e.getEntriesByName)||void 0===n||null===(n=n.call(e,r))||void 0===n?void 0:n[0];if(a){var c;const t=null===(c=a.serverTiming)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.duration;t&&(0,f.tD)("NAdServerLatency",t)}const u=A(t,"TTNativeAd.Response");if(u){T=!0;let e=!0;const n=A(t,"NAdInitiate"),r=i?"TTNativeAd.Background.Request":"TTNativeAd.Request",a=A(t,r);n&&a||((0,o.vV)(s.Ivu,"Unable to find cached request marker for a new ad response"),e=!1),(0,f.tD)("TTNativeAd.Response",u),e&&((0,f.tD)("NAdInitiate",n),(0,f.tD)(r,a),(0,f.tD)("NAdInitiateToReq",a-n),(0,f.tD)("NAdFetch",u-a),(0,f.tD)("NativeAd.ApiDuration",u-a))}else(0,o.vV)(s.Ivu,"Unable to find cached response marker for a new ad response")}(t,e),B.t4.logCount(B.Yo.adAvailableCnt),(0,b.u)(y.AdReturned,i,n,"xandr",!0)}),globalThis.apntag.onEvent("adError",t,t=>{this.adNotReturned(t,n),B.t4.logCount(B.Yo.adErrorCnt)}),globalThis.apntag.onEvent("adRequestFailure",t,t=>{this.adNotReturned(t,n),B.t4.logCount(B.Yo.adRequestFailureCnt)}),globalThis.apntag.onEvent("adNoBid",t,t=>{this.adNotReturned(t,n),B.t4.logCount(B.Yo.adNobidCnt)}),globalThis.apntag.onEvent("adBadRequest",t,t=>{this.adNotReturned(t,n),B.t4.logCount(B.Yo.adBadRequestCnt)})}adNotReturned(t,e){(0,b.u)(y.AdNotReturned,t,e,"xandr")}runCommand(t){globalThis.apntag.anq.push(t)}}const H=(0,c.G)(W);class V{constructor(){this.groupedAdRequests={},this.adRequestsInfoById={},this.initialized=!1,this.handleAdNotReturned=t=>{const e=t.targetId;if(!e||!this.adRequestsInfoById[e])return;const{_groupKey:n,_cancelled:i}=this.adRequestsInfoById[e];i||(this.adRequestsInfoById[e]={...this.adRequestsInfoById[e],_fetched:!0,fetchedData:null},this.updateGroupInfoOnAdUpdate(n))},this.handleAdReturned=t=>{const e=t.targetId;if(!e||!this.adRequestsInfoById[e])return;const{_groupKey:n,_onAvailable:i,_cancelled:r}=this.adRequestsInfoById[e];if(r)return;const o=i&&i(this.adRequestsInfoById[e].initialData,t);this.adRequestsInfoById[e]={...this.adRequestsInfoById[e],_fetched:!0,fetchedData:o},this.updateGroupInfoOnAdUpdate(n)}}initialize(t){this.initialized||(this.sdkWrapper=t,this.sdkWrapper.addEventListener(y.AdReturned,this.handleAdReturned),this.sdkWrapper.addEventListener(y.AdNotReturned,this.handleAdNotReturned),this.initialized=!0)}registerPlacements(t,e,n){const i=[];let r=0;t.forEach(t=>{const{targetId:e}=t||{};r+=1,i.push(e)});const o=(()=>{if(window.location.href.includes("xdruuid="))return window.location.href.split("xdruuid=")[1].split("&")[0];let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})})();this.groupedAdRequests[o]={targetIds:i,pendingCount:r,onCompleteAll:e},t.forEach(t=>{const{targetId:e}=t;this.adRequestsInfoById[e]={initialData:{...t},fetchedData:null,_fetched:!1,_groupKey:o,_onAvailable:n,_cancelled:!1}})}unregisterPlacements(t){let e;return t.forEach(t=>{const{targetId:n}=t;n&&(this.sdkWrapper&&this.sdkWrapper.removeAllEventListeners(n),this.adRequestsInfoById[n]._cancelled=!0,e||(e=this.adRequestsInfoById[t.targetId]._groupKey))}),this.collectGroupResults(e)}collectGroupResults(t){if(!t)return null;const e=this.groupedAdRequests[t];if(!e||!e.targetIds||0==e.targetIds.length)return null;const n={data:[]};return e.targetIds.forEach(t=>{const e=this.adRequestsInfoById[t];if(e&&e._fetched){const t={initialData:e.initialData,fetchedData:e.fetchedData};n.data.push(t)}}),n}updateGroupInfoOnAdUpdate(t){const e=this.groupedAdRequests[t];e.pendingCount-=1,0===e.pendingCount&&e.onCompleteAll(this.collectGroupResults(t))}}const z=(t,e,n)=>t&&0!==t.length?t.filter(t=>t.event===e&&t.method===n).map(t=>t.url):[],j=t=>{const e=(n=t.imptrackers,i=t.eventtrackers,(null==n?void 0:n.length)>0?n:z(i,1,1));var n,i;const r=((t,e)=>{if(t)return[(t=>{const e=t.match(/<script.*?src=["'](.*?)["']/i);return e?e[1]:t})(t)];return z(e,1,2)})(t.jstracker,t.eventtrackers),o=(t=>z(t,2,1))(t.eventtrackers),s=(t=>t&&0!==t.length?t.filter(t=>555===t.event&&2===t.method):[])(t.eventtrackers);return{impressionTrackers:e,javascriptTrackers:r,viewabilityTrackers:o,iasDvTrackers:s}},q=(t,e)=>{((t,e)=>{const n=t.assets.filter(t=>1===t.required).filter(t=>!e.assets.find(e=>e.id===t.id));n.length>0&&(0,o.vV)(s.fGC,"Missing required assets in response","",{missingRequiredAssets:n,requestAssets:t.assets,responseAssets:e.assets})})(e,t);const{impressionTrackers:n,javascriptTrackers:i,viewabilityTrackers:r,iasDvTrackers:a}=j(t),c=[],u={clickUrl:t.link.url,clickTrackers:t.link.clicktrackers,impressionTrackers:n,javascriptTrackers:i,iasDvTrackers:a,privacyLink:t.privacy,transformedAssets:c,viewabilityTrackers:r,title:"",image:{w:0,h:0,url:""},providerName:""},l={};return e.assets.forEach(t=>{let{id:e,data:n,img:i,title:r,required:o}=t;n?l[e]={type:"data",subType:n.type,required:o}:i?l[e]={type:"img",subType:i.type,required:o}:r&&(l[e]={type:"title",required:o})}),t.assets.forEach(t=>{const e=l[t.id];if(e){const{type:n,subType:i,required:r}=e,a=t[n];"title"===n?u.title=null==a?void 0:a.text:"img"===n&&i===N.ey.img.img.type?u.image=a:"data"===n&&i===N.ey.providerName.data.type&&(u.providerName=null==a?void 0:a.value),a&&0!==Object.keys(a).length||(0,o.vV)(s.fGC,"Missing or empty asset content","",{asset:t,reqInfo:e}),c.push({...t,required:r,[n]:{...i&&{type:i},...a}})}else(0,o.vV)(s.fGC,"Unable to find matched request info","",{asset:t})}),u};class G{static getInstance(){return a.vv.get("__NativeAdSdkService__",()=>new G)}async fetchAds(t,e){return t&&t.placements&&0!==t.placements.length?H.loadSdkAsync().then(n=>{if(!n)return null;!function(){const t=g(),e=performance.getEntriesByName(t,"resource")[0];e&&((0,f.tD)("TTAdSdk.ScriptRequest",e.fetchStart),(0,f.tD)("TTAdSdk.ScriptLoaded",e.responseEnd))}(),H.setEndpoint((0,w.d)()),this.eventHub||(this.eventHub=new V,this.eventHub.initialize(H));const i=this.buildPlacementsToFetch(t,e),a=H.configPlacements(i,e),c=this.buildPlacementsRegisteredToEventHub(i,a,e),u=this.getRequestTimeout(e),l=new r.e(u);if(this.eventHub.registerPlacements(c,t=>l.set(t),this.calculateUpdates),"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("resource")){const t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.name===(0,w.n)()&&(e.duration>u&&(0,o.vV)(s.TqQ,"Xandr endpoint timed out",`duration: ${e.duration}`),t.disconnect())})});t.observe({entryTypes:["resource"]})}return H.startAdServerCalls(i),B.t4.logCount(B.Yo.adFetchInitializedCnt,i.length),l.getResultAsync().then(t=>{var e,n;if(void 0===t){const t=this.eventHub.unregisterPlacements(c);return this.logResponseTimeout(i,(null==t?void 0:t.data)||[],u),this.formatAdResponse(t)}return B.t4.logCount(B.Yo.adResponseReceivedCnt,(null==t||null===(e=t.data)||void 0===e?void 0:e.length)||0),0===(null==t||null===(n=t.data)||void 0===n?void 0:n.length)&&(this.logResponseEmpty(c),(0,o.vV)(s.ikd,"Empty response from Xandr sdk","")),this.formatAdResponse(t)})}).catch(t=>((0,o.c_)(t,s.hYJ,""),null)):((0,o.vV)(s.BEl,"Empty placements in ad request"),Promise.resolve(null))}buildPlacementsToFetch(t,e){const n=[];return t.placements.forEach(t=>{const{indices:i,img:r,region:o,allIndices:s,diceRoll:a,tag_msan_kvs:c}=t;let{adContainerIds:l,assets:d}=t;l||(l=i.map(t=>`${e.pageType}-${o}-${t}-${(0,u.DA)()}`)),i&&i.length&&l&&l.length&&i.forEach((t,i)=>{const u=Number(t);n.push({region:o,regionIndex:t,mappedPosition:u,targetId:l[i],img:r,allIndices:s,diceRoll:a,assets:d,tagCode:`${e.pageType}-${o}-${u}`.toLowerCase(),tag_msan_kv:c&&c[i]})})}),n}buildPlacementsRegisteredToEventHub(t,e,n){const i=[];return t.forEach((t,r)=>{const{region:o,regionIndex:s,targetId:a,tagCode:c}=t;i.push({targetId:a,region:o,index:Number(s),relativeIndex:r+1,pageType:n.pageType,id:`extcontentsponcon_${n.pageType}_${o}_${s}`,rid:n.rid,locale:n.locale,tagCode:c,tagObject:e[r]})}),i}calculateUpdates(t,e){return((t,e)=>{var n,i,r;const a=null==e||null===(n=e.native)||void 0===n?void 0:n.ortb;if(!a)return(0,o.vV)(s.fGC,"Unexpected data in Xandr native ad response","missing ortb"),!1;if(null==a||null===(i=a.link)||void 0===i||!i.url)return(0,o.vV)(s.fGC,"Unexpected data in Xandr native ad response","missing click url"),!1;if(!a.assets||null==t||null===(r=t.native)||void 0===r||null===(r=r.ortb)||void 0===r||!r.assets)return(0,o.vV)(s.fGC,"Unexpected data in Xandr native ad response","missing assets"),!1;const c=t.native.ortb.assets,u=a.assets;return!c.filter(t=>1===t.required).some(n=>{const i=u.find(t=>t.id===n.id);return i?!!(n.data&&!i.data||n.img&&!i.img||n.title&&!i.title)&&((0,o.vV)(s.fGC,"Unexpected data in Xandr native ad response","assets error",{mismatchAssetId:n.id,tag:JSON.stringify(t),adObj:JSON.stringify(e)}),!0):((0,o.vV)(s.fGC,"Unexpected data in Xandr native ad response","assets error",{missingAssetId:n.id,tag:JSON.stringify(t),adObj:JSON.stringify(e)}),!0)})})(null==t?void 0:t.tagObject,e)?((t,e)=>{var n,i,r,o,s;const{title:a,providerName:c,image:u,clickUrl:l,clickTrackers:d,privacyLink:f,impressionTrackers:h,javascriptTrackers:p,viewabilityTrackers:m,iasDvTrackers:g,transformedAssets:v}=q(null===(n=t.native)||void 0===n?void 0:n.ortb,null===(i=e.tagObject)||void 0===i||null===(i=i.native)||void 0===i?void 0:i.ortb),w={url:l,sourceName:c,title:a,imageUrl:u.url,uniqueId:t.targetId,adChoicesUrl:f||M,clickBeacons:JSON.stringify({tcb:d}),assets:v,adSelectionCriteria:null===(r=t.msft)||void 0===r?void 0:r.ad_selection_criteria,adSelectionReason:null===(o=t.msft)||void 0===o?void 0:o.ad_selection_reason};return g&&g.length>0&&(w.eventtrackers=[...g]),{beaconsJson:JSON.stringify({e:!0,tjb:p,trb:h,tvb:m}),crids:(null===(s=t.msft)||void 0===s?void 0:s.crids)||[],feedbackUrl:t.feedbackUrl,id:e.id,imageWidth:u.w,imageHeight:u.h,index:e.index,items:[w],locale:e.locale,msft:t.msft,pageType:e.pageType,privacyUrl:M,region:e.region}})(e,t):{}}formatAdResponse(t){return{placements:((null==t?void 0:t.data)||[]).map(t=>t.fetchedData).filter(t=>t&&Object.keys(t).length>0)}}getRequestTimeout(t){return t.fetchTimeout>0?t.fetchTimeout:i.GD.Timeout}logResponseTimeout(t,e,n){const i=t.filter(t=>!e.find(e=>e.targetId===t.targetId)).map(t=>t.targetId);(0,o.vV)(s.inK,"Timeout calling Xandr sdk",`missing placements: (${i.join(",")}) timeout: ${n}ms`),B.t4.logRequestLevelTimeoutCount(),B.t4.logCount(B.Yo.adTimeoutCnt,i.length)}logResponseEmpty(t){const e=t.map(t=>`${t.region}-${t.index}`).join(",");(0,o.vV)(s.ikd,"Empty response from Xandr sdk",e)}}const J=(0,c.G)(G)},30817:function(t,e,n){n.d(e,{Tm:function(){return p},WP:function(){return d},ZF:function(){return u},Zm:function(){return m},_P:function(){return f},gB:function(){return a},gU:function(){return h},pP:function(){return s},pR:function(){return c},zq:function(){return l}});var i=n(77246),r=n(17720);const o="ssrTimeOrigin",s="ssrTimeEnd",a="SSR.InfopaneRendered",c="ssrTimeServerEntry";function u(){return(0,i.S)()?window._pageTimings||(window._pageTimings={}):r.vv.get("__diagnostics_pageTimings",()=>({}))}function l(){return(0,i.S)()?window._secondaryPageTimings||(window._secondaryPageTimings={}):r.vv.get("__diagnostics_secondaryPageTimings",()=>({}))}function d(){return(0,i.S)()?window._webVitalsPageTimings||(window._webVitalsPageTimings={}):r.vv.get("__diagnostics_webVitalsPageTimings",()=>({}))}function f(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=u();if(!t||!n||e&&n.TTVR)return;const i=n[t]||(n[t]=0);n[t]=i+1}function h(){return(0,i.S)()?performance.now():performance.now()-u()[o]}function p(){if((0,i.S)()&&navigator)return{memory:navigator.deviceMemory,cpu:navigator.hardwareConcurrency,networkSpeed:navigator.connection&&navigator.connection.effectiveType}}function m(){if(!(0,i.S)())return;const t=(performance.getEntriesByType("navigation")||[])[0],e={};for(const n in t){const i=t[n];e[n]="number"==typeof i?Math.round(i):i}return e}},31086:function(t,e,n){n.d(e,{H:function(){return r},q:function(){return o}});var i=n(46417);function r(t,e){const n=t.length+e.length,i=[];let r=0,o=0,s=0;for(let a=0;a<n;a++)o<e.length&&e[o].locationIndex===s?i[s++]=e[o++]:r<t.length?i[s++]=t[r++]:i[s++]=e[o++];return i}function o(t,e){const n=[];let r=0,o=0;const s=(0,i.A)(e,"slot"),a=t.length+e.length;for(let e=0;e<a;e++){var c;e>=(null===(c=s[o])||void 0===c?void 0:c.slot)?n.push(s[o++]):r<t.length&&n.push(t[r++])}for(;o<s.length;)n.push(s[o++]);return n}},31653:function(t,e,n){n.d(e,{ET:function(){return c},HJ:function(){return r},Jg:function(){return a},nC:function(){return o},nt:function(){return u},q9:function(){return s},uP:function(){return i}});const i="login_hint",r=300,o=3600,s="InteractionRequiredAuthError",a="BrowserAuthError",c="no_tokens_found",u="9188040d-6c67-4c5b-b112-36a304b66dad";var l;!function(t){t[t.NotAttempted=0]="NotAttempted",t[t.Fail=1]="Fail",t[t.FailTrySSO=2]="FailTrySSO",t[t.Success=3]="Success"}(l||(l={}))},31673:function(t,e,n){n.d(e,{On:function(){return Lt},VM:function(){return Nt}});var i=n(74849),r=n(22131),o=n(87944),s=n(86926);const a=i.A`
    :host {
        --min-width-card-adaptive: ${(0,o.c)(s.hB)};
        --max-width-card-adaptive-1u: ${(0,o.c)(s.HY)};
        --min-width-card-adaptive-1u: ${(0,o.c)(s.hq)};
        --min-width-card-adaptive-2c: ${(0,o.c)(s.qC)};
        --max-width-card-adaptive-2c: ${(0,o.c)(s.gK)};
        --max-height-adaptive: ${(0,o.c)(s.GS)};
        --min-height-adaptive: ${(0,o.c)(s.Ie)};
        --gutter-size-adaptive: ${(0,o.c)(s.nQ)};
    }
`,c=i.A`
    :host {
        --gap-between-cards-on-feed: ${String(s.HR)};
        --gap-between-cards-on-feed-px: calc(var(--gap-between-cards-on-feed) * 1px);
        --width-card-1u: ${(0,o.c)(s.du)};
        --width-card-2c: calc(var(--width-card-1u) * 2 + var(--gap-between-cards-on-feed-px));
        --width-card-3c: calc(var(--width-card-1u) * 3 + (var(--gap-between-cards-on-feed-px) * 2));
        --width-card-4c: calc(var(--width-card-1u) * 4 + (var(--gap-between-cards-on-feed-px) * 3));
        --height-card-1u: ${String(s.C6)};
        --height-card-1u-px: calc(var(--height-card-1u) * 1px);
        --height-card-15u: ${String(s.Pf)};
        --height-card-15u-px: calc(var(--height-card-15u) * 1px);
    }
    ${a}
`;var u=n(42323),l=n(17254),d=n(57886);const f=i.A`
    :host {
        --min-width-card-adaptive: ${(0,o.c)(d.e9)};
        --max-width-card-adaptive-1u: ${(0,o.c)(d.ky)};
        --min-width-card-adaptive-1u: ${(0,o.c)(d.aI)};
        --min-width-card-adaptive-2c: ${(0,o.c)(d.zn)};
        --max-width-card-adaptive-2c: ${(0,o.c)(d.zw)};
    }
`,h=i.A`
    :host {
        --gap-between-cards-on-feed: ${String(d.Gx)};
        --gap-between-cards-on-feed-px: calc(var(--gap-between-cards-on-feed) * 1px);
        --width-card-1u: ${(0,o.c)(d._9)};
        --width-card-2c: calc(var(--width-card-1u) * 2 + var(--gap-between-cards-on-feed-px));
        --width-card-3c: calc(var(--width-card-1u) * 3 + (var(--gap-between-cards-on-feed-px) * 2));
        --width-card-4c: calc(var(--width-card-1u) * 4 + (var(--gap-between-cards-on-feed-px) * 3));
        --height-card-1u: ${String(d.No)};
        --height-card-1u-px: calc(var(--height-card-1u) * 1px);
        --height-card-15u: ${String(d.U4)};
        --height-card-15u-px: calc(var(--height-card-15u) * 1px);
        --height-card-2c: ${String(d._E)};
        --height-card-2c-px: calc(var(--height-card-2c) * 1px);
    }
    ${f}
`,p=i.A`
    :host {
        --smtc-mai-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.24);
        --smtc-theme-color-effect-inner-shine-strong: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-effect-shadow-medium: rgba(0, 0, 0, 0.18);
        --smtc-theme-color-overlay-white-45: rgba(0, 0, 0, 0.45);
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 1px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-color: rgba(255, 255, 255, 0.12);
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        --smtc-shadow-ctrl-button-neutral-rest-key-color: rgba(0, 0, 0, 0.40);
        --smtc-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.40);
        --smtc-shadow-ctrl-fab-rest-key-color: hsla(0, 0.00%, 100.00%, 0.00);
        --smtc-shadow-ctrl-fab-rest-ambient-color: rgba(0, 0, 0, 0.12);
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,m=i.A`
    :host {
        --smtc-mai-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.12);
        --smtc-theme-color-effect-shadow-medium: rgba(0, 0, 0, 0.08);
        --smtc-theme-color-effect-inner-shine-strong: #FFFFFF;
        --smtc-theme-color-overlay-white-45: rgba(255, 255, 255, 0.45);
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-color: #FFFFFF;
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        --smtc-shadow-ctrl-button-neutral-rest-key-color: rgba(0, 0, 0, 0.20);
        --smtc-shadow-ctrl-brand-key-x: 0px;
        --smtc-shadow-ctrl-brand-key-y: 0.5px;
        --smtc-shadow-ctrl-brand-key-blur: 3px;
        --smtc-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.20);
        --smtc-shadow-ctrl-fab-rest-key-x: 0px;
        --smtc-shadow-ctrl-fab-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-key-blur: 3px;
        --smtc-shadow-ctrl-fab-rest-key-color: rgba(27, 53, 86, 0.08);
        --smtc-shadow-ctrl-fab-rest-ambient-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-blur: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-color: rgba(27, 53, 86, 0.04);
        --smtc-shadow-flyout-ambient-blur: 0px;
        --smtc-shadow-flyout-ambient-color: rgba(255, 255, 255, 0);
        --smtc-shadow-flyout-ambient-x: 0px;
        --smtc-shadow-flyout-ambient-y: 0px;
        --smtc-shadow-flyout-key-blur: 12px;
        --smtc-shadow-flyout-key-color: rgba(0, 0, 0, 0.08);
        --smtc-shadow-flyout-key-x: 0px;
        --smtc-shadow-flyout-key-y: 6px;
        --smtc-effect-drop-shadow-medium-x-offset: 0px;
        --smtc-effect-drop-shadow-medium-y-offset: 6px;
        --smtc-effect-drop-shadow-medium-blur-radius: 12px;
        --smtc-effect-drop-shadow-medium-spread: 0px;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,g=i.A`
    :host {
        --smtc-status-brand-tint-background: #586ba84d;
        --smtc-status-brand-tint-foreground: #97abea;
        --smtc-status-danger-background: #f98981;
        --smtc-status-danger-foreground: #000000;
        --smtc-status-informative-tint-foreground: #e5ebfa;
        --smtc-status-informative-tint-background: #1f2431;
        --smtc-status-informative-tint-background-ad: #0F1119;
        --smtc-edge-ctrl-workspace-background-blue-rest: #69A1FA;
        --smtc-status-danger-tint-foreground: #F98981;
        --smtc-status-danger-tint-background: rgba(157, 25, 32, 0.2);
    }
`,v=i.A`
    :host {
        --smtc-status-brand-tint-background: #e09e664d;
        --smtc-status-brand-tint-foreground: #6b3900;
        --smtc-status-danger-background: #ac1922;
        --smtc-status-danger-foreground: #ffffff;
        --smtc-status-informative-foreground: #ffffff;
        --smtc-status-informative-tint-foreground: #272320;
        --smtc-status-informative-tint-background: #efeae7;
        --smtc-status-informative-tint-background-ad: #FFFBF8;
        --smtc-edge-ctrl-workspace-background-blue-rest: #2169EB;
        --smtc-status-danger-tint-foreground: #AC1922;
        --smtc-status-danger-tint-background: rgba(255, 181, 174, 0.2);
    }
`,w=i.A`
    :host {
        --smtc-background-ctrl-onBrand-hover: #525C7B;
        --smtc-background-ctrl-onBrand-pressed: #3E4760;
        --smtc-background-ctrl-neutral-pressed: #1f2330a6;
        --smtc-background-ctrl-subtle-hover: #ffffff14;
        --smtc-background-flyout-color-blend: #ffffff00;
        --smtc-background-flyout-lum-blend: #ffffff00;
        --smtc-background-flyout-solid: #1b233ae8;
        --smtc-background-layer-primary-solid: #9da8d91a;
        --smtc-theme-color-background-200: #1f2431;
        --smtc-theme-color-background-250: #282d3e;
        --smtc-theme-color-background-300: #333A4E;
        --smtc-theme-color-background-700: #C2CADF;
        --smtc-theme-color-background-acrylic-thin-luminosity: rgba(27, 35, 58, 0.60);
        --smtc-theme-color-background-acrylic-thin-saturation: rgba(255, 255, 0, 0.05);
        --smtc-theme-color-background-acrylic-thin-tint: rgba(27, 35, 58, 0.50);
        --smtc-theme-color-background-page-chat-fade: #1F2431;
        --smtc-theme-color-background-page-chat-flat: #151a28;
        --smtc-theme-color-background-page-home-web-stop-0: #0C101C;
        --smtc-theme-color-background-page-home-web-stop-1: #171E32;
        --smtc-theme-color-background-page-home-web-stop-2: #242F50;
        --smtc-theme-color-background-acrylic-default-tint: rgba(27, 35, 58, 0.91);
        --smtc-theme-color-background-acrylic-default-saturation: rgba(255, 255, 0, 0.10);
        --smtc-background-web-page-primary: #151a28;
        --smtc-background-ctrl-on-image-lum-blend: rgba(23, 30, 50, 0.60);
        --smtc-background-ctrl-on-image-rest: #455172;
        --smtc-background-ctrl-on-image-saturation-blend: rgba(255, 255, 255, 0.00);
        --smtc-background-card-on-primary-alt-hover: #9da8d91a;
        --smtc-background-card-on-primary-alt-pressed: #9da8d91a;
        --smtc-background-card-on-primary-alt-rest: #9da8d91a;
        --smtc-background-card-on-primary-default-rest: #9da8d91a;
        --smtc-background-ctrl-active-brand-hover: #eef1f6ff;
        --smtc-background-ctrl-active-brand-pressed: #dce0e5ff;
        --smtc-background-ctrl-active-brand-rest: #f6fafeff;
        --smtc-background-ctrl-brand-hover: #525c7b;
        --smtc-background-ctrl-brand-rest: #4a5471;
        --smtc-background-ctrl-brand-pressed: #3e4760;
        --smtc-background-ctrl-brand-disabled: #ffffff0d;
        --smtc-background-ctrl-neutral-hover: #313a52a6;
        --smtc-background-ctrl-neutral-rest: #323f60a6;
        --smtc-background-ctrl-neutral-disabled: #ffffff0d;
        --smtc-background-ctrl-outline-rest: #ffffff00;
        --smtc-background-ctrl-outline-hover: #ffffff14;
        --smtc-background-ctrl-outline-pressed: #ffffff0d;
        --smtc-background-ctrl-outline-disabled: #ffffff00;
        --smtc-background-ctrl-subtle-rest: #ffffff00;
        --smtc-background-ctrl-subtle-pressed: #ffffff0d;
        --smtc-background-tint-neutral: #171E32;
        --smtc-background-webPage-primary: #1C2024;
        --smtc-ctrl-fab-background-rest: #151a28;
        --smtc-ctrl-fab-background-hover: #171a25;
        --smtc-ctrl-fab-background-pressed: #0f1119;
        --smtc-ctrl-input-background-rest: #47599740;
        --smtc-ctrl-choice-base-background-rest: #00000000;
        --smtc-ctrl-choice-switch-background-selected-rest: #4ba849ff;
        --smtc-ctrl-choice-switch-background-rest: rgba(255, 255, 255, 0.20);
        --smtc-ctrl-choice-switch-thumb-background-rest: rgba(255, 255, 255, 0.90);
        --smtc-ctrl-choice-switch-thumb-background-selected-rest: #ffffff;
        --smtc-ctrl-progress-background-empty: #ffffff26;
        --smtc-ctrl-tooltip-background: #0f1119;
        --smtc-edge-ctrl-workspace-background-blue-rest: #69A1FA;
        --mai-background-ctrl-onImage-rest: #1F2431;
        --mai-background-ctrl-onImage-hover: #282D3E;
        --mai-background-ctrl-onImage-pressed: #171A25;
        --smtc-background-window-tab-band-solid: #0e111b;
    }
`,y=i.A`
    :host {
        --smtc-theme-color-background-acrylic-thin-tint: rgba(250, 244, 239, 0.60);
        --smtc-theme-color-background-page-chat-flat: #f8f4f1;
        --smtc-theme-color-background-page-home-web-stop-0: #F8F4F2;
        --smtc-theme-color-background-acrylic-default-tint: rgba(255, 255, 255, 0.94);
        --smtc-theme-color-background-acrylic-default-saturation: rgba(255, 255, 0, 0.10);
        --smtc-background-ctrl-onBrand-hover: #000000;
        --smtc-background-ctrl-onBrand-pressed: #322D29;
        --smtc-background-ctrl-neutral-pressed: #ffffff99;
        --smtc-background-ctrl-subtle-hover: #0000000d;
        --smtc-background-flyout-color-blend: #ffffff00;
        --smtc-background-flyout-lum-blend: #ffffff00;
        --smtc-background-flyout-solid: #fffffff0;
        --smtc-background-layer-primary-solid: #ffffff73;
        --smtc-theme-color-background-200: #f0eae5;
        --smtc-theme-color-background-250: #e3ddd8;
        --smtc-theme-color-background-300: #CCC6C2;
        --smtc-theme-color-background-700: #3F3935;
        --smtc-theme-color-background-acrylic-thin-luminosity: rgba(240, 234, 229, 0.80);
        --smtc-theme-color-background-acrylic-thin-saturation: rgba(255, 255, 0, 0.10);
        --smtc-theme-color-background-page-chat-fade: #F0EAE5;
        --smtc-theme-color-background-page-home-web-stop-1: #FCF3EA;
        --smtc-theme-color-background-page-home-web-stop-2: #FDEDDE;
        --smtc-background-web-page-primary: #f8f4f1;
        --smtc-background-card-on-primary-default-rest: #ffffffcc;
        --smtc-background-card-on-primary-alt-hover: #ffffff73;
        --smtc-background-card-on-primary-alt-pressed: #ffffff73;
        --smtc-background-card-on-primary-alt-rest: #ffffff73;
        --smtc-background-ctrl-active-brand-hover: #2b2e35ff;
        --smtc-background-ctrl-active-brand-pressed: #383b43ff;
        --smtc-background-ctrl-active-brand-rest: #24282fff;
        --smtc-background-ctrl-brand-hover: #000000;
        --smtc-background-ctrl-brand-rest: #272320;
        --smtc-background-ctrl-brand-pressed: #322d29;
        --smtc-background-ctrl-brand-disabled: #0000000d;
        --smtc-background-ctrl-neutral-hover: #ffffff;
        --smtc-background-ctrl-neutral-rest: #ffffffb3;
        --smtc-background-ctrl-neutral-disabled: #ffffff2e;
        --smtc-background-ctrl-outline-rest: #00000000;
        --smtc-background-ctrl-outline-hover: #0000000d;
        --smtc-background-ctrl-outline-pressed: #00000008;
        --smtc-background-ctrl-outline-disabled: #00000000;
        --smtc-background-ctrl-subtle-rest: #00000000;
        --smtc-background-ctrl-subtle-pressed: #00000008;
        --smtc-background-tint-neutral: #F4EFED;
        --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 0.10);
        --smtc-background-ctrl-on-image-lum-blend: rgba(228, 230, 241, 0.80);
        --smtc-background-ctrl-on-image-rest: #282523;
        --smtc-background-ctrl-on-image-saturation-blend: rgba(255, 255, 0, 0.10);
        --smtc-background-webPage-primary: #FFFFFF;
        --smtc-ctrl-fab-background-rest: #ffffff;
        --smtc-ctrl-fab-background-hover: #f8f4f1;
        --smtc-ctrl-fab-background-pressed: #fffbf8;
        --smtc-ctrl-input-background-rest: #0000000d;
        --smtc-ctrl-choice-base-background-rest: #ffffff00;
        --smtc-ctrl-choice-switch-background-selected-rest: #4ba849ff;
        --smtc-ctrl-choice-switch-background-rest: rgba(0, 0, 0, 0.20);
        --smtc-ctrl-choice-switch-thumb-background-rest: rgba(255, 255, 255, 0.90);
        --smtc-ctrl-choice-switch-thumb-background-selected-rest: #ffffff;
        --smtc-ctrl-progress-background-empty: #00000026;
        --smtc-ctrl-tooltip-background: #FFFBF8;
        --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 0.10);
        --mai-background-ctrl-onImage-rest: #272320;
        --mai-background-ctrl-onImage-hover: #000000;
        --mai-background-ctrl-onImage-pressed: #322D29;
        --smtc-background-window-tab-band-solid: #efeae7;
    }
`,b=i.A`
    :host {
        --smtc-foreground-control-neutral-primary-rest: #FFFFFF;
        --smtc-foreground-ctrl-neutral-primary-rest: #e5ebfa;
        --smtc-theme-color-foreground-primary-100: #0f1119;
        --smtc-theme-color-foreground-primary-450: #525C7B;
        --smtc-theme-color-foreground-primary-550: #626D8F;
        --smtc-theme-color-foreground-primary-700: #a4adc8;
        --smtc-theme-color-foreground-primary-750: #c2cadf;
        --smtc-theme-color-foreground-primary-800: #d7deef;
        --smtc-theme-color-foreground-primary-850: #e5ebfa;
        --smtc-theme-color-foreground-primary-900: #f1f5ff;
        --smtc-theme-color-foreground-secondary-400: #626d8f;
        --smtc-theme-color-foreground-secondary-450: #8791b0;
        --smtc-theme-color-foreground-secondary-550: #8791b0;
        --smtc-theme-color-foreground-secondary-600: #a4adc8;
        --smtc-theme-color-foreground-secondary-650: #c2cadf;
        --smtc-theme-color-foreground-secondary-700: #d7deef;
        --smtc-theme-color-foreground-secondary-750: #e5ebfa;
        --smtc-theme-color-foreground-secondary-800: #f1f5ff;
        --smtc-theme-color-component-button-foreground-rest: #E5EBFA;
        --smtc-theme-color-component-button-foreground-pressed: #A4ADC8;
        --smtc-theme-color-component-button-strong-foreground-rest: #392D2E;
        --smtc-foreground-tint-neutral: #F2DDCC;
        --smtc-foreground-ctrl-neutral-primary-disabled: #ffffff4d;
        --smtc-foreground-ctrl-neutral-primary-pressed: #a4adc8;
        --smtc-foreground-ctrl-neutral-secondary-rest: #a4adc8;
        --smtc-foreground-ctrl-neutral-secondary-hover: #828BAC;
        --smtc-foreground-ctrl-active-brand-hover: #F1F5FF;
        --smtc-foreground-ctrl-active-brand-pressed: #D7DEEF;
        --smtc-foreground-ctrl-active-brand-rest: #E5EBFA;
        --smtc-foreground-ctrl-on-brand-rest: #d7deef;
        --smtc-foreground-ctrl-on-brand-hover: #392D2E;
        --smtc-foreground-ctrl-on-brand-pressed: #a4adc8;
        --smtc-foreground-ctrl-on-brand-disabled: #ffffff4d;
        --smtc-foreground-ctrl-on-image-rest: #E3CBBC;
        --smtc-foreground-ctrl-on-outline-disabled: #5b5f64ff;
        --smtc-foreground-ctrl-on-outline-rest: #E5EBFA;
        --smtc-foreground-ctrl-on-outline-hover: #E5EBFA;
        --smtc-foreground-ctrl-on-outline-pressed: #a4adc8;
        --smtc-foreground-ctrl-on-subtle-hover: #D7DEEF;
        --smtc-foreground-ctrl-on-subtle-rest: #D7DEEF;
        --smtc-foreground-ctrl-on-subtle-pressed: #8791B0;
        --smtc-foreground-neutral-primary: #FFFFFF;
        --smtc-foreground-neutral-secondary: #C3C8CE;
        --smtc-foreground-link-rest: #3792FD;
        --smtc-ctrl-link-foreground-brand-rest: #5369b6;
        --smtc-ctrl-link-foreground-brand-hover: #5369b6;
        --smtc-ctrl-link-foreground-brand-pressed: #5369b6;
        --smtc-ctrl-link-foreground-neutral-rest: #E5EBFA;
    }
`,S=i.A`
    :host {
        --smtc-foreground-control-neutral-primary-rest: #23272B;
        --smtc-foreground-ctrl-neutral-primary-rest: #272320;
        --smtc-theme-color-foreground-primary-100: #E5EBFA;
        --smtc-theme-color-foreground-primary-450: #746D68;
        --smtc-theme-color-foreground-primary-550: #635C57;
        --smtc-theme-color-foreground-primary-700: #3f3935;
        --smtc-theme-color-foreground-primary-750: #322d29;
        --smtc-theme-color-foreground-primary-800: #272320;
        --smtc-theme-color-foreground-primary-850: #191513;
        --smtc-theme-color-foreground-primary-900: #14110e;
        --smtc-theme-color-foreground-secondary-400: #98918b;
        --smtc-theme-color-foreground-secondary-450: #746d68;
        --smtc-theme-color-foreground-secondary-550: #635c57;
        --smtc-theme-color-foreground-secondary-600: #5a544f;
        --smtc-theme-color-foreground-secondary-650: #4c4642;
        --smtc-theme-color-foreground-secondary-700: #3f3935;
        --smtc-theme-color-foreground-secondary-750: #322d29;
        --smtc-theme-color-foreground-secondary-800: #272320;
        --smtc-theme-color-component-button-foreground-rest: #282523;
        --smtc-theme-color-component-button-foreground-pressed: #57514F;
        --smtc-theme-color-component-button-strong-foreground-rest: #F4EFED;
        --smtc-foreground-ctrl-neutral-primary-disabled: #0000004d;
        --smtc-foreground-ctrl-neutral-primary-pressed: #5a544f;
        --smtc-foreground-ctrl-neutral-secondary-rest: #4c4642;
        --smtc-foreground-ctrl-neutral-secondary-hover: #635D5A;
        --smtc-foreground-ctrl-active-brand-pressed: #322D29;
        --smtc-foreground-ctrl-active-brand-hover: #000;
        --smtc-foreground-ctrl-active-brand-rest: #272320ff;
        --smtc-foreground-ctrl-on-brand-rest: #e2ddd9;
        --smtc-foreground-ctrl-on-brand-hover: #F4EFED;
        --smtc-foreground-ctrl-on-brand-pressed: #b3ada8;
        --smtc-foreground-ctrl-on-brand-disabled: #0000004d;
        --smtc-foreground-ctrl-on-image-rest: #ffffff;
        --smtc-foreground-ctrl-on-outline-disabled: #a4a9b0ff;
        --smtc-foreground-ctrl-on-outline-rest: #272320;
        --smtc-foreground-ctrl-on-outline-hover: #282523;
        --smtc-foreground-ctrl-on-outline-pressed: #5a544f;
        --smtc-foreground-ctrl-on-subtle-rest: #272320;
        --smtc-foreground-ctrl-on-subtle-hover: #272320;
        --smtc-foreground-ctrl-on-subtle-pressed: #5A544F;
        --smtc-foreground-neutral-primary: #23272B;
        --smtc-foreground-neutral-secondary: #474B50;
        --smtc-foreground-link-rest: #026FD7;
        --smtc-foreground-tint-blue: #4193ff;
        --smtc-foreground-tint-neutral: #282523;
        --smtc-ctrl-link-foreground-brand-rest: #8a4b01;
        --smtc-ctrl-link-foreground-brand-hover: #8a4b01;
        --smtc-ctrl-link-foreground-brand-pressed: #8a4b01;
        --smtc-ctrl-link-foreground-neutral-rest: #272320;
    }
`,x=i.A`
    :host {
        --smtc-stroke-divider-default: #354479;
        --smtc-theme-color-stroke-default-250: #282F42;
        --smtc-theme-color-stroke-default-300: #313A52;
        --smtc-theme-color-stroke-default-350: #455172;
        --smtc-theme-color-stroke-default-450: #6B7597;
        --smtc-theme-color-stroke-default-550: #3E5091;
        --smtc-theme-color-accent-350: #354479;
        --smtc-theme-color-accent-300: #2C3860;
        --smtc-theme-color-stroke-muted-200: #1F2330;
        --smtc-theme-color-stroke-muted-250:  #333A4E;
        --smtc-theme-color-stroke-muted-300: #3E4760;
        --smtc-stroke-ctrl-on-outline-disabled: #ffffff14;
        --smtc-stroke-ctrl-on-outline-hover: #ffffff14;
        --smtc-stroke-ctrl-on-outline-pressed: #ffffff14;
        --smtc-stroke-ctrl-on-outline-rest: #ffffff14;
        --smtc-stroke-card-on-primary-rest: #ffffff26;
        --smtc-stroke-divider-subtle: #ffffff1a;
        --smtc-ctrl-input-stroke-rest: #ffffff0d;
        --smtc-ctrl-input-stroke-selected: #c2cadf;
        --smtc-ctrl-choice-base-stroke-rest: #9DA8D9;
        --smtc-ctrl-choice-base-stroke-disabled: rgba(255, 255, 255, 0.3);
        --smtc-ctrl-choice-switch-stroke-rest: rgba(255, 255, 255, 0);
        --smtc-ctrl-source-icon-border: #0F1119;
        --smtc-edge-ctrl-omnibox-stroke-focused: #ffffff;
        --smtc-status-informative-tint-stroke: #333A4E;
    }
`,C=i.A`
    :host {
        --smtc-stroke-divider-default: #dac6b7;
        --smtc-theme-color-stroke-default-250: #F2DDCC;
        --smtc-theme-color-stroke-default-300: #E3CBBC;
        --smtc-theme-color-stroke-default-350: #BBA5A0;
        --smtc-theme-color-stroke-default-450: #867073;
        --smtc-theme-color-stroke-default-550: #CA7D36;
        --smtc-theme-color-accent-350: #E29C61;
        --smtc-theme-color-accent-300: #F8BC8C;
        --smtc-theme-color-stroke-muted-200: #F4EFED;
        --smtc-theme-color-stroke-muted-250: #E2DDD9;
        --smtc-theme-color-stroke-muted-300: #D0C9C4;
        --smtc-stroke-ctrl-on-outline-disabled: #00000014;
        --smtc-stroke-ctrl-on-outline-hover: #00000014;
        --smtc-stroke-ctrl-on-outline-pressed: #00000014;
        --smtc-stroke-ctrl-on-outline-rest: #00000014;
        --smtc-stroke-card-on-primary-rest: #0000001f;
        --smtc-stroke-divider-subtle: #0000001a;
        --smtc-ctrl-input-stroke-rest: #0000000d;
        --smtc-ctrl-input-stroke-selected: #3f3935;
        --smtc-ctrl-choice-base-stroke-rest: #4A4543;
        --smtc-ctrl-choice-base-stroke-disabled: rgba(0, 0, 0, 0.3);
        --smtc-ctrl-choice-switch-stroke-rest: rgba(0, 0, 0, 0);
        --smtc-ctrl-badge-stroke: rgba(255, 255, 255, 0.00);
        --smtc-ctrl-source-icon-border: #FFFBF8;
        --smtc-edge-ctrl-omnibox-stroke-focused: #000000;
        --smtc-status-informative-tint-stroke: #E2DDD9;
    }
`,k=i.A`
   ${p}
   ${w}
   ${b}
   ${x}
   ${g}
`,T=i.A`
   ${m}
   ${y}
   ${S}
   ${C}
   ${v}
`.withBehaviors((0,r.G2)(k)),$=i.A`
    :host {
        --smtc-material-acrylic-blur: 60px;        
        --smtc-mai-shadow-ctrl-brand-key-blur: 3px;
        --smtc-mai-shadow-ctrl-brand-key-x: 0;
        --smtc-mai-shadow-ctrl-brand-key-y: 1px;
    }
`,A=i.A`
    :host {
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0.5px;
        
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        
        --smtc-shadow-ctrl-brand-key-x: 0px;
        --smtc-shadow-ctrl-brand-key-y: 0.5px;
        --smtc-shadow-ctrl-brand-key-blur: 3px;
    }
`,I=i.A`
    :host {
        --smtc-shadow-ctrl-fab-rest-key-x: 0px;
        --smtc-shadow-ctrl-fab-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-key-blur: 3px;
        
        --smtc-shadow-ctrl-fab-rest-ambient-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-blur: 0.5px;
    }
`,P=i.A`
    :host {
        --smtc-shadow-flyout-ambient-x: 0px;
        --smtc-shadow-flyout-ambient-y: 0px;
        --smtc-shadow-flyout-ambient-blur: 0px;
        
        --smtc-shadow-flyout-key-x: 0px;
        --smtc-shadow-flyout-key-y: 6px;
        --smtc-shadow-flyout-key-blur: 12px;
    }
`,_=i.A`
    :host {
        --smtc-effect-drop-shadow-medium-x-offset: 0px;
        --smtc-effect-drop-shadow-medium-y-offset: 6px;
        --smtc-effect-drop-shadow-medium-blur-radius: 12px;
        --smtc-effect-drop-shadow-medium-spread: 0px;
    }
`,M=i.A`
    ${A}
`;var R=n(90906),E=n(12870);const F=i.A`
    :host {
        --mai-smtc-corner-card-default: 48px;
        --mai-smtc-corner-card-nested-default-inside: 24px;
        --mai-smtc-corner-card-nested-default-outside: 36px;
        --mai-smtc-corner-card-nested-large-inside: 24px;
        --mai-smtc-corner-card-nested-large-outside: 36px;
    }

    @supports (corner-shape: squircle) {
        :host {
            --squircle-modifier: 1.85;
        }
    }
`,D=i.A`
    :host {
        --smtc-corner-card-small-rest: 48px;
        --smtc-corner-card-rest: 24px;
        --smtc-corner-card-nested-small-outside: 36px;
        --smtc-corner-card-nested-small-inside: 36px;
        --smtc-corner-card-discover-nested-outside: 48px;
        --smtc-corner-card-discover-nested-inside: 32px;
        --smtc-corner-card-alternate-small-rest: 24px;
        --mai-smtc-corner-card-default: 60px;
        --mai-smtc-corner-card-nested-default-inside: 32px;
        --mai-smtc-corner-card-nested-default-outside: 48px;
        --mai-smtc-corner-card-nested-large-inside: 32px;
        --mai-smtc-corner-card-nested-large-outside: 48px;
    }
`.withBehaviors(new class{constructor(t,e){this.rt=t,this.ot=e}connectedCallback(t){const{source:e}=t;E.Rb.CurrentFlightSet.has(this.rt)?e.$fastController.addStyles(this.ot):e.$fastController.removeStyles(this.ot)}}(R.zF,F)),O=i.A`
    :host {
        --smtc-corner-ctrl-fab-rest: 24px;
        --smtc-corner-ctrl-sm-rest: 12px;
        --smtc-corner-ctrl-lg-rest: 20px;
        --smtc-corner-ctrl-hover: 12px;
        --smtc-corner-ctrl-rest: 12px;
        --smtc-corner-ctrl-sm-hover: 14px;
        --smtc-ctrl-badge-corner: 8px;
        --smtc-ctrl-badge-sm-corner: 8px;
        --smtc-ctrl-choice-checkbox-corner: 9999px;
    }
`,N=i.A`
    :host {
        --smtc-corner-layer-default: 16px;
        --smtc-corner-favicon: 6px;
        --smtc-corner-flyout-rest: 20px;
        --smtc-corner-rounded-5-rem: 20px;
        --smtc-static-corner-rounded-5-base: 20px;
        --smtc-static-corner-rounded-3-5-rem: 14px;
        --smtc-static-corner-rounded-5-rem: 20px;
        --smtc-static-corner-rounded-6-rem: 24px;
    }
`,U=i.A`
    :host {
        --squircle-modifier: 1;
    }

    @supports (corner-shape: squircle) {
        :host {
            --squircle-modifier: 1.8;
        }
    }
`,L=i.A`
    ${O}
    ${D}
    ${N}
`,B=i.A`
    :host {
        --smtc-padding-content-none: 0px;
        --smtc-padding-content-xxSmall: 4px;
        --smtc-padding-content-xSmall: 8px;
        --smtc-padding-content-xSmallNudge: 7px;
        --smtc-padding-content-small: 12px;
        --smtc-padding-content-medium: 16px;
        --smtc-padding-content-large: 20px;
        --smtc-padding-content-xLarge: 24px;
        --smtc-padding-content-xxLarge: 32px;
        --smtc-padding-content-xxxLarge: 40px;
    }
`,W=i.A`
    :host {
        --smtc-gap-between-content-xx-small: 4px;
        --smtc-gap-between-content-x-small: 8px;
        --smtc-gap-between-content-small: 12px;
        --smtc-gap-between-content-medium: 16px;
        --smtc-gap-between-content-large: 20px;
        --smtc-gap-between-content-x-large: 22px;
        --smtc-gap-between-content-xxlarge: 32px;
        --smtc-gap-between-content-xx-large: 32px;
        --smtc-gap-between-content-xxx-large: 40px;
    }
`,H=i.A`
    :host {
        --smtc-padding-ctrl-horizontal-default: 10px;
        --smtc-padding-ctrl-sm-horizontal-default: 8px;
        --smtc-padding-ctrl-sm-horizontal-icon-only: 6px;
        --smtc-padding-ctrl-lg-horizontal-default: 16px;
        --smtc-padding-ctrl-lg-button-default: 14px;
        --smtc-padding-ctrl-text-bottom: 10px;
        --smtc-padding-ctrl-text-side: 2px;
        --smtc-padding-ctrl-text-top: 10px;
        --smtc-padding-ctrl-lg-text-bottom: 11px;
        --smtc-padding-ctrl-lg-text-side: 2px;
        --smtc-padding-ctrl-lg-text-top: 11px;
    }
`,V=i.A`
    :host {
        --smtc-gap-inside-ctrl-default: 2px;
        --smtc-gap-inside-ctrl-to-label: 8px;
        --smtc-gap-inside-ctrl-to-secondary-icon: 4px;
        --smtc-gap-inside-ctrl-lg-to-secondary-icon: 6px;
        --smtc-gap-between-ctrl-lg-default: 12px;
        --smtc-gap-between-text-large: 6px;
    }
`,z=i.A`
    :host {
        --smtc-padding-card-default: 12px;
        --smtc-padding-card-body-default-horizontal-start: 20px;
    }
`,j=i.A`
    :host {
        --smtc-padding-flyout-default: 8px;
    }
`,q=i.A`
    :host {
        --smtc-ctrl-badge-gap: 2px;
        --smtc-ctrl-badge-padding: 6px;
        --smtc-ctrl-badge-sm-padding: 4px;
        --smtc-ctrl-badge-text-padding-top: 4px;
        --smtc-ctrl-badge-sm-text-padding-top: 2px;
    }
`,G=i.A`
    :host {
        --smtc-static-spacing-base: 4px;
        --smtc-static-spacing-0-5-base: 2px;
        --smtc-static-spacing-3-5-base: 14px;
        --smtc-static-spacing-4-base: 16px;
        --smtc-static-spacing-8-base: 32px;
        --smtc-static-spacing-9-base: 36px;
        --smtc-static-spacing-2-rem: 8px;
        --smtc-static-spacing-2-5-rem: 10px;
    }
`,J=i.A`
    :host {
        --smtc-ctrl-choice-padding-horizontal: 4px;
    }
`,K=i.A`
    ${B}
`;var Q=n(63069);const X=i.A`
    :host {
        --smtc-text-ctrl-weight-default: 410;
        --smtc-text-style-default-header-weight: 650;
        --smtc-text-style-default-display-weight: 480;
        --smtc-text-style-default-regular-weight: 410;
        --smtc-text-style-default-display-letterSpacing: 0;
        --smtc-text-style-default-regular-letterSpacing: 0;
    }
`,Y=i.A`
    :host {
        --smtc-text-global-body1-font-size: 18px;
        --smtc-text-global-body1-line-height: 26px;
        --smtc-text-global-body1-font-weight: 400;
        --smtc-text-global-body2-font-size: 16px;
        --smtc-text-global-body2-line-height: 22px;
        --smtc-text-global-body3-font-size: 14px;
        --smtc-text-global-body3-line-height: 20px;
        --smtc-text-global-body3-font-weight: 400;
        --smtc-text-global-body3-font-weight-strong: 550;
        --smtc-text-global-body4-font-size: 16px;
        --smtc-text-global-body4-line-height: 24px;
    }
`,Z=i.A`
    :host {
        --smtc-text-global-caption1-font-size: 12px;
        --smtc-text-global-caption1-line-height: 16px;
        --smtc-text-global-caption1-font-weight: 500;
        --smtc-text-global-caption2-font-size: 10px;
        --smtc-text-global-caption2-line-height: 14px;
    }
`,tt=i.A`
    :host {
        --smtc-text-global-display1-font-size: 38px;
        --smtc-text-global-display1-line-height: 40px;
        --smtc-text-global-display2-font-size: 28px;
        --smtc-text-global-display2-line-height: 32px;
    }
`,et=i.A`
    :host {
        --smtc-text-global-title1-font-size: 24px;
        --smtc-text-global-title1-line-height: 32px;
        --smtc-text-global-title2-font-size: 20px;
        --smtc-text-global-title2-line-height: 26px;
        --smtc-text-global-title2-font-weight: 500;
        --smtc-text-global-title3-font-size: 20px;
        --smtc-text-global-title3-line-height: 26px;
        --smtc-text-global-title3-font-weight: 500;
    }
`,nt=i.A`
    :host {
        --smtc-text-global-subtitle1-font-size: 20px;
        --smtc-text-global-subtitle1-line-height: 26px;
    }
`,it=i.A`
    :host {
        --smtc-text-ramp-item-body-font-size: 14px;
        --smtc-text-ramp-item-body-line-height: 20px;
        --smtc-text-ramp-lg-item-body-font-size: 16px;
        --smtc-text-ramp-lg-item-body-line-height: 26px;
        --smtc-text-ramp-legal-font-size: 12px;
        --smtc-text-ramp-legal-line-height: 16px;
        --smtc-text-ramp-metadata-font-size: 14px;
        --smtc-text-ramp-metadata-line-height: 20px;
    }
`,rt=i.A`
    :host {
        --smtc-text-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
        --smtc-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
        --smtc-style-default-header-font-family: "Ginto Copilot Variable",  "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
    }
`,ot=i.A`
    :host {
        --smtc-typography-font-size-700: 24px;
        --smtc-typography-line-height-700: 31px;
        --smtc-typography-font-weight-700: 650;
        --smtc-typography-font-size-110: 39px;
        --smtc-typography-line-height-110: 40px;
        --smtc-typography-font-weight-110: 480;
    }
`,st=i.A`
    :host {
        --smtc-text-style-default-header-weight: 400;
    }
`,at=i.A`
    :host {
        --smtc-text-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
        --smtc-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
        --smtc-style-default-header-font-family: "Ginto Copilot Variable",  "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
    }
`,ct=i.A`
    :host {
        --smtc-text-style-default-header-weight: 500;
        --smtc-text-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue","Noto Sans SC",sans-serif;
        --smtc-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue","Noto Sans SC",sans-serif;
        --smtc-style-default-header-font-family: "Ginto Copilot Variable",  "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue","Noto Sans SC",sans-serif;
    }
`,ut=i.A`
    ${X}
    ${Y}
    ${Z}
    ${tt}
    ${et}
    ${nt}
    ${it}
    ${rt}
    ${ot}
`.withBehaviors(new Q.y(st,at,"prg-cnr-font-yh"),new Q.y(st,ct,"prg-cnr-font-nts")),lt=i.A`
    @media (forced-colors: active) {
        :host {
            --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 1);
        }
    }
`,dt=i.A`
    :host {
        --smtc-static-color-overlay-black-8: rgba(0, 0, 0, 0.08);
        --smtc-static-color-overlay-black-10: rgba(0, 0, 0, 0.1);
        --smtc-static-color-blue-350: #78b0ff;
        --smtc-static-color-blue-550: #0159ba;
        --smtc-static-color-red-400: #E7615B;
        --smtc-static-color-red-550: #AC1922;
    }
    
    ${lt}
`,ft=i.A`
    ${w}
    ${b}
    ${x}
`,ht=i.A`
    ${dt}
    ${y}
    ${S}
    ${C}
`.withBehaviors((0,r.G2)(ft)),pt=i.A`
    ${B}
    ${W}
    ${H}
    ${V}
    ${z}
    ${j}
    ${q}
    ${J}
    ${G}
`,mt=i.A`
    ${U}
    ${D}
    ${O}
    ${N}
`,gt=i.A`
    :host {
        --smtc-theme-color-component-attribution-item-background-hover: #FFF;
        --smtc-theme-color-component-attribution-item-background-rest: #FEFCFB;
        --smtc-theme-color-component-button-strong-background-rest: #282523;
        --smtc-theme-color-component-button-subtle-bright-background-pressed: rgba(255, 255, 255, 0.35);
        --smtc-theme-color-component-button-subtle-bright-inverted-background-hover: rgba(0, 0, 0, 0.3);
        --smtc-theme-color-component-button-subtle-bright-inverted-background-pressed: rgba(0, 0, 0, 0.2);
        --smtc-theme-color-component-button-subtle-dimmed-background-hover: rgba(0, 0, 0, 0.05);
        --smtc-theme-color-component-button-subtle-dimmed-background-pressed: rgba(0, 0, 0, 0.03);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-hover: rgba(0, 0, 0, 0.05);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-pressed: rgba(0, 0, 0, 0.03);
        --smtc-theme-color-component-button-outline-dimmed-inverted-stroke-pressed: rgba(177, 170, 166, 1);
        --smtc-theme-color-component-card-answer-background-inner: rgba(204, 196, 192, 0.2);
        --smtc-theme-color-component-card-answer-background-outer: rgba(255, 255, 255, 0.45);
        --smtc-theme-color-component-card-background-neutral: rgba(255, 255, 255, 0.80);
        --smtc-theme-color-component-citation-background-hover: #E3DDD8;
        --smtc-theme-color-component-citation-background-rest: #F0EAE5;
        --smtc-theme-color-component-composer-stop-button-background-hover: #E3B388;
        --smtc-theme-color-component-table-background-cell: rgba(255, 255, 255, 0.25);
        --smtc-theme-color-component-table-background-header: #FFEDDE;
        --smtc-theme-color-component-textbox-background-active: #0000000D;
    }
`,vt=i.A`
    :host {
        --smtc-theme-color-component-attribution-item-background-hover: #1D2439;
        --smtc-theme-color-component-attribution-item-background-rest: #171E32;
        --smtc-theme-color-component-button-strong-background-rest: #E4E6F1;
        --smtc-theme-color-component-button-subtle-bright-background-pressed: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-component-button-subtle-bright-inverted-background-hover: rgba(0, 0, 0, 0.3);
        --smtc-theme-color-component-button-subtle-bright-inverted-background-pressed: rgba(0, 0, 0, 0.2);
        --smtc-theme-color-component-button-subtle-dimmed-background-hover: rgba(0, 0, 0, 0.3);
        --smtc-theme-color-component-button-subtle-dimmed-background-pressed: rgba(0, 0, 0, 0.2);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-hover: rgba(255, 255, 255, 0.08);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-pressed: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-component-button-outline-dimmed-inverted-stroke-pressed: rgba(69, 81, 114, 1);
        --smtc-theme-color-component-card-answer-background-inner: rgba(157, 168, 217, 0.05);
        --smtc-theme-color-component-card-answer-background-outer: rgba(157, 168, 217, 0.10);
        --smtc-theme-color-component-card-background-neutral: rgba(157, 168, 217, 0.10);
        --smtc-theme-color-component-citation-background-hover: #282D3E;
        --smtc-theme-color-component-citation-background-rest: #1F2431;
        --smtc-theme-color-component-composer-stop-button-background-hover: #6777AF;
        --smtc-theme-color-component-table-background-cell: rgba(0, 0, 0, 0.25);
        --smtc-theme-color-component-table-background-header: #171E32;
        --smtc-theme-color-component-textbox-background-active: #4B5C9240;
    }
`,wt=i.A`
    :host {
        --smtc-ctrl-coachmark-foreground: #FFFBF8;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,yt=i.A`
    :host {
        --smtc-ctrl-coachmark-foreground: #0F1119;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,bt=i.A`
    :host {
        --smtc-ctrl-focus-inner-stroke: #00000000;
        --smtc-ctrl-focus-outer-stroke: #d7deef;
    }
`,St=i.A`
    :host {
        --smtc-ctrl-focus-inner-stroke: #00000000;
        --smtc-ctrl-focus-outer-stroke: #d7deef;
    }
`,xt=i.A`
    ${y}
    ${gt}
    ${S}
    ${wt}
    ${C}
    ${bt}
    ${m}
    ${v}
    ${"\n    :host {\n        --smtc-theme-color-overlay-black-30: rgba(255, 255, 255, 0.30);\n        --smtc-theme-color-overlay-black-5: #0000000D;\n    }\n"}
`,Ct=i.A`
    ${w}
    ${vt}
    ${b}
    ${yt}
    ${x}
    ${St}
    ${p}
    ${g}
    ${"\n    :host {\n        --smtc-theme-color-overlay-black-30: rgba(255, 255, 255, 0.30);\n        --smtc-theme-color-overlay-black-5: #FFFFFF0D;\n        \n    }\n"}
`,kt=i.A`
    ${$}
    ${A}
    ${I}
    ${P}
    ${_}
`,Tt=i.A`
    :host {
        --smtc-ctrl-badge-size: 19px;
        --smtc-ctrl-badge-sm-size: 19px;
        --smtc-size-ctrl-choice-base: 20px;
        --smtc-size-ctrl-default: 40px;
        --smtc-size-ctrl-lg-default: 48px;
        --smtc-size-ctrl-sm-default: 36px;
    }
`,$t=i.A`
    :host {
        --smtc-ctrl-badge-icon-size: 16px;
        --smtc-ctrl-citation-icon-size: 16px;
        --smtc-ctrl-source-icon-size: 16px;
        --smtc-size-ctrl-xl-icon: 28px;
        --smtc-size-ctrl-lg-icon: 24px;
        --smtc-size-ctrl-sm-icon: 24px;
    }
`,At=i.A`
    ${Tt}
    ${$t}
`,It=i.A`
    :host {
        --smtc-ctrl-input-stroke-width-rest: 1px;
        --smtc-stroke-width-ctrl-choice-rest: 2px;
        --smtc-stroke-width-ctrl-outline: 2px;
        --smtc-stroke-width-ctrl-outline-rest: 1px;
        --smtc-stroke-width-default: 1px;
        --mai-smtc-stroke-width-card-default: 0.5px;
    }
`,Pt=i.A`
    ${It}
`,_t=i.A`
    :host {
        --smtc-text-global-body1-font-size: 17px;
        --smtc-text-global-body2-font-size: 15px;
        --smtc-text-global-body2-line-height: 20px;
    }
`,Mt=i.A`
    :host {
        --smtc-text-global-subtitle1-line-height: 28px;
    }
`,Rt=i.A`
    :host {
        --smtc-text-style-default-header-weight: 550;
    }
`,Et=i.A`
    :host {
        --smtc-text-ramp-lg-item-body-font-size: 17px;
    }
`,Ft=i.A`
    :host {
        --smtc-text-global-title1-font-size: 28px;
        --smtc-text-global-title2-font-size: 24px;
        --smtc-text-global-title2-line-height: 31px;
    }
`,Dt=i.A`
    ${_t}
    ${Mt}
    ${Ft}
    ${Rt}
    ${Et}
`,Ot=(i.A` ${T} ${M} ${L} ${K} ${ut} ${u.bX}
`,i.A` ${ht} ${ut} ${pt} ${mt}
`,i.A` :host{--smtc-corner-flyout-rest:20px}${dt}
`);const Nt=i.A` ${u._8} ${Ct}
`,Ut=i.A` ${xt} ${pt} ${ut} ${kt} ${mt} ${At} ${Pt}
`,Lt=i.A` ${Ut} ${"winWidgets"===l.T3.AppType?h:c} ${u.bX} ${Ot} ${"edgeChromium"===l.T3.AppType||"views"===l.T3.AppType?Dt:i.A``}
`.withBehaviors((0,r.G2)(Nt))},31774:function(t,e,n){n.d(e,{FS:function(){return b},Mb:function(){return S},Q3:function(){return x},xs:function(){return y},yR:function(){return C}});var i=n(77246),r=n(44449),o=n(98216),s=n(1732),a=n(65022),c=n(93468),u=n(17254),l=n(12870),d=n(33918);const f=/^[a-zA-Z0-9_-]*(?:infopane|info)-\d+/,h={v2:"latest/js/thirdparty/doubleverify/v2/msftdvbm.js"},p=new Map,m=20;let g;const v=["cs-responsive-card","msft-content-card","cs-native-ad-card","cs-responsive-infopane","cs-native-ad-card-24","cs-content-card","msft-native-ad","cs-infopane-dense-card","cs-infopane-card-28","interstitial-native-ad-card"];function w(t,e){let n=(0,u.rA)().StaticsUrl;return n.endsWith("/")||(n+="/"),t&&e?function(t,e){let n=null;const i=/https:\/\/adsdkprod\.azureedge\.net\/assets\/dv\/(v\d+)\/msftdvbm\.js/i,r="latest/js/thirdparty/doubleverify/{version}/msftdvbm.js";try{const o=t.match(i);if(o&&o[1]){const t=o[1];return`${e}${r.replace("{version}",t)}`}n=`URL does not match expected DV script pattern: ${t}`}catch(t){n=`Error occurred while overriding DV script URL: ${t.message}`,(0,c.vV)(a.fze,n)}return""}(e,n):`${n}${h.v2}`}function y(t,e,n){var i;if(!t)return;const r=x(t),o=null===l.Rb||void 0===l.Rb||null===(i=l.Rb.CurrentFlightSet)||void 0===i?void 0:i.has(d.pL),s=o?r.get("doubleverify.com-omid"):r.get("DV");if(s&&s.length>0){var u;const t=null===(u=s[0])||void 0===u?void 0:u.ext,i=null==t?void 0:t.vendorKey,r=`p:${k(o&&"doubleverify.com-omid"===i?null==t?void 0:t.verification_parameters:null==t?void 0:t.verificationParameters,o)||"null"}|i:${e||"null"}|f:${n}|xdr:${o}`;(0,c.vV)(a.tpw,`DoubleVerify trackers present but skipped processing. ${r}`,void 0,{...a.tpw.pb,userImpacting:!0})}}function b(t){var e;if(!t)return{shouldAttach:!1};const n=t.eventTrackers&&t.eventTrackers.length>0,i=!!t.nativeAdId,r=i&&C(t.nativeAdId),o=t.enableInfopaneDVBeacon,s=null===l.Rb||void 0===l.Rb||null===(e=l.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(d.pL);if(!n||!r||i&&o||y(t.eventTrackers,t.nativeAdId,o),!function(t){return!!(t.enableInfopaneDVBeacon&&t.nativeAdId&&C(t.nativeAdId)&&t.eventTrackers&&t.eventTrackers.length>0)}(t))return{shouldAttach:!1};const a=x(t.eventTrackers),c=s?"doubleverify.com-omid":"DV",u=a.has(c);return{shouldAttach:u,dvTrackers:u?a.get(c):void 0}}function S(t,e,n){var f,h,y;if(!(0,i.S)()||!t||!e)return;const b=o.YT.getRequestId(),S=`${e}`;if(p.has(b)&&null!==(f=p.get(b))&&void 0!==f&&f.has(S))return;p.has(b)||(p.set(b,new Set),function(){if(p.size>m){const t=p.size-m;Array.from(p.keys()).slice(0,t).forEach(t=>{p.delete(t)})}}()),null===(h=p.get(b))||void 0===h||h.add(S);const x=null===l.Rb||void 0===l.Rb||null===(y=l.Rb.CurrentFlightSet)||void 0===y?void 0:y.has(d.pL),C=(0,r.sx)(n,"attachDVScript")((t,e,n,i)=>{var r,l,d;const f=i?null===(r=t[0])||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.verification_parameters:null===(l=t[0])||void 0===l||null===(l=l.ext)||void 0===l?void 0:l.verificationParameters,h=k(f,i),p=function(t,e,n,i){if(!t||!e)return;const r=function(t,e){if(void 0===g){const n=w(t,e);if("edgeChromium"===u.T3.AppType){const t=(0,s.TK)(n,"DvUrlPolicy"),e=t||void 0;if(!e||"about:blank#error"===e)return void(0,c.vV)(a.fze,"DV script url is not trusted type compliant.");g=e}else g=n}return g}(n,i);if(!r)return;try{const i=n?t:t.split(";").filter(t=>t.includes(":")).map(t=>t.split(":")).map(t=>{let[e,n]=t;return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`}).join("&"),o=new URL(r),s=new URLSearchParams(i);s.set("tagType","display"),s.set("mon","1"),s.set("blk","0"),s.set("ee_dp_js","1");const a=s.toString();return o.hash=`${a}&btreg=${e}&bttag=${v.join("|")}`,o.toString()}catch(t){return void(0,c.vV)(a.fze,`Failed to construct DV script URL: ${t}`)}}(f,n,i,null===(d=t[0])||void 0===d?void 0:d.url);if(!p)return void(0,c.vV)(e,"Failed to create sanitized DV script URL");const m=document.createElement("script");m.async=!0,m.src=p,m.onerror=t=>{(0,c.vV)(e,`Failed to download DV JS ${t}`)},document.body.appendChild(m),h&&o.YT.addOrUpdateTmplProperty("dvattachedid",h)});C(t,n,e,x)}function x(t){const e=new Map;return t.forEach(t=>{var n;const i=null==t||null===(n=t.ext)||void 0===n?void 0:n.vendorKey;var r;(i&&!e.has(i)&&e.set(i,[]),i)&&(null===(r=e.get(i))||void 0===r||r.push(t))}),e}function C(t){return!!t&&f.test(t.toLowerCase())}function k(t,e){if(t)try{const n=e?t.split("&"):t.split(";");for(const t of n){const[n,i]=e?t.split("="):t.split(":");if(n&&"plc"===n.trim()&&i)return i.trim()}}catch(t){return}}},32527:function(t,e,n){var i;n.d(e,{j1:function(){return i}}),function(t){t.c1="c1",t.c2="c2",t.c3="c3",t.c4="c4",t.c5="c5"}(i||(i={}));var r;!function(t){t.Default="default",t.UserChoice="userChoice",t.Flight="flight",t.WpoPromotion="wpoPromo"}(r||(r={}))},32633:function(t,e,n){var i;n.d(e,{f:function(){return i}}),function(t){t.InteractionRequired="userInteractionRequired",t.AuthProviderNotSupported="authProviderNotSupported",t.MaySucceedOnRetry="fetchRetryableError",t.AuthPrivateNotSupportedForMAM="authPrivateNotSupportedForMAM",t.OtherError="authFetchError"}(i||(i={}))},32849:function(t,e,n){n.r(e),n.d(e,{getAutoSuggestionName:function(){return c},getDisplayName:function(){return u},isSameLocationLocality:function(){return s},isSameLocationPoint:function(){return o},normalizeLatLong:function(){return a},toLatLong:function(){return l}});var i=n(46261),r=n(12426);function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.Qc)(t,e,n)}function s(t,e){return!(!t||!e)&&t.locality===e.locality}function a(t,e){return(0,i.JH)(t,e)}function c(t){if(t){if(t.autoSuggestionName)return t.autoSuggestionName;const e={enforceSmallLocaleFirst:!0};return(0,i.hM)(t,e)}}function u(t,e){return(0,i.Mn)(t,e)}function l(t){return`${t.latitude},${t.longitude}`}},32886:function(t,e,n){n.d(e,{$:function(){return i},h:function(){return r}});const i=864e5,r=36e5},33107:function(t,e,n){function i(t,e,n){return new t(e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}n.d(e,{S9:function(){return s},ST:function(){return o},m0:function(){return a},zr:function(){return i}});const r=(0,n(98763).bP)();function o(t){r.set(t)}const s=(t,e,n)=>r.call(t,e,n);function a(t,e,n){return n?n.instrumentPromise(e,t):t()}},33292:function(t,e,n){n.d(e,{$:function(){return d}});var i=n(7258),r=n(15098),o=n(65432),s=n(74166),a=n(98216),c=n(53064),u=n(76980);const l=(0,r.L)(()=>(0,u.tW)((0,s.Ux)("MUID"),100)<2);function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.YT.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:(0,i.M5)(n),authRecordTrail:l()&&c.xf.getRecordsTail()||void 0,tokenCacheState:(0,o.hF)()}})}},33315:function(t,e,n){n.d(e,{B4:function(){return i},Fg:function(){return c},K1:function(){return a},Tn:function(){return f},Tq:function(){return o},_0:function(){return h},f:function(){return l},mf:function(){return r},u7:function(){return d},wj:function(){return s},yQ:function(){return u}});const i="12px",r="14px",o="16px",s="20px",a="16px",c="20px",u="24px",l="28px",d="550",f="450",h="400"},33462:function(t,e,n){n.d(e,{$C:function(){return k},CP:function(){return a},FU:function(){return f},Hw:function(){return y},I4:function(){return r},IJ:function(){return T},JC:function(){return i},JU:function(){return F},Jl:function(){return h},Lw:function(){return P},ME:function(){return g},Nd:function(){return E},Nm:function(){return o},OF:function(){return S},Ql:function(){return m},RY:function(){return $},T3:function(){return R},Zc:function(){return b},cg:function(){return d},dT:function(){return x},g9:function(){return u},j$:function(){return c},jr:function(){return _},nC:function(){return l},nw:function(){return A},o7:function(){return M},tT:function(){return s},u2:function(){return p},vE:function(){return I},vN:function(){return v},xs:function(){return w},y6:function(){return C}});const i="#FFFFFF",r="#2169EB",o="#FFF",s="#FFF0EF",a="#FF9F99",c="#EF6864",u="#D63F40",l="#C0413F",d="#3F2524",f="#34A84E",h="#007F30",p="#242424",m="#FFF",g="rgba(0, 0, 0, 0.1)",v="#FFFFFF",w="#23272B",y="#FFFFFF",b="#EDF2F9",S="rgba(255, 255, 255, 0.1)",x="#1B1D1F",C="rgba(0, 30, 68, 0.1)",k="#FFFFFF",T="#8D9197",$="#000000",A="#26292E",I="#35383D",P="#EAEFF5",_="#F6F9FC",M="rgba(0, 0, 0, 0.2)",R="#474B50",E="#C3C8CE",F="brightness(0) saturate(100%) invert(90%) sepia(9%) saturate(164%) hue-rotate(173deg) brightness(90%) contrast(87%)"},33918:function(t,e,n){n.d(e,{Af:function(){return m},EW:function(){return c},HN:function(){return w},Hm:function(){return x},IY:function(){return y},J4:function(){return s},Kb:function(){return f},L2:function(){return C},OY:function(){return a},Q9:function(){return r},SK:function(){return g},TM:function(){return v},ZW:function(){return d},fK:function(){return i},h0:function(){return l},iT:function(){return o},jM:function(){return u},pL:function(){return S},r7:function(){return h},r_:function(){return p},s$:function(){return b}});const i="v3",r="v3.1",o="/resolver/api/resolve/",s="prg-pr2-",a="prg-pw-",c="prg-",u="prg-crsfdheadrem",l="prg-1sw-",d="https://assets.msn.com",f="https://assets.msn.cn",h="remflighthead",p="prg-ad-astmsn-rf",m="prg-ad-dispflts-t",g="prg-ad-dispadb-t",v="prg-ad-astce",w="prg-ad-lvrmp-rf",y="prg-ad-ndanid",b="prg-ad-xan-noncnna",S="ads-xandr-t";var x;!function(t){t.Treatment1="prg-ad-xan-tmx1",t.Treatment2="prg-ad-xan-tmx2",t.Treatment3="prg-ad-xan-tmx3",t.Treatment4="prg-ad-xan-tmx4",t.Treatment5="prg-ad-xan-tmx5",t.Treatment6="prg-ad-xan-tmx6"}(x||(x={}));const C="prg-ad-xan-ceto"},33930:function(t,e,n){n.d(e,{zQ:function(){return $},Yd:function(){return T},mM:function(){return A},tR:function(){return C}});var i=n(74195),r=n(49084),o=n(17254),s=n(67387),a=n(85766),c=n(44369),u=n(48608),l=n(74166),d=n(28828);const f=()=>{const t=(0,l.Ux)(s.v1,!0),e=t&&(0,d.B)(t),{child:n,expiredOn:i}=e||{};return(void 0!==n||void 0!==i)&&e},h=()=>{const t=f();if(!t)return!0;const e=t.expiredOn,n=new Date(e),i=!0;if(!n.getTime())return i;const r=new Date;return(n<r||n.getTime()-r.getTime()<2592e6)&&i};var p=n(65022),m=n(7258),g=n(86948),v=n(8353),w=n(98216),y=n(8597),b=n(2462),S=n(693),x=n(23572);async function C(t,e,n,s){const c=(0,x.aK)(),d=c&&c.startMeasure("updateAuthState").endMeasure;try{const t=!n&&(i.WD||i.TE);if(t){var f;const n=await(0,i.H$)({id:"appanoncookie"},window.location.port?1500:null),r=(null==n||null===(f=n.payload)||void 0===f?void 0:f.appAnonCookieExists)||!1;await k(e,r,t)}(0,r.FS)()?(await(0,v.n$)(),await k(e,!1,t)):(await async function(t,e){if((0,r.FS)())return void await(0,v.n$)();if(function(){if((0,r.x1)()){if(!(0,r.lp)()&&"edgeChromium"!==o.T3.AppType)return h();{const t=(0,a.eM)();if((0,u.Ki)()&&"MSA"===t.accountType||(0,l.XJ)(a.wj))return h()}}return!1}())return void await async function(t,e){const n=new URL(`https://api.msn.${o.T3.IsChinaCompliance?"cn":"com"}/auth/cookie/appanon`),i={credentials:"include"};t&&(i.headers=t);const s=e||(r.Aj[o.T3.AppType]?o.T3.AppType:y.Mq);return n.searchParams.set("apikey",o.T3.OneServiceApiKey),n.searchParams.set("ocid",s),n.searchParams.set("activityId",o.T3.ActivityId),n.searchParams.set("scn","app_anon"),fetch(n.href,i)}(t,e)}(s),await k(e,void 0,t))}catch(e){await k(),t(e)}d&&d()}async function k(t,e,n){let o=!1;const u=(0,x.aK)(),l=u&&u.startMeasure("handleSignInStateUpdateAsync").endMeasure;if((0,r.FS)()){const{accessToken:t}=((0,r.nf)()?await(0,v.a8)():(0,r.HN)())||{},e=(0,r.LK)(t);(0,S.A)(e)||(o=!0,(0,i.Q6)({id:"AuthHeaders",type:"command",payload:e}))}else if(o=null!=(0,b.Ri)(s.v1),(0,r.lp)()){(0,a.dl)();o=2===(0,a.eM)().isSignedIn}const d=o?2:1;if(n){!1===e&&2===d&&((0,i.Q6)({id:"updatemyfeed"}),(0,i.Q6)({id:"updatepdp"}),(0,i.Q6)({id:"UpdateMyBriefing"}))}(0,c.l)().setSignInState(d),(0,g._r)(),void 0!==t&&t!==d&&w.YT.addOrUpdateTmplProperty("signInUpdate","1"),l&&l()}function T(){return(0,g.Fo)()&&(!(0,r.FS)()||"MSA"===(0,g.NP)())}function $(){return"AAD"===(0,g.NP)()}function A(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w.YT.sendAppErrorEvent({...p.J3L,message:"Error on invoking the 1S appanon endpoint",pb:{...p.J3L.pb,customMessage:(0,m.M5)(t)}})}},34100:function(t,e,n){var i;n.d(e,{B:function(){return i}}),function(t){t.tryAcquire1STokenLite="ATL",t.acquireTokenSilent="ATS",t.tryAcquire1STokenProfileSwitch="ATP",t.clearAccountLinkingCookies="CAL",t.jwtSSOService="JWT",t.interactiveLogin="ILO",t.loginRedirect="LRD",t.loginPopup="LPP",t.logout="LGT",t.ssoSilent="SSL",t.singleSignOn="SSO",t.waitFor1SToken="W1S"}(i||(i={}))},34185:function(t,e,n){n.d(e,{N:function(){return l},b:function(){return u}});var i=n(2462),r=n(6736),o=n(49084),s=n(17254);function a(){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.YO;if((0,o.NY)()){const n=(0,r.S8)(t);var e;if(n)return null!==(e=n.anid)&&void 0!==e&&e.startsWith("a-")?n.anid.slice(2):n.anid}return""}();return{anid:t,signinCookieName:s.T3.AuthCookieName}}var c=n(89284);function u(t){const e=t||(0,i.ab)();return c.eE.maskIdentifiers(e)}function l(t){let e,n,r,{muid:o,anid:s,isCookieWallPresent:u}=t;if(!u){const{anid:t,signinCookieName:u}=a();e=c.eE.maskIdentifiers(o||(0,i.ab)()),n=c.eE.maskIdentifiers(t||s),r=c.eE.maskIdentifiers(u)}return{muidForRequest:e,anidForRequest:n,authCookieNameForRequest:r}}},34299:function(t,e,n){n.d(e,{U:function(){return o}});var i=n(17720),r=n(68480);class o{static get loadLocalStorage(){return i.vv.get(this.loadLocalStorageKey,()=>new r.P("loadLocalStorage"))}static set loadLocalStorage(t){i.vv.set(this.loadLocalStorageKey,t)}static get marketUpdated(){return i.vv.get(this.marketUpdatedKey,()=>new r.P("marketUpdated"))}static set marketUpdated(t){i.vv.set(this.marketUpdatedKey,t)}static get pageLayoutStateLoaded(){return i.vv.get(this.pageLayoutStateLoadedKey,()=>new r.P("PageLayoutStateLoaded"))}static set pageLayoutStateLoaded(t){i.vv.set(this.pageLayoutStateLoadedKey,t)}static get updateConfigData(){return i.vv.get(this.updateConfigDataKey,()=>new r.P("updateConfigData"))}static set updateConfigData(t){i.vv.set(this.updateConfigDataKey,t)}static get updateConfigDataChanged(){return i.vv.get(this.updateConfigDataChangedKey,()=>new r.P("updateConfigDataChanged"))}static set updateConfigDataChanged(t){i.vv.set(this.updateConfigDataChangedKey,t)}static get updateTopSitesQuickLinkEndMarginUsedPadding(){return i.vv.get(this.updateTopSitesQuickLinkEndMarginUsedPaddingKey,()=>new r.P("updateTopSitesQuickLinkEndMarginUsedPadding"))}static set updateTopSitesQuickLinkEndMarginUsedPadding(t){i.vv.set(this.updateTopSitesQuickLinkEndMarginUsedPaddingKey,t)}static get updateLocalStorage(){return i.vv.get(this.updateLocalStorageKey,()=>new r.P("updateLocalStorage"))}static set updateLocalStorage(t){i.vv.set(this.updateLocalStorageKey,t)}static get updateNtpTheme(){return i.vv.get(this.updateNtpThemeKey,()=>new r.P("updateNtpTheme"))}static set updateNtpTheme(t){i.vv.set(this.updateNtpThemeKey,t)}static get updatePrimaryAccountInfo(){return i.vv.get(this.updatePrimaryAccountInfoKey,()=>new r.P("updatePrimaryAccountInfo"))}static set updatePrimaryAccountInfo(t){i.vv.set(this.updatePrimaryAccountInfoKey,t)}static get updateWPOLayoutPromotion(){return i.vv.get(this.updateWPOLayoutPromotionKey,()=>new r.P("updateWPOLayoutPromotion"))}static set updateWPOLayoutPromotion(t){i.vv.set(this.updateWPOLayoutPromotionKey,t)}static get updateWPOLayoutPromotionSource(){return i.vv.get(this.updateWPOLayoutPromotionSourceKey,()=>new r.P("updateWPOLayoutPromotionSource"))}static set updateWPOLayoutPromotionSource(t){i.vv.set(this.updateWPOLayoutPromotionSourceKey,t)}static get updateWPOTopsitesPromotion(){return i.vv.get(this.updateWPOTopsitesPromotionKey,()=>new r.P("updateWPOTopsitesPromotion"))}static set updateWPOTopsitesPromotion(t){i.vv.set(this.updateWPOTopsitesPromotionKey,t)}static get updateWPOPromotionCoachMark(){return i.vv.get(this.updateWPOPromotionCoachMarkKey,()=>new r.P("updateWPOPromotionCoachMark"))}static set updateWPOPromotionCoachMark(t){i.vv.set(this.updateWPOPromotionCoachMarkKey,t)}static get updateFeedStateOnScroll(){return i.vv.get(this.updateFeedStateOnScrollKey,()=>new r.P("updateFeedStateOnScroll"))}static set updateFeedStateOnScroll(t){i.vv.set(this.updateFeedStateOnScrollKey,t)}}o.loadLocalStorageKey=Symbol("loadLocalStorage"),o.marketUpdatedKey=Symbol("marketUpdated"),o.pageLayoutStateLoadedKey=Symbol("pageLayoutStateLoaded"),o.updateConfigDataKey=Symbol("updateConfigData"),o.updateConfigDataChangedKey=Symbol("updateConfigDataChanged"),o.updateTopSitesQuickLinkEndMarginUsedPaddingKey=Symbol("updateTopSitesQuickLinkEndMarginUsedPadding"),o.updateLocalStorageKey=Symbol("updateLocalStorage"),o.updateNtpThemeKey=Symbol("updateNtpTheme"),o.updatePrimaryAccountInfoKey=Symbol("updatePrimaryAccountInfo"),o.updateWPOLayoutPromotionKey=Symbol("updateWPOLayoutPromotion"),o.updateWPOLayoutPromotionSourceKey=Symbol("updateWPOLayoutPromotionSource"),o.updateWPOTopsitesPromotionKey=Symbol("updateWPOTopsitesPromotion"),o.updateWPOPromotionCoachMarkKey=Symbol("updateWPOPromotionCoachMark"),o.updateFeedStateOnScrollKey=Symbol("updateFeedStateOnScroll")},34354:function(t,e,n){var i;n.d(e,{O:function(){return i}}),function(t){t.Desktop="desktop",t.Phone="phone",t.Tablet="tablet"}(i||(i={}))},34713:function(t,e,n){n.d(e,{C6:function(){return a},QP:function(){return c},aG:function(){return u},cH:function(){return l}});var i=n(14012),r=n(12870),o=n(77246);let s=null;function a(){return null!=s?s:s=!(!(0,o.S)()||!window.ssrPageGenTime)&&l()}function c(){return f("ruby-http-cache")&&!d()}function u(){return f("ntp-httpc-alldc")&&!d()}function l(){const{deliveryType:t,transferSize:e}=(0,i.hp)()||{},n=0===e;return t?["cache","cache-storage"].includes(t)&&n:n}function d(){return f("ruby-ntp-ctrl")||f("ruby-ntp-ctrl2")||f("ruby-ntp")}function f(t){var e;return null===(e=r.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(t)}},34809:function(t,e,n){n.d(e,{L:function(){return f}});var i,r,o,s=n(22360),a=n(14256);!function(t){t.customExperience="customExperience",t.grid="grid",t.horizontalStack="horizontalStack",t.layout="layout",t.rail="rail",t.verticalStack="verticalStack"}(i||(i={})),function(t){t.actionTrigger="ActionTrigger",t.button="Button",t.heading="Heading",t.peregrineExperience="PeregrineExperience",t.typography="Typography",t.webComponentExperience="WebComponentExperience"}(r||(r={})),function(t){t.riverGridChildren="riverGridChildren"}(o||(o={}));var c=n(88296),u=n(27942),l=n(29307),d=n(7187);class f{static registerAppValidator(t){this.expValidatorMap=t.getAllValidators()}static processConfig(t,e){if(!this.expValidatorMap||this.expValidatorMap.size<1||!t||!t.childExpValidatorMap)return t;const n=t.childExpValidatorMap;let i=null,r=null;for(const o in n){const s=n[o];if(this.expValidatorMap.has(o)){this.expValidatorMap.get(o)(s.validationArgs)&&(null===r&&(r=this.expConfigMap.get(e)||t),null===i&&(i=(0,l.A)(r)),t=this.filterConfig(s,r))}}return i?this.expConfigMap.set(e,i):null===r&&this.expConfigMap.has(e)&&(t=this.expConfigMap.get(e)),t}static removeFromRiverGridChildren(t,e){const n=e.riverGridChildren;return n&&n.forEach(e=>{const n=e.children;if(n){const i=t.childExperienceConfigInfo,r=(0,s.dt)(i);e.children=n.filter(t=>{const e=t.childExperienceConfigInfo;return!e||!i||i.instanceId!==e.instanceId||r!==(0,s.dt)(e)})}}),e}static getChildrenDataConnectorConfigInfos(t){const e=[];if(t&&t.dataConnectors&&t.dataConnectors.length>0){const n=f.getOrdinalObjectForCurrentBreakpoint(t.dataConnectors);n&&n.children&&n.children.length>0&&n.children.forEach(t=>{e.push(t)})}return e}static getMetadataByScreenWidth(t,e){return e.find(e=>e.screenWidth===t)||e.find(t=>t.screenWidth===a.b.Any)}static getOrdinalObjectForCurrentBreakpoint(t){switch((0,c.TU)().currentColumnArrangement){case u.j1.c1:return f.getMetadataByScreenWidth(a.b.OneColumn,t);case u.j1.c2:return f.getMetadataByScreenWidth(a.b.TwoColumn,t);case u.j1.c3:return f.getMetadataByScreenWidth(a.b.ThreeColumn,t);case u.j1.c4:return f.getMetadataByScreenWidth(a.b.FourColumn,t);case u.j1.c5:return f.getMetadataByScreenWidth(a.b.FiveColumn,t);default:return f.getMetadataByScreenWidth(a.b.Any,t)}}static compositionOverrideResolver(t,e){const{getCompositionIdOverride:n}=e||{},{composition:i,compositionOverrides:r}=t;return r&&(0,d.isFunction)(n)&&r[n()]||i}static getChildrenExperienceConfigInfos(t,e){const n=[];if(t&&t.composition){const o=f.compositionOverrideResolver(t,e);switch(o.type){case i.rail:case i.horizontalStack:case i.layout:o.page.children.forEach(t=>{void 0!==t.children&&t.children.forEach(t=>{if(!t.children)return;const{childType:e}=t.children;e?e===r.peregrineExperience&&n.push(t.children.child):n.push(t.children)})});break;case i.grid:o.grid.rows.forEach(t=>{void 0!==t.columns&&t.columns.forEach(t=>{const{itemType:e}=t.item;e&&e===r.peregrineExperience&&n.push(t.item.child)})});break;case i.customExperience:{const t=o;n.push(t.experience);break}}}return n}static filterConfig(t,e){return t&&"string"==typeof t.sectionName&&t.sectionName.toLowerCase()===o.riverGridChildren.toLowerCase()?this.removeFromRiverGridChildren(t,e):e}static resetValidatorMap(){this.expValidatorMap.clear()}static resetConfigMap(){this.expConfigMap.clear()}}f.expValidatorMap=new Map,f.expConfigMap=new Map},34947:function(t,e,n){n.d(e,{_:function(){return r}});var i=n(68480);class r{}r.disableSmartList=new i.P("disableSmartList"),r.registerSmartList=new i.P("registerSmartList"),r.persistSmartList=new i.P("persistSmartList"),r.updateSmartListBadgeProps=new i.P("updateSmartListBadgeProps"),r.updateSmartListState=new i.P("updateSmartListState"),r.userSignInSignature=new i.P("userSignInSignature"),r.userSignOutSignature=new i.P("userSignOutSignature"),r.smartListItemsReadySignature=new i.P("smartListItemsReadySignature")},35488:function(t,e,n){n.d(e,{R:function(){return b}});var i,r=n(24678),o=n(23768);!function(t){t[t.domComplete=0]="domComplete",t[t.error=1]="error",t[t.initialized=2]="initialized",t[t.rendered=3]="rendered",t[t.visuallyReady=5]="visuallyReady",t[t.startLoading=6]="startLoading",t[t.mediaContentReady=7]="mediaContentReady"}(i||(i={}));var s=n(3371),a=n(88294);function c(){return p(o.m.updatePageComplete,()=>!0)}function u(){return p(o.m.updateAboveTheFoldVisuallyReady,()=>!0)}function l(){return p(o.m.updateBelowTheFoldTransitionStart,()=>!0)}function d(t){return h(t,s.Y.resolvedForLoad)}function f(t){return h(t,s.Y.resolvedForRender)}function h(t,e){return p(o.m.updateExperienceCurrentState,n=>((n.params||[])[0]||[]).some(n=>n.currentState===e&&n.experienceType===t))}function p(t,e){return new Promise((n,i)=>{try{t.registerObserver(t=>{e(t)&&n(!0)})}catch(t){a.v.logError(t),i(!1)}})}function m(){return new Promise((t,e)=>{try{o.m.updateHydrationComplete.registerObserver(()=>{t(!0)})}catch(t){a.v.logError(t),e(!1)}})}var g=n(16414),v=n(8092);class w{static updateExperienceCurrentState(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o&&(o.currentState=n)}static updateMilestoneTiming(t,e,n,r,o,a,c){const u=this.getOrCreateExperienceInstanceMilestone(t,e,a,c);let l;if(u)switch(n){case i.initialized:l=u.initializationTime;break;case i.rendered:l=u.renderTime;break;case i.visuallyReady:l=u.visuallyReadyTime;break;case i.domComplete:l=u.domCompleteTime;break;case i.startLoading:return void(l=u.startLoadingTime);case i.error:return void(u.currentState=s.Y.error);case i.mediaContentReady:l=u.mediaContentReadyTime;break;default:throw new Error("Invalid Argument: Unrecognized eventType")}if(!l)throw new Error(`Invalid experience time object while processing timing update for ${n}`);r&&(l.startTime=r),o&&(l.endTime=o)}static updateHydrationComplete(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.hydrationComplete=e}static updateBelowTheFoldTransitionStart(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.belowTheFoldTransitionStart=e}static updateMilestonePlugin(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.plugins&&0!==t.plugins.length?t.plugins=t.plugins.concat(e):t.plugins=e}static updateAboveTheFoldVisuallyReady(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);if(!t.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");t.aboveTheFoldVisuallyReady.startTime=0,t.aboveTheFoldVisuallyReady.endTime=e}static updatePageComplete(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);if(!t.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");t.pageCompleteTiming.startTime=0,t.pageCompleteTiming.endTime=e}static deferExperienceLoad(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o.loadAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},w.updateLoadDeferralHandler(o,e)}static deferExperienceRender(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o.renderAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},w.updateRenderDeferralHandler(o,e)}static getOrCreateExperienceMilestone(t,e,n){if(!e)throw new Error("Invalid Argument: experienceType");t||(t={aboveTheFoldVisuallyReady:void 0,pageCompleteTiming:void 0,perExperienceMilestones:void 0}),t.perExperienceMilestones||(t.perExperienceMilestones=new Map);let i=t.perExperienceMilestones.get(e);return i||(i={experienceType:e,experienceGroup:n,perInstanceMilestones:new Map},t.perExperienceMilestones.set(e,i)),i}static getOrCreateExperienceInstanceMilestone(t,e,n,i){const r=this.getOrCreateExperienceMilestone(t,e,n),o=i||g.D;let a=r.perInstanceMilestones.get(o);return a||(a={currentState:s.Y.notStarted,initializationTime:{endTime:g.o,startTime:g.o},loadAfter:{experienceType:void 0,eventType:void 0},renderAfter:{experienceType:void 0,eventType:void 0},renderTime:{endTime:g.o,startTime:g.o},visuallyReadyTime:{endTime:g.o,startTime:g.o},startLoadingTime:{endTime:g.o,startTime:g.o},mediaContentReadyTime:{endTime:g.o,startTime:g.o},domCompleteTime:{endTime:g.o,startTime:g.o}},r.perInstanceMilestones.set(o,a)),a}static updateLoadDeferralHandler(t,e){switch(t.loadAfter.eventType){case v.R$.pageVisuallyReady:t.shouldLoad=c;break;case v.R$.aboveTheFoldVisuallyReady:t.shouldLoad=u;break;case v.R$.belowTheFoldTransitionStart:t.shouldLoad=l;break;case v.R$.hydrationComplete:t.shouldLoad=m;break;default:return void(t.shouldLoad=d.bind(this,e))}}static updateRenderDeferralHandler(t,e){switch(t.renderAfter.eventType){case v.R$.aboveTheFoldVisuallyReady:t.shouldRender=u;break;case v.R$.belowTheFoldTransitionStart:t.shouldRender=l;break;case v.R$.hydrationComplete:t.shouldRender=m;break;default:return void(t.shouldRender=f.bind(this,e))}}}w.invalidMilestoneModelMessage="Invalid Argument: milestoneModel";var y=n(7187);class b{reduce(t,e){let n;if(n=t?{...t}:{aboveTheFoldVisuallyReady:{endTime:g.o,startTime:g.o},pageCompleteTiming:{endTime:g.o,startTime:g.o},perExperienceMilestones:new Map},!e)return n;let i=!1;return i=i||this.handlePageLevelActions(i,e,n),i=i||this.handleExperienceLevelActions(i,e,n),n||t}handleExperienceLevelActions(t,e,n){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t||r.n.handleAction(e,o.m.updateInitTiming,t=>this.updateTiming(i.initialized,n,t)))||r.n.handleAction(e,o.m.updateRenderTiming,t=>this.updateTiming(i.rendered,n,t)))||r.n.handleAction(e,o.m.updateVisuallyReadyTiming,t=>this.updateTiming(i.visuallyReady,n,t)))||r.n.handleAction(e,o.m.updateStartLoadingTiming,t=>this.updateTiming(i.startLoading,n,t)))||r.n.handleAction(e,o.m.updateMediaContentReadyTiming,t=>this.updateTiming(i.mediaContentReady,n,t)))||r.n.handleAction(e,o.m.updateDomCompleteTiming,t=>this.updateTiming(i.domComplete,n,t)))||r.n.handleAction(e,o.m.updateExperienceLoadDeferralState,t=>t.forEach(t=>{let{deferralInfo:e,experienceType:i,experienceGroup:r,experienceInstance:o}=t;e&&i&&w.deferExperienceLoad(n,i,e,r,o)})))||r.n.handleAction(e,o.m.updateExperienceRenderDeferralState,t=>t.forEach(t=>{let{deferralInfo:e,experienceType:i,experienceGroup:r,experienceInstance:o}=t;e&&i&&w.deferExperienceRender(n,i,e,r,o)})))||r.n.handleAction(e,o.m.updateExperienceCurrentState,t=>t.forEach(t=>{let{experienceType:e,currentState:i,experienceGroup:r,experienceInstance:o}=t;i&&e&&w.updateExperienceCurrentState(n,e,i,r,o)})))||r.n.handleAction(e,o.m.updateExperiencePublicState,t=>{})}handlePageLevelActions(t,e,n){return t=(t=(t=(t=(t=t||r.n.handleAction(e,o.m.updatePageComplete,t=>w.updatePageComplete(n,t)))||r.n.handleAction(e,o.m.updateAboveTheFoldVisuallyReady,t=>w.updateAboveTheFoldVisuallyReady(n,t)))||r.n.handleAction(e,o.m.updateBelowTheFoldTransitionStart,t=>{(0,y.isNullOrUndefined)(t)||w.updateBelowTheFoldTransitionStart(n,t)}))||r.n.handleAction(e,o.m.updateHydrationComplete,()=>{w.updateHydrationComplete(n,!0)}))||r.n.handleAction(e,o.m.updateMilestonePlugins,t=>{t.length>0&&w.updateMilestonePlugin(n,t)})}updateTiming(t,e,n){const{startTime:i,endTime:r,experienceType:o,experienceGroup:s,experienceInstance:a}=n;w.updateMilestoneTiming(e,o,t,i,r,s,a)}}},35849:function(t,e,n){n.d(e,{SV:function(){return m},wv:function(){return v},zP:function(){return g}});var i=n(38290),r=n(56589),o=n(18731),s=n(22360),a=n(65022),c=n(93468),u=n(93005),l=n(77246),d=n(17720),f=n(27597);const h="GetDataConnector.skippedConnectors",p={};async function m(t){return t?await u.V.getInstance().rootReducer.getDataConnector(t):null}function g(t){return u.V.getInstance().rootReducer.connector(t)}async function v(t){const e=(0,s.dt)(t);if(d.vv.get(h,()=>new Set).has(e))return Promise.resolve();const n=d.vv.get("dataConnectorLoadPromiseMap",()=>({}));let m=n[e];if(m)return m;let g=p[e];return g||(g=i.L.loadExperience(e).catch(()=>{delete p[e]}),p[e]=g),m=new Promise(async e=>{try{const e=(0,s.dt)(t),n=(0,s.QH)(t),i=r.L.getConfig(n),a=await Promise.all([i,g]),c=a[0].properties,d=a[1],h=u.V.getInstance(),p=d[e+"Connector"];if(!0===p.isWCConnector)new p(e,c);else{const t=d[e+"Reducer"],n=new p(e,"",h.rootReducer,new t(c),h.store,c,new o.bb);(0,l.S)()&&(0,f.Jl)(e,n.getCurrentState())}}catch(t){const e={...a.B0t};(0,c.c_)(t,e,"Loading data connector failed.")}e()}),n[e]=m,m}},36090:function(t,e,n){var i;n.d(e,{Aw:function(){return o},CR:function(){return l},DX:function(){return i},L3:function(){return s},LN:function(){return r},MD:function(){return c},ME:function(){return a},gU:function(){return f},n5:function(){return d},oQ:function(){return u}}),function(t){t.BR="pt-br",t.DEDE="de-de",t.ENAU="en-au",t.ENCA="en-ca",t.ENGB="en-gb",t.ENIN="en-in",t.ENUS="en-us",t.ENIE="en-ie",t.ESES="es-es",t.ESMX="es-mx",t.FRCA="fr-ca",t.FRFR="fr-fr",t.ITIT="it-it",t.IN="en-in",t.HUHU="hu-hu",t.KOKR="ko-kr",t.JAJP="ja-jp",t.PLPL="pl-pl",t.PTBR="pt-br",t.RURU="ru-ru",t.RUXL="ru-xl",t.ZHCN="zh-cn"}(i||(i={}));const r="de-de",o="en-us",s="en-in",a="en-xl",c="es-mx",u="ja-jp",l="ko-kr",d="pt-br",f="zh-cn"},36417:function(t,e,n){var i,r;n.d(e,{A:function(){return r},B:function(){return i}}),function(t){t[t.Exceptional=0]="Exceptional",t[t.Fallback=1]="Fallback"}(i||(i={})),function(t){t[t.Alert=0]="Alert",t[t.Deprecated=1]="Deprecated",t[t.HighImpact=2]="HighImpact",t[t.Critical=3]="Critical"}(r||(r={}))},37423:function(t,e,n){n.d(e,{cn:function(){return l}});var i=n(17720),r=n(51947);const o="__RequestDataInstance__";class s{constructor(t,e){if(this.url=new URL(t.href),this.innerHeight=t.innerHeight,this.devicePixelRatio=t.devicePixelRatio,this.canUseCssGrid=t.canUseCssGrid,this.requestId=t.requestId,this.cookie=t.cookie,this.referer=t.referer,this.userAgent=t.userAgent,this.clientData=t.clientData,this.vpCetoToken=t.vpCetoToken,this.oneServiceHeaders=c(t.oneServiceHeaders)||{},this.isPssrMode=e,e){const t=a(r.Zc,this.cookie),e=!!t&&"1"===t,n=a(r.V$,this.cookie);if(e&&n||!t&&!n)return this.msalAuthReady=!0,void(n&&(this.oneServiceHeaders.Authorization=`Bearer ${n}`));this.msalAuthReady=!1,this.pssrRejectedReason=t&&!e?"interactiveLogin":t&&!n?"missOSAT":"missOSATE"}}static getInstance(){const t=i.vv.get(o);return t||(n.g.TEST_ENV?u({href:"http://localhost:8080/",innerHeight:768,devicePixelRatio:1,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:"",vpCetoToken:""}):u({href:"http://localhost:8080/",innerHeight:0,devicePixelRatio:0,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:"",vpCetoToken:""}))}static resetInstance(t){const e=new s(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return i.vv.set(o,e),e}}function a(t,e){if(e&&t){const n=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i").exec(e);return n&&n.length>1?n[1]:null}return null}function c(t){try{if(t)return JSON.parse(t)}catch(t){}}const u=s.resetInstance,l=()=>s.getInstance()},37918:function(t,e,n){n.d(e,{x:function(){return s}});var i=n(60815),r=n(92011);const o={handleChange(t){t.$fastController.isConnected?t.connected&&t.connected():t.disconnected&&t.disconnected()}};function s(t){return class extends t{constructor(){super(...arguments),i.cP.getNotifier(this.$fastController).subscribe(o,"isConnected")}}}s(r.L)},38072:function(t,e,n){n.d(e,{e:function(){return i}});const i=new Set(["AD","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BW","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CO","CR","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IM","IN","IO","IQ","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PR","PT","PW","PY","QA","RE","RO","RS","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW","EN-US","JA-JP","DE-DE"])},38290:function(t,e,n){var i;n.d(e,{L:function(){return i}}),function(t){const e={};t.loadExperience=async t=>{const n=e[t];if(!n)throw new Error(`Attempted to load unknown dynamic bundle "${t}". Make sure it's a registered dynamic experience bundle.`);return n()},t.registerExperience=(t,n)=>{e[t]=n},t.hasExperienceRegistered=t=>!!e[t]}(i||(i={}))},38405:function(t,e,n){n.d(e,{G9:function(){return x},aI:function(){return y},bO:function(){return g},cP:function(){return h},fe:function(){return b},hq:function(){return m},ip:function(){return p},sB:function(){return S}});var i=n(16253),r=n(27942),o=n(65022),s=n(93468),a=n(98216),c=n(99863),u=n(99928),l=n(91532);const d={enableDynamicWaterfallWPO:"wf",enableVerticalCarousels:"vc",enableAugments:"aug"},f={0:r.j1.c1,1:r.j1.c2,2:r.j1.c3,3:r.j1.c4,4:r.j1.c5};function h(t,e,n,r){const o=i.vd[t];let s="";let a;s=e?Object.keys(e).slice(0,o).map(t=>`${t}:${e[t].offset}`).join(","):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"c",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":0";return Array.from({length:t},(t,i)=>`${e}${i+1}${n}`).join(",")}(o),a=n?Object.keys(n).slice(0,o).map(t=>`${t}:${n[t].offset}`).join(","):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"c",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":-1";return Array.from({length:t},(t,i)=>`${e}${i+1}${n}`).join(",")}(o);const c={layout:null==t?void 0:t.toLowerCase(),colstatus:s,colwidth:300,adoffsets:a,l3v:2};if(r){const t=function(t){if(!t)return;const e=[];if(Object.keys(d).forEach(n=>{const i=n;t[i]&&e.push(d[i])}),!e.length)return;return e.join(",")}(r);t&&(c.wpoux=t)}return c}function p(t,e){const n={c1:{offset:0},c2:{offset:0},c3:{offset:0},c4:{offset:0},c5:{offset:0}},i=t[0];for(let o=1;o<t.length;o++){var r;const s=f[o],a=(null==e||null===(r=e[s])||void 0===r?void 0:r.offset)??0;n[s].offset=t[o]-i+a}return n}function m(t,e,n){const i={c1:{offset:-1},c2:{offset:-1},c3:{offset:-1},c4:{offset:-1},c5:{offset:-1}};for(let o=0;o<t.length;o++){const s=f[o];var r;if(-1!=t[o])i[s].offset=t[o];else void 0!==(null==n||null===(r=n[s])||void 0===r?void 0:r.offset)?i[s].offset=-1===n[s].offset?-1:n[s].offset+e[o]:i[s].offset=t[o]}return i}const g=(t,e,n,i)=>{const{columnsOffset:r,adsOffset:a}=w(e),c=[];try{var u;const o=(null===(u=Object.values(r))||void 0===u?void 0:u.map(t=>t.offset))||[];t.forEach((t,r)=>{var s,u;const d=f[r];let h=Boolean(a[d].offset>-1),p=Math.max(a[d].offset,0),m=0;const g=(null==e||null===(s=e.numProcessedCards)||void 0===s?void 0:s[r])??0;let w=0;null===(u=t.slice(g))||void 0===u||u.forEach((t,e)=>{if("cs-section-tracker"!==t.childTemplateType&&!x(t)){const r=v(t,n,i);m+=r,t.childTemplateType===l.C.nativeAdCard||t.childTemplateType===l.C.responsiveAdCard?(h=!0,p=0):h&&(p+=r),w=e}}),o[r]+=m,c.push(w+g+1),r<=1&&!e&&(o[r]+=i),h&&(a[d].offset=p)});for(let e=1;e<t.length;e++){r[f[e]].offset=o[e]-o[0]}return{adsOffset:a,columnsOffset:r,numProcessedCards:c}}catch(n){return void(0,s.c_)(n,o.aIL,"Error calculating rendered column offsets","",{numColumns:null==t?void 0:t.length,lastPageOffsets:e})}},v=(t,e,n)=>t.childTemplateType===l.C.nativeAdCard||t.childTemplateType===l.C.responsiveAdCard?u.MG:(null==e?void 0:e.get(t.id))||(t.height??n),w=t=>{let e={c1:{offset:0},c2:{offset:0},c3:{offset:0},c4:{offset:0},c5:{offset:0}},n={c1:{offset:-1},c2:{offset:-1},c3:{offset:-1},c4:{offset:-1},c5:{offset:-1}};return null!=t&&t.preColumnsOffset&&(e={...t.preColumnsOffset}),null!=t&&t.preAdsOffset&&(n={...t.preAdsOffset}),{adsOffset:n,columnsOffset:e}};function y(t,e){var n,i;void 0!==t.layout&&void 0!==t.colstatus&&void 0!==t.l3v&&void 0!==t.adoffsets||a.YT.sendAppErrorEvent({...o.L$h,message:"Waterfall feed request missing QSPs",pb:{...o.L$h.pb,customMessage:`feedName: ${t.feedName}, \n                                option2: true, \n                                layout: ${t.layout}, \n                                colstatus: ${t.colstatus}, \n                                l3v: ${t.l3v}, \n                                adoffsets: ${t.adoffsets}, \n                                requestnextPageUrl: ${t.nextPageUrl},\n                                requestServiceUrl: ${t.serviceUrl},\n                                useWebLayoutEndpoint: ${t.useWebLayoutEndpoint},\n                                pageScenario: ${t.pageScenario},\n                                traceIdIndex: ${null==e?void 0:e.traceIdIndex}, \n                                Statics: ${null==e?void 0:e.isStatic}, \n                                debugId: ${null==e?void 0:e.debugId}, \n                                fdHead: ${null==e?void 0:e.serviceContext.fdHead},\n                                responseNextPageUrl: ${null==e?void 0:e.nextPageUrl},\n                                responseNextPageRequest.nextPageUrl: ${null==e||null===(n=e.nextPageRequest)||void 0===n?void 0:n.nextPageUrl},\n                                responseNextPageRequest.serviceUrl: ${null==e||null===(i=e.nextPageRequest)||void 0===i?void 0:i.serviceUrl},\n                                responseSource: ${null==e?void 0:e.responseSource}, \n                                status: ${null==e?void 0:e.status},\n                                responseStatus: ${null==e?void 0:e.responseStatus}`}})}const b=(t,e)=>t.map(t=>t.cards.reduce((t,n)=>t+(n.height?n.height:e),0)),S=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const{contentInViewport:r}=(0,c.X3)(t),o=((t,e)=>t?t.map(t=>{var n;const{colSpan:i,height:r=e}=(null==t||null===(n=t.columns[0])||void 0===n?void 0:n.cards[0])||{},o=b(t.columns,e);if(i&&i>1)for(let t=1;t<=Math.min(i,o.length-1);t++)o[t]+=r;return Math.min(...o)}):[])(e,n);let s=0,a=0;for(let t=0;t<o.length&&!(s>=r.height-i);t++)s+=o[t],a++;return a},x=t=>{var e;return null==t||null===(e=t.id)||void 0===e?void 0:e.startsWith("loadingCardPlaceholder")}},38467:function(t,e,n){n.d(e,{E:function(){return o}});var i=n(65022),r=n(98216);class o extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.identifier=t,this.subscriptions=new Map,e.initialState&&Object.keys(e.initialState).forEach(t=>{super.set(t,e.initialState[t])})}set(t,e){super.set(t,e);const n=this.subscriptions.get(t);return n&&n.size?(n.forEach(n=>{try{n&&n(e)}catch(e){r.YT.sendAppErrorEvent({...i.O2G,message:"Failed to execute subscription callback",pb:{...i.O2G.pb,customMessage:`Error executing subscription callback for key [${t}]`,instanceId:this.identifier,errorMessage:e&&e.message}})}}),this):this}subscribe(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"function"!=typeof e)return;let i=this.subscriptions.get(t);i||(this.subscriptions.set(t,new Set),i=this.subscriptions.get(t)),i.add(e),this.has(t)&&!1!==n.fireImmediately&&e(this.get(t)),n.signal&&n.signal.addEventListener("abort",()=>{this.unsubscribe(t,e)})}unsubscribe(t,e){const n=this.subscriptions.get(t);n&&n.delete(e)}reset(){this.clear(),this.subscriptions.clear()}}},38796:function(t,e,n){let i,r;function o(t){i=t}function s(){return i}function a(t){r=t}function c(){return r}n.d(e,{HT:function(){return s},eC:function(){return a},eU:function(){return c},jB:function(){return o}})},38870:function(t,e,n){n.d(e,{o:function(){return i}});const i={name:"footer",layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%"},children:[{name:"start-action-part",children:[{name:"ad-label",layout:{marginInlineStart:"16",marginInlineEnd:"6",zIndex:5}},{name:"provider-name",layout:{flex:1,minWidth:0,zIndex:5},customStyleClass:"white-12-flex-layout"}]},{name:"end-action-part",children:[{name:"disclaimer",layout:{zIndex:5}},{name:"ad-choice",layout:{zIndex:5}},{name:"see-more",layout:{marginInlineEnd:"16",zIndex:5}}]}]}},39065:function(t,e,n){n.d(e,{HJ:function(){return c},Nf:function(){return f},Ow:function(){return d},Vb:function(){return p},hV:function(){return l}});var i,r,o=n(77246),s=n(17254),a=n(12870);!function(t){t.Map="weather::weathermaps",t.MonthlyForecast="weather::weathermonthlyforecast",t.Weather="weather",t.Widget="widget",t.Forecast="weather::weathertoday",t.HomePage="weather::forecast",t.RecordsAndAveragesPage="weather::weatherrecordsandaverages",t.Life="weather::weatherlife",t.Activity="weather::weatheractivity",t.Pollen="weather::weatherpollen",t.HourlyForecast="weather::weatherhourlyforecast",t.Studio="msnstudio",t.Impactful="weather::weatherimpactful"}(i||(i={})),function(t){t[t.Forecast=1]="Forecast",t[t.Map=2]="Map",t[t.MonthlyForecast=3]="MonthlyForecast",t[t.RecordsAndAveragesPage=4]="RecordsAndAveragesPage",t[t.Pollen=5]="Pollen",t[t.Life=6]="Life",t[t.HourlyForecast=7]="HourlyForecast",t[t.Activity=8]="Activity",t[t.Impactful=9]="Impactful"}(r||(r={}));function c(){const t=h(arguments.length>0&&void 0!==arguments[0]&&arguments[0]);return"weather"===t||"weather::weathertoday"===t||"weather::forecast"===t}function u(){return"weather::weathermaps"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function l(){return"msnstudio"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function d(){return"weather::weatherhourlyforecast"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function f(){return"weather::weatherimpactful"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||"weather"===s.T3.HostPage.verticalKey&&"impactful"===s.T3.HostPage.categoryKey}function h(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("sharedWidgets"===(null===(n=a.Rb.ClientSettings)||void 0===n?void 0:n.apptype)&&"copilotsports"===(null===(i=a.Rb.ClientSettings)||void 0===i?void 0:i.pagetype))return"weather";var n,i;const r=null===(t=a.Rb.ClientSettings)||void 0===t?void 0:t.pagetype;if(!e||!(0,o.S)())return r;if(r&&r.includes("::"))return r;try{const t=document.getElementsByTagName("head")[0];return JSON.parse(t.getAttribute("data-client-settings")).pagetype||r}catch(t){return void console.error("Failed to get page type from head",t)}}function p(){return u()?2:function(){return"weather::weathermonthlyforecast"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?3:function(){return"weather::weatherrecordsandaverages"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?4:function(){return"weather::weatherlife"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?6:function(){return"weather::weatheractivity"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?8:function(){return"weather::weatherpollen"===h(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?5:d()?7:f()?9:1}},39092:function(t,e,n){n.d(e,{IC:function(){return l},XP:function(){return s}});var i=n(81760),r=n(19330),o=n(12870);const s=(t,e,n)=>{var i;if(null!=t&&t.passIsAppTrafficSignal||null!=e&&e.enablePageObject||null!=t&&t.passRequestModelSignals||null!=t&&t.passVAXandrMigrationSignals||null!=t&&t.passDeviceOS||null!=e&&null!==(i=e.brandSafety)&&void 0!==i&&i.adjCardIds||null!=t&&t.sendAdBlockDetectionFromEdge&&null!=e&&e.isAdblockerEnabled)try{const i=a(t,e,n);return Object.keys(i).length?JSON.stringify(i):""}catch(t){return}},a=(t,e,n)=>{var i;const r={};if(null!=t&&t.passIsAppTrafficSignal&&null!=e&&e.isAppTraffic&&(r.app={isApp:null==e?void 0:e.isAppTraffic}),null!=e&&e.enablePageObject&&(r.page=c(e)),null!=t&&t.passRequestModelSignals||null!=e&&e.requestModelSignals){const t=(null==n?void 0:n.auctionLevelSignals)||(null==e?void 0:e.requestModelSignals);var o,s;if(t)r.requestModelSignals={vpSize:null!=t&&t.vpSize?{w:null==t||null===(o=t.vpSize)||void 0===o?void 0:o.w,h:null==t||null===(s=t.vpSize)||void 0===s?void 0:s.h}:void 0,isPrerender:(null==t?void 0:t.isPrerender)||void 0,isSSR:(null==t?void 0:t.isSSR)||void 0,ocid:(null==t?void 0:t.ocid)||void 0}}null!=e&&null!==(i=e.brandSafety)&&void 0!==i&&null!==(i=i.adjCardIds)&&void 0!==i&&i.length&&e.brandSafety.adjCardIds.length>0&&(r.brandSafety=e.brandSafety);const a={};return null!=t&&t.passVAXandrMigrationSignals&&(a.vaXandrMigration=!0),Object.keys(a).length>0&&(r.flightSignals=a),null!=t&&t.passDeviceOS&&null!=e&&e.device&&(r.deviceRequest=e.device),null!=t&&t.sendAdBlockDetectionFromEdge&&1==(null==e?void 0:e.isAdblockerEnabled)&&(r.isAdblockerEnabled=!0),r},c=t=>{const e=u(),n={};return e&&(n.type=e),null!=t&&t.pageLayout&&(n.layout=null==t?void 0:t.pageLayout),n},u=()=>{var t;return i.t.getMetadata(r.W.PageType)||(null===(t=o.Rb.ClientSettings)||void 0===t?void 0:t.pagetype)},l=(t,e)=>{try{const n=d(t,e);return Object.keys(n).length?JSON.stringify(n):""}catch(t){return}},d=(t,e)=>{var n,i;const r={};return null!=e&&null!==(n=e.displayAdTemplateKVstyles)&&void 0!==n&&null!==(n=n.styles)&&void 0!==n&&n.length&&e.displayAdTemplateKVstyles.styles.length>0&&(r.template_kv={styles:e.displayAdTemplateKVstyles.styles}),null!=e&&null!==(i=e.brandSafety)&&void 0!==i&&i.adjCardIds&&(r.brandSafety=e.brandSafety),null!=e&&e.modelSignals&&(r.modelSignals=e.modelSignals),r}},39598:function(t,e,n){n.d(e,{k:function(){return r}});var i=n(11372);function r(t,e){const n=function(t){switch(t){case i.b5.AppStore:return 17;case i.b5.StructuredData:return 16;case i.b5.CmsPromotions:return 19;case i.b5.MicrosoftWebStore:return 20;case i.b5.XboxStore:return 21;case i.b5.OfficeStore:return 22;case i.b5.PartnerLinks:return 24;case i.b5.SponsoredContent:return 25;default:return 0}}(t)||function(t){switch(t){case i.MS.Navigate:return 14;case i.MS.Follow:return 26;case i.MS.Unfollow:return 27;case i.MS.More:return 28;case i.MS.Close:return 36;case i.MS.Share:return 37;case i.MS.Like:return 38;case i.MS.Dislike:return 39;case i.MS.Unlike:return 40;case i.MS.Undislike:return 41;case i.MS.Mute:return 42;case i.MS.Unmute:return 43;case i.MS.Cancel:return 44;case i.MS.Manage:return 45;default:return 0}}(e);if(0!==n)return n;if(t===i.b5.App){if(e===i.MS.Install)return 23;if(e===i.MS.Launch)return 18}return 0}},39677:function(t,e,n){n.d(e,{$rH:function(){return tt},AZd:function(){return i},Afb:function(){return vt},Ag7:function(){return J},Awm:function(){return it},Blw:function(){return ht},COZ:function(){return xt},Ci3:function(){return dt},F2F:function(){return At},FeE:function(){return v},FkA:function(){return O},Gkw:function(){return f},HQR:function(){return A},I5k:function(){return V},IMk:function(){return s},Imi:function(){return _},JMw:function(){return H},JrC:function(){return z},JuT:function(){return Pt},L1:function(){return c},MCQ:function(){return kt},MSR:function(){return g},MU6:function(){return Ct},N$c:function(){return gt},O7O:function(){return o},PIQ:function(){return _t},PWf:function(){return S},RfR:function(){return k},Rqs:function(){return st},Tb$:function(){return F},UYK:function(){return d},V6n:function(){return mt},VI$:function(){return l},VPb:function(){return yt},VVH:function(){return W},Vo5:function(){return P},Vw1:function(){return K},Ws$:function(){return m},XES:function(){return w},XLk:function(){return B},Y1$:function(){return pt},Y4F:function(){return ot},b0J:function(){return R},cDF:function(){return a},cbN:function(){return X},cjA:function(){return ut},eA:function(){return It},fAo:function(){return wt},fxR:function(){return N},gCv:function(){return I},iG5:function(){return x},iIh:function(){return nt},kLb:function(){return M},kf9:function(){return p},mdD:function(){return rt},nDV:function(){return b},pTq:function(){return L},qcT:function(){return ct},r2g:function(){return et},r91:function(){return $},rFv:function(){return C},rOe:function(){return at},ruk:function(){return D},ry_:function(){return h},sNZ:function(){return St},tF1:function(){return j},tOA:function(){return G},thz:function(){return Y},v6S:function(){return ft},vJX:function(){return Q},vmb:function(){return Mt},wlx:function(){return u},wvE:function(){return U},xEt:function(){return lt},xl2:function(){return Tt},y3Q:function(){return $t},y8E:function(){return Z},yCo:function(){return T},yHt:function(){return bt},yds:function(){return E},zkJ:function(){return q},zmN:function(){return y},zrv:function(){return r}});const i="var(--smtc-foreground-control-neutral-primary-rest)",r="var(--smtc-theme-color-background-200)",o="var(--smtc-theme-color-foreground-primary-750)",s="var(--smtc-theme-color-foreground-primary-800)",a="var(--smtc-theme-color-foreground-secondary-550)",c="var(--smtc-theme-color-overlay-black-30)",u="var(--smtc-static-spacing-3-5-base)",l="var(--smtc-static-spacing-4-base)",d="var(--smtc-padding-content-xxSmall)",f="var(--smtc-padding-content-xSmall)",h="var(--smtc-shadow-flyout-key-x)",p="var(--smtc-shadow-flyout-key-y)",m="var(--smtc-shadow-flyout-key-blur)",g="var(--smtc-shadow-flyout-ambient-x)",v="var(--smtc-shadow-flyout-ambient-y)",w="var(--smtc-shadow-flyout-ambient-blur)",y="var(--smtc-text-style-default-display-letterSpacing)",b="var(--smtc-text-style-default-regular-letterSpacing)",S="var(--smtc-background-ctrl-on-image-lum-blend)",x="var(--smtc-background-ctrl-on-image-rest)",C="var(--smtc-background-ctrl-on-image-saturation-blend)",k="var(--smtc-background-tint-neutral)",T="var(--smtc-ctrl-choice-switch-background-selected-rest)",$="var(--smtc-ctrl-choice-switch-background-rest)",A="var(--smtc-ctrl-choice-switch-thumb-background-rest)",I="var(--smtc-ctrl-choice-switch-thumb-background-selected-rest)",P="var(--smtc-ctrl-choice-switch-stroke-rest)",_="var(--smtc-ctrl-coachmark-foreground)",M="var(--smtc-foreground-tint-neutral)",R="var(--smtc-foreground-ctrl-on-image-rest)",E="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-x)",F="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-y)",D="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur)",O="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread)",N="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-color)",U="var(--smtc-shadow-ctrl-button-neutral-rest-key-x)",L="var(--smtc-shadow-ctrl-button-neutral-rest-key-y)",B="var(--smtc-shadow-ctrl-button-neutral-rest-key-blur)",W="var(--smtc-shadow-ctrl-button-neutral-rest-key-color)",H="var(--smtc-shadow-ctrl-fab-rest-key-color)",V="var(--smtc-shadow-ctrl-fab-rest-ambient-color)",z="var(--smtc-status-informative-tint-background-ad)",j="var(--smtc-corner-card-small-rest)",q="var(--smtc-corner-card-nested-small-outside)",G="var(--smtc-corner-card-discover-nested-outside)",J="var(--smtc-corner-card-discover-nested-inside)",K="var(--smtc-corner-card-alternate-small-rest)",Q="var(--smtc-background-flyout-saturation-blend)",X="var(--smtc-corner-favicon)",Y="var(--smtc-ctrl-badge-stroke)",Z="var(--smtc-corner-ctrl-fab-rest)",tt="var(--smtc-padding-card-default)",et="var(--smtc-padding-content-xSmallNudge)",nt="var(--smtc-padding-content-xLarge)",it="var(--smtc-padding-content-xxLarge)",rt="var(--smtc-padding-ctrl-lg-text-side)",ot="var(--smtc-shadow-ctrl-fab-rest-key-x)",st="var(--smtc-shadow-ctrl-fab-rest-key-y)",at="var(--smtc-shadow-ctrl-fab-rest-key-blur)",ct="var(--smtc-shadow-ctrl-fab-rest-ambient-y)",ut="var(--smtc-shadow-ctrl-fab-rest-ambient-blur)",lt="var(--smtc-shadow-flyout-ambient-color)",dt="var(--smtc-shadow-flyout-key-color)",ft="var(--smtc-size-ctrl-choice-base)",ht="var(--smtc-stroke-width-ctrl-choice-rest)",pt="var(--smtc-stroke-width-ctrl-outline)",mt="var(--smtc-text-global-body1-font-weight)",gt="var(--smtc-text-global-body3-font-weight)",vt="var(--smtc-style-default-regular-font-family)",wt="var(--smtc-style-default-header-font-family)",yt="var(--smtc-text-global-body3-font-size)",bt="var(--smtc-text-global-body3-line-height)",St="var(--smtc-text-style-default-header-font-family, var(--smtc-text-style-default-regular-font-family))",xt="var(--smtc-background-webPage-primary)",Ct="var(--squircle-modifier)",kt="var(--mai-smtc-corner-card-default)",Tt="var(--mai-smtc-corner-card-nested-default-inside)",$t="var(--mai-smtc-corner-card-nested-default-outside)",At="var(--mai-smtc-corner-card-nested-large-inside)",It="var(--mai-smtc-corner-card-nested-large-outside)",Pt="var(--mai-background-ctrl-onImage-rest)",_t="var(--mai-background-ctrl-onImage-hover)",Mt="var(--mai-background-ctrl-onImage-pressed)"},39892:function(t,e,n){var i,r,o;n.d(e,{GW:function(){return o},us:function(){return i}}),function(t){t[t.Unknown=0]="Unknown",t[t.NotSignedIn=1]="NotSignedIn",t[t.SignedIn=2]="SignedIn"}(i||(i={})),function(t){t.MSA="MSA",t.AAD="AAD",t.AAD_AL="AAD-AL",t.NA="NA",t.UNSUPPORTED_SOVEREIGNTY="UNSUPPORTED_SOVEREIGNTY"}(r||(r={})),function(t){t[t.NonAadAccount=0]="NonAadAccount",t[t.AadAccount=1]="AadAccount",t[t.Unknown=2]="Unknown"}(o||(o={}))},40160:function(t,e,n){n.d(e,{Z:function(){return l}});var i=n(65022),r=n(93468),o=n(51518),s=n(17254),a=n(12870),c=n(77246),u=n(98216);async function l(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{CurrentFlightSet:n,ClientSettings:l}=a.Rb;if(!(0,c.S)()||"true"===(null==l?void 0:l.static_page))return;const d=(0,o.E)(20),{debugId:f,fdHead:h,fdFlightingVersion:p,requestHeaderMuid:m}=t||{};if(!h)return;const{requestMuid:g,requestTrailInfo:v}=l,w=null==v?void 0:v.flightVersion,y=null==g?void 0:g.toLowerCase(),b=null==m?void 0:m.replace(/-/g,"").toLowerCase(),S=new Set(h.toLocaleLowerCase().split(",")),x={pcsMuid:y,oneServiceMuid:b,pcsFlightBlobVersion:w,oneServiceFlightBlobVersion:p,oneServiceDebugId:f},C=[],k=n||new Set;if(!k||!k.size)return void(d&&(0,r.vV)(i.CUJ,"PCS flights are empty",`ClientSettings.static_page = ${null==l?void 0:l.static_page}`,x));y&&b&&b!==y&&d&&(0,r.vV)(i.O3F,"Muid mismatch between PCS and 1S",void 0,x);const T=function(){const t=s.T3.AppType;if("winWidgets"===t)return"prg-pr2";if("windowsShell"===t||"windowsShellV2"==t)return"prg-1sw-";return"prg-"}();for(const t of k)t.startsWith(T)&&!S.has(t)&&C.push(t);for(const t of S)t.startsWith(T)&&!k.has(t)&&C.push(t);C&&C.length>0&&(e&&u.YT.addOrUpdateTmplProperty("flight-mismatch"),d&&(0,r.vV)(i.VLN,"Flight mismatch between PCS and 1S",void 0,{missingPrgFlights:C.join(","),commonProps:x}))}},40371:function(t,e,n){n.d(e,{lKb:function(){return o}});var i=n(84855);const r={[i.i_T]:"above-river-block",[i.Ej]:"action-tray",[i.K8q]:"article-close-button",[i.Ouq]:"article-related-stories",[i.SAb]:"article-top-comment",[i.WG6]:"autos-carousel",[i.vjl]:"autos-entity-card-wc",[i.DfK]:"autos-entity-span",[i.FjG]:"back-to-top-button",[i.U72]:"background-gallery",[i.F0b]:"background-image",[i.w0E]:"bing-daily-quiz-card",[i.iej]:"bing-health-card",[i.ct7]:"bing-health-fitness-card",[i.Y7O]:"bing-homepage-feed",[i.Op9]:"boost-ad-card",[i.SNY]:"breaking-news-wc",[i.MIc]:"calendar-card",[i.eYr]:"card-action",[i.EUj]:"cashback-carousel-card",[i.ote]:"casual-games-banner",[i.ymm]:"casual-games-card",[i.CNr]:"casual-games-carousel-card",[i.pqA]:"casual-games-entertainment-takeover",[i.QcA]:"casual-games-zh-carousel",[i.oC8]:"casual-games-feed",[i.n_I]:"casual-games-frame",[i.AfX]:"casual-games-game-card-carousel",[i.Sld]:"casual-games-gameplay",[i.C25]:"casual-games-gameplay-right-rail",[i.$1A]:"casual-games-hub",[i.JOJ]:"casual-games-landing-v2",[i.nlv]:"casual-games-pill",[i.W2]:"casual-games-prong2-carousel-card",[i.hxV]:"casual-games-stripe-carousel-card",[i.oOo]:"casual-games-user-profile-preview",[i.LGh]:"channel-entry-point",[i.HTg]:"channel-filter-card",[i.LSw]:"fre-entrypoint",[i.Bvk]:"channel-interests-manager",[i.iEy]:"channel-mobile-content",[i.OTF]:"channel-page",[i.eVF]:"channel-store",[i.Qoi]:"chrome-extension-page",[i.Yw8]:"cms-base-experience",[i.BV_]:"shopping-cms",[i.FEr]:"codex-bing-chat",[i.QmR]:"cold-start",[i.uby]:"common-auto-suggest",[i.eww]:"common-header",[i.UlU]:"common-search-box-edgenext",[i.k29]:"common-settings-edgenext",[i.XTG]:"community-card",[i.RMd]:"community-compose-copilot",[i.AN5]:"commute-card",[i.spA]:"companion-widget",[i._5A]:"conditional-banner-hp-wc",[i.s4M]:"conditional-banner-wc",[i.ZPV]:"consumption-feed-wc",[i.m$j]:"consumption-page",[i.M4f]:"content-flex-info-pane",[i.qNJ]:"content-group",[i.ojW]:"content-group-card",[i.uWu]:"content-tts",[i.An8]:"contextual-feedback-wc",[i.$YM]:"copilot-consumption-landing-page",[i.JCB]:"copilot-feed-view",[i.G2r]:"copilot-ruby-card",[i.r3n]:"copilot-suggestion-prompts",[i.PMX]:"copilot-prompts-card-for-work",[i.P$f]:"cpc-monetization-dashboard",[i.qIz]:"creator-spotlight-card",[i.nau]:"daily-brief-card",[i.E2]:"daily-brief-full-page-player",[i.avx]:"daily-greeting-card",[i.iR_]:"daily-moments-card",[i.Aqo]:"daily-wonder-card",[i.QO_]:"daily-wonder-copilot-card",[i.KaV]:"dashboard-fallback",[i.rmE]:"dashboard-settings",[i.lwF]:"debug-button",[i.BJK]:"dense-card",[i.B$w]:"desktop-feed-hub",[i.Cbw]:"desktop-feed-views",[i.ySv]:"desktop-feed",[i.O_p]:"dev-tools",[i.o$H]:"did-you-know-image-wc-experience",[i.bQD]:"did-you-know-wc-experience",[i.cpF]:"digest-card",[i.Wi9]:"display-ads",[i.SAI]:"distribution-feed",[i.bN8]:"distribution-header",[i.P6d]:"distribution-page",[i.smC]:"distribution-pivots-nav",[i.hEo]:"donation-npo-card",[i.KTI]:"edge-chromium-page",[i.DSN]:"edge-shopping",[i.nwD]:"election-card",[i.pH]:"emmx-entrypoint",[i.OBg]:"entertainment-card",[i.skx]:"entertainment-premier-card",[i.Igw]:"entry-point-hp-mobile",[i.CJU]:"entry-point",[i.WO6]:"entry-point-hp-ruby",[i.zV7]:"entry-point-mobile-hub",[i.Qj3]:"entry-point-views",[i.s7z]:"esports-card",[i.A$l]:"example-offer-card",[i._iH]:"experience-preview-cta",[i.a0r]:"family-card",[i.Fep]:"feed-container",[i.v7O]:"feed-level-feedback-wc",[i.G2t]:"feed-navigation-hp",[i.vq4]:"feedback-card",[i.TAx]:"feedback-dialog-wc",[i.b8g]:"feedback-link",[i.DKz]:"feed-off-dialog",[i.C$X]:"finance-carousel",[i.pqd]:"float-button-group",[i.Ruc]:"following-fre-confirmation",[i.pt1]:"following-fre-full-width",[i.B_E]:"food-similar-items",[i.gvE]:"frequent-sites-card",[i.KHV]:"gaming-channel",[i.CVt]:"gaming-discover-strip",[i.asX]:"gaming-page",[i.gIT]:"gaming-recentlyplayed-card",[i.oMs]:"general-elections",[i.jCw]:"grid-view-feed",[i.yy7]:"header-windows-shell-wc",[i.D69]:"health-articles-card",[i.FYv]:"health-augment-card",[i.sUJ]:"health-diet-plan-schedule",[i.LxF]:"health-feedback",[i.owB]:"health-fitness-carousel",[i.KdP]:"health-food-healtheffects",[i.$v]:"health-food-recipes",[i.Mf4]:"healthhub-healthapp",[i.Mc6]:"health-interests-manager",[i.ozo]:"health-qna-card-wc",[i.Lwu]:"health-tip-wc",[i.rK_]:"health-top-span",[i.WgF]:"health-topic-flyout",[i.z3c]:"health-translation",[i.Zhi]:"hero-container-wc",[i.puY]:"homepage-footer",[i.NJc]:"homepage-header",[i.moo]:"homepage-pwa-mobile",[i.IWO]:"horoscope-answer-card",[i.Vzq]:"hot-list-card",[i.Cfy]:"hp-feed-switch",[i.sZo]:"immersive-fullscreen",[i.c9U]:"inspiration-card",[i.PvQ]:"interest-fre-card",[i.rh2]:"interest-management-card",[i.qMv]:"interests-manager",[i.ve9]:"interests-wc",[i.FM9]:"ios-pwa-install-instructions",[i.d3]:"issue-reporting",[i.q8z]:"ka-social-buzz",[i.h1]:"key-takeaways-wc",[i.cEj]:"language-toggle",[i.k2X]:"linked-in-card",[i.hkb]:"local-hub-header",[i.PSy]:"localize-strings-temp-experience",[i.K9G]:"mail-signout-banner",[i.Ir6]:"manga-card",[i.aI7]:"manga-carousel",[i.swS]:"market-language-toggle",[i.JY9]:"marketplace-card",[i.X0z]:"me-control",[i.lJH]:"me-stripe",[i.XEv]:"microsoft-edge-widget",[i.kW8]:"mobile-app-upsell",[i.GIn]:"mobile-consumption-page",[i.h7w]:"mobile-feed-hub",[i.aVt]:"mobile-feed-wc",[i.vAe]:"mobile-footer",[i.BsJ]:"mobile-header",[i.JYX]:"mobile-market-selector",[i.P6g]:"mobile-notification",[i.QCU]:"mobile-popup-window",[i.jHn]:"mobile-tip",[i.dxc]:"mobile-trending-search-card",[i.skl]:"mobile-video-sd-card",[i.shR]:"moment-in-time-hero",[i.$q6]:"money-augment-card",[i.aC]:"money-copilot",[i._1F]:"money-info",[i.ahW]:"money-info-card",[i.yl]:"money-info-span",[i.YPW]:"ms-rewards",[i.chB]:"msn-feed",[i.mLJ]:"msn-studio",[i.e19]:"native-ad-wc",[i.$K6]:"navigation-page-experience",[i.PbL]:"newsletter-signup",[i.MAn]:"newsletter-signup-page",[i.Acs]:"tracker-create",[i.Zgg]:"tracker-page",[i.N6u]:"tracker-topic",[i.Kt8]:"notification-bell",[i._E8]:"notification-mini-card",[i.FcC]:"nudge-spotlight-card",[i.QtQ]:"nurturing-banner",[i.jRe]:"nurturing-coach-mark",[i.iIw]:"office-apps",[i.bNy]:"office-coachmark",[i.enh]:"office-documents-table",[i.PyZ]:"office-leftrail",[i.B34]:"on-this-day-card",[i.wcr]:"page-refresh",[i.PP4]:"pano-page",[i.W34]:"personal-finance-expense-distribution",[i.lr]:"personal-finance-transactions-card",[i.j$N]:"personalize-nav-button",[i.Ujv]:"photo-card",[i.P4y]:"pill-wc",[i.J9$]:"pivots-mobile",[i.ktl]:"polls-card",[i.VMF]:"premium-profile-promo-card",[i.SLN]:"pride-event-card",[i.JxY]:"prism-carousel-card",[i.fQG]:"prism-feed",[i.AOC]:"prism-sd-card",[i.CzP]:"proactive-feedback-wc",[i.jz6]:"productivity-hub",[i.CAk]:"profile-articles",[i.XRH]:"promoted-ad-wc",[i.QYe]:"publisher-list",[i.PIH]:"publisher-subscribe-follow-button",[i.hzk]:"pull-to-refresh",[i.HYZ]:"pulse-edgenext",[i.dIv]:"pulse-prong",[i.Qb0]:"qna-card",[i.j2b]:"qna-feed-404-page",[i.U8S]:"qna-feed-card",[i.Pju]:"qna-feed-card-menu",[i.mrt]:"qna-feed-carousel",[i.dZV]:"qna-feed-categories-menu",[i.JdX]:"qna-feed-explore-topics",[i.uKL]:"qna-feed-list",[i.ggT]:"qna-feed-my-topics",[i.g$M]:"qna-feed-related-questions",[i.Erl]:"qna-feed-report-card",[i.ptQ]:"qna-feed-suggested-topics",[i.IMn]:"qna-feed-topic-detail",[i.Sdo]:"qna-feed-trending-questions",[i.zHB]:"quiz-card",[i.u2C]:"reaction-breakdown-dialog",[i.ArF]:"real-estate-card",[i.Lz8]:"recipes-sd-card",[i.gJ$]:"recommended-interests",[i.F2]:"recommended-sites",[i.adn]:"rewards-card",[i.xYf]:"rewards-flyout",[i.wNB]:"rich-calendar-card",[i.QSA]:"rich-calendar-landing-page",[i.Y_V]:"exam-page",[i.$i6]:"right-rail-provider-carousel",[i.mhC]:"ruby-board-home-page",[i.i]:"ruby-board-notifications-card",[i.oXp]:"ruby-composer",[i.vqF]:"ruby-composer-autosuggest",[i.xye]:"ruby-page",[i.HOb]:"scroll-down-button",[i.nDg]:"sd-card-mask",[i.FSw]:"search-box-wc",[i.s1n]:"search-history-edgenext",[i.oJ5]:"select-carousel",[i._Jh]:"shared-hero-news-card",[i.qkr]:"stack-card",[i.ED]:"shared-links",[i.ohD]:"sharepoint-news-card",[i._ge]:"shopping-all-stores-page",[i.XSf]:"shopping-article-page",[i.r87]:"shopping-augment-card",[i.psk]:"shopping-banner-sd-card",[i.V9h]:"shopping-bing-product-details",[i.r4q]:"shopping-blackjack-deal-page",[i.vXx]:"shopping-blackjack-page",[i.aR4]:"shopping-buying-guide",[i.JCG]:"shopping-buying-guide-premium-card",[i.D19]:"shopping-buying-guides-card",[i.xdy]:"shopping-card-actions",[i.yXx]:"shopping-card-wc",[i.yFt]:"shopping-carousel-prong-wc",[i.Yeu]:"shopping-carousel",[i.bBp]:"shopping-category-page",[i.F5C]:"shopping-checkout-modal",[i.a0f]:"shopping-cold-start",[i.e1E]:"shopping-coupons-page",[i.BCq]:"shopping-deals-home-page",[i.SbE]:"shopping-debug-page",[i.rAl]:"shopping-entry-base-experience",[i.P83]:"shopping-events-deal-card",[i.Yac]:"shopping-fashion-carousel",[i.Rpm]:"shopping-gem-hero-card",[i.AUU]:"shopping-grid",[i.Ohn]:"shopping-grouped-carousel",[i.sz2]:"shopping-guides-page",[i.Cfl]:"shopping-homepage",[i.mny]:"shopping-inspiration",[i.TlD]:"shopping-leaderboard",[i.lHB]:"shopping-modal",[i.N0q]:"shopping-model-overlay",[i.N34]:"shopping-moment-in-time-page",[i.qfU]:"shopping-offer-card",[i.IxT]:"shopping-page-base",[i.GFw]:"shopping-page-content",[i.GjX]:"shopping-pivot-feed",[i.LkC]:"shopping-product-detail-page",[i.KJl]:"shopping-river-card",[i.NjZ]:"shopping-sd-card",[i.k_X]:"shopping-search",[i.JMd]:"shopping-shopthelook-page",[i.LLs]:"shopping-top-span",[i.VLS]:"sign-in-control",[i.R6D]:"sign-in-flyout",[i.UET]:"signal-overlay",[i.wTj]:"social-avatar",[i.c$z]:"social-bar-wc",[i.$on]:"social-comment-box",[i.uY0]:"social-comment-wc",[i.uy5]:"social-endorsements",[i.PyO]:"social-entrypoint",[i.y55]:"social-lead-gen-in-article",[i.Cvt]:"social-notification",[i.QJZ]:"social-post-editor",[i.dHl]:"social-profile-action-menu",[i.Z6M]:"social-profile-appeal",[i.aAb]:"social-profile-card",[i.$B1]:"social-profile-promotion",[i.HXk]:"social-profile-rejection-details",[i.OVJ]:"social-profile-topics",[i.g4B]:"social-related-sources",[i._07]:"social-report-menu",[i.yVO]:"social-rewards-medal",[i.KsV]:"social-rewards-promotion",[i.I7z]:"social-star-rating",[i.oCI]:"social-subscription-banner",[i.nQd]:"social-subscription-notification",[i.YFx]:"social-subscription-overlay",[i.CKw]:"social-subscription-overlay-summary",[i.$PL]:"social-subscription-upsell",[i.ztc]:"social-support-result",[i.uBV]:"social-tip-history",[i.CnP]:"social-tip-introduction",[i.BDB]:"social-tip-promotion",[i.oWn]:"social-tip-promotion-in-article",[i.grb]:"social-tip-selection",[i.Ch2]:"sports-around-the-league",[i.IUs]:"sports-augment-card",[i.AxF]:"sports-background-ux",[i.oz5]:"sports-brackets",[i.FC5]:"sports-card",[i.IbX]:"sports-commentary",[i.LjG]:"sports-copilot-navigation",[i.XvT]:"sports-countdown-timer",[i.xsS]:"sports-cricket-layout-manager",[i.EJM]:"sports-cricket-league-stats",[i.lDi]:"sports-cricket-match-row",[i.Lph]:"sports-cricket-partnerships",[i.PEi]:"sports-cricket-rankings",[i.SSD]:"sports-cricket-scorecard",[i.T3B]:"sports-cricket-scores-and-schedule",[i.X2D]:"sports-entity-header",[i.W1i]:"sports-featured-matches-card",[i.C3j]:"sports-featured-team-list",[i.ezG]:"sports-fre-panel",[i.bVF]:"sports-full-standings",[i.jeg]:"sports-full-stats",[i.dVA]:"sports-game-information",[i.hLd]:"sports-game-score",[i.HfM]:"sports-game-summary",[i.khk]:"sports-game-summary-full",[i.gNr]:"sports-game-timeline",[i.Zyh]:"sports-gc-player-stats",[i.NE7]:"sports-gc-team-stats",[i.ABl]:"sports-gen-ui-page",[i.wHA]:"sports-gpt-analysis",[i.$U7]:"sports-headlines-header",[i.mkF]:"sports-headlines-main-story",[i.zXW]:"sports-headlines-story-carousel",[i.WlQ]:"sports-headlines-timelines",[i.nDd]:"sports-info",[i.vRr]:"sports-info-span",[i.of8]:"sports-layout-renderer",[i.iNz]:"sports-match-row",[i.l$J]:"sports-medal-count-list",[i.krc]:"sports-medal-summary-list",[i.em2]:"sports-medal-tracker-list",[i.YPZ]:"sports-mobile-tab-panel",[i.eyY]:"sports-olympic-card",[i.Adx]:"sports-olympics-header-row",[i.PRP]:"sports-olympics-result-full",[i.RSF]:"sports-olympics-schedule-full",[i.fgP]:"sports-person-match-row",[i.Zt2]:"sports-personalization-strip",[i.ptP]:"sports-pick-winner",[i.mVK]:"sports-player-bio",[i.ZC1]:"sports-player-insights",[i.ZtX]:"sports-popular-card-wx",[i.zhA]:"sports-previous-matchups",[i.KB5]:"sports-promo-card",[i.hBV]:"sports-rankings-full",[i.s$e]:"sports-retention-full",[i.cif]:"sports-scores-and-schedule",[i.$mu]:"sports-scores-and-schedule-full",[i.yFF]:"sports-scoring-summary",[i.nZy]:"sports-squad",[i.YCb]:"sports-standings",[i.aT3]:"sports-standings-list",[i.PsK]:"sports-stat-leaders",[i.SU9]:"sports-stats",[i.fCz]:"sports-story-player",[i._PY]:"sports-tab-layout",[i.Hwy]:"sports-team-formation",[i.vOM]:"sports-team-probability",[i.AeL]:"sports-tennis-scores-and-schedule-full",[i.$1s]:"sports-tennis-tournament-info",[i.y7p]:"sports-tournament-info",[i.pkK]:"sports-tournament-leaderboard",[i.XTS]:"sports-tournament-match-row",[i.aYj]:"sports-tournament-result-and-schedule",[i.zCf]:"sports-tournament-schedule",[i.jkJ]:"sports-tournament-standings",[i.apg]:"sports-trending-carousel",[i.$LH]:"sports-unavailable-players",[i.Iju]:"sports-video-list",[i.IUg]:"spotlight-card",[i.pSY]:"starter-kit",[i.qb$]:"streaks-badge",[i.p_1]:"stripe-wc",[i.SJ2]:"summary-card-wc",[i.$mD]:"super-breaking-news",[i.Isg]:"super-nav",[i.xmJ]:"super-nav-coach-mark",[i.oHo]:"superapp-banner",[i.Btw]:"theme-picker",[i.elO]:"tips-card",[i.dnU]:"ms-toast",[i.c8z]:"todo-card",[i.DZv]:"top-comments-card",[i.Kag]:"top-sites-bookmarks",[i.v$w]:"top-sites-edgenext",[i.fBZ]:"top-sites-newsbar",[i.Oc7]:"topic-tags",[i.F9m]:"traffic-card",[i.pfG]:"traffic-hero",[i.F$I]:"translate-temporary",[i.Pfk]:"travel-article-page-card",[i.kXx]:"travel-card",[i.IR9]:"travel-carousel",[i.UZs]:"travel-collection-card",[i.WNH]:"travel-destination",[i.eGH]:"travel-destination-banner",[i.W9P]:"travel-destination-details-banner",[i.i1_]:"travel-feed",[i.g4M]:"travel-flight-carousel",[i.Ew1]:"travel-hotel-carousel",[i.CfA]:"travel-inspiration-card-wc",[i.Uom]:"travel-landing-page",[i.CN]:"travel-msn-hp-card",[i.gIA]:"travel-sd-carrentals-card",[i.Qs5]:"travel-sd-destinations-card",[i.aJb]:"travel-sd-flights-card",[i.S6]:"travel-sd-hotels-card",[i.znl]:"travel-sd-themes-card",[i.vAv]:"travel-tour-activity-card",[i.dnH]:"trending-now-card",[i.tKm]:"trending-search-card",[i.nnw]:"ugc-creator-homepage",[i.Srt]:"unified-composer-personalization",[i.u1j]:"unified-mobile-feed",[i.exF]:"vertical-left-nav",[i.Jqf]:"video-card",[i.P5d]:"video-details",[i.Rh6]:"video-details-kit",[i.Nbo]:"views-coachmark",[i.s_6]:"views-native-ad",[i.qgh]:"views-rail",[i.RVI]:"waffle-wc",[i.eHh]:"wallet-personalized-offer-sd-card-wc",[i.Kvq]:"watch-filter-channel",[i.Nip]:"watch-take-a-break-header",[i.FD]:"watch-wc",[i.pQI]:"water-tracker-card",[i.HPc]:"waterfall-view-feed",[i._1i]:"weather-card",[i.O0R]:"weather-feed-wc",[i.hCA]:"weather-forecast-day",[i.Cj7]:"weather-forecast-per-hour",[i.UoA]:"weather-hero-experience",[i.yrn]:"weather-historical-temperature",[i.FOs]:"weather-hourly-histogram",[i._bP]:"weather-immersive-forecast-wc",[i.TzA]:"weather-location-card",[i.Ae$]:"weather-map-group-switcher-button",[i.Z9n]:"weather-map-legend",[i.T7e]:"weather-map-timeline",[i.ehF]:"weather-map",[i.R7J]:"weather-minimap",[i.M8j]:"weather-one-liner",[i.VPW]:"weather-overview",[i.tN3]:"weather-page",[i.$cA]:"weather-report-issue-dialog",[i.Pq7]:"weather-today-history",[i.yT]:"weather-today-mini",[i.aJM]:"weather-top-section-card",[i.LFC]:"weather-video-entry",[i.rWZ]:"welcome-greeting-light",[i.f2c]:"welcome-greeting",[i.W1Y]:"widget-picker-wc",[i.uGz]:"widgets-dynamic-feed",[i.T3T]:"widgets-consumption-page",[i.zOi]:"widgets-home-page",[i.B7V]:"widgets-notifications-card",[i.LVx]:"widgets-privacy",[i.dXe]:"widgets-region",[i.JCv]:"widgets-start-feed",[i.nR3]:"win-app-wc",[i.BPC]:"windows-office-feed",[i.nFz]:"windows-shell-banners-manager",[i.hwV]:"windows-shell-entry",[i.gQ$]:"windows-shell-header",[i.c5_]:"windows-shell-location-dialog",[i.Bkj]:"windows-shell-notification-settings",[i.FOf]:"windows-shell-settings-menu",[i.Sxv]:"windows-shell-soft-landing",[i.xiF]:"xbox-feed-wc",[i.Yhc]:"xfeed-wc",[i.DQH]:"consumption-landing-page",[i.fVD]:"msn-router",[i.RLX]:"msn-ux-ai-starter-kit-wce",[i.$AT]:"msn-unified-consumption",[i.RFF]:"gem-consumption-page",[i._C5]:"gem-card-wce"};function o(t){return r[t]}},40387:function(t,e,n){n.d(e,{q:function(){return i}});var i,r=n(67387);!function(t){t.getHostPageFromUrl=function(t){if(!t)return;const e=new URL(t),n=e.hostname,i=e.pathname.split("/"),o=(n.match(/[^.]+\.[^.\d]+$/)||{})[0]||"";if(i.length<=r.Dg)return{originalUrl:t,categoryKey:null,verticalKey:null,hostName:n,topDomain:o};const s=5===i[1].length&&2===i[1].split("-").length?1:0,a={originalUrl:t,categoryKey:i[2+s],verticalKey:i[1+s],hostName:n,topDomain:o};return i.length>=r.Dg&&(a.subcategoryKey=i[3+s]),a}}(i||(i={}))},40735:function(t,e,n){n.d(e,{u:function(){return r}});var i=n(8646);class r{get displaySurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Viewed",ts:Date.now()})}}}get hideSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Hidden",ts:Date.now()})}}}get closeSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Closed",ts:Date.now()})}}}constructor(t){if(this._platformData=t,this.interactionEvent=new i.f,!t)throw new Error("Platform data is required for PlacementSurfaceModel")}}},41377:function(t,e,n){n.d(e,{b3:function(){return i},bN:function(){return r}});const i="selectedNavItemClicked";class r{constructor(){this.st=!1}attemptNavItemChange(t,e){return!!this.ut&&(this.ut(t,e),!0)}disconnectSuperNav(){this.ut=void 0}getForceSelectedNavItemId(){return this.ht}getSupports3DContent(){return this.st}static getInstance(t){return r.gt||(r.gt=new r),t&&(r.gt.ut=t),r.gt}registerForceSelectedNavItemId(t){this.ht=t}registerSupports3DContent(t){this.st=t}}},41423:function(t,e,n){n.d(e,{w:function(){return l}});var i=n(56485),r=n(98216);class o{constructor(){this.callbacks=[],this.clickCallbacks=[]}getSelectedPivot(){return this.selectedPivot}setSelectedPivot(t){t&&t.pivotId&&(this.selectedPivot={...t})}switchPivot(t,e){var n;const i=this.selectedPivot;this.selectedPivot={...t};const o={hash:null===(n=this.selectedPivot.context)||void 0===n?void 0:n.hash,navIsSticky:this.selectedPivot.navIsSticky,newSelection:this.selectedPivot,oldSelection:i};this.callbacks.sort((t,e)=>t.switchCallbackOrder-e.switchCallbackOrder),e&&r.YT.addOrUpdateTmplProperty("pvcb",this.callbacks.length.toString());for(const t of this.callbacks)t.callback(o)}clickPivot(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;for(const n of this.clickCallbacks)n(t,e)}addSwitchListener(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.M.AfterLoadContent;this.callbacks.find(n=>n.callback===t&&n.switchCallbackOrder===e)||this.callbacks.push({callback:t,switchCallbackOrder:e})}removeSwitchListener(t){this.callbacks=this.callbacks.filter(e=>e.callback!==t)}addClickListener(t){this.clickCallbacks.push(t)}removeClickListener(t){this.clickCallbacks=this.clickCallbacks.filter(e=>e!==t)}reportLoadComplete(){this.loadComplete=!0,this.loadCompleteResolveCallback&&this.loadCompleteResolveCallback()}waitForLoadComplete(){return this.loadCompletePromise?this.loadCompletePromise:this.loadComplete?Promise.resolve():(this.loadCompletePromise=new Promise(t=>{this.loadCompleteResolveCallback=t}),this.loadCompletePromise)}}var s=n(94444),a=n(17720);const c="__PivotManager_default__",u="__PivotManager_namedSwitchers__";function l(t){if(t){const e=a.vv.get(u,()=>new Map);let n=e.get(t);return n||(n=new o,e.set(t,n)),n}return a.vv.get(c,()=>new o)}(0,s.x)(()=>{a.vv.delete(c),a.vv.delete(u)})},41625:function(t,e,n){n.d(e,{G6:function(){return o},es:function(){return c},p:function(){return a},sm:function(){return s}});var i=n(83003),r=n(17720);const o="CanonicalName-watch-shorts";var s;!function(t){t[t.IsInfopaneDenseCard=0]="IsInfopaneDenseCard",t[t.IsRiverDenseCard=1]="IsRiverDenseCard",t[t.NotDenseCard=2]="NotDenseCard"}(s||(s={}));const a=(0,r.$U)({liked:"like",unliked:"unlike",saved:"save"}),c=(0,r.$U)([i.pL.AutosCarousel,i.pL.AutosEntityList,i.pL.BeaconProviderUpsell,i.pL.BingDailyQuizCard,i.pL.BingHealthCovid19StatsCard,i.pL.BingHealthFitnessCard,i.pL.BingVideoCarousel,i.pL.BreakingNewsNotification,i.pL.CasualGamesCarousel,i.pL.ChannelCarousel,i.pL.ChannelFilterCard,i.pL.CommunityCard,i.pL.CommuteCard,i.pL.CreatorSpotlight,i.pL.DailyBriefCard,i.pL.DailyGreetingCard,i.pL.DailyMomentsCard,i.pL.DailyMomentsCard1,i.pL.DailyMomentsCard2,i.pL.DailyMomentsCard3,i.pL.DailyQuizSdCard,i.pL.DailyWonderCard,i.pL.DailyWonderCopilotCard,i.pL.DailyWonderHeroVideo,i.pL.DailyWonderQuoteCard,i.pL.DailyWonderVideoListCard,i.pL.DigestCard,i.pL.DigestCardRuby,i.pL.DonationNpoCard,i.pL.DynamicFilteredChannel,i.pL.EdgeShoppingCard,i.pL.Elections,i.pL.EntertainmentPremierCard,i.pL.EsportsCasualGames,i.pL.EsportsCasualGamesMiniWidget,i.pL.EsportsLiveStream,i.pL.EsportsTournament,i.pL.EventSDCardElectionMIT1,i.pL.EventSDCardElectionMIT2,i.pL.EventSDCardElectionMIT3,i.pL.EventSDCardOscarsPrm,i.pL.EventSDCardShopping,i.pL.EventSDCardSportsMIT1,i.pL.EventSDCardSportsMIT2,i.pL.EventSDCardSportsMIT3,i.pL.EventSDCardWorldCup,i.pL.EventSDCardWorldCup2,i.pL.FinanceSpotlightHeroPrice,i.pL.FinanceSpotlightHeroMarket,i.pL.FinanceSpotlightHeroRadarGraph,i.pL.FinanceHeroCrypto,i.pL.FinanceHeroCurrencies,i.pL.FinanceHeroMarket,i.pL.FinanceHeroMarketChart,i.pL.FinanceHeroMovers,i.pL.FinanceHeroNews,i.pL.FinanceHeroSuggested,i.pL.FinanceHeroUpcomingEarnings,i.pL.FinanceHeroWatchlistIdeas,i.pL.FinanceHerowlsummary,i.pL.ForYouNotification,i.pL.GamingRecentlyPlayed,i.pL.GemCard,i.pL.GemArticle,i.pL.GemRiverCard,i.pL.Gem_Article_RelatedArticles,i.pL.Gem_Finance_GetCharts,i.pL.Gem_GenAIContent_InsightSummary,i.pL.Gem_Media_Image,i.pL.Gem_Prompts,i.pL.GemGreeting,i.pL.GemInsight,i.pL.GemPrompts,i.pL.GemShopping,i.pL.HealthTipCard,i.pL.Horoscope,i.pL.TopCommentsCard,i.pL.HotListCard,i.pL.Inspiration,i.pL.InterestManagementCard,i.pL.LinkedInCard,i.pL.LocalNewsFeed,i.pL.MangaCard,i.pL.MangaCarousel,i.pL.Marketplace,i.pL.MarketplaceEvent,i.pL.MiniWidgets,i.pL.MiTHeroAction,i.pL.MiTHeroContent,i.pL.MiTHeroFollow,i.pL.MiTHeroSpotlight,i.pL.MoneyCrypto,i.pL.MoneyInfo,i.pL.MoneyInfoMiniWidget,i.pL.MoneyMarketBrief,i.pL.MoneyPreWL,i.pL.MoneyTopicStripe,i.pL.MyBriefRiverCard,i.pL.NewsCreatorSpotlight,i.pL.NewsDailyWonderCard,i.pL.News_DigestDaily,i.pL.News_DigestGem,i.pL.News_DigestInfopane,i.pL.News_DigestTopics,i.pL.News_DigestTopStories,i.pL.News_DigestTopics_InfoPane,i.pL.News_DigestTopics_TrendingNow,i.pL.OnThisDay,i.pL.OnThisDaySDCard,i.pL.LocalEventsSDCard,i.pL.PrismCarouselCard,i.pL.Qna,i.pL.RealEstateCard,i.pL.RealEstateCarousel,i.pL.Recipes,i.pL.RecommendedInterests,i.pL.RelatedNewsCard,i.pL.Rewards,i.pL.RewardsDailySet,i.pL.RichCalendarCard,i.pL.RiverGem,i.pL.SavedContent,i.pL.SectionHeader,i.pL.Shopping1688Carousel,i.pL.ShoppingBWMCard,i.pL.ShoppingBWMCarousel,i.pL.ShoppingBannerSdCard,i.pL.ShoppingCard,i.pL.ShoppingCarousel,i.pL.ShoppingCarousel2,i.pL.ShoppingProng2c,i.pL.ShoppingRiver,i.pL.ShoppingRiver1,i.pL.ShoppingRiver2,i.pL.ShoppingRiver3,i.pL.ShoppingTopSectionCard,i.pL.SportsHeroFre,i.pL.SportsHeroLeagueTodaysEvents,i.pL.SportsHeroMatch1SeasonStats,i.pL.SportsHeroMatch1Stats,i.pL.SportsHeroMatch2SeasonStats,i.pL.SportsHeroMatch2Stats,i.pL.SportsHeroMatch3SeasonStats,i.pL.SportsHeroMatch3Stats,i.pL.SportsHeroMatchStatistics,i.pL.SportsSpotlight2Match1,i.pL.SportsSpotlight2Match2,i.pL.SportsHeroNews,i.pL.SportsHeroOneVsManyEventResult,i.pL.SportsHeroOneVsOneEventResult,i.pL.SportsHeroSeasonStatistics,i.pL.SportsHeroStandingsRankings,i.pL.SportsHeroTeamStandingWithEvents,i.pL.SportsHeroTeamStandingWithMedals,i.pL.SportsHeroTeamStandings,i.pL.SportsHeroTeamVsTeam,i.pL.SportsHeroTeamVsTeamEventResult,i.pL.SportsHeroMatchCard,i.pL.SportsHeroVideo,i.pL.SportsMatch,i.pL.SportsMatchMiniWidget,i.pL.SportsOlympics,i.pL.SportsTopicStripe,i.pL.SportsStackCard,i.pL.SpotlightStackCard,i.pL.PersonalFinanceStackCard,i.pL.StockQuote,i.pL.TabbedInfopaneCard,i.pL.TopSectionNews,i.pL.TopStories,i.pL.TopicFeed,i.pL.TrafficCameras,i.pL.TrafficCamerasWithSummary,i.pL.TrafficDelays,i.pL.TrafficIncidents,i.pL.TrafficInfo,i.pL.TrafficMap,i.pL.TrafficNews,i.pL.TrafficSummary,i.pL.TrafficTransit,i.pL.Transit,i.pL.TravelDestinationCard,i.pL.TravelDestinationCarouselCard,i.pL.TravelInspirationCard,i.pL.TravelTimes,i.pL.TravelTimesWithSummary,i.pL.Trending,i.pL.TrendingInTenMinutes,i.pL.TrendingSearchCard,i.pL.TrendingTopics,i.pL.Upsell,i.pL.UserInterestNTPProvider,i.pL.UserInterestProvider,i.pL.UserInterestTopic,i.pL.UserInterestTopicAndProvider,i.pL.VideoShoppingCarouselCard,i.pL.WatchGoldShorts,i.pL.WatchVideoCard,i.pL.WatchVideoHeavy,i.pL.WeatherCurrent,i.pL.WeatherForecast,i.pL.WeatherHero,i.pL.WeatherMap,i.pL.WeatherSummary,i.pL.WeatherSummaryMiniWidget,i.pL.WidgetsNotificationsCard,i.pL.quizcard,i.pL.CatchUpStack,i.pL.CopilotCard,i.pL.PublisherSpotlightCard,i.pL.FollowedPublishersCard,i.pL.LittleKnownFactsCard,i.pL.NewsLittleKnownFactsCard,i.pL.TopStoriesRuby,i.pL.NewsTopStories,i.pL.TrendingNowRuby,i.pL.NewsTrendingNow])},41820:function(t,e,n){n.d(e,{IT:function(){return d},JW:function(){return u},K5:function(){return a},QA:function(){return s},Wl:function(){return h},bJ:function(){return i},qm:function(){return p},sL:function(){return f},xT:function(){return o}});const i={campaigns:"campaigns",feedLayout:"feed_layout",nonDAU7d:"non_dau_7d",nonDAU30d:"non_dau_30d",renderSingleColumn:"render_single_column",wpo:"wpo",wpoLytTmpl:"wpo_lyt_tmpl",topSites:"top_sites",recommendedSites:"recommended_sites",viewport:"viewport",wpo_nx:"wpo_nx",layoutPromotion:"layoutPromotion",layoutHistory:"layoutHistory",sptmarket:"sptmarket",userMuid:"user_muid",rubyTargetedVersion:"ruby_targeted_version",widgetsUpsell:"widgets_upsell",companionAutoOpenDismiss:"cmp_auto_open_dismiss",rubyCohortOptOutThreshold:"ruby_cohort_optout_threshold",rubyFlightHistory:"ruby_flight_history",recentlyViewedContent:"recently_viewed_content"};var r,o,s;!function(t){t.Ntp="ntp",t.Wpo="wpo"}(r||(r={})),function(t){t.MultiColumn="multi",t.SingleColumn="single"}(o||(o={})),function(t){t.apiError="api_error"}(s||(s={}));const a={tscollapsed:"tscollapsed",layout_mode:"layout_mode",left_rail:"left_rail",quick_links_options:"quick_links_options",single_column:"single_column",recommended_sites:"recommended_sites",news_below_searchbox:"news_below_searchbox",ntp_tips:"ntp_tips",search_history:"search_history",current_location_enabled:"current_location_enabled",enable_sponsored_content:"enable_sponsored_content",enable_pulse:"enable_pulse",seen_interest_fre_count:"seen_interest_fre_count",visited_following_feed:"visited_following_feed",dismiss_scroll_down_button:"dismiss_scroll_down_button",breaking_news_dismissed:"breaking_news_dismissed",topsites_open_in_new_tab:"ntp.topsites_open_in_new_tab",show_copilot_suggestions_toggle:"ntp.show_copilot_suggestions_toggle",ruby_ux_history:"ruby_ux_history",ruby_state_history:"ruby_state_history",is_ruby_page:"is_ruby_page",is_ruby:"ntp.is_ruby",ruby_cookie_change_history:"ruby_cookie_change_history",ruby_set_history:"ruby_set_history"};var c;!function(t){t.User="user",t.Wpo="wpo",t.Lpo="lpo",t.adminPortal="adPortal",t.ntpVisibleTab="ntpVisTab",t.rubyDefault="rubyDefault"}(c||(c={}));const u={backgroundImageTypePolicy:"ntp.background_type_blocked_by_policy",currentBackgroundImageType:"ntp.background_image_type",hideDefaultTopSites:"ntp.hide_default_top_sites",customBackgroundImageInfo:"ntp.local_background_image",layout:"ntp.layout_mode",quickLinksDisplaySetting:"ntp.quick_links_options",imageOfTheDay:"ntp.show_image_of_day",feeds:"ntp.news_feed_display",greeting:"ntp.show_greeting",showSettings:"ntp.show_settings",verticalTabsCollapsed:"edge.vertical_tabs.collapsed",verticalTabsOpened:"edge.vertical_tabs.opened",singleColumnEnabled:"ntp.single_column.enabled",userNurturingUpdated:"ntp.user_nurturing",hasUserSeenNewFre:"new_device_fre.has_user_seen_new_fre",defaultBrowserSettingEnabled:"browser.default_browser_setting_enabled",showAppLauncher:"ntp.enable_app_launcher",userChoices:"ntp.record_user_choices",selectedFeedPivot:"ntp.selected_feed_pivot",widgetsRegion:"ntp.enable_widgets_region",recommendedWidgetsSettings:"ntp.recommended_widgets_region"};var l,d,f,h;!function(t){t.NotInChinaCoachMarkButton="notInChinaCoachMarkButton",t.FeedbackLink="feedbackLink"}(l||(l={})),function(t){t[t.focused=0]="focused",t[t.inspirational=1]="inspirational",t[t.informational=2]="informational",t[t.custom=3]="custom"}(d||(d={})),function(t){t.MANUAL="manual",t.WPO_OPEN="wpo_open",t.WPO_CLOSE="wpo_close",t.REVERT="revert"}(f||(f={})),function(t){t[t.MANUAL=0]="MANUAL",t[t.WPO_BEFORE_CLOSE=1]="WPO_BEFORE_CLOSE",t[t.WPO_CLOSED=2]="WPO_CLOSED",t[t.WPO_BEFORE_OPEN=3]="WPO_BEFORE_OPEN",t[t.WPO_OPENED=4]="WPO_OPENED",t[t.REVERT_WPO_CLOSE=5]="REVERT_WPO_CLOSE"}(h||(h={}));const p={tabInitialRid:"tab_initial_rid"}},41862:function(t,e,n){n.d(e,{G:function(){return i},J:function(){return r}});class i{constructor(){this.counts={}}qualifyKey(t){t||(t="NA");return t+this.qualifySuffix(t)}qualifySuffix(t){return r(this.addCount(t)-1)}reset(){this.counts={}}addCount(t){return this.counts[t]=(this.counts[t]||0)+1}}function r(t){return t<=0?"":"-"+(t+1)}},41917:function(t,e,n){n.d(e,{E:function(){return o},Z:function(){return r}});var i=n(94444);let r=new Map;function o(t,e){const n=r.get(t);return!n||n.currentState>=e}(0,i.x)(()=>{r=new Map})},42118:function(t,e,n){n.d(e,{_0:function(){return u}});var i=n(45181),r=n(79742),o=n(77246);let s,a=!1;const c=new Promise(t=>{s=t});async function u(){switch(await async function(){a||(i.n.subscribe(i.Y.CookieConsentStatus,t=>{t!==r.z.Unknown&&s()}),a=!0);const t=i.n.get(i.Y.CookieConsentStatus);return t!==r.z.Unknown?t:((0,o.S)()&&await c,i.n.get(i.Y.CookieConsentStatus))}()){case r.z.Required:return!0;case r.z.NotRequired:return!1;default:return}}},42140:function(t,e,n){n.d(e,{U:function(){return c},a:function(){return s}});var i=n(2603);var r=n(17501),o=n(45933);function s(t){!t||(0,o.P)()<=0||t.push({type:r.x.Automation,mapper:new i.V,transporterConfig:{callback:a}})}function a(t){c.dispatch({type:r.x.OneDS,payload:t})}const c=new class{constructor(){this.history=[],this.listeners=[]}dispatch(t){this.history.push(t),this.listeners.forEach(e=>e(t))}listen(t){return this.listeners.push(t),this.history.forEach(t),{remove:()=>{const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}}}}},42323:function(t,e,n){n.d(e,{M:function(){return l},O3:function(){return d},Vj:function(){return S},Vq:function(){return p},_8:function(){return a},a1:function(){return u},bX:function(){return c},iN:function(){return w},ik:function(){return b},nV:function(){return f},q_:function(){return m},tM:function(){return g},ts:function(){return y},xp:function(){return v},zC:function(){return h}});var i=n(22131),r=n(74849),o=n(39677),s=n(32257);const a=r.A`
    :host {
        --cstm-foreground-ctrl-neutral-primary-rest-filter: brightness(0) saturate(100%) invert(92%) sepia(2%) saturate(1678%) hue-rotate(190deg) brightness(95%) contrast(96%);
        --cstm-foreground-ctrl-neutral-primary-pressed-filter: brightness(0) saturate(100%) invert(64%) sepia(10%) saturate(836%) hue-rotate(188deg) brightness(89%) contrast(89%);
        --cstm-foreground-ctrl-neutral-secondary-rest-filter: brightness(0) saturate(100%) invert(56%) sepia(80%) saturate(138%) hue-rotate(190deg) brightness(85%) contrast(82%);
        --cstm-foreground-ctrl-on-subtle-rest-filter: brightness(0) saturate(100%) invert(92%) sepia(3%) saturate(1502%) hue-rotate(191deg) brightness(95%) contrast(97%);
        --cstm-subtle-button-border-color: rgba(255, 255, 255, 0.08);
    }
`,c=r.A`
    :host {
        --cstm-corner-media-outside-radius: calc(${o.y3Q} * ${o.MU6});
        --cstm-corner-media-inside-radius: calc(${o.xl2} * ${o.MU6});
        --cstm-corner-media-in-card: var(--cstm-corner-media-outside-radius) var(--cstm-corner-media-outside-radius) var(--cstm-corner-media-inside-radius) var(--cstm-corner-media-inside-radius);
        --cstm-border-on-squircle-px: 1px;
        --cstm-foreground-ctrl-neutral-primary-rest-filter: brightness(0) saturate(100%) invert(10%) sepia(8%) saturate(616%) hue-rotate(341deg) brightness(94%) contrast(88%);
        --cstm-foreground-ctrl-neutral-primary-pressed-filter: brightness(0) saturate(100%) invert(30%) sepia(4%) saturate(768%) hue-rotate(329deg) brightness(97%) contrast(86%);
        --cstm-foreground-ctrl-neutral-secondary-rest-filter: brightness(0) saturate(100%) invert(39%) sepia(2%) saturate(1223%) hue-rotate(335deg) brightness(91%) contrast(90%);
        --cstm-foreground-ctrl-on-subtle-rest-filter: brightness(0) saturate(100%) invert(10%) sepia(3%) saturate(2871%) hue-rotate(343deg) brightness(94%) contrast(88%);
        --cstm-status-danger-background-light: #AC1922;
        --cstm-status-danger-foreground-light: #FFFFFF;
        --cstm-subtle-button-border-color: rgba(0, 0, 0, 0.08);
        --cstm-background-flyout-linear-gradient: linear-gradient(0deg, ${s.RKA} 0%, ${s.RKA} 100%), 
            linear-gradient(0deg, ${s.Pgz} 0%, ${s.Pgz} 100%), 
            linear-gradient(0deg, ${s.oXU} 0%, ${s.oXU} 100%), ${o.vJX};
    }
`.withBehaviors((0,i.G2)(a)),u="var(--cstm-foreground-ctrl-neutral-primary-rest-filter)",l="var(--cstm-foreground-ctrl-neutral-primary-pressed-filter)",d="var(--cstm-foreground-ctrl-neutral-secondary-rest-filter)",f="var(--cstm-foreground-ctrl-on-subtle-rest-filter)",h="var(--cstm-background-flyout-linear-gradient)",p=`${o.ry_} ${o.kf9} ${o.Ws$} 0px ${o.Ci3}, \n    ${o.MSR} ${o.FeE} ${o.XES} 0px ${o.xEt}`,m="var(--cstm-border-on-squircle-px)",g="var(--cstm-corner-media-in-card)",v=`${o.yds} ${o.Tb$} ${o.ruk} ${o.FkA} ${o.fxR} inset, \n    ${o.wvE} ${o.pTq} ${o.XLk} 0px ${o.VVH}`,w=`${o.Y4F} ${o.Rqs} ${o.rOe} 0px ${o.JMw}, \n    0px ${o.qcT} ${o.cjA} 0px ${o.I5k}`,y="var(--cstm-subtle-button-border-color)",b="var(--cstm-status-danger-background-light)",S="var(--cstm-status-danger-foreground-light)"},42494:function(t,e,n){n.d(e,{WR:function(){return a},_n:function(){return c},fv:function(){return o}});var i=n(77195),r=n(26854);const o=()=>{const t=(0,r.qx)((t,e)=>[t,e]);return Object.fromEntries(t)},s=t=>{let{region:e,position:n}=t;const r=[[i.X4.PlacementRegion,e],[i.X4.PlacementPosition,n]].filter(t=>{let[e,n]=t;return n});return Object.fromEntries(r.map(t=>{let[e,n]=t;return[i.u5.current[e],n]}))},a=t=>{const e=t.adName;let n="BTF";return-1===e.indexOf("banner1")&&-1===e.indexOf("rectangle1")||(n="ATF"),s({position:n})},c=t=>{const{region:e,position:n}=t;return s({region:e,position:n})}},42992:function(t,e,n){n.d(e,{BX:function(){return r}});const i=[];function r(t){for(const e of i)e(t)}},43198:function(t,e,n){n.d(e,{TB:function(){return u},ZP:function(){return l},pQ:function(){return c}});var i=n(17254),r=n(12870),o=n(63150),s=n(33918);const a=()=>(()=>{var t,e;const n=null===i.T3||void 0===i.T3||null===(t=i.T3.CurrentMarket)||void 0===t?void 0:t.toLowerCase();return(null===i.T3||void 0===i.T3?void 0:i.T3.IsChinaCompliance)||"CN"===(null===r.Rb||void 0===r.Rb||null===(e=r.Rb.ClientSettings)||void 0===e||null===(e=e.geo_country)||void 0===e?void 0:e.toUpperCase())||"zh-cn"===n||"zh-hk"===n})()||(0,o.oh)(),c=()=>{var t;return!(null===r.Rb||void 0===r.Rb||null===(t=r.Rb.CurrentFlightSet)||void 0===t||!t.has(s.s$))&&!a()},u=t=>!!t&&!a(),l=()=>{var t;return u(null===r.Rb||void 0===r.Rb||null===(t=r.Rb.CurrentFlightSet)||void 0===t?void 0:t.has("ads-xandr-c"))}},43820:function(t,e,n){n.d(e,{$q:function(){return s.$q},AO:function(){return i.AO},Ag:function(){return r.Ag},En:function(){return i.En},Er:function(){return s.Er},IF:function(){return i.IF},Pt:function(){return r.Pt},_f:function(){return s._f},cp:function(){return s.cp},hK:function(){return o.hK},n3:function(){return r.n3}});var i=n(74585),r=n(46151),o=(n(87832),n(69295)),s=n(78890)},43889:function(t,e,n){n.d(e,{W9:function(){return a},sZ:function(){return s}});var i=n(19575),r=n(77246);class o extends i.g{constructor(){let t=null;if((0,r.S)())try{t="sessionStorage"in window&&window.sessionStorage}catch(t){}super(t)}}let s=new o;function a(){return s}},44369:function(t,e,n){n.d(e,{F:function(){return s},l:function(){return o}});class i{constructor(){this._signInState=0,this.initOverrides=()=>{}}getSignInState(){return this._signInState}setSignInState(t){this._signInState=t}useEnterpriseCompliance(){return!1}}i._instance=new i;let r=i._instance;function o(t){if(r!==i._instance||!t)return r;t()}function s(t){r=t}},44449:function(t,e,n){n.d(e,{TA:function(){return l},sx:function(){return u}});var i=n(93468),r=n(98216);function o(t){var e;return!(!/^.*{\s*return __awaiter/.test(String(t))&&!/^\([\w_$,\s]*?\) => __awaiter/.test(String(t)))||"AsyncFunction"===(null==t||null===(e=t.constructor)||void 0===e?void 0:e.name)}function s(t,e,n,s,a,c){if(r.YT.sendAppErrorEvent((0,i.$5)(e,n||"",function(t,e){return`args: ${JSON.stringify(t)||""}\nerror: ${(null==e?void 0:e.stack)||(null==e?void 0:e.message)||""}`}(s,a))),!c)return;const u=c(...s,a);return o(t)?Promise.resolve(u):u}function a(t,e,n,i,r,a){try{return o(t)?t.call(this,...i).catch(o=>s(t,e,n,i,o,r)).finally(()=>{null==a||a(...i)}):t.call(this,...i)}catch(o){return s(t,e,n,i,o,r)}finally{o(t)||null==a||a(...i)}}function c(t,e){const n=Object.getOwnPropertyDescriptor(t.prototype,e);return n||{configurable:!0,enumerable:!0,writable:!0,value:t.prototype[e]}}const u=(t,e,n,i)=>(r,o,s)=>{const c=null==s?void 0:s.value;if("function"==typeof r)return function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return a.call(this,r,t,e,s,n,i)};if("function"!=typeof c)return s;if(!t)throw Error("Parameter baseError is missed");return s&&(s.value=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a.call(this,c,t,e,o,n,i)}),s},l=(t,e,n,i)=>r=>{class o extends r{connectedCallback(){super.connectedCallback()}}const s={...Object.getOwnPropertyDescriptors(r.prototype),...Object.getOwnPropertyDescriptors(o.prototype)};for(const r in s){var u;if("constructor"===r||null===(u=s[r])||void 0===u||!u.value)continue;if(!(o.prototype[r]instanceof Function))continue;const l=c(o,r),d=l.value;l.value=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a.call(this,d,t,e,o,n,i)},Object.defineProperty(o.prototype,r,l)}return o}},44944:function(t,e,n){n.d(e,{G:function(){return ue},t:function(){return le}});var i=n(91532),r=n(83003),o=n(15098);const{TopicFeedCard:s,articleFreCard:a,autosCarouselCard:c,bingDailyQuizCard:u,bingVideoCarousel:l,boostAdCard:d,cashbackCarouselCard:f,casualGamesCard:h,casualGamesCarouselCard:p,casualGamesProng2CarouselCard:m,casualGamesStripeCarouselCard:g,channelFilterCard:v,comicsCarouselCard:w,communityCard:y,commuteCard:b,contentCard:S,contentGroupCard:x,creatorSpotlightCard:C,dailyBriefCard:k,dailyFixGamesCarouselCard:T,dailyGreetingCard:$,dailyMomentsCard:A,dailyWonderCard:I,dailyWonderCopilotCard:P,dailyWonderHeroVideo:_,dailyWonderQuoteCard:M,dailyWonderVideoListCard:R,denseCard:E,digestCard:F,displayAdCard:D,donationNpoCard:O,editorsPickCarouselCard:N,electionCard:U,electionsCard:L,entertainmentPremierCard:B,esportsCard:W,followingFREInlineCard:H,gamingRecentlyPlayedCard:V,gemGreetingCard:z,healthCard:j,healthFitnessCard:q,healthRiverCard:G,healthTipCard:J,horoscopeAnswerCard:K,infopaneCard:Q,interestManagementCard:X,localNewsCarCard:Y,mangaCard:Z,mangaCarousel:tt,marketplaceCard:et,mobileTrendingSearchCard:nt,momentInTimeHero:it,moneyCard:rt,moneyInfoCardWC:ot,moneyTopicStripeCarouselCard:st,nativeAdCard:at,nativeTopAdCard:ct,onThisDayCard:ut,placeholderCard:lt,pollsCard:dt,prismCard:ft,prismCarouselCard:ht,profileCarouselCard:pt,promotedAdCard:mt,publisherListCard:gt,qnaCard:vt,quizCard:wt,realEstateCard:yt,recipesCard:bt,recommendedInterestsCard:St,relatedNewsCard:xt,rewardsCard:Ct,richCalendarCard:kt,sectionHeaderCard:Tt,selectCarouselCard:$t,serendipityCard:At,sharedHeroNewsCard:It,shoppingBannerSdCard:Pt,shoppingBuyingGuidePremiumCard:_t,shoppingCard:Mt,shoppingCarouselCard:Rt,shoppingCarouselProngWC:Et,shoppingEventsDealCard:Ft,shoppingFashionCarouselWC:Dt,shoppingRiverCard:Ot,shoppingSdCard:Nt,shoppingTopSectionCard:Ut,shoppingVideoCarouselCard:Lt,shortsGrouping:Bt,sportsCard:Wt,sportsOlympicCard:Ht,sportsTopicStripeCarouselCard:Vt,spotlightCard:zt,tabbedInfopaneCard:jt,topCommentsCard:qt,topPicksCard:Gt,topStoriesCard:Jt,trafficCard:Kt,trafficHero:Qt,travelDestinationCard:Xt,travelDestinationCarouselCard:Yt,trendingNowCard:Zt,trendingSearchCard:te,videoGrouping:ee,weatherCard:ne,weatherHeroExperience:ie,weatherHeroExperienceCarouselCard:re,webContentCard:oe,widgetPlaceholderCard:se,widgetsNotificationsCard:ae,winAppCard:ce}=i.C,ue={[r.pL.DailyMomentsCard]:A,[r.pL.DailyMomentsCard1]:it,[r.pL.DailyMomentsCard2]:it,[r.pL.DailyMomentsCard3]:it,[r.pL.DailyWonderCard]:I,[r.pL.NewsDailyWonderCard]:I,[r.pL.DailyWonderCopilotCard]:P,[r.pL.DailyWonderHeroVideo]:_,[r.pL.DailyWonderQuoteCard]:M,[r.pL.DailyWonderVideoListCard]:R,[r.pL.ShoppingBannerSdCard]:Pt,[r.pL.DailyBriefCard]:k,[r.pL.DailyGreetingCard]:$,[r.pL.WidgetsNotificationsCard]:ae,[r.pL.NotificationCard]:ae,[r.pL.DonationNpoCard]:O,[r.pL.EntertainmentPremierCard]:B,[r.pL.EventSDCardOscarsPrm]:B,[r.pL.BingDailyQuizCard]:u,[r.pL.EventSDCardElectionMIT1]:U,[r.pL.EventSDCardElectionMIT2]:U,[r.pL.EventSDCardElectionMIT3]:U,[r.pL.RichCalendarCard]:kt,[r.pL.CommunityCard]:y,[r.pL.TabbedInfopaneCard]:jt,[r.pL.MangaCard]:Z,[r.pL.MangaCarousel]:tt,[r.pL.RealEstateCard]:yt,[r.pL.RealEstateCarousel]:yt,[r.pL.PrismCarouselCard]:ht,[r.pL.TrendingSearchCard]:te,[r.pL.CommuteCard]:b,[r.pL.DigestCard]:F,[r.pL.RelatedNewsCard]:xt,[r.pL.CopilotCard]:zt,[r.pL.CreatorSpotlight]:C,[r.pL.NewsCreatorSpotlight]:C,[r.pL.Article]:S,[r.pL.Slideshow]:S,[r.pL.Video]:S,[r.pL.Infopane]:Q,[r.pL.GroupedContent]:x,[r.pL.UserInterestTopic]:x,[r.pL.UserInterestNTPProvider]:x,[r.pL.LittleKnownFactsCard]:x,[r.pL.NewsLittleKnownFactsCard]:x,[r.pL.UserInterestTopicAndProvider]:H,[r.pL.ColdStartArticleFreCard]:a,[r.pL.HalfPane]:null,[r.pL.HeadToHead]:null,[r.pL.Mosaic]:null,[r.pL.Triptych]:null,[r.pL.DenseList]:null,[r.pL.WebContent]:oe,[r.pL.ExternalLink]:null,[r.pL.TabbedInfopane]:null,[r.pL.TabbedInfopaneTab]:null,[r.pL.PlaceholderCard]:lt,[r.pL.BingHealthCovid19StatsCard]:j,[r.pL.BingHealthFitnessCard]:q,[r.pL.HealthTipCard]:J,[r.pL.HealthRiverCard]:G,[r.pL.AutosCarousel]:c,[r.pL.BingVideoCarousel]:l,[r.pL.CashbackAds]:f,[r.pL.CasualGamesCarouselSubItem]:h,[r.pL.CasualGamesCarousel]:p,[r.pL.CasualGamesProng2Carousel]:m,[r.pL.CasualGamesStripeCarousel]:g,[r.pL.ChannelFilterCard]:v,[r.pL.DynamicFilteredChannel]:v,[r.pL.WatchVideoCard]:W,[r.pL.EsportsCasualGames]:h,[r.pL.EsportsCasualGamesMiniWidget]:h,[r.pL.GamingRecentlyPlayed]:V,[r.pL.StockQuote]:rt,[r.pL.MoneyInfo]:ot,[r.pL.FinanceSpotlightHeroPrice]:ot,[r.pL.FinanceSpotlightHeroMarket]:ot,[r.pL.FinanceSpotlightHeroRadarGraph]:ot,[r.pL.FinanceHeroMarket]:ot,[r.pL.FinanceHeroMarketChart]:ot,[r.pL.FinanceHeroNews]:It,[r.pL.FinanceHeroMovers]:ot,[r.pL.FinanceHerowlsummary]:ot,[r.pL.FinanceHeroSuggested]:ot,[r.pL.FinanceHeroWatchlistIdeas]:ot,[r.pL.FinanceHeroUpcomingEarnings]:ot,[r.pL.FinanceHeroCurrencies]:ot,[r.pL.FinanceHeroCrypto]:ot,[r.pL.MoneyTopicStripe]:st,[r.pL.WeatherHero]:re,[r.pL.WeatherCurrent]:ie,[r.pL.WeatherForecast]:ie,[r.pL.WeatherMap]:ie,[r.pL.SportsTopicStripe]:Vt,[r.pL.MoneyPreWL]:ot,[r.pL.MoneyCrypto]:ot,[r.pL.MoneyMarketBrief]:ot,[r.pL.MoneyMoreForYouCard]:ot,[r.pL.SportsMatch]:Wt,[r.pL.SportsOlympics]:Ht,[r.pL.SportsHeroFre]:Wt,[r.pL.SportsHeroLeagueTodaysEvents]:Wt,[r.pL.SportsHeroMatch1SeasonStats]:Wt,[r.pL.SportsHeroMatch1Stats]:Wt,[r.pL.SportsHeroMatch2SeasonStats]:Wt,[r.pL.SportsHeroMatch2Stats]:Wt,[r.pL.SportsHeroMatch3SeasonStats]:Wt,[r.pL.SportsHeroMatch3Stats]:Wt,[r.pL.SportsHeroMatchStatistics]:Wt,[r.pL.SportsSpotlight2Match1]:Wt,[r.pL.SportsSpotlight2Match2]:Wt,[r.pL.SportsHeroNews]:It,[r.pL.SportsHeroOneVsManyEventResult]:Wt,[r.pL.SportsHeroOneVsOneEventResult]:Wt,[r.pL.SportsHeroSeasonStatistics]:Wt,[r.pL.SportsHeroStandingsRankings]:Wt,[r.pL.SportsHeroTeamStandings]:Wt,[r.pL.SportsHeroTeamStandingWithEvents]:Wt,[r.pL.SportsHeroTeamStandingWithMedals]:Wt,[r.pL.SportsHeroMatchCard]:Wt,[r.pL.SportsHeroTeamVsTeam]:Wt,[r.pL.SportsHeroTeamVsTeamEventResult]:Wt,[r.pL.SportsHeroVideo]:Wt,[r.pL.EventSDCardSportsMIT1]:Wt,[r.pL.EventSDCardSportsMIT2]:Wt,[r.pL.EventSDCardSportsMIT3]:Wt,[r.pL.MyBriefRiverCard]:Gt,[r.pL.TrafficDelays]:Kt,[r.pL.TrafficInfo]:Kt,[r.pL.Transit]:Kt,[r.pL.TrafficIncidents]:Qt,[r.pL.TrafficCameras]:Qt,[r.pL.TrafficCamerasWithSummary]:Qt,[r.pL.TravelTimes]:Qt,[r.pL.TravelTimesWithSummary]:Qt,[r.pL.TrafficMap]:Qt,[r.pL.TrafficNews]:Qt,[r.pL.TrafficTransit]:Qt,[r.pL.TrafficSummary]:Qt,[r.pL.WeatherSummary]:ne,[r.pL.ShoppingCard]:Nt,[r.pL.EdgeShoppingCard]:Rt,[r.pL.ShoppingCarousel]:Rt,[r.pL.ShoppingCarousel2]:Rt,[r.pL.Shopping1688Carousel]:Rt,[r.pL.ShoppingVideoCarousel]:Lt,[r.pL.ShoppingRiver]:Ot,[r.pL.ShoppingRiver1]:Ot,[r.pL.ShoppingRiver2]:Ot,[r.pL.ShoppingRiver3]:Ot,[r.pL.ShoppingTopSectionCard]:Ut,[r.pL.EventSDCardShopping]:Ft,[r.pL.ComicsCarousel]:w,[r.pL.SelectCarousel]:$t,[r.pL.EditorsPickCarousel]:N,[r.pL.DailyFixGamesCarousel]:T,[r.pL.SageGroupedFeed]:F,[r.pL.TopicFeed]:s,[r.pL.NewsWatchShorts]:s,[r.pL.NewsWatchVideo]:s,[r.pL.WatchNewsShorts]:s,[r.pL.ShoppingProng2c]:_t,[r.pL.ShoppingMerchantCategoryDeals]:Mt,[r.pL.ShoppingProngCardResponse]:Et,[r.pL.ShoppingProngTracking]:Et,[r.pL.ShoppingProngCarousel]:Dt,[r.pL.SectionHeader]:Tt,[r.pL.TrendingInTenMinutes]:Zt,[r.pL.TopicFeedTrendingNow]:Zt,[r.pL.TopicFeedTopStories]:Zt,[r.pL.TopStories]:Jt,[r.pL.WorkHeadlines]:Jt,[r.pL.Trending]:At,[r.pL.Horoscope]:K,[r.pL.Elections]:L,[r.pL.RecommendedInterests]:St,[r.pL.MobileTrendingSearchCard]:nt,[r.pL.OnThisDay]:ut,[r.pL.Dense]:E,[r.pL.Qna]:vt,[r.pL.quizcard]:wt,[r.pL.Recipes]:bt,[r.pL.Inspiration]:ft,[r.pL.InterestManagementCard]:X,[r.pL.GemGreeting]:z,[r.pL.Rewards]:Ct,[r.pL.TravelDestinationCard]:Xt,[r.pL.TravelDestinationCarouselCard]:Yt,[r.pL.LocalNewsFeed]:Y,[r.pL.BeaconProviderUpsell]:pt,[r.pL.Marketplace]:et,[r.pL.MarketplaceEvent]:et,[r.pL.PollsCard]:dt,[r.pL.PromotedAd]:mt,[r.pL.TopicFeedDiversity]:F,[r.pL.TopicFeedLearnSomethingNew]:F,[r.pL.TopicFeedWeekends]:F,[r.pL.TopicFeedMomentInTime1]:zt,[r.pL.TopicFeedShopping]:zt,[r.pL.TopicFeedWeather]:zt,[r.pL.WinAppAds]:ce,[r.pL.MiTHeroContent]:it,[r.pL.MiTHeroFollow]:x,[r.pL.MiTHeroAction]:it,[r.pL.MiTHeroSpotlight]:it,[r.pL.NativeAd]:at,[r.pL.CmsAd]:at,[r.pL.FirstPartyAd]:at,[r.pL.AmplifyAd]:at,[r.pL.EventSDCardAmplifyAds]:at,[r.pL.NativeTopAd]:ct,[r.pL.BoostAd]:d,[r.pL.Promotion]:f,[r.pL.DisplayAdBanner]:D,[r.pL.DisplayAdCard]:D,[r.pL.DisplayAd]:D,[r.pL.Calendar]:se,[r.pL.Entertainment]:se,[r.pL.Family]:se,[r.pL.M365]:se,[r.pL.Photos]:se,[r.pL.ThirdPartyWidget]:se,[r.pL.Tips]:se,[r.pL.ToDo]:se,[r.pL.XboxGamePass]:se,[r.pL.Tombstone]:se,[r.pL.UserInterestProvider]:gt,[r.pL.TopCommentsCard]:qt,[r.pL.OnThisDaySDCard]:zt,[r.pL.DailyQuizSdCard]:zt,[r.pL.LocalEventsSDCard]:zt,[r.pL.PublisherSpotlightCard]:zt,[r.pL.FollowedPublishersCard]:zt,[r.pL.WatchVideoHeavy]:ee,[r.pL.WatchGoldShorts]:Bt},le=(0,o.L)(()=>{const t=new de;for(const[e,n]of Object.entries(ue))t.set(e,n);return t});class de extends Map{set(t,e){return super.set(t.toLowerCase(),e)}get(t){return super.get(t.toLowerCase())}}},45083:function(t,e,n){n.d(e,{EZ:function(){return h},G8:function(){return f},GP:function(){return u},OM:function(){return d},TR:function(){return l}});var i=n(79426),r=n(12870);let o=!1;const s=new i.e,a=(new i.e,new i.e,new i.e),c=new i.e;function u(){return r.Rb.IsPrerender?s.getResultAsync():Promise.resolve()}function l(){a.set()}function d(){c.set()}function f(){return r.Rb.IsPrerender?c.getResultAsync():Promise.resolve()}function h(){return(null===r.Rb||void 0===r.Rb?void 0:r.Rb.IsPrerender)&&!o}},45084:function(t,e,n){n.d(e,{$s:function(){return u},JP:function(){return i},PZ:function(){return f},bf:function(){return h},eO:function(){return d},ey:function(){return r},qy:function(){return o},rQ:function(){return p},ux:function(){return c},vI:function(){return l}});const i=["HotelAd"],r={img:{required:1,img:{type:3}},title:{required:1,title:{len:100}},providerName:{required:1,data:{type:1}},logo:{required:0,img:{w:16,h:16,type:1}},disclaimer:{required:0,data:{type:513}}};var o;!function(t){t.PopupDisclaimer="popupDisclaimer",t.ReviewRatingItem="reviewRatingItem",t.WorkingHoursItem="workingHoursItem",t.Callout="callout"}(o||(o={}));const s={price:{required:0,data:{type:6}},city:{required:0,data:{type:9}},review:{required:0,data:{type:510}},disclaimer:{required:0,data:{type:513}},[o.Callout]:{required:0,data:{type:517}},workingHours:{required:0,data:{type:536}},[o.ReviewRatingItem]:{required:0,data:{type:556}},[o.WorkingHoursItem]:{required:0,data:{type:557}}},a={[o.PopupDisclaimer]:{required:0,data:{type:555}}},c={...r,...s,callToAction:{required:0,data:{type:12,len:15}},advertiserLogo:{required:0,img:{type:501,w:16,h:16}},cashback:{required:0,data:{type:516}},...a},u={city:"location.svg",destinationCity:"location.svg",serviceArea:"location.svg",fuelEfficiency:"gas-pump.svg",fuelType:"gas-can.svg",transmission:"transmission.svg",co2Emissions:"cloud.svg",interiorColor:"paint-bucket.svg",exteriorColor:"paint-bucket.svg",range:"battery.svg",trim:"vehicle-car-front.svg",bodyStyle:"vehicle-car-side.svg",autoCondition:"vehicle-car-side.svg",condition:"vehicle-car-side.svg",dealer:"building.svg",duration:"clock.svg",itineraryDays:"clock.svg",workingHours:"clock.svg",departureDestinationPort:"vehicle-ship.svg",debitCardMontlyServiceFee:"wallet-credit-card.svg",annualFee:"wallet-credit-card.svg",price:"money.svg",cardCategory:"money.svg",mileage:"odometer.svg",dealerName:"building.svg",year:"calendar.svg",debitCardCategory:"payment.svg",callout:"megaphone.svg",yearsOfExp:"person-star.svg",services:"briefcase.svg",languages:"local-language.svg",specialties:"ribbon-star.svg",category:"book.svg",serviceSubCategories:"book.svg",port:"vehicle-ship.svg",inclusion:"add-square.svg",toursActivityCategory:"ticket.svg",doctorClinicCategory:"doctor.svg"},l={price:t=>t.split(".")[0],review:t=>{const e=parseInt(t,10);if(e>=1e3){const t=["","k","M","B","T"],n=Math.floor(Math.log10(e)/3);return(e/Math.pow(1e3,n)).toFixed(1)+t[n]}return t.toString()}},d={providerName:"data-1",description:"data-2",rating:"data-3",likes:"data-4",price:"data-6",salePrice:"data-7",city:"data-9",callToAction:"data-12",installmentPrice:"data-500",priceDrop:"data-501",freeShipping:"data-502",viewed:"data-503",sold:"data-504",specialOffer:"data-505",eliteBadge:"data-506",condition:"data-507",localInventory:"data-508",curbsidePickup:"data-509",review:"data-510",shortTitle:"data-511",returnPolicy:"data-512",disclaimer:"data-513",cashback:"data-516",callout:"data-517",fuelEfficiency:"data-518",co2Emissions:"data-519",mileage:"data-520",bodyStyle:"data-521",dealerName:"data-522",fuelType:"data-523",interiorColor:"data-524",trim:"data-525",year:"data-526",exteriorColor:"data-527",transmission:"data-528",range:"data-529",autoCondition:"data-530",yearsOfExp:"data-533",services:"data-534",languages:"data-535",workingHours:"data-536",workingHoursStatus:"data-537",workingHoursIsOpen:"data-538",serviceArea:"data-539",serviceSubCategories:"data-540",specialties:"data-541",category:"data-542",port:"data-543",inclusion:"data-544",departureDestinationPort:"data-545",itineraryDays:"data-546",toursActivityCategory:"data-547",destinationCity:"data-548",duration:"data-549",cardCategory:"data-550",annualFee:"data-551",debitCardCategory:"data-552",debitCardMontlyServiceFee:"data-553",doctorClinicCategory:"data-554",popupDisclaimer:"data-555",reviewRatingItem:"data-556",workingHoursItem:"data-557",discount:"data-600",title:"data-601",logo:"image-1",img:"image-3",transparentImage:"image-500",advertiserLogo:"image-501"},f={font:"p1",shipping:"p2",ratings:"p3"},h=["specialOffer"],p=[d.disclaimer]},45181:function(t,e,n){n.d(e,{Y:function(){return i},n:function(){return u}});var i,r=n(16091),o=n(17720),s=n(79742),a=n(38467);!function(t){t[t.Initialized=1]="Initialized",t[t.CookieConsentProvider=2]="CookieConsentProvider",t[t.CookieConsentStatus=3]="CookieConsentStatus",t[t.ActiveCookieCategories=4]="ActiveCookieCategories"}(i||(i={}));const c=Symbol("cookieManagementState"),u=(0,r.G)({getInstance:()=>o.vv.get(c,()=>{const t=new a.E("CookieManagementStateKey");return t.set(i.Initialized,!1),t.set(i.CookieConsentStatus,s.z.Unknown),t})})},45494:function(t,e,n){var i;n.d(e,{f:function(){return i}}),function(t){t.C0001="C0001",t.C0002="C0002",t.C0003="C0003",t.C0004="C0004"}(i||(i={}))},45794:function(t,e,n){n.d(e,{i:function(){return s},d:function(){return o}});var i=n(83003);const r={article:"ArticlePreview",video:"VideoPreview",slideshow:"SlideshowPreview",webcontent:"WebContentPreview"},o=(t,e)=>{var n,r;const o=t||{},a=e||{},c=o.provider,u=o.category;let l,d;"string"==typeof u?d=l=u:u&&(l=u.label,d=u.product);const f=c&&c.name,h=c&&c.id,p=a.subCategory||l,m=a.category||d,g=o.title,v=o.id,w=o.isLocalContent||a.isLocalContent,y=null===(n=o.stringAttributes)||void 0===n?void 0:n.vertical_tera,b=null===(r=o.stringAttributes)||void 0===r?void 0:r.subvertical_tera,S=s(o.type)||o.type,x=S&&(0,i.hs)(S)||void 0;return function(t,e,n,i,r,o,s,a,c,u,l,d,f){return{...f,category:i,headline:r,id:t,type:e,vertical:n,brand:o,brandId:s,partnerId:a,partnerName:c,isLocal:u,teraVertical:l,teraCategory:d}}(null!=v?v.toString():void 0,x,m,p,g,f,h,void 0,void 0,w,y,b)};function s(t){return r[t]||""}},45933:function(t,e,n){n.d(e,{P:function(){return o}});var i=n(77246),r=n(27261);const o=(0,n(18284).A)(()=>{if((0,i.S)()){const e=(0,r.iA)();if(e.includes("item=tvux:1"))return 4;if(e.includes("reqsrc=vp"))return e.includes("item=tvwp:1")?2:3;{var t;const n=null===(t=e.match(/item=tv:(\d+)/))||void 0===t?void 0:t[1];if(n)return parseInt(n)}}return 0})},46117:function(t,e,n){n.d(e,{I6:function(){return i},Ii:function(){return o},ri:function(){return r}});const i="MSCC",r="MUID",o="eupubconsent-v2"},46151:function(t,e,n){n.d(e,{Ag:function(){return a},En:function(){return o.En},Pt:function(){return c},n3:function(){return s}});var i=n(17254),r=n(67387),o=n(74585);function s(t,e,n){if(!t)return null;let i;try{i=t instanceof URL?new URL(t.href):new URL(t)}catch(t){return null}if(i&&(n||i.host.includes("msn.com")||i.host.includes(".msn.cn")))for(const[t,n]of Object.entries(e))t&&n&&i.searchParams.set(t,n);return i.href}function a(t,e){if(!t)return null;let n;try{n=new URL(t instanceof URL?t.href:t)}catch(t){return null}return n&&e&&e.length&&e.forEach(t=>{n.searchParams.delete(t)}),n.href}function c(t){if("edgeChromium"===i.T3.AppType)return!1;const e=(0,o.En)(t),n=null==e?void 0:e.toLowerCase();return r.B9.has(n)||r.Ju.has(n)}},46261:function(t,e,n){n.d(e,{B4:function(){return f},H4:function(){return p},Hv:function(){return g},JH:function(){return S},Ls:function(){return d},Mn:function(){return l},Nn:function(){return C},Yk:function(){return w},fn:function(){return y},hM:function(){return h},vR:function(){return x}});var i=n(17254),r=n(65022),o=n(93468),s=n(52684),a=n(54996),c=n.n(a),u=n(77246);function l(t,e){if(t)return t.copilotLocationName?t.copilotLocationName:!t.displayName||null!=e&&e.skipOldName?h(t,e):t.displayName}function d(t,e,n){const i={fireErrorIfLatLongName:!0,enforceOnlySmallLocal:!0,...n},s=t&&t.displayName,a=p(t,i),c=a.length>0?a[0]:s,u=0===a.length;return c?null!=i&&i.fireErrorIfLatLongName&&u&&(0,o.vV)(r.Ggx,`Error: Location name in ${e||"weather"} is Lat Long.`,void 0,{...r.Ggx.pb,customMessage:`CurrentLocation: ${JSON.stringify(t)}.`}):(0,o.vV)(r.Ggx,`Error: Short location name in ${e} is empty.`,void 0,{...r.Ggx.pb,customMessage:`ShortlocationNameArr: ${a}.\n                CurrentLocation: ${JSON.stringify(t)}. \n                `}),c}function f(t){return t.definitionName||`${t.latitude},${t.longitude}`}function h(t,e){return p(t,e).join(", ")}function p(t,e){var n;"united states"===(null==t||null===(n=t.country)||void 0===n?void 0:n.toLowerCase())&&(t.isoCode="US");const r=!e||!e.skipLocale,o=!(null!=e&&e.skipAddressLine),a=i.T3&&i.T3.LocaleContentMarket&&i.T3.LocaleContentMarket.market,c=(t.isoCode||"").toUpperCase(),u=c&&a&&a.substr(-c.length).toUpperCase()===c,l=w(t.isoCode,t.language)?null:t.subRegion,d=(0,s.abbreviateUSState)(t.region,t.language,t.isoCode),f=[o&&t.addressLine,r?t.locality:"",l,d,null!=e&&e.skipCountry?"":t.country].filter(t=>!!t);let h=0;for(;f[h+1];)f[h+1]===f[h]?f.splice(h+1,1):h++;const p="CN"==(null==a?void 0:a.toUpperCase())?1:2;if(t.country&&u&&f.length>p&&f.splice(-1,1),e&&e.enforceOnlySmallLocal&&f.length>0){return[/,/.test(f[0])?f[0].split(",")[0]:f[0]]}var g;e&&e.enforceSmallLocaleFirst||(g=t.language)&&m.has(g.toUpperCase())&&f.reverse(),null!=e&&e.enforceOnlySmallLocal||0!=f.length||!t.latitude||!t.longitude||(f.push(t.latitude),f.push(t.longitude));return f.filter(t=>"string"!=typeof t||t.trim().length>0)}const m=new Set(["ZH-CN","KO-KR","JA-JP"]);function g(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={cl:t.copilotLocationName,a:t.addressLine,l:t.locality,r:t.region,r2:t.subRegion,c:t.country,i:t.isoCode,t:t.locationType,g:t.language,x:e?t.longitude:void 0,y:e?t.latitude:void 0,n:i.T3.isMiniProgram?t.displayName:void 0,m:t.tag,o:t.confirmed},r=JSON.stringify(n,(t,e)=>null!=e&&""!==e?e:void 0);return"{}"!==r?r:void 0}const v=new Set(["JP","TW"]);function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(!e||"zh-cn"!=e.toLowerCase())&&!v.has((t||"").toUpperCase())}function y(t){const e=parseFloat(null==t?void 0:t.latitude),n=parseFloat(null==t?void 0:t.longitude);return b(e,-85,85)&&b(n,-180,180)&&(0!==e||0!==n)}function b(t,e,n){return!isNaN(t)&&t>=e&&t<=n}function S(t,e){return{latitude:""+parseFloat(t),longitude:""+parseFloat(e)}}function x(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)try{const n=JSON.parse(t),r={};return r.addressLine=$(n.a),r.copilotLocationName=$(n.cl),r.locality=$(n.l),r.region=$(n.r),r.subRegion=$(n.r2),r.country=$(n.c),r.isoCode=n.i,r.locationType=n.t,r.language=n.g,null!=n.m&&(r.tag=n.m),null!=n.o&&(r.confirmed=n.o),e&&(r.latitude=n.y,r.longitude=n.x),i.T3.isMiniProgram&&(r.displayName=$(n.n)),r}catch(t){return}}function C(t,e){return!(!t||!e)&&(k(t.longitude,e.longitude)&&k(t.latitude,e.latitude))}function k(t,e){return!(!t||!e)&&T(t)===T(e)}function T(t){const e=parseFloat(t),n=Math.pow(10,6);return Math.round(e*n)/n}function $(t){return t&&(0,u.S)()?c().sanitize(t):t}},46534:function(t,e,n){n.d(e,{Hl:function(){return u},L$:function(){return r},M7:function(){return i},X1:function(){return s},fB:function(){return o}});var i,r,o,s,a,c=n(40735);!function(t){t.Above="Above",t.Below="Below",t.Left="Left",t.Right="Right"}(i||(i={})),function(t){t.TopStart="TopStart",t.TopEnd="TopEnd",t.TopCenter="TopCenter",t.BottomStart="BottomStart",t.BottomEnd="BottomEnd",t.BottomCenter="BottomCenter"}(r||(r={})),function(t){t.Mini="Mini",t.Small="Small",t.Medium="Medium",t.Large="Large"}(o||(o={})),function(t){t.Adjacent="Adjacent",t.Center="Center",t.Opposite="Opposite"}(s||(s={})),function(t){t.Outside="Outside",t.Target="Target",t.OutsideAndTarget="OutsideAndTarget"}(a||(a={}));class u extends c.u{get IsValid(){return!!this.size}get surfaceType(){return"Coachmark"}}},47149:function(t,e,n){n.d(e,{$:function(){return o}});var i=n(29231),r=n(29582);class o{constructor(t,e,n){this.contract=t}static render(t){const e=r.W.compress(t);return{[i.i]:JSON.stringify(e)}}addChild(t){return new o(t,this)}addOrUpdateChild(t,e){return e?(e.contract=t,e):new o(t,this)}updateContract(t){this.contract=t}render(t){return o.render(this.contract)}getMetadataTag(){return JSON.stringify(this.getMetadata())}getMetadata(){return r.W.compress(this.contract)}}},47372:function(t,e,n){var i,r;n.d(e,{K:function(){return i}}),function(t){t.CardView="cardview",t.FlatView="flatview"}(i||(i={})),function(t){t.t3="T3",t.t6="T6"}(r||(r={}))},47554:function(t,e,n){n.d(e,{C:function(){return s}});var i=n(30817),r=n(20431),o=n(89902);function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={...(0,i.ZF)(),...(0,i.zq)()},n=[],o={WW:{pid:0},Resolver:{pid:1},Ads:{pid:2},Telemetry:{pid:3},"Content Preview":{pid:4},Images:{pid:5},JS:{pid:6},Statics:{pid:7},Configs:{pid:8},Services:{pid:9},nextPID:{pid:20}},s=100;!function(t,e,n){const i=[{name:"Ads",regex:/(\/srtb\.|taboola|outbrain)/i},{name:"Telemetry",regex:/(otf\.|\/c\.gif)/i},{name:"Content Preview",regex:/\/content\/view\/v[0-9]\/Preview\//i},{name:"Images",regex:/(img-s-msn-com|\.svg)/i},{name:"JS",regex:/\.js/i},{name:"Statics",regex:/statics/i},{name:"Configs",regex:/\/config/i},{name:"Services",regex:/(\/service\/|api|\/getappanoncookie|content|microsoftonline)/i}];let r=performance.getEntriesByType("resource").filter(e=>{const{duration:n,startTime:i}=e;return p(t,i,i+n)});i.forEach(t=>{f(t.name,n);const i=[];r.filter(e=>{const n=e.name.match(t.regex);return n||i.push(e),n}).forEach((n,i)=>{const r=new URL(n.name),o=r.pathname.length>1?r.pathname:r.hostname;e.push({async:!0,timelineName:t.name,coreName:o,idSuffix:`-${i}`,from:n.startTime,to:n.startTime+n.duration})}),r=i})}(t,n,o),function(t,e,n,i){n.forEach(n=>{const{async:r,timelineName:o}=n;r&&f(o,i),p(t,n.from,n.to)&&e.push(n)})}(t,n,(0,r.Is)(),o),d(t,n,e,o,/^WW\./,"WW");const m={...window._appTimings||{}};d(t,n,m,o,/.*/);const g=[];g.push(c(t,"Global","NavStart",s,0,"g")),Object.keys(e).filter(n=>n.match(/TT/)&&p(t,e[n])).sort((t,n)=>e[t]-e[n]).forEach(n=>g.push(c(t,"Global",n,s,e[n],"g"))),Object.keys(e).filter(n=>n.match(/^WW\./i)&&p(t,e[n])).sort((t,n)=>e[t]-e[n]).forEach(n=>g.push(c(t,"WW",n,o.WW.pid,e[n],"p"))),g.push(a("process_name",s,{name:"Main"})),g.push(a("process_sort_index",s,{sort_index:s}));const{uploadTrace:v}=t;return l(t,n,!0).forEach((e,n)=>{const{pid:i}=o[e.name];e.measures.forEach((e,r)=>{const{timelineName:o,coreName:s,idSuffix:a,from:c,to:l,customData:d}=e,f=("000"+r).substr(-3,3),h=s+a,p=v?function(t){const e=t.lastIndexOf("/");return e>=0?t.substr(e+1):t}(h):h,m=`${f}-${p}`;g.push(...function(t,e,n,i,r,o,s,a,c,l){return[u(t,e,n,l?"B":"b",i,r,s,{id:o}),u(t,e,n,l?"E":"e",i,r,a,{id:o,args:JSON.stringify(c)})]}(t,o,m,i,n,r,c,l,d))}),g.push(a("process_name",i,{name:e.name})),g.push(a("process_sort_index",i,{sort_index:i})),g.push(a("thread_name",i,{name:e.name},n)),g.push(a("thread_sort_index",i,{sort_index:n},n))}),l(t,n,!1).forEach((e,n)=>{const i=s;e.measures.forEach(e=>{const{timelineName:r,coreName:o,idSuffix:s,from:a,to:c,customData:l}=e,d=o+s;g.push(function(t,e,n,i,r,o,s,a){const c=h(s-o);return u(t,e,n,"X",i,r,o,{dur:c,args:JSON.stringify(a)})}(t,r,d,i,n,a,c,l))}),g.push(a("thread_name",i,{name:e.name},n)),g.push(a("thread_sort_index",i,{sort_index:n},n))}),g}function a(t,e,n,i){const r={name:t,ph:"M",pid:e,args:n};return null!=i&&(r.tid=i),r}function c(t,e,n,i,r,o){return u(t,e,n,"i",i,null,r,{s:o})}function u(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>7?arguments[7]:void 0;const a={cat:e,name:n,ph:i,pid:r,tid:o,ts:h(arguments.length>6?arguments[6]:void 0),...s};return null!=o&&(a.tid=o),a}function l(t,e,n){const i=(0,o.A)(e.filter(e=>!!e.async===n&&p(t,e.from,e.to)),t=>t.timelineName),r=[];let s=0;return Object.keys(i).forEach(t=>{const e=i[t].sort((t,e)=>t.from-e.from);s=Math.max(s,e[e.length-1].to),r.push({name:t,measures:e})}),r.sort((t,e)=>t.measures[0].from-e.measures[0].from)}function d(t,e,n,i,r,o){const s=/-?[Ss]tart$/,a={"-Start":"-End","-start":"-end",Start:"End",start:"end"},c=[];Object.keys(n).filter(t=>t.match(r)).forEach(r=>{const u=r.match(s);if(!u)return;let l=r.replace(s,"");const d=`${l}${a[u[0]]}`,f=u&&n[d];if(!f)return;c.push(r),c.push(d);let h=o;if(!h){const t=l.match(/(.+)\.(.+)/);if(!t)return;h=t[1],l=t[2]}const m=n[r];p(t,m,f)&&e.push({async:!!i[h],timelineName:h,coreName:l,idSuffix:"",from:m,to:f})});for(const t of c)delete n[t]}function f(t,e){if(!e[t])return e[t]={pid:e.nextPID.pid++},!0}function h(t){return Math.round(1e3*t)}function p(t,e,n){return!t.uploadTrace||!t.maxTime||(!e||e<=t.maxTime)&&(!n||n<=t.maxTime)}},48114:function(t,e,n){n.d(e,{F_:function(){return a},jA:function(){return s},nz:function(){return c}});var i=n(38467),r=n(13053);const o=new i.E("WidgetLoadTracker");function s(t){o.has(t)||("hidden"!==document.visibilityState?(0,r.D)(()=>o.set(t,!0)):o.set(t,!0))}const a=new i.E("WidgetAppState");var c;!function(t){t[t.IsDarkMode=1]="IsDarkMode",t[t.IsDashboardVisible=2]="IsDashboardVisible",t[t.ActionMenuStrings=3]="ActionMenuStrings",t[t.NonPeregrineWidgetTelemetryObject=4]="NonPeregrineWidgetTelemetryObject",t[t.FeedRegionWidgets=5]="FeedRegionWidgets",t[t.RecommendedWidgets=6]="RecommendedWidgets",t[t.DefaultPreviewType=7]="DefaultPreviewType",t[t.IsReauthRequired=8]="IsReauthRequired",t[t.IsWindowShown=9]="IsWindowShown",t[t.FeedRefreshPromise=10]="FeedRefreshPromise",t[t.Suspended=11]="Suspended",t[t.ClientLayoutVersion=12]="ClientLayoutVersion",t[t.IsLSCachedFeedUsed=13]="IsLSCachedFeedUsed",t[t.IsExpandedViewEnabled=14]="IsExpandedViewEnabled",t[t.DelayTtvrPromise=15]="DelayTtvrPromise",t[t.TaskbarLaunchState=16]="TaskbarLaunchState",t[t.IsPreferenceMigrationComplete=17]="IsPreferenceMigrationComplete",t[t.WidgetPinnedPreferences=18]="WidgetPinnedPreferences",t[t.IsFeedsShown=19]="IsFeedsShown",t[t.BoardsNavigationState=20]="BoardsNavigationState",t[t.DisablePinIcon=21]="DisablePinIcon",t[t.AllowedPeregrineWidgets=22]="AllowedPeregrineWidgets",t[t.DisableEarlyFetchWithNormalflow=23]="DisableEarlyFetchWithNormalflow",t[t.OverrideScrollOffset=24]="OverrideScrollOffset",t[t.Layout3InDiscover=25]="Layout3InDiscover",t[t.IsDMARegionAndEdgeNotDefault=26]="IsDMARegionAndEdgeNotDefault",t[t.TaskbarUpdateLaunchEventPromise=27]="TaskbarUpdateLaunchEventPromise",t[t.IsLinearFeed=28]="IsLinearFeed"}(c||(c={}))},48172:function(t,e,n){n.d(e,{f:function(){return m},r:function(){return p}});var i=n(16091),r=n(17720),o=n(65022),s=n(15507),a=n(79426),c=n(98216),u=n(77246),l=n(29307),d=n(17254);function f(t,e){return(t||[]).find(t=>(null==t?void 0:t.key)===e)||null}function h(t,e){const{key:n,value:i,deleteKey:r=!1}=e;let o=t||[];if(r)o=o.filter(t=>t&&(null==t?void 0:t.key)!==n);else{const t=o.findIndex(t=>(null==t?void 0:t.key)===n);if(t>-1)o[t]={...o[t],value:i};else{const t={key:n,value:i};o.push(t)}}return o}class p extends s.M{constructor(){super("ntp.user_nurturing","key","value",{key:"default",value:"none"}),this._latestItems=[],this._initializeCachedItemsPromise=new a.e,this.disablePreferences="edgeChromium"!==(0,d.rA)().AppType}static getInstance(){return r.vv.get("__UserNurturingManager__",()=>new p)}async savePreferenceSetting(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.disablePreferences)return!1;try{return await this._initializeCachedItems(),this._updateCachedItems({key:t,value:e,deleteKey:n}),await this._updatePersistedItems({key:t,value:e,deleteKey:n})}catch(e){const n="Failed to store user nurturing preference";return this.logAppError(o.NVY,n,`Key:${t}.Error:${e}`),!1}}async getPreferenceSetting(t,e){if(this.disablePreferences)return null;try{if(await this._initializeCachedItems(),e){const e=await this._getPersistedItemByKey(t);return this._updateCachedItems({key:t,value:null==e?void 0:e.value,deleteKey:!1}),e}return this._getCachedItemByKey(t)}catch(e){const n=`Failed to find user preference key: ${t}`;return this.logAppError(o.r0p,n,e),null}}async getClonedPreferenceSetting(t,e){const n=await this.getPreferenceSetting(t,e);return(0,l.A)(n)}async _initializeCachedItems(){if(this._initializeCachedItemsPromise.wasSet())return this._initializeCachedItemsPromise.getResultAsync();try{this._items=await this.getPreferenceValueFromBrowser()||[],this.checkIfNurturingCampaignsExist(this._items,!0),this._latestItems=(0,l.A)(this._items)}catch(t){const e="Failed to initialize cached items for UserNurturingManager";this.logAppError(o.r0p,e,t)}this._initializeCachedItemsPromise.set(),this._listenToPreferenceChange()}_getCachedItemByKey(t){return f(this._items,t)}async _getPersistedItemByKey(t){return f(this._latestItems,t)}_updateCachedItems(t){this._items=h(this._items,t)}async _updatePersistedItems(t){const e=this._latestItems;return this.setAndSavePreferenceSetting(h(e,(0,l.A)(t)))}deleteKeyValueFromPSL(t){this.savePreferenceSetting(t,null,!0)}_listenToPreferenceChange(){(0,u.S)()&&window.chrome&&window.chrome.ntpSettingsPrivate&&window.chrome.ntpSettingsPrivate.onPrefsChanged.addListener(t=>{const e=(t||[]).find(t=>(null==t?void 0:t.key)===this.prefSettingKey);e&&(this.checkIfNurturingCampaignsExist(e.value||[],!1),this._latestItems=(0,l.A)(e.value||[]))})}checkIfNurturingCampaignsExist(t,e){var n;const i=t.find(t=>"nurturing_campaigns"===(null==t?void 0:t.key)),r=i?"1":"0",o=(null==i||null===(n=i.value)||void 0===n?void 0:n.trace_id)||-1;e?c.YT.addOrUpdateTmplProperty("nf_usernurturing_init",`${r}_${o}`):c.YT.addOrUpdateTmplProperty("nf_usernurturing_changed_"+ +new Date,`${r}_${o}`)}}const m=(0,i.G)(p)},48309:function(t,e,n){var i,r,o;n.d(e,{EM:function(){return a},I4:function(){return r}}),function(t){t[t.BOOLEAN_AND_STRING_ENUM=0]="BOOLEAN_AND_STRING_ENUM",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING_ENUM=2]="STRING_ENUM"}(i||(i={})),function(t){t.redirect="redirect",t.bing="bing"}(r||(r={})),function(t){t[t.user=0]="user",t[t.wpoPrerenderTab=1]="wpoPrerenderTab",t[t.wpoVisibleTab=2]="wpoVisibleTab",t[t.adminPortalVisibleTab=3]="adminPortalVisibleTab",t[t.ntpVisibleTab=4]="ntpVisibleTab"}(o||(o={}));var s;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CHROME=1]="CHROME",t[t.FIREFOX=2]="FIREFOX",t[t.IEXPLORER=4]="IEXPLORER",t[t.SAFARI=11]="SAFARI",t[t.EDGE=12]="EDGE",t[t.MSEDGE=13]="MSEDGE"}(s||(s={}));const a="00004"},48608:function(t,e,n){n.d(e,{A:function(){return c},Ki:function(){return u},Sb:function(){return a},ZW:function(){return s},_W:function(){return o}});var i=n(74166),r=n(28828);const o=()=>{const t=(0,i.Ux)("elt",!0),e=t&&(0,r.B)(t),{access_token:n,account_type:o,login_hint:s,region_scope:a}=e||{};return(n||o||s||a)&&e},s=()=>{const t=o();if(t){if("MSA"===t.account_type)return"MSA";if("AAD"===t.account_type)return"AAD"}},a=()=>{const t=o();return t&&t.login_hint},c=()=>{const t=o();return t&&t.region_scope},u=()=>!!(0,i.Ux)("elt")},48622:function(t,e,n){n.d(e,{d:function(){return x}});var i=n(88294),r=n(93468),o=n(65022),s=n(11917),a=n(69089),c=n(10307);class u extends Error{constructor(t){super(t)}}var l=n(17254),d=n(12870),f=n(19548),h=n(74195),p=n(94569),m=n(19993),g=n(74326),v=n(57759),w=n(98216),y=n(486),b=n(86948);class S{constructor(t){this.fetchImpl=t,this.userUpdateEndpoint="msn/user",this.pdpServiceEndpoint="graph/actions",this.locationsServiceEndPoint="v1/news/users/me/locations",this.userActionServiceEndPoint="news/users/me/actions",this.ocid="pdp-peregrine",this.ocidOverride=!0,this.marketQSPOverride=!1}getCommonParams(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?m.WR.getOneServiceParamsWithAuth(e??(0,l.rA)().UserId,this.ocid,!this.ocidOverride,null,!1,n):m.WR.getOneServiceParamsWithoutAuth(e??(0,l.rA)().UserId,this.ocid,!this.ocidOverride,null,!1,(0,y.wx)(),!1,n)}async getUserDefaultLocation(t){const e=await this.getRequestInit({method:"GET"}),n=(0,g.nI)(this.locationsServiceEndPoint);let i;[...m.WR.getCommonParams2(this.ocid,!this.ocidOverride),{key:"autodetect",value:t&&`${t}`}].forEach(t=>{t.value&&n.searchParams.set(t.key,t.value)});try{i=await(0,v.w)(async()=>{const t=await this.fetchImpl(n.href,e);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: getUserDefaultLocation}`;throw new Error(e)}return t},"getUserDefaultLocation")}catch(t){return i}return i}async addToFavoriteLocation(t,e){const n="Location",i="Follow",r=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:i,targetType:n,definitionName:e,degree:"FavoriteLocation",metaData:t})}),o=(0,g.nI)(this.pdpServiceEndpoint),s=2===await(0,b.XK)();let a;this.getCommonParams(s).forEach(t=>{t.value&&o.searchParams.set(t.key,t.value)});try{a=await(0,v.w)(async()=>{const t=await this.fetchImpl(o.href,r);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${i}, targetType: ${n}`;throw new Error(e)}return t.json()},"addToFavoriteLocation")}catch(t){return!1}return!0}async removeFavoriteLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await this.deleteFromPdp(s.y.Location,"definitionName",[t],void 0,void 0,void 0,void 0,void 0,e)}async removeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await this.deleteFromPdp(s.y.Location,"definitionName",[t],void 0,void 0,void 0,void 0,void 0,e)}async updatePdpHomeLocation(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=s.y.Location,a="Follow",c=await this.getRequestInit({method:"POST"},n,r);c.body=JSON.stringify({actionType:a,targetType:o,definitionName:e,degree:"DefaultLocation",metaData:t});const u=(0,g.nI)(this.pdpServiceEndpoint),l=2===await(0,b.XK)();return this.getCommonParams(l&&!r,i).forEach(t=>{t.value&&u.searchParams.set(t.key,t.value)}),await(0,v.w)(async()=>{const t=await this.fetchImpl(u.href,c);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${a}, targetType: ${o}`;throw new Error(e)}return t},"setPdpHomeLocation"),this.tryInvalidateBulkFetchedPdpTargetType(o),!0}async updateTrafficMyRoutes(t,e,n,r,o,a,c){const u=n.replace(/[^a-zA-Z0-9\-.,_]/g,""),l=s.y.Traffic,d="Follow",f=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:d,targetType:l,targetId:u,degree:t,definitionName:e,metadata:r,createdDateTime:a})},c),h=await this.getTrafficPdpUrl(null,null,o);try{await(0,v.w)(async()=>{const t=await this.fetchImpl(h.href,f);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${d}, targetType: ${l}`;throw new Error(e)}return t.json()},"updateTrafficMyRoutes");this.tryInvalidateBulkFetchedPdpTargetType(l)}catch(t){return i.v.logError(t.message),!1}return!0}async deleteTrafficMyRoutes(t,e,n){const i=await this.getRequestInit({method:"DELETE"}),r=await this.getTrafficPdpUrl(t,e,n);try{await(0,v.w)(async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.y.Traffic}`;throw new Error(e)}return t},"deleteTrafficFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(s.y.Traffic)}catch(t){return!1}return!0}async getTrafficMyRoutes(t,e){const n=await this.getRequestInit({method:"GET"}),i=await this.getTrafficPdpUrl(t,null,e);try{var r;const t=await(0,v.w)(async()=>{const t=await this.fetchImpl(i.href,n);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.y.Traffic}`;throw new Error(e)}return t},"getTrafficFromPdp");return null===(r=await t.json())||void 0===r?void 0:r.value}catch(t){return null}}async getTrafficPdpUrl(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Follow",r=arguments.length>4?arguments[4]:void 0;const o=(0,g.nI)(this.pdpServiceEndpoint),a=2===await(0,b.XK)(),c=(0,l.rA)().UserId,u=a?m.WR.getOneServiceParamsWithAuth(c,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth(c,this.ocid,!this.ocidOverride);if(t||e){const n=`targetType eq '${s.y.Traffic}'`,a=t?`degree eq '${t}'`:"",c=e?`definitionName eq '${e}'`:"",u=r?`targetId eq '${r}'`:"";o.searchParams.set("$filter",`actionType eq '${i}' and (${n})${a?` and (${a})`:""}${c?` and (${c})`:""}${u?` and (${u})`:""}`)}return[...u,...n||[]].forEach(t=>{t.value&&o.searchParams.set(t.key,t.value)}),o}async addToWatchList(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=s.y.Finance,a="Follow",c=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:a,targetType:o,targetId:t,metadata:{securityType:n,tickerId:this.generateUUID(),...r}})},i),u=(0,g.nI)(this.pdpServiceEndpoint),f="zh-cn"!==(0,l.rA)().CurrentMarket,h=2===await(0,b.XK)(),p=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"";let w;(h&&f?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,p,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,p,!0)).forEach(t=>{t.value&&u.searchParams.set(t.key,t.value)});try{w=await(0,v.w)(async()=>{const t=await this.fetchImpl(u.href,c);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${a}, targetType: ${o}`;throw new Error(e)}return t.json()},"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(o)}catch(t){return!1}return!0}async addListToWatchList(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=s.y.Finance,o="Follow",a=await this.getRequestInit({method:"POST",body:JSON.stringify(t.map(t=>({actionType:o,targetType:r,targetId:t.key,metadata:{securityType:t.value,tickerId:this.generateUUID(),...i}})))},n),c=(0,g.nI)(this.pdpServiceEndpoint),u="zh-cn"!==(0,l.rA)().CurrentMarket,f=2===await(0,b.XK)(),h=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"";let p;(f&&u?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,h,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,h,!0)).forEach(t=>{t.value&&c.searchParams.set(t.key,t.value)});try{p=await(0,v.w)(async()=>{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${o}, targetType: ${r}`;throw new Error(e)}return t.json()},"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(r)}catch(t){return!1}return!0}generateUUID(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}async sortWatchList(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=s.y.Finance,o="Follow",a=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"",c=[{key:"fdhead",value:a}],u=await x.readPdpWithTargetType(s.y.Finance,!0,200,i,!1,c),f=u&&(null===(n=u.value)||void 0===n?void 0:n.filter(t=>t.actionType===o&&t.targetId));if(!f||f.length<t.length)return!1;const h={};let p=t.length;f.forEach(e=>{let n=t.findIndex(t=>t===e.targetId);n<0&&(n=p,p++),h[e.targetId]=JSON.stringify({actionType:o,targetId:e.targetId,targetType:r,rank:n,metadata:e.metadata})});const w=await this.getRequestInit({method:"PUT",body:JSON.stringify(h)},i),y=(0,g.nI)(this.pdpServiceEndpoint);(2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0)).forEach(t=>{t.value&&y.searchParams.set(t.key,t.value)});try{await(0,v.w)(async()=>{const t=await this.fetchImpl(y.href,w);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${o}, targetType: ${r}`;throw new Error(e)}return t.json()},"sortWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(s.y.Finance)}catch(t){return!1}return!0}async updateWeatherInterests(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const o=s.y.Weather,a=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:"Follow",targetType:o,targetId:t,metadata:e})},n),c=(0,g.nI)(this.pdpServiceEndpoint),u=2===await(0,b.XK)();this.getCommonParams(u,r).forEach(t=>{t.value&&c.searchParams.set(t.key,t.value)});try{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update weather interests call`;throw new Error(e)}}catch(t){return i.v.logError(t.message),!1}return!0}async getWeatherInterest(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const i=await this.getRequestInit({method:"GET"},t),r=this.getWeatherInterestUrl(null,e),o=2===await(0,b.XK)();this.getCommonParams(o,n).forEach(t=>{t.value&&r.searchParams.set(t.key,t.value)});try{var a;const t=await(0,v.w)(async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.y.Weather}`;throw new Error(e)}return t},"getWeatherInterest");return null===(a=await t.json())||void 0===a?void 0:a.value}catch(t){return null}}getWeatherInterestUrl(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Follow";const i=(0,g.nI)(this.pdpServiceEndpoint),r=`targetType eq '${s.y.Weather}'`;return i.searchParams.set("$filter",`actionType eq '${n}' and (${r})${e?` and (${e})`:""}`),[...t||[]].forEach(t=>{t.value&&i.searchParams.set(t.key,t.value)}),i}async updateWeatherSettings(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t&&!e)return!0;let o="";o=t&&!e?'{"weatherDisplayUnit":"'+t+'"}':!t&&e?'{"userSettings":{"weatherLocationSettingMode":"'+e+'"}}':'{"weatherDisplayUnit":"'+t+'","userSettings":{"weatherLocationSettingMode":"'+e+'"}}';const s=await this.getRequestInit({method:"POST"},n,r);s.body=o;const a=(0,g.nI)(this.userUpdateEndpoint),c=2===await(0,b.XK)();this.getCommonParams(c&&!r,i).forEach(t=>{t.value&&a.searchParams.set(t.key,t.value)});const u=await this.fetchImpl(a.href,s);if(u.status>=400){const t=`OneService returned error response. Status: ${u.status} for update weather setting call`;throw new Error(t)}return!0}async updateHoroscopePreference(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=s.y.Horoscope,a=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:"Follow",targetType:i,targetId:t})},e),c=(0,g.nI)(this.pdpServiceEndpoint),u=2===await(0,b.XK)();this.getCommonParams(u,n).forEach(t=>{null!=t&&t.key&&null!=t&&t.value&&c.searchParams.set(t.key,t.value)});try{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update horoscope preference`;throw new Error(e)}}catch(t){return(0,r.c_)(t,o.mEX,null==t?void 0:t.toString()),!1}return!0}async getHoroscopePreference(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const i=await this.getRequestInit({method:"GET"},t),a=this.getHoroscopePreferenceUrl(null,e),c=2===await(0,b.XK)();this.getCommonParams(c,n).forEach(t=>{null!=t&&t.key&&null!=t&&t.value&&a.searchParams.set(t.key,t.value)});try{var u;const t=await(0,v.w)(async()=>{const t=await this.fetchImpl(a.href,i);if(t.status>=400){const e=`returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.y.Horoscope}`;throw new Error(e)}return t},"getHoroscope");return null===(u=await t.json())||void 0===u?void 0:u.value}catch(t){return(0,r.c_)(t,o.mEX,null==t?void 0:t.toString()),null}}getHoroscopePreferenceUrl(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Follow";const i=(0,g.nI)(this.pdpServiceEndpoint),r=`actionType eq '${n}'`,o=`targetType eq '${s.y.Horoscope}'`;return i.searchParams.set("$filter",`(${r}) and (${o})`),i.searchParams.set("top","1"),[...t||[]].forEach(t=>{null!=t&&t.key&&null!=t&&t.value&&i.searchParams.set(t.key,t.value)}),i}async updateFinanceInterests(t){var e;if(!t)return!1;const n={financeInterests:t},i=JSON.stringify(n),r=await this.getRequestInit({method:"POST"});r.body=i;const o=(0,g.nI)(this.userUpdateEndpoint),s="zh-cn"!==(0,l.rA)().CurrentMarket,a=2===await(0,b.XK)(),c=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"";(a&&s?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,c,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,c,!0)).forEach(t=>{t.value&&o.searchParams.set(t.key,t.value)});const u=await this.fetchImpl(o.href,r);if(u.status>=400){const t=`OneService returned error response. Status: ${u.status} for update finance interests call`;throw new Error(t)}return!0}async updateUserSettings(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t)return!0;const r=JSON.stringify({userSettings:t},(t,e)=>e??void 0),o=await this.getRequestInit({method:"POST"},e);o.body=r;const s=(0,g.nI)(this.userUpdateEndpoint),a=2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth(n??(0,l.rA)().UserId,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth(n??(0,l.rA)().UserId,this.ocid,!this.ocidOverride);for(const{key:t,value:e}of a)e&&s.searchParams.set(t,e);try{const t=await this.fetchImpl(s.href,o);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update weather setting call`;throw new Error(e)}}catch(t){return i.v.logError(t.message),!1}return!0}setUserPrefData(t){this.userPreferenceData=t}getCachedUserPrefData(){return this.userPreferenceData}async getUserPrefData(t){if(this.userPreferenceData)return this.userPreferenceData;return await this.getPdpUserPreference(!0,t,void 0,"weather")}async getPdpUserPreference(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=await this.getRequestInit({method:"GET"},e),s=(0,g.nI)(this.userUpdateEndpoint),a=2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth(n||(0,l.rA)().UserId,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth(n||(0,l.rA)().UserId,this.ocid,!this.ocidOverride);for(const{key:t,value:e}of a)e&&s.searchParams.set(t,e);r&&s.searchParams.set("source",r);try{const t=await(0,v.w)(async()=>{const t=await this.fetchImpl(s.href,o);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t},"readPDPData");if(!t.ok&&404!=t.status)throw Error(`code=${t.status}, ${t.statusText}`);const e={...await t.json(),is404:404==t.status};return this.setUserPrefData(e),e}catch(e){if(i.v.logError(e.message),t)throw Error(e.message);return null}}async updatePdpLayoutPreference(t){const e={method:"PUT",credentials:"include",body:JSON.stringify({dummyid:{userLayoutPreference:t}})},n=(0,g.nI)(this.userUpdateEndpoint);(2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride)).forEach(t=>{t.value&&n.searchParams.set(t.key,t.value)});try{const t=await this.fetchImpl(n.href,e);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update layout preference setting call`;throw new Error(e)}}catch(t){return i.v.logError(t.message),!1}return!0}async updateSegmentCardsEnableStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t&&!t.length)return!0;const n=[];if(e){let t;for(t in e)null!=e[t]&&n.push('"'+t+'": '+JSON.stringify(e[t]))}const i=t.map(t=>t.cardType!=a.s.TopStoriesCard?`\\"${t.cardType}\\":${t.enabled?'\\"1\\"':'\\"0\\"'}`:"").join(","),r=n.length>0?'{"segmentCardSettings":"{'+i+'}","userSettings":{'+n.join(", ")+"}}":'{"segmentCardSettings":"{'+i+'}"}';return this.updateUserPreference(r)}async updateProductivityCardsEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{enterpriseCardsEnabled:"{${t.map(t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`).join(",")}}"}}`;return this.updateUserPreference(e)}async updateGamingCardsEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{gamingCards:"{${t.map(t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`).join(",")}}"}}`;return this.updateUserPreference(e)}async updateMorningDigestEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{WindowsShellMorningDigest:"{${t.map(t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`).join(",")}}"}}`;return this.updateUserPreference(e)}async updateCommunitySettingsOptOutStatus(t){if(!t&&!t.length)return!0;const e={};t.forEach(t=>{e[t.settingType]=t.optedOut?"1":"0"});const n={communitySettings:e};return this.updateUserPreference(JSON.stringify(n))}async updateWidgetSettings(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t)return!1;const i=t.filter(t=>{var e;return!(null!==(e=t.region)&&void 0!==e&&e.startsWith("wbcol"))}).map(t=>({actionType:"Follow",targetId:t.cardType,targetType:s.y.Widget,metadata:{prongsv2:{region:t.region,size:c.P[t.size],position:t.position,widgetDefinitionId:t.widgetDefinitionId}}}));return this.sendGenericActionRequest({additionalHeaders:e,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:n})}async muteWidget(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t||!t.length)return!1;const i=t.map(t=>({actionType:"Mute",targetId:t,targetType:s.y.Widget}));return this.sendGenericActionRequest({additionalHeaders:e,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:n})}async disableSpotlightCard(t,e,n){if(!t)return!1;const i={actionType:"Disabled",definitionName:t,targetType:n||s.y.TopicFeed};return this.sendGenericActionRequest({endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:e},!0)}async getDisabledActionCards(t,e){if(!t.length||!e.length)return[];const n=Array.from(new Set(e)),i=Array.from(new Set(t)),r=[{key:"$top",value:"100"},{key:"$filter",value:`actionType eq 'Disabled' and targetType eq '${`${n.join("' or targetType eq '")}`}' and definitionName eq '${`${i.join("' or definitionName eq '")}`}'`}],o=await this.getRequestInit({method:"GET"}),s=(0,g.nI)(this.pdpServiceEndpoint),a=2===await(0,b.XK)();[...r,...this.getCommonParams(a,null,!0)].forEach(t=>{t.value&&s.searchParams.set(t.key,t.value)});const c=await(0,v.w)(async()=>{const t=await this.fetchImpl(s.href,o);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t},"readPDPData");if(!c.ok&&404!=c.status)throw Error(`code=${c.status}, ${c.statusText}`);return(await c.json()).value||[]}async sendGenericActionRequest(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{additionalHeaders:n,additionalParams:i,endpoint:r,method:o,payload:s,appError:a}=t;if(!r||!o)return this.logError(new Error("Missing arguments: 'endpoint' and 'method' should be provided and valid"),a),!1;const c=(0,g.nI)(r),u=2===await(0,b.XK)();let l;this.getCommonParams(u,null,e).forEach(t=>{t.value&&c.searchParams.set(t.key,t.value)}),i&&i.forEach(t=>{t.value&&c.searchParams.set(t.key,t.value)});try{JSON.parse(s),l=s}catch(t){l=JSON.stringify(s)}const d=await this.getRequestInit({method:o,body:l},n),f="GET"==o;try{return await(0,v.w)(async()=>{const t=await this.fetchImpl(c.href,d);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for payload: ${s}`;throw new Error(e)}return!f||await t.json()},"sendActions")}catch(t){return this.logError(t,a),!1}}async getUserActions(t){const e=[{key:"actionType",value:t}],n=await this.sendGenericActionRequest({additionalParams:e,endpoint:this.userActionServiceEndPoint,method:"GET"});return n&&n.value}async setUserAction(t,e,n){return!!await this.sendGenericActionRequest({endpoint:n?this.pdpServiceEndpoint:this.userActionServiceEndPoint,method:"POST",payload:{actionType:t,...e}},!0)}async enableCard(t,e){const n=await this.getRequestInit({method:"DELETE"}),i=(0,g.nI)(this.pdpServiceEndpoint),r=2===await(0,b.XK)(),o=this.getCommonParams(r,null,!0);o.forEach(t=>{t.value&&i.searchParams.set(t.key,t.value)});[...[{key:"$filter",value:`actionType eq 'Disabled' and targetType eq '${e}' and definitionName eq '${t}'`}],...o].forEach(t=>{t.value&&i.searchParams.set(t.key,t.value)});try{await(0,v.w)(async()=>{const t=await this.fetchImpl(i.href,n);if(t.status>=400){const n=`OneService returned error response. Status: ${t.status} for actionType: Disabled, targetType: ${e}`;throw new Error(n)}return t},"enableCard")}catch(t){return!1}return!0}async deleteUserAction(t,e){const n=[{key:"actionType",value:t},{key:"targetId",value:e.targetId},{key:"definitionName",value:e.definitionName}];return!!await this.sendGenericActionRequest({additionalParams:n,endpoint:this.userActionServiceEndPoint,method:"DELETE"})}async deleteUserActionRelatedTraffic(t,e){const n=await this.getRequestInit({method:"DELETE"}),i=await this.getTrafficPdpUrl("Default",null,null,t,e.targetId);try{await(0,v.w)(async()=>{const e=await this.fetchImpl(i.href,n);if(e.status>=400){const n=`OneService returned error response. Status: ${e.status} for actionType: ${t}, targetType: ${s.y.Traffic}`;throw new Error(n)}return e},"deleteActionRelatedTraffic"),this.tryInvalidateBulkFetchedPdpTargetType(s.y.Traffic)}catch(t){return!1}return!0}async updateUserPreference(t){const e=await this.getRequestInit({method:"POST"});e.body=t;const n=(0,g.nI)(this.userUpdateEndpoint),i=2===await(0,b.XK)();this.getCommonParams(i,null,!0).forEach(t=>{t.value&&n.searchParams.set(t.key,t.value)});try{const i=await this.fetchImpl(n.href,e);if(i.status>=400){const e=`OneService returned error response while updating user preference. Status: ${i.status}, payload: ${t}`;throw new Error(e)}}catch(t){return!1}return!0}setPdpTargetTypesForBulkLoad(t){t&&t.length&&!this.bulkGraphActionTargetTypes&&(this.bulkGraphActionTargetTypes=t)}async readPdpWithTargetType(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(arguments.length>4&&void 0!==arguments[4])||arguments[4]){const e=await this.getFromWebWorker(t);if(e)return e}if(this.bulkGraphActionTargetTypes&&this.bulkGraphActionTargetTypes.length)if(this.bulkGraphActionTargetTypes.indexOf(t)>=0){this.bulkGraphActionResultCache=this.bulkGraphActionResultCache||await(this.bulkGraphActionPromise||(this.bulkGraphActionPromise=this.fetchPdpWithTargetTypes(this.bulkGraphActionTargetTypes,e,n,i,s,a)));const r=this.bulkGraphActionResultCache.get(t);if(r)return{value:r}}else(0,r.vV)(o.Rk$,`Received an unknown target type "${t}" that was not in the bulk graph action target types list "${this.bulkGraphActionTargetTypes}". Falling back to new network call. Please update the EntryPoint config's "graphActionsToBulkLoad" property to include this type.`);const c=(await this.fetchPdpWithTargetTypes([t],e,n,i,s,a)).get(t);if(c)return{value:c}}async deleteFromPdp(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Follow",s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=await this.getRequestInit({method:"DELETE"},i,c),l=(0,g.nI)(this.pdpServiceEndpoint),d=2===await(0,b.XK)(),f=this.getCommonParams(d&&!c),h=`targetType eq '${t}'`,p=n.map(t=>`${e} eq '${t}'`).join(" or ");let m=`actionType eq '${o}' and (${p}) and (${h})`;r&&(m+=` and (degree eq '${r}')`),l.searchParams.set("$filter",m),[...f,...a].forEach(t=>{t.value&&l.searchParams.set(t.key,t.value)});try{await(0,v.w)(async()=>{const e=await this.fetchImpl(l.href,u);if(e.status>=400){const n=`OneService returned error response. Status: ${e.status} for actionType: ${o}, targetType: ${t}`;throw new Error(n)}return e},"deleteFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(t)}catch(t){return s&&w.YT.sendAppErrorEvent({...s,pb:{...s.pb,actionType:o,error:t.message}}),!1}return!0}tryInvalidateBulkFetchedPdpTargetType(t){this.bulkGraphActionResultCache&&this.bulkGraphActionResultCache.delete(t)}async fetchPdpWithTargetTypes(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!t.length)return new Map;const a=t.map(t=>`targetType eq '${t}'`).join(" or ");n=n||10*t.length*2;const c=[{key:"$top",value:`${n}`},{key:"$filter",value:`actionType eq 'Follow' and (${a})`}],l=await this.getRequestInit({method:"GET"},i);!0===e&&(l.cache="no-store");const d=(0,g.nI)(this.pdpServiceEndpoint),f=2===await(0,b.XK)();[...c,...this.getCommonParams(f),...r].forEach(t=>{t.value&&d.searchParams.set(t.key,t.value)});const h=await(0,v.w)(async()=>{const t=await this.fetchImpl(d.href,l);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t},"readPDPData");if(!h.ok)throw Error(`code=${h.status}, ${h.statusText}`);if(o){const t=(h.headers.get("ddd-auth-features")||"").split(";");if(!t.includes("AadStateOrigin:AuthorizationJwtToken")&&!t.includes("MsaStateOrigin:AuthorizationJwtToken"))throw new u("user does not have valid auth token")}const p=new Map,m=await h.json();if(!m)return p;if(m.value)for(const t of m.value){let e=p.get(t.targetType);e||p.set(t.targetType,e=[]),e.push(t)}for(const e of t)if(p.get(e)||p.set(e,[]),e===s.y.Finance){if("all-cgcombo"===d.searchParams.get("interestType")){const t=p.get(s.y.CasualGame)||[];let n=p.get(s.y.Finance)||[];n=n.concat(t),p.set(e,n)}}return p}async updateMarketPreference(t){const e=await this.getRequestInit({method:"POST",credentials:"include",body:JSON.stringify({userSettings:{preferredMarket:t}})}),n=(0,g.nI)(this.userUpdateEndpoint);(2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride)).forEach(t=>{t.value&&n.searchParams.set(t.key,t.value)});try{const i=await this.fetchImpl(n.href,e);if(!i.ok)throw new Error(`Failed to update market preference: Status: ${i.status}`);return this.marketQSPOverride&&window.history.pushState(null,"",f._3.updateSearchParam(new URL(window.location.href),"cm",t)),!0}catch(t){return i.v.logError(t.message),!1}}async updateFeedPreference(t){const e="winWidgets"===l.T3.AppType?"rubyProng2OptOut":"rubyOptOut",n=await this.getRequestInit({method:"POST",credentials:"include",body:JSON.stringify({userSettings:{[e]:t?"0":"1"}})}),r=(0,g.nI)(this.userUpdateEndpoint);(2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride)).forEach(t=>{t.value&&r.searchParams.set(t.key,t.value)});try{const t=await this.fetchImpl(r.href,n);if(!t.ok)throw new Error(`Failed to update feed preference: Status: ${t.status}`);return!0}catch(t){return i.v.logError(t.message),!1}}async getFromWebWorker(t){let e=null;if(h.WD){const n=this.maptoWebWorkerId(t);if(n&&n.trim()){const n=await(0,h.H$)({id:this.maptoWebWorkerId(t)});n.fetched&&(e=n.payload)}}return e}maptoWebWorkerId(t){switch(t){case s.y.Location:return"weatherpdp";case s.y.League:return"sportsleaguepdp";case s.y.Player:return"sportsplayerpdp";case s.y.Team:return"sportsteampdp";case s.y.Finance:return"moneypdp";default:return""}}async getRequestInit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{method:"GET"},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await m.WR.getOneServiceHeaders();return t.headers={...n?{}:i,...e},t.credentials="include",t}async getFollowedLists(){var t;const e=await this.getRequestInit({method:"GET"}),n=(0,g.nI)(this.userUpdateEndpoint),s=2===await(0,b.XK)(),a=(null===(t=(0,d.Th)().CurrentFlights)||void 0===t?void 0:t.split(",").filter(t=>t.includes("1s")).join(","))||"",c=s?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0);for(const{key:t,value:e}of c)e&&n.searchParams.set(t,e);try{const t=await(0,v.w)(async()=>{const t=await this.fetchImpl(n.href,e);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;(0,r.c_)(null,o.OrI,"Error get followed list")}return t},"getFollowedLists");return t.ok||(0,r.c_)(null,o.OrI,"Error get followed list"),await t.json()}catch(t){return i.v.logError(t.message),null}}async addToFollowedLists(t){var e;const n=s.y.Finance,i=await this.getRequestInit({method:"POST",body:JSON.stringify({financeListIds:t})}),r=(0,g.nI)(this.userUpdateEndpoint),o=2===await(0,b.XK)(),a=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"";let c;(o?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0)).forEach(t=>{t.value&&r.searchParams.set(t.key,t.value)});try{c=await(0,v.w)(async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: FollowList, targetType: ${n}`;throw new Error(e)}return t.json()},"addToFollowedLists")}catch(t){return!1}return!0}async deleteFromFollowedLists(t){var e;const n=s.y.Finance,i=await this.getRequestInit({method:"DELETE"}),r=(0,g.nI)(this.userUpdateEndpoint),o=2===await(0,b.XK)(),a=(null===(e=(0,d.Th)().CurrentFlights)||void 0===e?void 0:e.split(",").filter(t=>t.includes("1s")).join(","))||"";let c;[...o?m.WR.getOneServiceParamsWithAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0):m.WR.getOneServiceParamsWithoutAuth((0,l.rA)().UserId,this.ocid,!this.ocidOverride,a,!0),...[{key:"financeListIds",value:t.toString()}]].forEach(t=>{t.value&&r.searchParams.set(t.key,t.value)});try{c=await(0,v.w)(async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: UnFollowList, targetType: ${n}`;throw new Error(e)}return t.json()},"deleteFromFollowedLists")}catch(t){return!1}return!0}logError(t,e){e?w.YT.sendAppErrorEvent({...e,pb:{...e.pb,error:t.message}}):i.v.logError(t.message)}}const x=new class extends S{constructor(){super((0,p.V)()),"windowsNewsPlus"===l.T3.AppType||"winWidgets"===l.T3.AppType?(this.ocid="winp2",this.ocidOverride=!0):"sharedWidgets"===l.T3.AppType?(this.ocid="hpwidget",this.ocidOverride=!0):"travel"===l.T3.AppType?(this.ocid="travel-verthp-feeds",this.ocidOverride=!0):"gaming"===l.T3.AppType?(this.ocid="authconstants-peregrine",this.ocidOverride=!0):"health"===l.T3.AppType?(this.ocid="health-verthp-feeds",this.ocidOverride=!0):"bingHomepage"===l.T3.AppType?(this.ocid="BingHp01",this.ocidOverride=!0):"windowsShellV2"===l.T3.AppType?(this.ocid="pdp-peregrine",this.ocidOverride=!0):"edgeChromium"===l.T3.AppType&&l.T3.IsHeroNTP&&(this.marketQSPOverride=!0)}}},49084:function(t,e,n){n.d(e,{$D:function(){return C},$_:function(){return N},Aj:function(){return S},BL:function(){return O},FS:function(){return T},HN:function(){return F},LK:function(){return D},NY:function(){return _},OI:function(){return H},SM:function(){return A},Sm:function(){return $},Wm:function(){return L},_v:function(){return U},g_:function(){return B},lp:function(){return P},nf:function(){return I},op:function(){return W},wQ:function(){return R},x1:function(){return E}});var i=n(69259),r=n(10160),o=n(75776),s=n(67387),a=n(65432),c=n(59983),u=n(77246),l=n(27261),d=n(13113),f=n(74166),h=n(85889),p=n(15098);const m=(0,o.MI)()||{};let g=null;const v={winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,distribution:1,superApp:1,channelmobile:1,edgeMobile:1},w={edgeChromium:1},y={winWidgets:1,webWidgets:1},b={edgeChromium:1,shopping:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,msn:1},S={edgeChromium:1,channelmobile:1,cgHomePage:1,distribution:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,superApp:1,edgeMobile:1},x=(0,p.L)(()=>m&&m.apptype),C=(0,p.L)(()=>(0,u.S)()&&x()in y),k=(0,p.L)(()=>(0,u.S)()&&!(0,h.JK)()&&!(x()in v)&&!P()&&!M()),T=(0,p.L)(()=>k()&&!(x()in w)),$=((0,p.L)(()=>k()&&(!(x()in w)||!(0,c.RZ)())),(0,p.L)(()=>k()&&!N()&&!L()));function A(){return!!(0,f.Ux)(s.kr)}const I=(0,p.L)(()=>L()||N()),P=(0,p.L)(()=>!(x()in b)&&W()&&function(){const t=new URLSearchParams((0,l.iA)()).get("ocid")||(null==m?void 0:m.ocid),e=null==t?void 0:t.toLowerCase();if("homePage"==x()&&!s.dZ.has(e))return!0;if(s.B9.has(e))return!0;return!s.dZ.has(e)}()&&!function(){const t="homePage"==x()&&"hp"==(m&&m.pagetype)&&(0,l.$N)().includes(`${i.ei}`);return t}());function _(t){return!t&&(null===g&&(g=!function(){if(!(0,u.S)())return!1;const t=(0,l.$N)();return["vptest=1","reqsrc=vp","vpFreeze=1"].some(e=>null==t?void 0:t.includes(e))}()),g)}const M=()=>(0,u.S)()&&document&&document.body&&document.body.getElementsByClassName(r.AF).length>0,R=()=>M()&&"bingHomepage"===x(),E=(0,p.L)(()=>x()in S||P());function F(){const t=(0,a.v3)();if(t)return t;const e=(0,a.fM)();return e||void 0}function D(t){const e={};return t&&(e[s.aS.authorization]=`Bearer ${t}`),e}function O(t){const e={};return t&&(e[s.aS.entAuthorization]=t),e}function N(){return T()&&(0,d.gV)()||U()||(0,d.VH)()||(0,d.GQ)()}function U(){return T()&&!V()&&!(0,d.gV)()&&(0,c.Dm)()&&("expired"==(0,a.hF)()||(0,d.k4)())}function L(){return T()&&!(0,c.Dm)()&&(0,d.LN)()}function B(){(0,c.GZ)(),T.cache.clear()}const W=(0,p.L)(()=>{const{browser:t}=m,{browserType:e="",detected:n={}}=t||{},{browserType:i=""}=n||{};return/edgeChromium/i.test(e)||/edgeAndroid/i.test(e)||/edgeiOS/i.test(e)||/edge/i.test(i)});const H=(0,p.L)(()=>T()&&!P()),V=()=>{const t=(0,c.Dm)();if(!t)return!1;let e;switch(t.account_type){case"MSA":e=T()?s.kr:s.v1;break;case"AAD":e=T()?s.E1:s.j$;break;default:return!1}return!!(0,f.Ux)(e)}},49222:function(t,e,n){n.d(e,{R:function(){return l}});var i=n(98216),r=n(48172),o=n(41820),s=n(65022),a=n(16091),c=n(17720);class u{constructor(t){this.userNurturingManager=t}static getInstance(){return c.vv.get("__LocalCoachmarkStorageManager__",()=>new u(r.r.getInstance()))}async getAllLocalCoachmarkCampaignsByKey(t){if(!await this.userNurturingManager.isApiAvailableToUse())return this.sendClientLogEvent(`User's preference for local campaign ${t} could not be fetched.`),this.buildKeyErrorResponse();const e=await this.userNurturingManager.getPreferenceSetting(t);return e&&e.value}async getLocalCoachmarkCampaignByKeyAndName(t,e){if(!await this.userNurturingManager.isApiAvailableToUse())return this.sendClientLogEvent(`User's preference for local campaign ${t} and name ${e} could not be fetched.`),this.buildErrorResponse();const n=await this.userNurturingManager.getPreferenceSetting(t),i=n&&n.value;return i&&i.find(t=>t&&t.name===e)}async setLocalCoachmarkCampaignByKeyAndName(t,e,n,i){if(!await this.userNurturingManager.isApiAvailableToUse())return void this.sendClientLogEvent(`User's preference for local campaign key ${t} and name ${e} could not be set.`);const r=await this.userNurturingManager.getPreferenceSetting(t),o=r&&r.value?r.value:[],s=o.find(t=>t&&t.name===e),a=o.indexOf(s),c=s&&s.count||0,u={name:e,count:c+1,source:n,time:i||(new Date).getTime()};a>-1?o[a]=u:o.push(u),this.userNurturingManager.savePreferenceSetting(t,o)}async clearLocalCoachmarkCampaignByKeyAndName(t,e){if(!await this.userNurturingManager.isApiAvailableToUse())return void this.sendClientLogEvent(`User's preference for local campaign ${t} and name ${e} could not be cleared.`);const n=await this.userNurturingManager.getPreferenceSetting(t),i=n&&n.value,r=i&&i.filter(t=>t&&t.name!==e);r&&this.userNurturingManager.savePreferenceSetting(t,r)}async clearAllLocalCoachmarkCampaignsByKey(t){await this.userNurturingManager.isApiAvailableToUse()?this.userNurturingManager.deleteKeyValueFromPSL(t):this.sendClientLogEvent(`User's preference for local campaign ${t} could not be cleared.`)}sendClientLogEvent(t,e){const n={message:t,type:"information",pb:{...(0,s.Ukt)(),customMessage:e}};i.YT.sendClientLogEvent(n)}buildKeyErrorResponse(){return[this.buildErrorResponse(!0)]}buildErrorResponse(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"getAllLocalCoachmarkCampaignsByKey":"clearLocalCoachmarkCampaignByKeyAndName";return{count:-1,name:o.QA.apiError,source:t,time:(new Date).getTime()}}}const l=(0,a.G)(u)},49813:function(t,e,n){n.d(e,{DE:function(){return i},DU:function(){return o},FL:function(){return r},JI:function(){return s},Mg:function(){return c},fO:function(){return a},gy:function(){return u},yE:function(){return l}});const i="edge://new-tab-page-online",r="https://localhost:3000",o="https://copilot-stg.com",s="https://www.copilot-stg.com",a="https://copilot.microsoft.com",c="https://localhost",u="https://www.staging-bing-int.com",l="https://www.bing.com"},50091:function(t,e,n){n.d(e,{$1:function(){return J},$v:function(){return O},A:function(){return z},Bq:function(){return j},Fp:function(){return S},Gi:function(){return G},Ho:function(){return V},IQ:function(){return P},JC:function(){return _},Jx:function(){return g},LF:function(){return m},Li:function(){return W},MC:function(){return R},Mb:function(){return f},Np:function(){return B},OF:function(){return D},QH:function(){return N},QV:function(){return y},Tj:function(){return K},U9:function(){return r},UM:function(){return F},W3:function(){return L},YC:function(){return q},Ze:function(){return T},_B:function(){return b},bL:function(){return l},fe:function(){return $},g9:function(){return x},gy:function(){return I},j5:function(){return d},j6:function(){return c},jw:function(){return E},lu:function(){return H},mk:function(){return M},nZ:function(){return C},oy:function(){return o},p$:function(){return v},pV:function(){return i},rq:function(){return h},sT:function(){return U},tU:function(){return p},uR:function(){return w},ve:function(){return A},wA:function(){return u},x4:function(){return k}});var i,r,o,s=n(27942),a=n(17254);!function(t){t.Enforced="ENFORCED",t.Recommended="RECOMMENDED"}(i||(i={})),function(t){t[t.CuratedTileSource=-5]="CuratedTileSource",t[t.UserAddedTileSource=4]="UserAddedTileSource",t[t.UserAddedTileSourceNewVal=3]="UserAddedTileSourceNewVal",t[t.AlgoGeneratedTileSource=0]="AlgoGeneratedTileSource",t[t.WPOPromotedTileSource=-4]="WPOPromotedTileSource",t[t.PromotedCuratedTileSource=-6]="PromotedCuratedTileSource",t[t.SponsoredPromotedCuratedTileSource=-7]="SponsoredPromotedCuratedTileSource",t[t.SponsoredCuratedTileSource=-8]="SponsoredCuratedTileSource",t[t.AffiliateAutoAppendTileSource=2]="AffiliateAutoAppendTileSource",t[t.NextSitesAlgoGeneratedTileSource=7]="NextSitesAlgoGeneratedTileSource",t[t.AlgoGeneratedCIPromotedMediaTileSource=8]="AlgoGeneratedCIPromotedMediaTileSource"}(r||(r={})),function(t){t[t.DragDrop=1]="DragDrop",t[t.DragDropUnpin=-1]="DragDropUnpin"}(o||(o={}));const c=282,u=386,l="130px",d=8,f=16,h=20,p=10,m=30,g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrsl7EJADAIBGPIEO4/nVt8SCFkgijhvhCsPNQHNUmjWnM0EBCpdYK7i07cSUTYy+I5ARaz705UuQR34A4ggAACCCCA4LL6qhPGV94JYgswAGXGEhq663zFAAAAAElFTkSuQmCC",v=320,w=176,y=1e4,b=1200,S=8,x=84,C=108,k="tsCollapsed",T="tsUnpinned",$="tsDragDrop",A="tsDragDropUnpin",I=32,P=/^(\/\?|\?|&|)/,_={topSitesContainerId:"TopSitesContainer",topSitesId:"TopSitesCommon",topSitesClassSelector:"topSitesCommon",topSiteActionMenuId:"tsam"},M={topSitesDarkOnBackgroundImage:"topSitesDarkOnBackgroundImage",topSitesLightOnBackgroundImage:"topSitesLightOnBackgroundImage",topSitesDark:"topSitesDark",topSitesLight:"topSitesLight",tenSites:"ten-sites",nineSites:"nine-sites",eightSites:"eight-sites",sixSites:"six-sites",twoRowSites:"two-row-sites",feeds3T1SearchBoxWidth:"f3t1tsb",feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled:"qbf3t1tsb",feeds3T1SearchBoxWidthWithAdditionalTile:"f3t1tsbwat",carouselSites:"all-one-line-sites",large:"Large",rubySites:"ruby-sites",rubyTenSites:"ruby-ten-sites"},R=["ntp.msn.com","ntp.msn.cn","microsoftedgewelcome.microsoft.com"],E={"go.microsoft.com":["Welcome to Microsoft Edge"],"msn.com":["MSN","MSN"]};var F;!function(t){t[t.topSiteAdLabelBig=0]="topSiteAdLabelBig",t[t.topSiteAdLabelSmall=1]="topSiteAdLabelSmall",t[t.topSiteAdTxtBig=2]="topSiteAdTxtBig",t[t.topSiteAdTxtSmall=3]="topSiteAdTxtSmall"}(F||(F={}));const D=[{title:"YouTube",url:"https://www.youtube.com/",faviconId:"AA1vaJY7"},{title:"Gmail",url:"https://www.gmail.com/",faviconId:"AA1xJdRt"},{title:"Facebook",url:"https://www.facebook.com/",faviconId:"AAbwoox"},{title:"WhatsApp",url:"https://www.whatsapp.com/",faviconId:"AA1xJga5"}],O=[{title:"YouTube",url:"https://www.youtube.com/",faviconId:"AA1vaJY7"},{title:"Facebook",url:"https://www.facebook.com/",faviconId:"AAbwoox"},{title:"WhatsApp",url:"https://www.whatsapp.com/",faviconId:"AA1xJga5"},{title:"Outlook",url:"https://www.outlook.com",faviconId:"AA1vaSFL"}],N=[{url:"https://www.bing.com",exc:["maps"]},{url:"https://www2.bing.com",exc:["maps"]},{url:"https://bing.com",exc:["maps"]},{url:"https://chat.bing.com"},{url:"https://www.google.co.jp",exc:["maps","photos","flights"]},{url:"https://google.com",exc:["maps","photos","flights","mail"]},{url:"https://www.google.com",exc:["maps","photos","flights"]},{url:"https://www.google.com.au",exc:["maps","photos","flights"]},{url:"https://www.google.com.br",exc:["maps","photos","flights"]},{url:"https://www.google.com.fr",exc:["maps","photos","flights"]},{url:"https://www.google.co.uk",exc:["maps","photos","flights"]},{url:"https://www.google.de",exc:["maps","photos","flights"]},{url:"https://www.yahoo.com"},{url:"https://search.yahoo.com"},{url:"https://uk.yahoo.com "},{url:"https://uk.search.yahoo.com"},{url:"https://de.yahoo.com"},{url:"https://de.search.yahoo.com"},{url:"https://fr.yahoo.com"},{url:"https://fr.search.yahoo.com"},{url:"https://ca.yahoo.com"},{url:"https://ca.search.yahoo.com"},{url:"https://au.yahoo.com"},{url:"https://www.yahoo.co.jp"},{url:"https://search.yahoo.co.jp"},{url:"https://www.baidu.com"},{url:"https://www.duckduckgo.com"},{url:"https://yandex.com"},{url:"https://www.yandex.com"},{url:"https://www.yandex.ru"},{url:"https://www.naver.com"},{url:"https://www.microsoft.com/en-us/edge/update"}],U={"https://www.office.com":"AA13Q6AL","https://www.office.com/":"AA13Q6AL"},L={"https://www.office.com":"Microsoft 365","https://www.office.com/":"Microsoft 365"},B={rid:1,dataGenerationTime:null,faviconUrl:"",domain:"",enforcement:void 0,title:"          ",tileSource:0,tileTitleSource:0,url:"",direction:"ltr"},W={onerow:{[s.j1.c1]:{default:{tile:4,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:6,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:6}},[s.j1.c3]:{default:{tile:7,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:7}},[s.j1.c4]:{default:{tile:10,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:10}},[s.j1.c5]:{default:{tile:10,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:10}}},tworows:{[s.j1.c1]:{default:{tile:8,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:12,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:6}},[s.j1.c3]:{default:{tile:14,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:7}},[s.j1.c4]:{default:{tile:20,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:10}},[s.j1.c5]:{default:{tile:20,class:M.feeds3T1SearchBoxWidth,maxRowTileCount:10}}}},H={onerow:{[s.j1.c1]:{default:{tile:8,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:10,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:5}},[s.j1.c3]:{default:{tile:3,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:3}},[s.j1.c4]:{default:{tile:6,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}},[s.j1.c5]:{default:{tile:6,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}}},tworows:{[s.j1.c1]:{default:{tile:8,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:10,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:5}},[s.j1.c3]:{default:{tile:6,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:3}},[s.j1.c4]:{default:{tile:12,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}},[s.j1.c5]:{default:{tile:12,class:M.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}}}},V={onerow:{[s.j1.c1]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c2]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c3]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c4]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c5]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}}},tworows:{[s.j1.c1]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c2]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c3]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c4]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}},[s.j1.c5]:{default:{tile:20,class:M.carouselSites,maxRowTileCount:20}}}},z={[s.j1.c1]:2,[s.j1.c2]:3,[s.j1.c3]:4,[s.j1.c4]:7,[s.j1.c5]:7},j={onerow:{[s.j1.c1]:{default:{tile:4,class:M.rubySites,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:5,class:M.rubySites,maxRowTileCount:5}},[s.j1.c3]:{default:{tile:6,class:M.rubySites,maxRowTileCount:6}},[s.j1.c4]:{default:{tile:8,class:M.rubySites,maxRowTileCount:8}},[s.j1.c5]:{default:{tile:8,class:M.rubySites,maxRowTileCount:8}}},tworows:{[s.j1.c1]:{default:{tile:4,class:M.rubySites,maxRowTileCount:4}},[s.j1.c2]:{default:{tile:5,class:M.rubySites,maxRowTileCount:5}},[s.j1.c3]:{default:{tile:6,class:M.rubySites,maxRowTileCount:6}},[s.j1.c4]:{default:{tile:8,class:M.rubySites,maxRowTileCount:8}},[s.j1.c5]:{default:{tile:8,class:M.rubySites,maxRowTileCount:8}}}},q={onerow:{[s.j1.c1]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:5}},[s.j1.c2]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:7}},[s.j1.c3]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}},[s.j1.c4]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}},[s.j1.c5]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}}},tworows:{[s.j1.c1]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:5}},[s.j1.c2]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:7}},[s.j1.c3]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}},[s.j1.c4]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}},[s.j1.c5]:{default:{tile:10,class:M.rubyTenSites,maxRowTileCount:10}}}},G="https://account.microsoft.com/privacy/ad-settings/",J=[{rid:1,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1gpoOU.img",title:"BingMock",tileSource:-5,url:"https://www.bing.com",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""},{rid:2,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/AAc9vHK.img",title:"eBayMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fwww.ebay.com%2F%3Fmkcid%3D1%26mkrid%3D711-53200-19255-0%26siteid%3D0%26campid%3D5338626679%26customid%3Denus-edge-topsites-dft%26toolid%3D10001%26mkevt%3D1&source=msn-ntp&h=QhO71UBMK%2F9MvItbnRuiijjTJEYqb5e7azgac4kLBco%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:3,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1lFz6G.img",title:"QuickbooksMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fww55.affinity.net%2Fsssdomweb%3Fenk%3D6383dabdeb5e62aa12e566d10dce117627fcc3ca988d0acb52865e97f89910b5ef2c530cc0fe75dcd6ca59d2f106f2a93acec33b49c3549d297065f2975465e8f2c8d29d83cedfdb%26subid%3Denus-edge-topsites-dft&source=msn-ntp&h=tTk3Viyyso73ydo4a3f0n4rZPaAHAlsGldI2ALISiJM%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:4,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1ncNsL.img",title:"WalmartMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fww55.affinity.net%2Fsssdomweb%3Fenk%3D6383dabdeb5e62aa12e566d10dce117627fcc3ca988d0acb276a49e0d9b54340bcfb90634a3d10e1b02644a6b1ad86cf3acec33b49c3549d297065f2975465e8f2c8d29d83cedfdb%26subid%3DEN-US-curated-edge-tiles&source=msn-ntp&h=Nj14yhxE2bBfxDkxA%2FneHafeLMFvtM7h9cSstUsvPE0%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:5,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/AAdTRDX.img",title:"LinkedInMock",tileSource:-5,url:"https://www.linkedin.com?trk=msn-top",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""},{rid:6,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/AAcHSdq.img",title:"NetflixMock",tileSource:-5,url:"https://www.netflix.com/",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""}],K=`${(0,a.rA)().StaticsUrl}latest/icons/office-icons/M365Copilot_24x.svg`},50115:function(t,e,n){n.d(e,{Db:function(){return c},KD:function(){return s},nX:function(){return a}});var i=n(41820),r=n(48172);const o=async()=>{let t,e={v:"2"};var n,o;await r.f.isApiAvailableToUse()&&(t=null===(n=await r.f.getPreferenceSetting(i.bJ.wpo_nx))||void 0===n?void 0:n.value,t&&(e="2"===(null===(o=t)||void 0===o?void 0:o.v)?t:{lyp:t,v:"2"}));return e},s=async()=>{const t=await o();if(t){return t.wgt}},a=async t=>{if(await r.f.isApiAvailableToUse()){const e=await o(),n={lyp:null==e?void 0:e.lyp,wgt:t,cpt:null==e?void 0:e.cpt,fdc:null==e?void 0:e.fdc,rptf:null==e?void 0:e.rptf,v:"2"};r.f.savePreferenceSetting(i.bJ.wpo_nx,n)}},c=async()=>{const t=await o();if(t){return t.cpt}return!1}},50130:function(t,e,n){n.d(e,{s4:function(){return d},Nr:function(){return l},nP:function(){return u}});var i=n(82286);const r=5131;let o;try{o=(()=>{const t=i.A.getAdbLoggedTime();return r+t%r})()}catch(t){o=r}const s=/(a)(d)/gi,a=t=>String.fromCharCode(t+97),c=(new Map,(t,e)=>{const n=(t=>{let e,n="";for(e=Math.abs(t);e>26;e=e/26|0)n=a(e%26)+n;return(a(e%26)+n).replace(s,"$1-$2")})(((t,e)=>(void 0===e&&(e=o),((t,e)=>{let n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t})(e,t)))(t,e)>>>0);return n}),u=(t,e)=>`${h(t,e)}`,l=(t,e)=>`algo-${h(t,e)}`,d=(t,e,n)=>t&&null!==i.A&&void 0!==i.A&&i.A.getAdbStatus()?u(e,n):e,f=new Map,h=(t,e)=>{const n=((t,e)=>(f.has(t)||f.set(t,c(t,e)),f))(t,e).get(t);return n}},50297:function(t,e,n){n.d(e,{e:function(){return H}});var i=n(88296),r=n(27942),o=n(99893),s=n(90831),a=n(45181),c=n(12870),u=n(17254),l=n(6736),d=n(49084),f=n(18731),h=n(89151),p=n(93468),m=n(65022),g=n(98216),v=n(22309),w=n(77255),y=n(2603),b=n(17501),S=n(6727);S.OL&&(window.telemetryEventsClear=()=>{window.telemetryEvents=[]},window.telemetryEventsFlush=()=>{const t={...window.telemetryEvents};return window.telemetryEventsClear(),t});const x=function(t){S.OL&&(window.telemetryEvents=window.telemetryEvents||[],window.telemetryEvents.push(t))},C=[{type:b.x.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.x.Debug,mapper:new y.V,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new v.H,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new w.J,transporterConfig:{callback:x}}],k=[{type:b.x.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.x.Debug,mapper:new y.V,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new v.H,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new w.J,transporterConfig:{callback:x}}],T=[{type:b.x.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.x.Debug,mapper:new y.V,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new v.H,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new w.J,transporterConfig:{callback:x}}],$=[{type:b.x.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.x.Debug,mapper:new y.V,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new v.H,transporterConfig:{callback:x}},{type:b.x.Debug,mapper:new w.J,transporterConfig:{callback:x}}],A=[{type:b.x.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],I=[{type:b.x.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],P=[{type:b.x.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],_=[{type:b.x.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],M=[{type:b.x.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],R=[{type:b.x.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],E=[{type:b.x.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],F=[{type:b.x.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.x.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.x.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],D=[{type:b.x.SuperApp,transporterConfig:{enableConsoleLog:!0}}],O=[{type:b.x.SuperAppBridge,transporterConfig:{enableConsoleLog:!0}}],N=[{type:b.x.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}}],U={};U.enterprise=P,U.enterpriseCN=_,U.enterpriseMicrosoftStart=E,U.enterpriseCNMicrosoftStart=F,U.int=C,U.intCN=k,U.intMicrosoftStart=T,U.intCNMicrosoftStart=$,U.prod=A,U.prodCN=I,U.prodMicrosoftStart=M,U.prodCNMicrosoftStart=R,U.superApp=D,U.superAppWeb=N,U.superAppBridge=O;var L=n(77246);var B=n(67536),W=n(42140);class H{static initPage(t,e,n){const i=c.Rb&&c.Rb.ClientSettings||{},{pageGenTime:r=null,detection:o=null}=i||{},{tier:s}=o||{};g.YT.initPage(t,n||u.T3.ActivityIdLowerCaseNoHypens,u.T3.BuildVersion,u.T3.FrontDoorMuid,r,s),e&&(0,h.dT)().then(()=>g.YT.initScrollPerformanceTrackers()),a.n.subscribe(a.Y.Initialized,V)}static getAppTypeTelemetryContract(t,e,n,i){const r=(null==i?void 0:i.syncStorage)??l.YO;let o={aadState:t.userAadState,isSignedIn:t.userSignInStatus,isSso:t.userSsoStatus,loginState:t.userLoginState};if((0,d.NY)())try{const t=(0,l.S8)(r);if(t){const e=z(t);e&&(o={...o,...e})}}catch(t){(0,p.c_)(t,m.lXX,"digital-id: failed to retrieve digital ID cache")}return this.buildTelemetryContract(t,e,n,o,i)}static async getAppTypeTelemetryContractAsync(t,e,n,i){const r=(null==i?void 0:i.asyncStorage)??(0,l.Z5)(l.rw);let o={aadState:t.userAadState,isSignedIn:t.userSignInStatus,isSso:t.userSsoStatus,loginState:t.userLoginState};if((0,d.NY)())try{const t=await(0,l.nx)(r);if(t){const e=z(t);e&&(o={...o,...e})}}catch(t){(0,p.c_)(t,m.lXX,"digital-id: failed to retrieve digital ID cache (async)")}return this.buildTelemetryContract(t,e,n,o,i)}static buildTelemetryContract(t,e,n,i,r){var o;const s=(null===c.Rb||void 0===c.Rb?void 0:c.Rb.ClientSettings)??{},a=(null===c.Rb||void 0===c.Rb?void 0:c.Rb.Diagnostics)??{},{mc:l={}}=a||{},{geo_citycf:d,geo_countrycf:h,geo_subdivision:p,requestTrailInfo:m={},travelInfo:g={},detection:v={},modes:w}=s??{},{cdn:y=null}=m??{},{cnex:b=null}=g??{},{scrubbedIp:S,authType:x,authSCN:C,accountType:k,identityType:T,userID:$,cohortID:A,cohortDebugId:I}=v??{},P=function(t,e){let n;switch(t){case"explicit":{const t="homePage"===u.T3.AppType;n={cookieSource:t?"marketPref":"ntps",cookieValue:t?e&&e.marketPref:e&&e.ntps};break}case"implicitNew":case"implicitExisting":case"implicitReset":{const t=decodeURI(null==e?void 0:e.spt)||"",[i,r]=function(t){if(!t)return["",""];const e=t.split("|");return[e[2]||"",e[7]||""]}(t);n={cookieSource:"sptmarket",cookieValue:t,mktgeoCountryCode:i,mktgeoCountryCodeCf:r};break}}return n}(u.T3.MarketDetectionType,l),_="true"===(null===(o=s.browser)||void 0===o?void 0:o.ismobile)||"phone"===s.deviceFormFactor,M="true"===s.static_page,R=(null==r?void 0:r.locale)??u.T3.CurrentMarket;let E;const F=(null==r?void 0:r.pageUrl)??((0,L.S)()?document.URL:(0,f.e9)(e)),D=F&&(F.includes("vptest=1")||F.includes("reqsrc=vp")),O=H.hasFlight("prg-1sw-logbat"),N=H.hasFlight("tellog10")||void 0,U=(null==w?void 0:w.uxMode)||void 0;return!D&&O&&(E={isRestrictClientLogSize:N,maxClientLogSize:6144}),{browser:{isMobile:_},flight:{id:void 0},locale:{mkt:R,lang:u.T3.MarketRequestInputLanguage,region:u.T3.MarketRequestInputRegion,geo_cc:u.T3.MarketRequestInputGeoCountry,mktReason:u.T3.MarketDetectionType},page:{appType:u.T3.AppType,canvas:t.pageCanvas,config:t.pageConfiguration,content:{title:(null==r?void 0:r.pageContentTitle)??((0,L.S)()?document.title:""),...!j(t.pageContentCategory)&&{category:t.pageContentCategory},...!j(t.pageContentSubCategory)&&{subcategory:t.pageContentSubCategory},...!j(t.pageContentDomainId)&&{domainId:t.pageContentDomainId},...!j(t.pageContentId)&&{id:t.pageContentId},...!j(t.pageContentVertical)&&{vertical:t.pageContentVertical}},isAdEnabled:!1,isAutoRefresh:!1,isJSEnabled:!0,isStatic:M,name:t.pageName,ocid:t.pageOcid,product:t.pageProduct,type:(null==r?void 0:r.pageType)||s.pagetype,url:F,viewType:(null==r?void 0:r.pageViewType)??H.trackCallbacks(n),...!j(t.pageTheme)&&{theme:t.pageTheme},...!j(t.pageHas3PSearch)&&{has3PSearch:t.pageHas3PSearch},uxMode:U},debug:{cetoId:u.T3.ActivityIdLowerCaseNoHypens||null,cdn:y,geoCityCf:d,geoCountryCf:h,geoSubdivision:p,langMismatch:u.T3.MarketMismatchDetail||void 0,detectedDetails:P||void 0,hasTravelerException:b||void 0,detectedIP:S||void 0,detectedIT:x||void 0,detectedSCN:C||void 0,cohortAccountType:k,cohortIdentityType:T,cohortUserID:$,cohortID:A,cohortDebugId:I},...(!j(t.userSignInStatus)||!j(t.userSsoStatus)||!j(t.userAadState))&&{user:i},featureFlags:E}}static getAppTypeTrackingSystemConfig(t){const e=function(t,e,n,i){const r=t&&t.includes("microsoftstart.com")?"MicrosoftStart":"";let o;return o="prod"===e?i?"enterprise":"prod":"int",U[`${o}${n?"CN":""}${r}`]}(c.Rb&&c.Rb.ClientSettings&&c.Rb.ClientSettings.domain,u.T3.Environment,u.T3.IsChinaCompliance,t);return(0,W.a)(e),e}static trackCallbacks(t){let e="";switch((0,i.TU)().currentColumnArrangement){case t.singleColSupported&&r.j1.c1:e="size1column";break;case!t.singleColSupported&&r.j1.c1:case r.j1.c2:e="size2column";break;case r.j1.c3:e="size3column";break;case r.j1.c4:e="size4column";break;case t.fiveColSupported&&r.j1.c5:e="size5column"}return e}static hasFlight(t){const e=u.T3.CurrentRequestTargetScope&&u.T3.CurrentRequestTargetScope.pageExperiments,n=(0,B.Dl)(e);return n&&n.includes(t)}}function V(t){if(t){a.n.get(a.Y.CookieConsentProvider)===o.O.OneTrustBanner&&window.addEventListener(s.M,()=>{const t=g.YT.getPageMetadata();t&&t.contract&&t.contract.page&&(t.contract.page.consentChanged="occ")})}}function z(t){if(!t)return;const e=function(t){if(t)switch(t.at){case"AAD-AL":return"AAD-AL";case"AAD":return"AAD";case"MSA":return"MSA";case"NA":return"NA";default:return}}(t);return{...{aadState:"AAD"===e?1:0,isSignedIn:"MSA"===e,isSso:["AAD","AAD-AL","MSA"].includes(e)},loginState:e,wid:t.wid?t.wid.replace(/^m-/,"").toUpperCase():void 0}}function j(t){return null==t}},50369:function(t,e,n){n.d(e,{A:function(){return i}});const i=(0,n(98763).pV)(()=>({}))},50492:function(t,e,n){n.d(e,{t:function(){return M}});var i=n(86699),r=n(84751),o=n(14642),s=n(48196),a=n(26920),c=n(10735),u=n(48751),l=n(7896),d=n(79288),f=n(14996),h=n(57416),p=n(92393),m=n(37302),g=n(89580),v=n(74838),w=n(41123),y=n(45476),b=n(86856),S=n(73477),x=n(64187),C=n(60993),k=n(22131),T=n(50882),$=n(74849);const A=$.A`
.expand-collapse-glyph{transform:rotate(0deg)}:host([nested]) .expand-collapse-button{left:var(--expand-collapse-button-nested-width,calc(${s.D} * -1px))}:host([selected])::after{left:calc(${a.vd} * 1px)}:host([expanded]) > .positioning-region .expand-collapse-glyph{transform:rotate(45deg)}`,I=$.A`
.expand-collapse-glyph{transform:rotate(180deg)}:host([nested]) .expand-collapse-button{right:var(--expand-collapse-button-nested-width,calc(${s.D} * -1px))}:host([selected])::after{right:calc(${a.vd} * 1px)}:host([expanded]) > .positioning-region .expand-collapse-glyph{transform:rotate(135deg)}`,P=$.A`
:host{background:${T.A.Field};border-color:transparent;forced-color-adjust:none}:host .content-region{color:${T.A.FieldText}}:host .content-region .expand-collapse-glyph,:host .content-region ::slotted([slot="start"]),:host .content-region ::slotted([slot="end"]){fill:${T.A.FieldText}}:host .positioning-region:hover,:host([selected]) .positioning-region{background:${T.A.Highlight}}:host .positioning-region:hover .content-region,:host([selected]) .positioning-region .content-region{color:${T.A.HighlightText}}:host .positioning-region:hover .content-region .expand-collapse-glyph,:host .positioning-region:hover .content-region ::slotted([slot="start"]),:host .positioning-region:hover .content-region ::slotted([slot="end"]),:host([selected]) .content-region .expand-collapse-glyph,:host([selected]) .content-region ::slotted([slot="start"]),:host([selected]) .content-region ::slotted([slot="end"]){fill:${T.A.HighlightText}}:host([selected])::after{background:${T.A.Field}
}
:host(:${S.N}) .positioning-region{border-color:${T.A.FieldText};
    box-shadow: 0 0 0 2px inset ${T.A.Field}}:host([disabled]) .content-region,:host([disabled]) .positioning-region:hover .content-region{color:${T.A.GrayText};opacity:1}:host([disabled]) .content-region .expand-collapse-glyph,:host([disabled]) .content-region ::slotted([slot="start"]),:host([disabled]) .content-region ::slotted([slot="end"]),:host([disabled]) .positioning-region:hover .content-region .expand-collapse-glyph,:host([disabled]) .positioning-region:hover .content-region ::slotted([slot="start"]),:host([disabled]) .positioning-region:hover .content-region ::slotted([slot="end"]){fill:${T.A.GrayText}}:host([disabled]) .positioning-region:hover{background:${T.A.Field};
}
`,_=$.A`
${(0,x.V)("block")} :host{background:${c.T};
    color: ${u.l};
    contain: content;
    cursor: pointer;
    font-family: ${l.O};
    outline: none;
    position: relative;
    --expand-collapse-button-size: calc(${s.D} * 1px);--tree-item-nested-width:0}:host([disabled]) .content-region{cursor:${C.Z};
    opacity: ${d.q}}:host([expanded]) > .items{display:block}:host(:focus) .content-region{outline:none}:host(:focus) > .positioning-region{outline:none}:host(:${S.N}) .positioning-region{border:${f.WN} 1px solid;
    border-radius: calc(${h.Pb} * 1px);
    color: ${u.l}}:host([nested]) .content-region{margin-inline-start:calc(var(--design-unit) * 2px + 2px + var(--expand-collapse-button-size));position:relative}:host([nested]) .expand-collapse-button{position:absolute}:host([selected])::after{background:${p.W_};
    border-radius: calc(${h.Pb} * 1px);content:"";display:block;height:25px;position:absolute;top:12px;width:3px}:host([selected]) .positioning-region{background:${m.F7}}.content-region{align-items:center;display:flex;font-size:${g.Y};
    font-weight: 400;
    height: calc(${s.D} * 1px);
    line-height: ${g.v};
    margin-inline-end: 20px;
    margin-inline-start: calc(${v.vR} * 2px + 2px);width:100%;white-space:nowrap}.content-region span:first-child{width:58px}.content-region ::slotted([slot="end"]):{margin-inline-start:calc(${v.vR} * 2px + 2px)}.expand-collapse-button{align-items:center;background:none;border:none;cursor:pointer;display:flex;fill:${u.l};height:var(--expand-collapse-button-size);justify-content:center;outline:none;padding:0;width:var(--expand-collapse-button-size)}.expand-collapse-glyph{pointer-events:none;transition:transform 0.1s linear}.items{display:none;font-size:calc(1em + ${w.K})}.positioning-region{align-items:center;border:transparent 1px solid;box-sizing:border-box;display:flex;height:50px;position:relative}.positioning-region::before{content:"";display:block;flex-shrink:0;width:var(--tree-item-nested-width)}.positioning-region:hover{background:${y.oO}}.positioning-region:active{background:${y.wO}}.content-region ::slotted([slot="end"]){fill:${u.l};height:16px;width:16px}.content-region ::slotted([slot="start"]),.content-region ::slotted([slot="end"]){fill:${u.l}}.content-region ::slotted([slot="start"]){margin-inline-end:calc(${v.vR} * 2px + 2px);height:18px;pointer-events:none}::slotted(msn-start-hamburger-menu-item){--expand-collapse-button-nested-width:calc(${s.D} * -1px);
    --tree-item-nested-width: 1em;
}
`.withBehaviors(new b.t(A,I),(0,k.mr)(P)),M=o.A.compose({name:"msn-start-hamburger-menu-item",template:(0,i.q)({expandCollapseGlyph:r.a}),styles:_})},50677:function(t,e,n){n.d(e,{CJ:function(){return h},FH:function(){return d},Wy:function(){return f}});var i=n(28006),r=n(27191),o=n(93005),s=n(96241),a=n(56408),c=n(65022),u=n(93468),l=n(12870);function d(t){const e=o.V.getInstance().rootReducer.connector(i._N);e&&s.$.forcePageReload.getActionSender(e).send(t||a.u.SettingsChange)}function f(t){const e=o.V.getInstance().rootReducer.connector(i._N);e&&s.$.timeForPageReveal.getActionSender(e).send(t)}function h(t){if(!l.Rb.IsPreload)return;if("windowsShell"===l.Rb.ClientSettings.apptype||"windowsShellV2"===l.Rb.ClientSettings.apptype)return t.Win10PerfDCREnabled=1,t[r.l]=t[r.$w],delete t[r.$w],delete t["TTVR.E2E"],delete t["TTVR.Client"],delete t["TTVR.E2E_internal_1"],delete t["TTVR.Client_internal_1"],delete t["TTVR.E2E_internal_2"],delete t["TTVR.Client_internal_2"],void delete t.launchType;const e=function(){const t=o.V.getInstance().rootReducer.connector(i._N);if(!t)return!1;return t.getCurrentState().didRenderStartInBackground}();e&&("edgeChromium"===l.Rb.ClientSettings.apptype?(t[r.le]=1,t[r.x8]=1):t[r.x8]=1);const n=t[r.v4],s=t[r.$w],a=t[r.Sg],d=t[r.RD];let f=!1;if((isNaN(s)||null===s)&&((0,u.vV)(c.ExE,"TTVR missing during preload."),f=!0),(isNaN(n)||null===n)&&((0,u.vV)(c.S6g,"TFPR missing during preload."),f=!0),f)return;const h=t[r.v4]=t[r.$w]=Math.min(n,s);e&&(t[r.l]=s),isNaN(a)||null===a?(0,u.vV)(c.xrv,"TTVR.SearchBox missing during preload."):t[r.Sg]=Math.min(h,a),isNaN(d)||null===d?(0,u.vV)(c.FK$,"TTF.SearchBox missing during preload."):t[r.RD]=Math.min(h,d)}},51267:function(t,e,n){n.d(e,{J:function(){return o}});n(77246);var i=n(89980);let r={};function o(t){t=t||{},(async()=>{const{newUrl:e,invalidatePageCache:n=!0}=t;if(n){const{invalidatePageCacheHandler:t}=r;if(t){const e=t();e&&e.then&&await e}}e?((0,i.Lg)().setItem("reloadPage","refreshPagewithNewUrl"),window.location.replace(e)):((0,i.Lg)().setItem("reloadPage","refreshPageNoNewUrl"),window.location.reload(n))})()}},51275:function(t,e,n){n.d(e,{J:function(){return P},LJ:function(){return M},D4:function(){return w},f_:function(){return _},YF:function(){return R},xE:function(){return y},OA:function(){return A},pg:function(){return C},$3:function(){return k},Yt:function(){return I}});var i,r=n(84397),o=n(45084);!function(t){t.Image="image",t.Title="title",t.Data="data"}(i||(i={}));var s=n(93468),a=n(65022),c=n(77246),u=n(63456),l=n(8555),d=n(6383),f=n(21629),h=n(52063),p=n(18e3),m=n(12870),g=n(2429),v=n(98216);function w(t,e,n){return n?e||r.hO[t]||"Sponsored":e||r.TR[t]||"Ad"}function y(t,e){var n;return null!==m.Rb&&void 0!==m.Rb&&null!==(n=m.Rb.CurrentFlightSet)&&void 0!==n&&n.has("prg-ad-mon-feedback")&&e?(v.YT.addOrUpdateTmplProperty("adFeedbackMonetizeEligible","1"),e):function(t){let e="";if(!t)return e;try{const n=JSON.parse(t).tcb;n&&Array.isArray(n)&&n.forEach(t=>{t.includes("srtb")&&(e=t.replace("notify/clicked","notify/feedback"))})}catch(t){e=""}return e}(t)}function b(t,e,n,i){try{const n=(0,u.A)(e,"data.ext.msft.msan_data");i(t,e,"string"==typeof n?JSON.parse(n):n)}catch(t){(0,s.vV)(a.eN3,`Ad response with invalid ${n} data`,void 0,{...a.eN3.pb,customMessage:`${t&&t.message}`,ext:(0,u.A)(e,"data")})}}function S(t,e){const n=(null==e?void 0:e.image)??(null==e?void 0:e.img),i=(0,u.A)(e,"image.type")??(0,u.A)(e,"img.type"),r=(0,l.A)(o.eO,t=>t===`image-${i}`);return r&&(t[r]={w:null==n?void 0:n.w,h:null==n?void 0:n.h,url:null==n?void 0:n.url,ext:null==n?void 0:n.ext}),t}function x(t,e){return t.title=e.title.text,t}function C(t,e,n){if(n){const n=(0,d.A)(e,(t,e)=>{if(null!=e&&e.data){const n=(0,u.A)(e,"data.type"),i=(0,l.A)(o.eO,t=>t===`data-${n}`);if(i)if(o.bf.includes(i))try{const n=(0,u.A)(e,"data.value")||"{}";t[i]=JSON.parse(n)}catch(n){(0,s.vV)(a.eN3,`Ad response with invalid ${i} compound data`,void 0,{...a.eN3.pb,customMessage:`${n&&n.message}`,compoundValue:(0,u.A)(e,"data.value")}),t[i]={}}else switch(i){case o.qy.PopupDisclaimer:!function(t,e,n){b(t,e,n,(t,e,i)=>{const r=(0,u.A)(e,"data.value");if(!r||0===r.length)throw new TypeError("Popup disclaimer title field is empty or missing");if(!i||!i.text||0===i.text.length)throw new TypeError("Popup disclaimer text field is empty or missing");const o={title:r,text:i.text,url:i.url};t[n]=o})}(t,e,i);break;case o.qy.WorkingHoursItem:!function(t,e,n){b(t,e,n,(t,e,n)=>{var i,r,o;t.workingHours=(0,u.A)(e,"data.value"),t.workingHoursStatus=null==n||null===(i=n.working_hours)||void 0===i?void 0:i.status,t.workingHoursIsOpen="1"===(o=null==n||null===(r=n.working_hours)||void 0===r?void 0:r.is_open)||"string"==typeof o&&"true"===o.toLowerCase()})}(t,e,i);break;case o.qy.ReviewRatingItem:!function(t,e,n){b(t,e,n,(t,e,n)=>{var i;t.rating=(0,u.A)(e,"data.value"),t.review=null==n||null===(i=n.rating)||void 0===i?void 0:i.reviews})}(t,e,i);break;case o.qy.Callout:!function(t,e,n){b(t,e,n,(t,e,n)=>{const i=(0,l.A)(o.eO,t=>t===`data-${n.callout_data_type}`);if(!i)throw new TypeError("Invalid callout sub type");t[i]=(0,u.A)(e,"data.value")})}(t,e,i);break;default:{const n=(0,u.A)(e,"data.value");t[i]=n;break}}else(0,s.vV)(a.eN3,`Ad response with invalid ${i} data`,void 0,{...a.eN3.pb,customMessage:`No mapping found in assetKeyMap for data-${n}`,ext:(0,u.A)(e,"data")})}else null!=e&&e.image||null!=e&&e.img?S(t,e):null!=e&&e.title&&x(t,e);return t},{});t.assets=n}else{const n=(0,d.A)(e,(t,e)=>{if(null!=e&&e.data){const n=(0,u.A)(e,"data.type"),i=(0,l.A)(o.eO,t=>t===`data-${n}`);if(i)if(o.bf.includes(i)){const n=(0,u.A)(e,"data.value")||"{}";t[i]=JSON.parse(n)}else if("popupDisclaimer"==i)try{const n=(0,u.A)(e,"data.value"),r=(0,u.A)(e,"data.ext.msft.msan_data"),o=JSON.parse(r);if(!n||0===n.length)throw new TypeError("Popup disclaimer title field is empty or missing");if(!o||!o.text||0===o.text.length)throw new TypeError("Popup disclaimer text field is empty or missing");const s={title:n,text:o.text,url:o.url};t[i]=s}catch(t){(0,s.vV)(a.eN3,"Ad response with invalid popup disclaimer data",void 0,{...a.eN3.pb,customMessage:`${t&&t.message}`,ext:(0,u.A)(e,"data")})}else{const n=(0,u.A)(e,"data.value");t[i]=n}}else null!=e&&e.image||null!=e&&e.img?S(t,e):null!=e&&e.title&&x(t,e);return t},{});t.assets=n}}function k(t,e,n){var i;let r;if(e)r=t.imp[0];else{if(!t.data)return;try{r=JSON.parse(t.data)}catch(e){(0,s.vV)(a.BKY,"Invalid JSON sent to card mapper from WPO Boost",void 0,{...a.BKY.pb,customMessage:`${e&&e.message}`,wpoJson:t.data})}}const o=null===(i=T(r,!0))||void 0===i||null===(i=i.promotions)||void 0===i?void 0:i[0];return(0,c.S)()&&P(o,n),"11730609"===r.tagid?o.isProng2Promotion=!0:"11730608"==r.tagid&&(o.isProng1Promotion=!0),o}function T(t,e){if(!(t.Promotions&&t.Promotions.length>0))return;const n={promotions:[]};return e?n.promotions[0]=$(t.Promotions[0]):n.promotions=t.Promotions.map(t=>$(t)),n}function $(t){var e,n;const{images:i,longTitle:r,title:o,description:s,displayUrl:a,targetUrl:c,Beacons:u,brand:l,merchantCategory:d,actionText:f,logo:h,adScenarioType:p,rebateValue:m,minPurchaseValue:g,valueType:v,nativeAdType:w,annotation:y,scope:b,priceCurrencySymbol:S,market:x,dealPrice:C,originalPrice:k}=t,{imageUrl:T}=i&&i[0],$=1==w||8==w,A=u.map(t=>t.MIFeedbackurl),I=u.map(t=>t.MVFeedbackurl),P=u.map(t=>{var e;return null===(e=t.EventUrl)||void 0===e?void 0:e.replace("{ACTION}","click")}),_=u&&(null===(e=u[0])||void 0===e?void 0:e.FeedbackUrl),M=C||k,R=JSON.stringify({tcb:P||[]}),E=JSON.stringify({tvb:I,trb:A,e:!0,tjb:[]});return{region:"rr_amp",regionIndex:void 0,destinationUrl:c||"",imageUrl:T||"",imageUrlFallback:(null===(n=i[1])||void 0===n?void 0:n.imageUrl)||T,tagLine:r||o,logoText:a||"",clickBeacons:R||"",beaconsJson:E||"",images:i,logo:h,brand:l||"",title:o||"",category:d||"",actionText:f||"",logoUrl:null==h?void 0:h.imageUrl,adScenarioType:p,rebateValue:m,minPurchaseValue:g,valueType:v,isStoreWide:1==b,isTextAd:$,priceCurrencySymbol:S,market:x,priceTag:M||"",nativeAdType:w,isAffiliateOffer:16==w,annotation:y||"",adFeedbackUrl:_||""}}function A(t,e){if(!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.Promotions&&t.Promotions.length>e}(t))return;const n=t.Promotions[0],{images:i,longTitle:r,title:o,description:s,displayUrl:a,targetUrl:c,Beacons:u}=n,{height:l,width:d,imageUrl:f}=i[0];let h="",p="";h=l&&l.toString(),p=d&&d.toString();const m=u.map(t=>t.MIFeedbackurl),g=u.map(t=>t.MVFeedbackurl),v=u.map(t=>{var e;return null===(e=t.EventUrl)||void 0===e?void 0:e.replace("{ACTION}","click")}),w=JSON.stringify({tcb:v||[]}),y={region:"rr_amp",regionIndex:1,items:[],adServedUrls:m,visibilityUrls:g,beaconsJson:JSON.stringify({tvb:g,trb:m,e:!0,tjb:[]})},b={destinationUrl:c,imageHeight:h,imageUrl:f,imageWidth:p,title:r||o,description:s,prong2AmplifyBusinessName:a,clickBeacons:w};return y.items.push(b),y.imageHeight=h,y.imageWidth=p,y}function I(t,e,n){var i;if(!t||!t.index||!t.region)return;const{adServedUrls:o,beaconsJson:u,index:l,items:d,jsTrackerUrls:p,locale:v,privacyUrl:b,providerId:S,region:x,visibilityUrls:k,crids:T,pageType:$,feedbackUrl:A}=t,I={adServedUrls:o,beaconsJson:u,crids:T,items:[],jsTrackerUrls:p,privacyUrl:b,providerId:S,region:x,regionIndex:l,visibilityUrls:k};I.adLabelText=w(v,"",null==n?void 0:n.enableAdSponsoredText),I.isGreyAdsLabelEnabled=r.J8.includes(v);let P="",_="";return d.forEach(e=>{const{adChoicesUrl:i,adScenarioType:r,adSelectionCriteria:o,assets:u,clickBeacons:l,description:d,eventtrackers:p,imageHeight:m,imageWidth:v,imageUrl:w,originalImageHeight:b,originalImageWidth:S,sourceName:x,title:k,uniqueId:T,url:M,verificationParameters:R,ClickBeacons:E,adSelectionReason:F}=e;P=m&&m.toString(),_=v&&v.toString();const D={adChoiceIconUrl:i,adScenarioType:r,adSelectionCriteria:o,assets:u,clickBeacons:l,destinationUrl:M,description:d,feedbackUrl:A||(l||E)&&y(l??E,null==e?void 0:e.feedback_url),imageHeight:P,imageUrl:w,imageWidth:_,originalImageHeight:b&&b.toString(),originalImageWidth:S&&S.toString(),providerName:x,title:k,uniqueId:T,verificationParameters:R,eventtrackers:p},O=(0,g.ul)(o,F);if(O&&(D.advertiserDomain=O),null!=n&&n.readAdScenarioTypeFromMsnKv){var N;const e=!!r,n=null==t||null===(N=t.msft)||void 0===N?void 0:N.msn_kv,i=(0,f.E)(n),o=!(null==i||!i.adScenarioType);if(e&&!o&&(0,s.vV)(a.QQG,"adScenarioType is missing in msn_kv","",{adScenarioType:r,wpoPlacement:JSON.stringify(t),csr:(0,c.S)()}),i){const t=i.adScenarioType;r&&(D.adScenarioType=t)}}var U,L;!$||"edgechrntp"!==$&&"edgechrntpruby"!==$||(C(D,u,null==n?void 0:n.passVAXandrMigrationSignals),null!=n&&null!==(U=n.adTemplateConfig)&&void 0!==U&&U.enableVAPhase2&&null!=n&&null!==(L=n.adTemplateConfig)&&void 0!==L&&L.supportedAdScenarioTypes.includes(D.adScenarioType)&&(0,h.JX)(D,u,null==n?void 0:n.passVAXandrMigrationSignals));I.items.push(D)}),I.imageHeight=P,I.imageWidth=_,null!==m.Rb&&void 0!==m.Rb&&null!==(i=m.Rb.CurrentFlightSet)&&void 0!==i&&i.has("prg-ad-rmauctype")||(I.adAuctionType=t.adAuctionType),I}function P(t,e){if(t.beaconsJson){new p.m(e).sendBeaconForAdServed({beaconsJson:t.beaconsJson,beaconsSupportHttpPOST:t.beaconsSupportHttpPOST})}}function _(t,e){const n=[];if(e){const i=e.reduce((e,n,i)=>{const r=(0,l.A)(o.eO,t=>t===n);if(r){const n={...o.ux[r],id:i+1};var s,a;if("img"===r)n.img={w:null===(s=t.img)||void 0===s?void 0:s.w,h:null===(a=t.img)||void 0===a?void 0:a.h,...n.img};e.push(n)}return e},[]);n.push(i)}return n}const M=t=>"resriver"===t||"resinfopane"===t?t.replace("res",""):t,R=t=>new Set(t.map(t=>t.assetId)).size!==t.length?((0,s.vV)(a.WsM,"duplicate DTS config assetId",void 0,t),!1):t.every(t=>t.assetId&&t.type?Object.values(i).includes(t.type)?t.type===i.Title||void 0!==t.subTypeId||((0,s.vV)(a.WsM,"invalid DTS asset type - subTypeId is required",void 0,t),!1):((0,s.vV)(a.WsM,"invalid DTS asset type",void 0,t),!1):((0,s.vV)(a.WsM,"DTS asset.assetId or asset.type is undefined",void 0,t),!1))},51388:function(t,e,n){n.d(e,{K:function(){return r}});var i=n(86418);function r(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{Object.isExtensible(t.adoptedStyleSheets)?t.adoptedStyleSheets.push(e):t.adoptedStyleSheets=[...t.adoptedStyleSheets,e]}catch(t){(0,i.vV)("Error setting adoptedStyleSheets",34030,{id:n,sheet:e,error:null==t?void 0:t.message})}}},51518:function(t,e,n){n.d(e,{E:function(){return o}});var i=n(27261);const r=(0,n(98763).Xe)();!function(){var t;const e=null===(t=(0,i.$N)())||void 0===t||null===(t=t.match(/ems=([\d]+)/))||void 0===t?void 0:t[1];r.set(e&&parseInt(e)||5)}();const o=t=>Math.floor(101*Math.random())<=(t||r.get())},51600:function(t,e,n){n.d(e,{He:function(){return v},Ki:function(){return f},LV:function(){return p},Pz:function(){return d},Ro:function(){return h},XP:function(){return w},f5:function(){return l},oQ:function(){return b},uS:function(){return S}});var i=n(38796),r=n(7074);let o;const s="//img-s-msn-com.akamaized.net/tenant/amp/entityid/",a="//img-s.msn.cn/tenant/amp/entityid/",c="//prod-streaming-video-msn-com.akamaized.net/",u="//prod-streaming-video.msn.cn/";var l,d;!function(t){t.JPG="jpg",t.PNG="png",t.WEBP="webp"}(l||(l={})),function(t){t[t.None=0]="None",t[t.Letterbox=1]="Letterbox",t[t.Scale=2]="Scale",t[t.Stretch=3]="Stretch",t[t.Crop=4]="Crop",t[t.FocalCrop=5]="FocalCrop",t[t.FacialCrop=6]="FacialCrop"}(d||(d={}));const f=90,h="www.bing.com/th",p=new RegExp(/bing\.(com|net)\/th/),m=new RegExp(/copilot\.microsoft\.com/),g=new RegExp(/gettyimages\.com/);function v(t,e){return`${(0,i.HT)()?u:c}${t}.${e||"mp4"}`}function w(t,e){return b(((0,i.HT)()?a:s)+t,e)}const y=Math.ceil(4*Math.random())||4;function b(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&p.test(t))return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const i=x(new URL(t),e);return n&&!i.searchParams.has("pid")&&i.searchParams.set("pid","wdpv2"),i.href}catch(n){const i=x(new URL(`https://${t}`),e);return`//${i.host}${i.pathname}${i.search}`}}(t,e,n);if(t&&m.test(t))return function(t,e){const{width:n=0,height:i=0,format:r=l.JPG,crop:o=1,padding:s=0}=e;let a;try{a=new URL(t)}catch(e){return t}return a.searchParams.set("w",n.toString()),a.searchParams.set("h",i.toString()),a.searchParams.set("f",r.toString()),a.searchParams.set("c",o.toString()),a.searchParams.set("rs","1"),a.searchParams.set("p",s.toString()),a.toString()}(t,e);if(t&&g.test(t)&&n)return t;const{focalRegion:i,backgroundColor:s}=e;let{width:a=0,height:c=0,format:u=l.JPG}=e,d="";if(i){const t=k(i.x1,i.x2),e=k(i.y1,i.y2);null!=t&&null!=e&&(d+=`&x=${t}&y=${e}`)}s&&(d+=`&b=${s}`);const h=null==e.mode?6:e.mode;if(6===h&&(d+="&u=t"),e.enableDpiScaling){if(!e.devicePixelRatio)throw new Error("A valid devicePixelRatio value must be provided when DPI scaling is enabled");const t=function(t){if(C()&&o)return o;if(t<1)return null;let e=t;(0,r.A)(4*e)||(e=Math.ceil(10*e)/10);e>3&&(e=3);C()&&(o=e);return e}(e.devicePixelRatio);t&&(a=Math.round(a*t),c=Math.round(c*t))}let v=e.quality||60;return e.enableWebpFormat&&(u=l.WEBP,v=e.quality||f,t=S(t)),`${t}?w=${a}&h=${c}&q=${v}&m=${h}&f=${u}${d}`}function S(t){return t&&(0,i.HT)()&&t.indexOf(s)>=0?t.replace(s,a):t}function x(t,e){(0,i.HT)()&&(t.hostname=`ts${y}.tc.mm.bing.net`);const{width:n=0,height:r=0}=e,o=e.quality||f,s=e.crop||0===e.crop?e.crop:1;if(t.searchParams.set("w",`${n}`),t.searchParams.set("h",`${r}`),t.searchParams.set("qlt",`${o}`),t.searchParams.set("c",`${s}`),t.searchParams.set("rs","1"),e.enableDpiScaling){t.searchParams.set("dpr",`${e.devicePixelRatio}`);const n=e.padding||0;t.searchParams.set("p",`${n}`)}return t}function C(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function k(t,e){if(null!=t&&null!=e)return Math.floor((t+e)/2)}},51673:function(t,e,n){function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t||r(t,e)&&o(t,e)&&s(t,e)&&a(t,e)&&c(t,e)&&l(t,e,n)&&d(t,e)&&f(t,e)&&h(t,e)&&p(t,e)&&function(t,e){var n;return!t.uxMode||(null==e||null===(n=e.modes)||void 0===n?void 0:n.uxMode)===t.uxMode}(t,e)}function r(t,e){return!t.audienceMode||e.audienceMode===t.audienceMode}function o(t,e){if(!t.browser)return!0;if(!e.browser)return!1;const{browserType:n,version:i}=e.browser,{browserType:r,version:o}=t.browser;if(r&&r!==n)return!1;if(!o)return!0;if("string"==typeof o)return i===o;if("object"==typeof o){const t=parseInt(i);let e;for(e in o){const n=o[e];if(null!=n)switch(e){case"equals":if(t!==n)return!1;break;case"greaterThan":if(!(t>n))return!1;break;case"lessThan":if(!(t<n))return!1;break;case"notEquals":if(t===n)return!1;break;case"oneOf":if(-1===n.indexOf(t))return!1;break;default:return!1}}return!0}return!1}function s(t,e){return!t.deviceFormFactor||e.deviceFormFactor===t.deviceFormFactor}function a(t,e){return!t.domain||e.domain===t.domain}function c(t,e){return e.pageExperiments=e.pageExperiments||[],"string"!=typeof t.experimentId||0===Object.keys(t.experimentId).length||e.pageExperiments.indexOf(t.experimentId)>=0}function u(t,e){return 0===(t||"").localeCompare(e||"",void 0,{sensitivity:"accent"})}function l(t,e,n){const i=t.locale;if(!i)return!0;let r;return e.locale&&(r=n?e.locale.display:e.locale.content),!!r&&!(i.language&&!u(i.language,r.language)||i.market&&!u(i.market,r.market)||i.script&&!u(i.script,r.script))}function d(t,e){return function(t,e){if(!t)return!0;if(!e)return!1;if("string"==typeof t&&u(t,e))return!0;if("object"!=typeof t)return!1;const n=e.toLowerCase();if(t.startsWith&&!n.startsWith(t.startsWith.toLowerCase()))return!1;if(t.endsWith&&!n.endsWith(t.endsWith.toLowerCase()))return!1;if(t.equals&&!u(t.equals,e))return!1;if(t.notEquals&&u(t.notEquals,e))return!1;if(t.contains&&!n.includes(t.contains.toLowerCase()))return!1;if(t.oneOf&&-1===t.oneOf.indexOf(e))return!1;return!0}(t.ocid,e.ocid)}function f(t,e){return!t.os||e.os===t.os}function h(t,e){const n=t.pageType;if(!n)return!0;const i=e.pageType;if(!i)return!1;if("string"==typeof n)return n===i;if(n.exact&&n.exact.toUpperCase()===i.toUpperCase())return!0;if(n.segments){const t=n.segments,e=i.split("::");if(e&&e.length>0){for(const n in t){const i=parseInt(n),r=t[n];if(!r||isNaN(i)||"string"!=typeof r||i>=e.length||r.toUpperCase()!==e[i].toUpperCase())return!1}return!0}}return!1}function p(t,e){return!t.platform||e.platform===t.platform}n.d(e,{Bu:function(){return o},HB:function(){return f},Hy:function(){return a},QQ:function(){return p},SN:function(){return c},Ui:function(){return d},_P:function(){return h},c$:function(){return u},eG:function(){return r},oH:function(){return i},vk:function(){return l},xW:function(){return s}})},51787:function(t,e,n){n.d(e,{cG:function(){return f}});var i=n(12870),r=n(98216),o=n(65022),s=n(93468),a=n(84397),c=n(77246);const u={180:"101",270:"102",360:"103",540:"104",720:"105",1080:"107"};function l(t,e,n,o,s,c){var u,l,d,f,h,p,m,g;if(!t||!e)return;const v=t.target.parentElement,w=t.target.querySelector("video"),y=JSON.parse(null===(u=v.attributes["data-t"])||void 0===u?void 0:u.value).n,b=t.target.player,S=function(t){const e={AdStart:"AdPlayStarted",AdComplete:"AdPlayCompleted",EventPause:"Pause",ContentResume:"Resume",seeked:"Seek",error:"ContentError",canplay:"Canplay",canplaythrough:"Canplaythrough"};return e[t]&&(t=e[t]),a.cR[t]}(e.name),x=e.data??{PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"},C="video/mp4"===(null==b?void 0:b.currentType()),k={type:61,name:"nativeAds_"+y,ext:{videoCs:n,eventType:S,timeElasped:w.currentTime,videoFormatCode:C?Number(null==c?void 0:c.format):1006,title:o,videoDuration:null==b?void 0:b.duration(),fr:(null===i.Rb||void 0===i.Rb||null===(l=i.Rb.ClientSettings)||void 0===l?void 0:l.geo_country)+"_"+(null===i.Rb||void 0===i.Rb||null===(d=i.Rb.ClientSettings)||void 0===d?void 0:d.geo_city)+"_"+(null===i.Rb||void 0===i.Rb?void 0:i.Rb.Locale)+"_"+s,pageGroup:"",playerInstanceId:t.target.id,playType:"pb",playerTech:x.PlayerTechnology,pluginVersion:x.PlayerTechnology,size:w.clientWidth+"x"+w.clientHeight,videoPlayerType:x.VideoPlayerType,playerType:x.PlayerTechnology,playDuration:w.currentTime,inline:!1,videoUrl:null==b?void 0:b.src(),errorType:"error"===e.name?null==b||null===(f=b.error())||void 0===f?void 0:f.code:null,errorDescription:"error"===e.name?null==b||null===(h=b.error())||void 0===h?void 0:h.message:null,bandwidth:C?null:null==b||null===(p=b.tech_)||void 0===p||null===(p=p.hls)||void 0===p?void 0:p.bandwidth,throughput:C?null:null==b||null===(m=b.tech_)||void 0===m||null===(m=m.hls)||void 0===m?void 0:m.throughput,bufferWaitTime:null===(g=e.data)||void 0===g?void 0:g.bufferTime}};r.YT.sendVideoPlayEvent(k,v,!0)}function d(t,e){t&&(t.bigPlayButton&&t.bigPlayButton.el_&&t.bigPlayButton.enabled_&&(t.bigPlayButton.el_.style.display="none"),t.loadingSpinner&&t.loadingSpinner.el_&&(t.loadingSpinner.el_.style.display="none"),e&&(e.style.display="none"))}function f(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((0,c.S)()&&t&&t.items&&t.items.length>e&&t.items[e].video){const i=new DOMParser,r=function(){if(!(0,c.S)())return;if(!window.trustedTypes||!window.trustedTypes.createPolicy)return;const t=window.trustedTypePolicies||(window.trustedTypePolicies={});if(t.xmlPassThroughPolicy)return t.xmlPassThroughPolicy;const e=window.trustedTypes.createPolicy("xmlPassThroughPolicy",{createHTML:t=>t});return t.xmlPassThroughPolicy=e,e}(),a=r?r.createHTML(t.items[e].video):t.items[e].video,f=i.parseFromString(a,"application/xml"),h=t.region,p=f.getElementsByTagName("MediaFile"),m=Array.from(p).map(t=>{return{url:t.textContent,delivery:t.getAttribute("delivery"),id:t.getAttribute("id"),bitrate:Number(t.getAttribute("bitrate")),minBitrate:Number(t.getAttribute("minBitrate")),maxBitrate:Number(t.getAttribute("maxBitrate")),codec:t.getAttribute("codec"),scalable:!!Number(t.getAttribute("scalable")),maintainAspectRatio:!!Number(t.getAttribute("maintainAspectRatio")),width:Number(t.getAttribute("width")),height:Number(t.getAttribute("height")),contentType:t.getAttribute("type"),format:(e=t.getAttribute("type"),n=t.getAttribute("height"),"application/x-mpegURL"==e?"1006":u[n])};var e,n}),g=f.getElementsByTagName("Duration"),v=g.length>0?g[0].textContent:null,w=f.getElementsByTagName("Tracking"),y=Array.from(w).map(t=>({value:t.textContent,event:t.getAttribute("event"),offset:t.getAttribute("offset")})),b=f.getElementsByTagName("Ad"),S=b.length>0?Number(b[0].getAttribute("id")):null,x=f.getElementsByTagName("AdTitle"),C=x.length>0?x[0].textContent:"",k=f.getElementsByTagName("AdServingId"),T=k.length>0?k[0].textContent:"",$=f.getElementsByTagName("ClickThrough"),A=$.length>0?$[0].textContent:"",I=f.getElementsByTagName("Impression"),P=I.length>0?I[0].textContent:"",_=f.getElementsByTagName("Pricing");let M=null,R=null,E=null;_.length>0&&(M=Number(_[0].textContent),R=_[0].getAttribute("model"),E=_[0].getAttribute("currency"));let F=null,D=null;const O=T+"_"+S,N=async(t,e,n,i)=>{var r;if("telemetry"===(null==t?void 0:t.type)&&("ContentOpen"==e.name&&(F=Date.now(),D=F),l(t,e,O,C,h,i)),"error"===n)(0,s.vV)(o.G1m,null===(r=e.error())||void 0===r?void 0:r.message),l(t,{name:"error",data:{VideoDuration:v,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i);else if(F&&"canplay"===n){const e=Date.now()-F;F=null,l(t,{name:n,data:{VideoDuration:v,bufferTime:e,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i)}else if(D&&"canplaythrough"===n){const e=Date.now()-D;D=null,l(t,{name:n,data:{VideoDuration:v,bufferTime:e,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i)}},U=document.createElement("div");U.id="nativeAdVideoMask",U.className="nativeAdVideoMask-mask",U.style.cssText="position:absolute;inset:0px;background-image:var(--mask-gradient, linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0,0,0,0) 176px));display:flex;";const L=(t,e)=>{let[i,r,o,s,a,c,u,l]=[null,null,null,null,null,null,null,null],[f,p,m]=[null,null,null];const g=!!t&&t.el_&&t.el_.querySelector("#nativeAdVideoMask");if(n?(f=!!t&&t.el_&&t.el_.getRootNode().host&&t.el_.getRootNode().host.getRootNode(),p=!!f&&f.host&&f.host.parentElement&&f.host.parentElement.querySelector("native-ad-video-controls")&&f.host.parentElement.querySelector("native-ad-video-controls").shadowRoot,m=!!f&&f.host&&f.host.parentElement&&f.host.parentElement.parentElement&&f.host.parentElement.parentElement.querySelector("native-ad-video-controls")&&f.host.parentElement.parentElement.querySelector("native-ad-video-controls").shadowRoot):(p=!!t&&t.el_&&t.el_.parentElement&&t.el_.parentElement.parentElement,m=!!p&&p.parentElement,f=p||m),f&&(u=f.querySelector(".video-ad-background-img-river"),l=f.querySelector(".video-ad-background-img-infopane")),p&&(s=p.querySelector("#nativead-video-replay-button-river"),a=p.querySelector("#nativead-video-learn-more-button-river")),m&&(i=m.querySelector("#nativead-video-play-button-infopane"),r=m.querySelector("#nativead-video-replay-button-infopane"),o=m.querySelector("#nativead-video-learn-more-button-infopane"),n?c=f.host.parentElement.parentElement.querySelector(".info-pane-slide-title"):"infopane"==h&&(c=m.nextElementSibling&&m.nextElementSibling.querySelector("h3"))),e&&"ended"==e.toLowerCase()&&(s&&(s.style.display="block"),r&&(r.style.display="block"),o&&(o.style.display="block"),a&&(a.style.display="block")),t&&t.errorDisplay&&t.errorDisplay.el_&&(t.errorDisplay.el_.style.display="none"),e&&"play"==e.toLowerCase()&&(s&&(s.style.display="none"),i&&(i.style.display="none"),r&&(r.style.display="none"),o&&(o.style.display="none"),a&&(a.style.display="none"),c&&(c.style.display="none"),g&&(g.style.display="none")),e&&"error"==e.toLowerCase()&&t&&"video/mp4"==t.currentType()&&d(t,i),e&&"pause"==e.toLowerCase()&&(c&&(c.style.display=null),g&&(g.style.display="flex")),e&&"ready"==e.toLowerCase()){if(u&&(u.style.display="none"),l&&(l.style.display="none"),i){i.style.display="block";const e=t&&t.posterImage&&t.posterImage.el_;if(e){const n=e.nextSibling;t.el_.insertBefore(U,n)}}t&&!t.currentSrc()&&d(t,i)}};return{VideoPlayerProps:{posterUrl:t.items[e].imageUrl,onMessage:(t,e,n,i)=>{L(e,n),N(t,e,n,i)},videoMetadataProps:{videoSources:m},playerConfigProps:{autoplay:"river"==h,inViewPlay:"river"==h,replayWhenInView:!1,outOfViewPause:!0,inViewPlayPercentage:.5,muted:!0,disableSeek:!0,disableSeekButtons:!0,useProgressiveVideoFallback:!0}},ViewabilityProps:{Duration:v,TrackingEvents:y},VideoAdProps:{AdId:S,AdTitle:C,AdServingId:T,ClickThrough:A,Impression:P,Price:M,PricingModel:R,Currency:E}}}return null}},51947:function(t,e,n){n.d(e,{UJ:function(){return r},V$:function(){return s},ZU:function(){return a},Zc:function(){return o}});var i=n(78606);const r="rd",o="OSATE",s="OSAT",a={ver:"0.1.0",spec:{innerWidth:{clientValue:()=>window.innerWidth},innerHeight:{clientValue:()=>window.innerHeight},outerWidth:{clientValue:()=>window.outerWidth},breakpoint:{clientValue:()=>function(t,e){for(let n=e.length-1;n>=0;n--)if(t>=e[n])return n}(window.innerWidth,i.f)},locationHash:{clientValue:()=>window.location.hash},locationHref:{clientValue:()=>window.location.href},locationHost:{clientValue:()=>window.location.host},locationHostName:{clientValue:()=>window.location.hostname},locationOrigin:{clientValue:()=>window.location.origin},locationPathName:{clientValue:()=>window.location.pathname},locationProtocol:{clientValue:()=>window.location.protocol},locationSearch:{clientValue:()=>window.location.search},screenTop:{clientValue:()=>window.screenTop},screenY:{clientValue:()=>window.screenY},canUseCssGrid:{clientValue:()=>window.CSS&&window.CSS.supports&&CSS.supports("display","grid")||!1},devicePixelRatio:{clientValue:()=>window.devicePixelRatio},language:{clientValue:()=>document.documentElement.lang},direction:{clientValue:()=>document.documentElement.dir}}}},52063:function(t,e,n){n.d(e,{FM:function(){return l},JX:function(){return d},Ng:function(){return u}});var i=n(45084),r=n(65022),o=n(93468),s=n(8555),a=n(63456),c=n(87087);function u(t,e){const n=function(t){const e=["title","img","logo","providerName","disclaimer","review","workingHoursStatus","workingHoursIsOpen"];return t.filter(t=>!e.includes(t))}(Object.keys(t));if(e&&Object.keys(e).length>0){const t=n.filter(t=>t in e),i=n.filter(t=>!(t in e)),r=function(t,e){return t.sort((t,n)=>e[t]-e[n])}(t,e);return[...r,...i]}return n}function l(t,e){Object.keys(t).forEach(n=>{!(n in i.vI)||!t[n]||e&&"price"===n||(t[n]=i.vI[n](t[n]))})}function d(t,e,n){if(n){const n=e.filter(t=>{var e;return null==t||null===(e=t.data)||void 0===e||null===(e=e.ext)||void 0===e||null===(e=e.msft)||void 0===e?void 0:e.msan_data}).reduce((t,e)=>{try{const f=(0,a.A)(e,"data.type"),h=(0,s.A)(i.eO,t=>t===`data-${f}`);if(h){if((0,c.A)(e,"data.ext.msft.msan_data")){const r=(0,a.A)(e,"data.ext.msft.msan_data"),o="string"==typeof r?JSON.parse(r):r;var n;if(h==i.qy.ReviewRatingItem)t.rating=null==o||null===(n=o.va_attributes)||void 0===n?void 0:n.rank;else if(h==i.qy.WorkingHoursItem){var u;t.workingHours=null==o||null===(u=o.va_attributes)||void 0===u?void 0:u.rank}else if(h==i.qy.Callout){var l;t[(0,s.A)(i.eO,t=>t===`data-${o.callout_data_type}`)]=null==o||null===(l=o.va_attributes)||void 0===l?void 0:l.rank}else{var d;t[h]=null==o||null===(d=o.va_attributes)||void 0===d?void 0:d.rank}}}else(0,o.vV)(r.eN3,`Ad response with unrecognized data type: ${f}`,void 0,{...r.eN3.pb,customMessage:`No mapping found in assetKeyMap for data-${f}`,ext:(0,a.A)(e,"data")})}catch(n){return(0,o.vV)(r.eN3,"Ad response with invalid asset rank data",void 0,{...r.eN3.pb,customMessage:`${n&&n.message}`,assetData:(0,a.A)(e,"data")}),t}return t},{});t.assetRanks=n}else{const n=e.filter(t=>{var e;return(null==t||null===(e=t.ext)||void 0===e?void 0:e.rank)&&(null==t?void 0:t.data)}).reduce((t,e)=>{const n=(0,a.A)(e,"data.type"),r=(0,s.A)(i.eO,t=>t===`data-${n}`);return r&&(t[r]=(0,a.A)(e,"ext.rank")),t},{});t.assetRanks=n}}},52088:function(t,e,n){n.d(e,{W:function(){return u}});var i=n(98216),r=n(29231),o=n(6727),s=n(29582),a=n(47149),c=n(87440);class u{get _id(){return this.id}get _element(){return this.element}get combinedContract(){if(this.contract){const t=(this.contract.content=this.contract.content||{}).headline;this.contract.content.headline=t||(0,o.FD)(this.element)}return this.hasInheritedProperty?(0,c.A)({},this.superContract,this.contract,this.internalContract):(0,c.A)({},this.contract,this.internalContract)}get internalContract(){const{lineage:t,lineageOrdinal:e}=u.getLineage(this)||{},n=u.getInheritedProperties(this),i={placement:{id:this.id,lineage:t,lineageOrdinal:e},...n};return this.parentDOM&&this.parentDOM.id&&0!==this.parentDOM.id&&(i.placement.parentId=this.parentDOM.id,i.placement.ordinal=this.ordinal),i}constructor(t){this.hasInheritedProperty=!1,this.children=[],this.ordinal=0,this.ordinalCount=0,this.contract=t||{},this.ordinalCount=0,this.superContract={}}static addElement(t){if(!t)return;const e=this.parseContract(t);let n=this.get(t),i=!1;n&&n.id?e&&(n.contract=e):(n=new u(e),n.id=this.generateId(),this.set(t,n),i=!0);let s=t.parentElement;!s&&t.parentNode&&t.parentNode.host&&(s=t.parentNode.host);let a=s&&(0,o.QZ)(s,`[${r.i}]`),c=a&&this.get(a);return a&&!c&&((0,o.U4)("telemetrynodeadded",a),c=this.get(a)),n===c&&(a=a&&a.closest(`[${r.i}]`),c=a&&this.get(a)),n.parentDOM=c&&c!==n?c:u.getRoot(),this.inheritProperty(n),this.needUpdate=!0,i&&dispatchEvent(new CustomEvent("telemetrynodetrack",{detail:n})),n}static inheritProperty(t){if(!i.YT||!i.YT.config||i.YT.config.inheritByTraversingDOM||!t||!t.contract)return;const e=t.parentDOM&&t.parentDOM.contract,n=t.parentDOM&&t.parentDOM.superContract,r=t.contract,o=t.superContract;i.YT.config.inheritExt&&(e&&e.ext||n&&n.ext)&&(t.hasInheritedProperty=!0,o.ext={...n&&n.ext,...e&&e.ext,...r.ext})}getShouldTrackPartialContentUpdate(){if(!this.element)return!0;if(this.element.hasAttribute("data-nopartialcontentview"))return!1;var t;void 0===this.memoizedParentShouldTrackPartialContentUpdate&&(this.memoizedParentShouldTrackPartialContentUpdate=(null===(t=this.parentDOM)||void 0===t?void 0:t.getShouldTrackPartialContentUpdate())??!0);return this.memoizedParentShouldTrackPartialContentUpdate}static isObject(t){return!!t&&"object"==typeof t&&!Array.isArray(t)}static renderObject(t){return t.render()}static renderContract(t){return a.$.render(t)}static setAttribute(t,e,n){if(!t||!t.dataset)return;const i=this.renderContract(e||n&&n.contract);i&&(t.dataset.t=i[r.i])}static get(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.elementMap.get(t);if(n&&e){const e=this.parseContract(t);e&&(n.contract=e)}return n}static getLineage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:">",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(t&&t.parentDOM&&t.parentDOM!==u.root){const i=this.getLineage(t.parentDOM,e,n),{lineage:r,lineageOrdinal:o}=i||{};return{lineage:r+e+t.contract.name,lineageOrdinal:(o?o+e:"")+t.ordinal}}return t&&t.parentDOM&&t.parentDOM===u.root&&n?{lineage:t.contract.name,lineageOrdinal:`${t.ordinal}`}:{lineage:t&&t.contract.name}}catch(e){if(i.YT&&i.YT.config&&i.YT.config.logElementForLineageFailure){const{id:e,tagName:n}=t&&t.element||{};i.YT.sendAppErrorEvent({id:20203,severity:1,message:"Error while parsing lineage",pb:{customMessage:JSON.stringify({elementId:e,elementTag:n})}})}}}static getInheritedProperties(t){if(!i.YT||!i.YT.config||!t)return;const{inheritByTraversingDOM:e=!1,inheritPropertyList:n=[],memoizeInheritedProperties:r}=i.YT.config,o=e&&n;return o?r?this.getInheritedPropertiesWithMemoize(t,o):this.getInheritedPropertiesWithoutMemoize(t,o):void 0}static getInheritedPropertiesWithoutMemoize(t,e){let n=t;const i={};for(;n&&n!==u.root;){for(const t of e){const e=n.contract&&n.contract[t];void 0!==e&&(void 0===i[t]?i[t]=e:this.isObject(i[t])&&(i[t]={...e,...i[t]}))}n=n.parentDOM}return i}static getInheritedPropertiesWithMemoize(t,e){if(t.memoizedProperties)return t.memoizedProperties;const n={};for(const i of e){n[i]=t.contract[i];let e=t&&t.parentDOM;for(;e&&e!==u.root;){const t=e.memoizedProperties?e.memoizedProperties[i]:e.contract[i];if(void 0!==t&&(void 0===n[i]?n[i]=t:this.isObject(n[i])&&(n[i]={...t,...n[i]})),e.memoizedProperties)break;e=e.parentDOM}}return t.memoizedProperties=n,n}static getRoot(){return u.root}static getTelemetryObject(t){const e=this.get(t);if(e&&e.contract)return new a.$(e.contract)}static parseContract(t){try{const e=t&&t.getAttribute&&t.getAttribute(r.i);return e?this.parseAttribute(e):void 0}catch{}}static parseAttribute(t){try{const e=t&&JSON.parse(t);return this.parseMetadata(e)}catch{}}static parseMetadata(t){try{return t&&s.W.decompress(t)}catch{}}static set(t,e){e.element=t,this.elementMap.set(t,e)}static updateLayout(){if(!this.needUpdate)return;this.needUpdate=!1,this.root.ordinalCount=0;const t=(0,o.Ir)(document.documentElement);for(const e of t){let t=this.get(e);t&&t.parentDOM||((0,o.U4)("telemetrynodeadded",e),t=this.get(e)),t&&(t.ordinal=t.parentDOM?++t.parentDOM.ordinalCount:0,t.ordinalCount=0)}}static generateId(){return++this.lastId}}u.elementMap=new WeakMap,u.root=new u({name:"root"}),u.lastId=0,u.needUpdate=!1},52201:function(t,e,n){n.d(e,{v:function(){return r}});var i=n(22360);function r(t){return"string"==typeof(e=(0,i.QH)(t))?e:e.instanceSrc;var e}},52684:function(t,e,n){n.r(e),n.d(e,{abbreviateUSState:function(){return r},isNonEmptyName:function(){return s},toCamelCase:function(){return o}});const i={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","American Samoa":"AS","District of Columbia":"DC",Guam:"GU","Marshall Islands":"MH","Northern Mariana Island":"MP","Puerto Rico":"PR","Virgin Islands":"VI"};function r(t,e,n){return"US"!==n&&"us"!==n||"en-us"!==e?t:i[t]||t}function o(t,e){return t&&JSON.parse(JSON.stringify(t,function(t,n){if(n&&"object"==typeof n&&!Array.isArray(n)){const t={};for(const i in n)if(Object.hasOwnProperty.call(n,i)){t[e&&e[i]||i&&i.charAt(0).toLowerCase()+i.substring(1)]=n[i]}return t}return n}))}function s(t){return null!=t&&t.trim().length>0}},53064:function(t,e,n){n.d(e,{xf:function(){return k},U5:function(){return T}});var i=n(12870),r=n(59983),o=n(74166),s=n(28828),a=n(44369),c=n(67387),u=n(13113),l=n(76980),d=n(18287),f=n(88294),h=n(89980),p=n(15098),m=n(9701),g=n(39509),v=n(66600),w=n(7565);const y="authRecordTrail";class b{constructor(){this._localStorage=(0,h.Lg)(),this.getCompressedRecords=(0,p.L)(()=>(this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.getCompressedRecordsFromAuthTrail(this.authRecordList)))}async addAuthRecord(t,e){try{const n={time:(new Date).toISOString(),action:t,result:e,state:await this.getState()};f.v.log(`authRecord entry - ${t}: ${e}`),this.record(n)}catch(n){f.v.log(`addAuthRecord error - ${t}: ${e}`)}}record(t){if(!t)return void f.v.logError("dual-auth: authRecord is null or undefined");this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.authRecordList.push(t),this.getCompressedRecords.cache.clear();const e=this.authRecordList.slice(-10);this._localStorage.setItem(y,JSON.stringify(e))}getRecordsTail(){return this.getRecords().slice(-10)}getCompressedRecordsFromAuthTrail(t){let e={};return t?(e={a:"",r:"",s:[],t:[]},t.forEach((n,i)=>{e.a+=n.action+";",e.r+=this.getCompressedResult(n.result)+";",e.t.push(this.getTimeDiff(n.time,i>0?t[i-1].time:n.time)),e.s.push(this.getObjectDiff(n.state,i>0?t[i-1].state:n.state))}),e):e}getObjectDiff(t,e){if(!t)return{};if(t===e)return t;const n=(0,m.A)((0,g.A)(t),(0,g.A)(e),v.A);return(0,w.A)(n)}getTimeDiff(t,e){if(!t)return;if(t===e)return t;const n=new Date(t),i=n&&n.getTime(),r=e&&new Date(e),o=r&&r.getTime();return i&&o?(i-o).toString():void 0}getRecords(){return this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.authRecordList}getAuthRecordFromDisk(){if(!this._localStorage.supported)return void f.v.log("dual-auth: Local storage access is not supported");const t=this._localStorage.getItem(y);return(0,s.B)(t)||[]}}var S=n(17720),x=n(16091);class C extends b{async getState(){var t;const e=i.Rb.ClientSettings,n=(0,d.Ju)(),f=n&&(0,l.U8)(await(0,l.We)())||(null===(t=(0,r.Dm)())||void 0===t?void 0:t.account_type)||void 0,h=(0,o.Ux)(r.qM),{login_hint:p}=h&&(0,s.B)(h)||{},m=p&&0!==Object.keys(p).length;return{isSignedIn:2===(0,a.l)().getSignInState(),accountType:f,signedInAccounts:n?await this.getSignedInAccounts():void 0,storage:{aace:(0,o.Ux)(c.v1),ace:(0,o.Ux)(c.kr),als:(0,o.Ux)(c.dW,!0),child:(0,o.Ux)(c.wX),currentAccount:m,loginFlowMarker:(0,u.gV)(),logoutFlowMarker:(0,u.VH)(),editFlowMarker:(0,u.k4)(),osate:(0,o.Ux)(c.Zc)},appType:e&&e.apptype,pageType:e&&e.pagetype}}async getSignedInAccounts(){if(!await(0,d.B3)())return[-1];return(await(0,l.Is)()).map(t=>(0,l.tW)(t.username))}getCompressedResult(t){if(!t)return null;if(t.match(/\bsuccess\b/i))return"S";if(t.match(/\bfailure\b/i))return"F";{let e=t.match(/tryInitiateEarlyAuth: Finalized sign in state (\w+) from auth-(\w+)/);return e?`EarlyAuth: ${e[1]} from ${e[2]}`:(e=t.match(/initiateSSOCore: (\w+) - SSO data from the (\w+) auth flow[^]*/),e?`SSO: ${e[1]} from ${e[2]}`:t.toString())}}static getInstance(){return S.vv.get("__DualAuthRecordManagerInstance__",()=>new C)}}const k=(0,x.G)(C),T=k.getCompressedRecords},53384:function(t,e,n){n.d(e,{G2:function(){return m},KI:function(){return p},QN:function(){return h},S:function(){return v},SQ:function(){return g},hG:function(){return d},kP:function(){return f}});var i=n(67387),r=n(89980),o=n(77246),s=n(55593),a=n(12870),c=n(17254);const u="ntp.selected_feed_pivot",l="selectedPivot";function d(){h("myFeed")}function f(){var t,e;let n=null===a.Rb||void 0===a.Rb?void 0:a.Rb.SelectedFeedPivot;const i=(0,s.a)().get("selectedNavItemMock");if(i&&(n=i),(0,o.S)()){const t=(0,r.Lg)().getItem(l);n&&t!==n?h(n):n=t}const u=null===(t=n)||void 0===t?void 0:t.toLowerCase();return["myfeed","productivityhub","iframe.office","stripe.myfeed"].includes(u)||(n="myFeed",h(n)),null!==(e=(0,c.rA)())&&void 0!==e&&e.IsChinaCompliance&&"productivityhub"==u&&(n="myFeed",h(n)),n}function h(t){if(m(t),(0,o.S)()){const e="undefined"!=typeof window&&window&&window.chrome&&window.chrome.ntpSettingsPrivate;e&&e.setPref&&e.setPref(u,t)}a.Rb.SelectedFeedPivot=t,(0,r.Lg)().setItem(l,t)}function p(){return(0,r.Lg)().getItem(i.I1)}function m(t){(0,r.Lg)().setItem(i.I1,t)}function g(){return(0,r.Lg)().getItem(i.VR)??i.Cr.Init}function v(t){(0,r.Lg)().setItem(i.VR,t)}},53470:function(t,e,n){n.d(e,{k:function(){return h}});var i=n(91218),r=n(7258),o=n(88294),s=n(79426),a=n(42140),c=n(77246),u=n(45933),l=n(18284);const d=new s.e;let f;async function h(){const t=(0,u.P)();if(0===t)return void await w(!1);let e,i;const r=performance.now();try{const{telemetryValidationPackage:t}=await n.e("telemetry-validation").then(n.bind(n,57639)),r={telemetryPayloadListener:a.U},o=await t.initializePackage(r);({error:e,manager:i}=o)}catch(t){e=t}finally{f=v(r)}if(i){if(d.set(i),t>=3){const e=4===t;await i.enableUXValidation({loadToolsUX:e})}}else{var s;const t=(null===(s=e)||void 0===s?void 0:s.message)||"No error was provided.";d.setError(e=new Error(`TelemetryValidationManager initialization error: ${t}`))}e&&o.v.logError(e.message),w(!!i)}const p=async t=>await g({args:t}),m=(0,l.A)(async()=>await g({uxValidationOptions:{wholePageValidation:!0}}));async function g(t){let e,n;const o=performance.now();return await async function(t,e){const n=performance.now();try{const e=await d.getResultAsync();await t(e)}catch(t){const o=(0,r.h5)(t);e({status:"aborted",groupKey:i.y2.other.displayKey,error:o,errorString:(0,r.M5)(o),timeTaken:v(n)},v(n))}}(async i=>{!t.args&&t.uxValidationOptions&&await i.enableUXValidation(t.uxValidationOptions),({results:e,next:n}=i.getValidationResultsSync(t.args))},t=>e=[t]),{results:e,next:n,timeTaken:v(o)+(t.args?0:f)}}function v(t){return Math.round(10*(performance.now()-t))/10}async function w(t){t&&await d.getResultAsync(),window._telemetryValidationEnabled=t,window.dispatchEvent(new CustomEvent("telemetryValidationInitStatus"))}(0,c.S)()&&(window._getValidationResults=p,window._getWholePageValidationResults=m)},53626:function(t,e,n){n.d(e,{$w:function(){return s},CQ:function(){return r},WP:function(){return i},aW:function(){return a},fn:function(){return o}});const i="epdu",r="fpr",o="TTPR",s="TTVR",a="TTPV"},53685:function(t,e,n){n.d(e,{Bt:function(){return u},CS:function(){return a},Ng:function(){return c},O1:function(){return l},R0:function(){return o},S7:function(){return f},jy:function(){return m},ly:function(){return d},m6:function(){return r},oC:function(){return h},q:function(){return g},xA:function(){return i},xF:function(){return s},yE:function(){return p}});const i="TTVR",r="TTVS",o="htmlCached",s="pageRevealStart",a="protocolLaunchStart",c="FromProtocolLaunchStart",u="userAgentStart",l="FromUserAgentStart",d="PCSToJSStart",f="JSStartToOnLoad",h="TTJSStart",p="timeToOnLoad",m="timeToFirstByte",g="FCP_Old"},53709:function(t,e,n){n.d(e,{Rd:function(){return f},aL:function(){return p},fi:function(){return h}});var i=n(1732),r=n(7469),o=n(21599),s=n(98216),a=n(12870);const c="layoutPromotion",u=["msNurturingMetadataTemplate","msNurturingOnboardNTPToCE"],l={[o.z.FreOverlay]:"ntp_profile_scope_tab_functional_notification",[o.z.FeedLayoutPromotions]:"ntp_profile_scope_tab_functional_notification",[o.z.NurturingFunctional]:"ntp_profile_scope_tab_functional_notification",[o.z.NurturingPromotions]:"ntp_profile_scope_tab_functional_notification"},d={[o.R.Engaged]:"PrimaryCTA_Clicked",[o.R.Dismissed]:"DismissedCTA_Clicked",[o.R.Ignored]:"Notification_Ignored"};async function f(){const{enabled:t,disabled:e}=await(0,i.hb)();return u.every(n=>t.includes(n)||e.includes(n))}async function h(t,e){r.uq.updateCTA(t,d[e])}const p=(t,e)=>async n=>{const i=function(t,e){if(t)return l[e.placementGroup];if(e.placementId===c)return"ntp_profile_scope_tab_pure_functional_notification";let n=0;try{var i;n=parseInt((null===a.Rb||void 0===a.Rb||null===(i=a.Rb.ClientSettings)||void 0===i||null===(i=i.browser)||void 0===i?void 0:i.version)||"",10)}catch(t){}return n>=130?"ntp_profile_scope_tab_feature_campaign":l[e.placementGroup]}(!t&&!e||!!e&&void 0!==e.find(t=>n.id.indexOf(t)>-1),{placementId:n.id,placementGroup:n.priorityGroup});s.YT.addOrUpdateTmplProperty(`ovl_enp_tmp_${i}`,"1");const o=await r.uq.getToken(n.id,i);return!(null==o||!o.success)||s.YT.addOrUpdateTmplProperty(`ovl_enp_cld_${n.id}`,"1"),!(null==o||!o.success)}},53788:function(t,e,n){n.d(e,{LI:function(){return h},X1:function(){return u},ms:function(){return f},vs:function(){return a}});var i=n(79222),r=n(92502);const o=(t,e)=>n=>n>=t&&n<=e,s={start:-1/0,end:1/0},a={timeFilter:s,spanFilterFn:()=>!0,spanMapperFn:(t,e,n)=>l(t,e,n),timeMapperFn:t=>t,timeFilterFn:()=>!0},c={timeFilter:{start:1/0,end:-1/0},spanFilterFn:()=>!1,spanMapperFn:()=>{},timeMapperFn:()=>{},timeFilterFn:()=>!1};function u(t,e,n,a){let{timeFilter:c}=e;if(t&&n&&c!==s){const{start:e,end:s}=c;if(a){const o=(0,i.A)(t,{[n]:e},n),a=(0,r.A)(t,{[n]:s},n);t=t.slice(o,a)}else{const i=o(e,s);t=t.filter(t=>i(t[n]))}}return t}function l(t,e,n,i){if(null!=t&&(null!=e&&(n=e-t),null!=n&&n>=0)){if(i&&null==(t=i(t)))return;return[h(t),h(n)]}}function d(t,e){return(n,i,r)=>{if(t(n,i,r))return l(n,i,r,e)}}function f(t){if(!t)return a;const{start:e,end:n}=t;if(null==e||null==n||e>n)return c;const i=o(e,n),r=t=>h(t-e),s=function(t){const{start:e,end:n}=t;return(t,i,r)=>{if(null==t)return!1;let o;if(null!=i)o=i;else{if(null==r)return!1;o=t+r}return!(o<t)&&t<=n&&o>=e}}(t);return{timeFilter:t,spanFilterFn:s,spanMapperFn:d(s,r),timeMapperFn:r,timeFilterFn:t=>i(t)}}const h=t=>t<5?Math.round(10*t)/10:Math.round(t)},53829:function(t,e,n){n.d(e,{nB:function(){return u}});var i=n(89980);"undefined"!=typeof window&&window.location.href;const r="timestamp_",o="force_timestamp_",s="_jssMap",a="keys_",c="lastKnown_";function u(){(0,i.Lg)().supported&&((0,i.Lg)().removeSubstringKeys(c),(0,i.Lg)().removeSubstringKeys(r),(0,i.Lg)().removeSubstringKeys(o),(0,i.Lg)().removeSubstringKeys(a),(0,i.Lg)().removeSubstringKeys(s))}},54030:function(t,e,n){n.d(e,{N:function(){return s},u:function(){return a}});var i=n(47149),r=n(61522),o=n(94706);function s(){return new i.$((0,o.R)(...arguments))}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<2||!(0,r.P5)(e[e.length-1]))throw new Error("Invalid arguments");const s=e.pop(),a=(0,o.R)(...e),c=Object.assign(a,s);return new i.$(c)}},54193:function(t,e,n){var i,r;n.d(e,{p:function(){return l},Y:function(){return u}}),function(t){t[t.DTS_2u_r100_1=1]="DTS_2u_r100_1",t[t.DTS_2u_r150_2=2]="DTS_2u_r150_2",t[t.DTS_2u_r191_3=3]="DTS_2u_r191_3",t[t.DTS_2u_r201_4=4]="DTS_2u_r201_4"}(i||(i={})),function(t){t.title_main="title_main",t.img_main="img_main",t.img_logo="img_logo",t.data_callToAction="data_callToAction",t.data_providerName="data_providerName",t.data_price="data_price",t.data_disclaimer="data_disclaimer",t.data_callout_1="data_callout_1",t.data_callout_2="data_callout_2",t.data_callout_3="data_callout_3",t.data_callout_4="data_callout_4",t.data_popupDisclaimer="data_popupDisclaimer",t.data_reviewRatingItem="data_reviewRatingItem",t.data_workingHoursItem="data_workingHoursItem"}(r||(r={}));var o=n(93468),s=n(65022),a=n(693);function c(t,e,n){n&&("object"==typeof n&&(0,a.A)(n)||(t[e]=n))}function u(t,e){var n;if(!e||!t)return null;const i=e.toLowerCase();return t[(null===(n=t.regionNameMapping)||void 0===n?void 0:n[i])||i]}function l(t,e){var n;const i=u(t,e);if(null==i||null===(n=i.templates)||void 0===n||!n.length)return[];const r=[];for(const t of i.templates){const e=d(t);if(null===e)return[];r.push(e)}return r}function d(t){const e=[],n={},i={},r={},a={},u={value:1};if(!function(t,e,n,i,r){if(!h(t,"titleAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const u={required:s.required?1:0,id:a,title:{len:s.length}};c(n,a,s.lineLen),e.push(u)}return!0}(t.titleAssets,e,i,a,u))return null;if(!function(t,e,n,i,r){if(!h(t,"imageAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const u={required:s.required?1:0,id:a,img:{w:s.width,h:s.height,type:s.typeId}};c(n,a,f(s)),e.push(u)}return!0}(t.imageAssets,e,r,a,u))return null;if(!function(t,e,n,i,r){if(!h(t,"dataAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const u={required:s.required?1:0,id:a,data:{type:s.typeId}};c(u.data,"len",s.length),c(n,a,s.lineLen),e.push(u)}return!0}(t.dataAssets,e,i,a,u))return null;const[l,d]=function(t,e){if(!t||0===t.length)return[!0,[]];for(const n of t)for(const t of n.assetKeys)if(!(t in e))return(0,o.vV)(s.o1l,`Asset key '${t}' referenced in lineCountConstraints but not found in template assets. Available keys: ${Object.keys(e).join(", ")}`),[!1,[]];const n=t.map(t=>({assetkeys:t.assetKeys.map(t=>e[t]),lclimit:t.lineCountLimit}));return[!0,n]}(t.lineCountConstraints,a);if(!l)return null;c(n,"asset_linelen_map",i),c(n,"img_crop_map",r),c(n,"lc_contraints",d);const p={id:t.templateId,assets:e};return Object.keys(n).length>0&&(p.template_kv=JSON.stringify(n)),p}function f(t){const e={};return c(e,"ratio_filter_tol",t.imageFitRatioTolerance),c(e,"disable_padding",t.imageFitDisablePadding),Object.keys(e).length>0?e:null}function h(t,e){if(!t)return!0;for(const n in t)if(!Object.values(r).includes(n))return(0,o.vV)(s.o1l,`Invalid asset key '${n}' in ${e}. Valid keys: ${Object.values(r).join(", ")}`),!1;return!0}},54423:function(t,e,n){var i;n.d(e,{$:function(){return i}}),function(t){t.AFDProtocolKey="afdprotocol",t.BackfillContentDueToSSRAdsFailed="__backfillContentDueToSSRAdsFailed__",t.DelayNtpSSRFeedDuration="__DelayNtpSSRFeedDuration__",t.ErrorLogHistory="__ErrorLogHistory__",t.HydrationPromise="__hydrationPromise__",t.IsSSRWpoFeedConsumed="__isSSRWpoFeedConsumed__",t.NavEventEnabled="__navEventEnabled__",t.OriginalRequest="__originalRequest__",t.PlaceHolderResponse="__placeHolderResponse__",t.XmlBuilder2Import="__XmlBuilder2Import__",t.CustomSVGBuilder="__CustomSVGBuilder__",t.WeatherDataConnectorPromise="__WeatherDataConnectorPromise__",t.CopilotAPISupported="__CopilotAPISupported__"}(i||(i={}))},54761:function(t,e,n){var i;n.d(e,{Ar:function(){return i}}),function(t){t.eventGleam="eventGleam",t.topSites="topsites",t.layoutPromotion="layoutPromotion",t.topSitesPromotion="topsitesPromotion",t.topsitesCollapse="topsitesCollapse",t.recommendedsitesCollapse="recommendedsitesCollapse",t.bellCoachMark="bellCoachMark",t.backupRegionStatus="backupRegionStatus",t.searchBoxCollapse="searchBoxCollapse",t.followedTopics="followedTopics",t.feedContextualFeedback="feedContextualFeedback",t.wpoSignal="wpoSignal",t.animationControl="animationControl",t.pinProngCoachMark="pinProngCoachMark",t.shorelineTrigger="shorelineTrigger",t.topNavPivotsPromotion="pivotNav",t.uxMessage="uxMessage",t.widget="widget",t.edgeSignal="edgeSignal",t.isLinearFeedEnabled="IsLinearFeedEnabled"}(i||(i={}))},55593:function(t,e,n){n.d(e,{a:function(){return o}});var i=n(77246);let r;function o(){var t,e;if(!(0,i.S)())return new URLSearchParams(null===(t=window)||void 0===t?void 0:t.location.search);r||(r=new URLSearchParams(null===(e=window)||void 0===e?void 0:e.location.search));return r}},55602:function(t,e,n){n.d(e,{uC:function(){return S}});var i=n(33107),r=n(65022),o=n(93468),s=n(22360),a=n(38290),c=n(56589),u=n(34809),l=n(59545),d=n(40371),f=n(35849),h=n(18284),p=n(50130);const m={DisplayAdsWC:(0,p.Nr)("display-ads"),ViewsNativeAd:(0,p.Nr)("views-native-ad")};var g=n(77246),v=n(17720);const w="WebComponentLoader.SkippedExperience",y="WebComponentLoader.LoadedExperience",b="WebComponentLoader.ModuleLoadPromiseMap",S=(0,g.S)()?(0,h.A)(C,t=>(0,s.Dw)(t.configRef)):C,x=()=>v.vv.get(y,()=>[]);async function C(t){try{const{configRef:e,configRef:{experienceType:r}}=t;if(v.vv.get(w,()=>new Set).has(r))return;const o=(0,l.WO)(r);o&&o.shouldResolve&&await o.shouldResolve();const s=(0,i.S9)(r,t.instanceId);if((0,g.S)()||x().push(t),window.customElements.get((0,d.lKb)(r)))return void await k(e,s);const c=k(e,s),u=function(t,e){const n=v.vv.get(b,()=>({}));let r=n[t];if(r)return r;return r=(0,i.m0)(()=>a.L.loadExperience(t),"scripts",e),n[t]=r,r}(r,s),f=(await Promise.all([c,u]))[1];await async function(t,e){const i=e[t],r=e[t+"Template"];let o=e[t+"Styles"];if(!(0,g.S)()){const n=e[t+"SSRStyles"];o=n||o}const s=(0,d.lKb)(t),a=function(t,e){if(void 0!==e)return{DisplayAdsWC:(0,p.Nr)("display-ads",e),ViewsNativeAd:(0,p.Nr)("views-native-ad",e)}[t];return m[t]}(t),c=await Promise.resolve().then(n.bind(n,23837));if(c.FASTElement.define(i,{name:s,template:r,styles:o,...i.definition}),a){class t extends i{}c.FASTElement.define(t,{name:a,template:r,styles:o,...i.definition})}}(r,f)}catch(e){const n={...r.crR};(0,o.c_)(e,n,"Loading web component experience failed.",void 0,{configInfo:t})}}async function k(t,e){const n=await(0,i.m0)(()=>c.L.getConfig(t),"config",e);if(!n)return;const r=n.properties;if(!r||!r.dataConnectors||r.dataConnectors.length<=0)return;const o=e&&e.startMeasure("loadDataConnectors").endMeasure,s=u.L.getChildrenDataConnectorConfigInfos(r).map(t=>(0,f.wv)(t));await Promise.all(s),o&&o()}},56018:function(t,e,n){n.d(e,{E:function(){return i}});const i=t=>"function"==typeof window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,0)},56046:function(t,e,n){function i(t){return""}n.d(e,{C:function(){return i}})},56085:function(t,e,n){var i;function r(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();const r=null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.embeddedSearch)||void 0===n?void 0:n.newTabPage;r&&(r.logEventWithTimestamp?r.logEventWithTimestamp(t,i,e):r.logEvent(t))}n.d(e,{B:function(){return r}}),function(t){t[t.NTP_ALL_TILES_LOADED=11]="NTP_ALL_TILES_LOADED",t[t.NTP_BACKGROUND_IMAGE_LOADED=60]="NTP_BACKGROUND_IMAGE_LOADED",t[t.NTP_VISUALLY_READY=62]="NTP_VISUALLY_READY",t[t.NTP_SEARCH_BOX_VISUALLY_READY=63]="NTP_SEARCH_BOX_VISUALLY_READY",t[t.NTP_NATIVE_AD_VISUALLY_READY=64]="NTP_NATIVE_AD_VISUALLY_READY"}(i||(i={}))},56098:function(t,e,n){n.d(e,{c:function(){return l}});var i=n(90565),r=n(65022),o=n(93468),s=n(49813),a=n(79426);const c=new Map,u=new Set([s.DE,s.FL,s.DU,s.JI,s.fO,s.Mg,s.gy,s.yE]);class l{static bind(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[l.defaultOrigin]).filter(t=>"string"==typeof t&&t.length>0);if(!t||!e||!e.length)return(0,o.vV)(r.cSA,"Parent window and origin must be provided."),null;if(t===window)return(0,o.vV)(r.cSA,"Parent window cannot be the same as the current window."),null;if(c.has(t)){const n=c.get(t);return n.origin=e,n}const n=new l(t,e);return c.set(t,n),n}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.parent;return c.has(t)&&c.get(t)||null}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[l.defaultOrigin];this.fromUCSettablePromise=null,this.origin=[l.defaultOrigin],this.parent=null,this.callbacks={},this.interceptors={},this.listen=t=>{var e;if(!this.origin.includes(t.origin)||t.origin===s.Mg&&(null===(e=t.data)||void 0===e||!e.type))return;const n=this.validateMessage(t.data);if(!n||!n.type)return void(0,o.vV)(r.UfE,"Received invalid message from parent page",JSON.stringify({origin:this.origin,data:t.data}));const i=this.callbacks[n.type];if(i&&i.length>0)try{i.forEach(t=>t(n.data))}catch(t){(0,o.vV)(r.WjD,`Error with event callback for event type ${n.type}`,t instanceof Error?t.message:String(t))}},this.resolveUCPromise=(t,e)=>{var n;let i={top:0,height:0};switch(t){case"modal":i=this.getModalOverridesForUCImmersiveMode(e);break;case"cookieBanner":i={top:0,height:0}}null===(n=this.fromUCSettablePromise)||void 0===n||n.set(i)},this.parent=t,this.origin=e,window.addEventListener("message",this.listen)}cleanUp(){this.callbacks={},this.interceptors={},window.removeEventListener("message",this.listen)}validateMessage(t){if("object"!=typeof t||!t||"string"!=typeof t.type)return;const e=t.type,n=t.data;switch(e){case"onUCHeightChanged":return n&&"height"in n&&Object.keys(n).length<=3?t:void 0;case"onUCWheel":return n&&"deltaY"in n&&1===Object.keys(n).length?t:void 0;case"onUCTouchMove":return n&&"clientY"in n&&1===Object.keys(n).length?t:void 0;case"onUCImmersiveModeEntered":return n&&"innerHeight"in n&&"scrollY"in n&&Object.keys(n).length<=3?t:void 0;case"onDialogOpening":return n&&"type"in n&&"innerHeight"in n&&"scrollY"in n&&3===Object.keys(n).length?t:void 0;case"onUCImmersiveModeHeightChanged":return n&&"innerHeight"in n&&"scrollY"in n&&2===Object.keys(n).length?t:void 0;case"onUCPageDownKeyPress":case"onUCPageUpKeyPress":case"onUCDownKeyPress":case"onUCUpKeyPress":case"onUCSpaceKeyPress":case"onUCShiftSpaceKeyPress":case"onUCImmersiveModeExited":case"onUCCookieBannerModeEntered":return!n||n&&0===Object.keys(n).length?t:void 0;default:return}}intercept(t,e){Object.values(i.m2).includes(t)?this.interceptors[t]=e:(0,o.vV)(r.WjD,`Cannot intercept unknown event type ${t}`)}unintercept(t){this.interceptors[t]&&delete this.interceptors[t]}emit(t){const e=this.validateToUCMessage(t);var n,i;if(e){if(t=e,this.interceptors[t.type])try{return this.interceptors[t.type](t.data)}catch(e){(0,o.vV)(r.WjD,`Error with interceptor for event type ${t.type}`,e instanceof Error?e.message:String(e))}var s;if(this.parent)this.origin.forEach(e=>{u.has(e)&&this.parent.postMessage(t,e)});else(0,o.vV)(r.Ox9,"Post message unable to send, parent window is not defined",`Type: ${t.type} Origin list: ${null===(s=this.origin)||void 0===s?void 0:s.toString()}`)}else(0,o.vV)(r.UfE,"Attempted to send invalid message to Unified Composer",`Type: ${null===(n=t)||void 0===n?void 0:n.type} Data: ${JSON.stringify(null===(i=t)||void 0===i?void 0:i.data)}`)}validateToUCMessage(t){if("object"!=typeof t||!t||"string"!=typeof t.type)return;const e=t.type,n=t.data;switch(e){case i.m2.OnCookieBannerModeExited:case i.m2.OnFeedHeightChanged:return n&&"height"in n&&1===Object.keys(n).length?t:void 0;case i.m2.OnFeedPageScrolled:return n&&"pageYOffset"in n&&1===Object.keys(n).length?t:void 0;case i.m2.OnFeedReadyToDisplay:return!n||n&&"displayString"in n&&"market"in n&&"supported"in n&&3===Object.keys(n).length?t:void 0;case i.m2.OnTTVRMarked:return n&&"timestamp"in n&&"timeOrigin"in n&&2===Object.keys(n).length?t:void 0;case i.m2.OnCriticalErrorEncountered:return n&&"errorCode"in n&&1===Object.keys(n).length?t:void 0;case i.m2.OnFeedNavigation:return n&&"url"in n&&1===Object.keys(n).length?t:void 0;case i.m2.OnLocationDataReady:return n&&"location"in n&&1===Object.keys(n).length?t:void 0;case i.m2.OnCookieBannerModeEntering:case i.m2.OnImmersiveModeEntering:case i.m2.OnImmersiveModeExiting:case i.m2.OnImmersiveModeEntered:case i.m2.OnImmersiveModeExited:case i.m2.OnContentReload:case i.m2.OnFeedListenersReady:case i.m2.OnFeedRepositioned:return!n||n&&0===Object.keys(n).length?t:void 0;default:return}}async awaitOnce(t,e){if(this.fromUCSettablePromise)return;const n=this.resolveUCPromise.bind(this,t);this.callbacks[e]=[...this.callbacks[e]||[],n],this.fromUCSettablePromise=new a.e;const i=await this.fromUCSettablePromise.getResultAsync();return this.fromUCSettablePromise=null,this.callbacks[e]=this.callbacks[e].filter(t=>t!==n),i}on(t,e){if("function"!=typeof e)throw new Error("Callback must be a function.");this.callbacks[t]=[...this.callbacks[t]||[],e]}off(t,e){if("function"!=typeof e)throw new Error("Callback must be a function.");this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter(t=>t!==e))}offAll(t){this.callbacks[t]&&delete this.callbacks[t]}notify(t,e){this.emit({type:t,data:e})}notifyAfterRepaint(t){window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{this.emit({type:t})})})}getModalOverridesForUCImmersiveMode(t){return{top:((null==t?void 0:t.innerHeight)??0)/2+((null==t?void 0:t.scrollY)??0),height:.9*((null==t?void 0:t.innerHeight)??0)}}canAwaitUCEvent(t){return void 0===this.callbacks[t]||this.callbacks[t]&&0===this.callbacks[t].length}}l.defaultOrigin=s.DE},56201:function(t,e,n){n.d(e,{W:function(){return o},h:function(){return s}});var i=n(77195),r=n(26854);const o=()=>(0,r.qx)((t,e)=>({key:t,value:Array.isArray(e)?e:[e]})),s=t=>{const{region:e}=t;return(t=>{let{region:e}=t;return[[i.X4.PlacementRegion,e]].filter(t=>{let[e,n]=t;return n}).map(t=>{let[e,n]=t;return{key:i.u5.current[e],value:Array.isArray(n)?n:[n]}})})({region:e})}},56408:function(t,e,n){var i;n.d(e,{u:function(){return i}}),function(t){t[t.StalePage=1]="StalePage",t[t.SettingsChange=2]="SettingsChange",t[t.MuidChange=3]="MuidChange",t[t.GizmoSettingChange=4]="GizmoSettingChange",t[t.TopSites=5]="TopSites",t[t.PivotSwitch=6]="PivotSwitch",t[t.SignInStateChange=7]="SignInStateChange",t[t.MutePublisher=8]="MutePublisher",t[t.UnMutePublisher=9]="UnMutePublisher",t[t.Dislike=10]="Dislike",t[t.Like=11]="Like",t[t.Save=12]="Save",t[t.Hide=13]="Hide",t[t.KidsMode=14]="KidsMode",t[t.MarketChange=15]="MarketChange",t[t.InterestsSdCardSettingChange=16]="InterestsSdCardSettingChange",t[t.InterestsChange=17]="InterestsChange",t[t.WeatherChange=18]="WeatherChange",t[t.MoneyCardChange=19]="MoneyCardChange",t[t.Disabled=20]="Disabled"}(i||(i={}))},56485:function(t,e,n){var i;n.d(e,{M:function(){return i}}),function(t){t[t.Telemetry=0]="Telemetry",t[t.Monetization=1]="Monetization",t[t.LoadContent=2]="LoadContent",t[t.AfterLoadContent=3]="AfterLoadContent"}(i||(i={}))},56500:function(t,e,n){n.d(e,{f:function(){return A}});var i=n(65022),r=n(93468),o=n(88294);var s=n(17254),a=n(85889),c=n(67387),u=n(96592),l=n(76166),d=n(2509),f=n(74195),h=n(12870),p=n(47372),m=n(19993),g=n(74326),v=n(57759),w=n(29252),y=n(486),b=n(86948);class S{constructor(){this.cachedMetadata={}}get(t){const e=x(t);if(e)return this.cachedMetadata[e]}set(t,e){const n=x(t);n&&(this.cachedMetadata[n]=e)}}function x(t){if(t)return JSON.stringify(t)}var C=n(98216),k=n(77246),T=n(64405),$=n(77206);class A{constructor(t){this.config=t,this.responseCache=new S,this.requestPathWithoutFeedId="MSN/Feed/me",this.requestPathWithFeedId="MSN/Feed",this.requestPathForFeedLayout="MSN/FeedLayout",this.requestPathForArticleFRE="news/Feed",this.requestPathForNewsFeed="news/Feed"}async fetch(t,e){let n=this.config.initialRequest;if(t&&("homePage"===s.T3.AppType||t.feedId||!n.feedId||t.nextPageUrl||(t.feedId=n.feedId),n={...n,...t}),!n)return void C.YT.sendAppErrorEvent({...i.oxQ,message:"default OneService fetch configuration was invalid"});const f=(null==t?void 0:t.forceEnterpriseCompliance)||(0,y.wx)(),h=(0,a.zs)()?await this.getSapphireOneServiceFeedCallHeaders():await m.WR.getOneServiceFeedCallHeaders(f);if(f&&(null==h||!h[c.aS.authorization])&&(null==t||!t.forceNoAuthorization))return;const S={credentials:"include",headers:h,method:"GET"};null!=t&&t.credentialsOverride&&(S.credentials=t.credentialsOverride);const x=n.useNextPageUrl&&n.nextPageUrl,T=n.feedLayoutRequestType;let A;A=!x&&T?this.requestPathForFeedLayout:"feed"===n.query&&n.feedId||"contentconsumption"===n.query?this.requestPathForNewsFeed:n.feedId||n.entityId?this.requestPathWithFeedId:"frefeedback"===n.query||"frefeedbackneg"===n.query||"UserFre"===n.query?this.requestPathForArticleFRE:this.requestPathWithoutFeedId;const I=this.responseCache.get(n);if(this.isRequestCacheable(A)&&I)return I;const P=(0,g.J7)(A,null==t?void 0:t.overwriteBaseApiURL),_=(0,w.x5)();if(x)this.requestQueryParams=new u.m(new URL(x).search),_>0&&this.requestQueryParams.set(w.ei,_.toString()),!s.T3.SendFeedCallActivityIdInHeader&&s.T3.ActivityId&&("winWidgets"===s.T3.AppType&&this.requestQueryParams.get("activityId")||this.requestQueryParams.set("activityId",s.T3.ActivityId));else{const{ocid:t,flightData:e,overwriteFlightData:i,muidFallback:r}=n,o=2===await(0,b.XK)()?m.WR.getOneServiceParamsWithAuth(s.T3.UserId,t,!1,e,i):m.WR.getOneServiceParamsWithoutAuth(s.T3.UserId||r&&`m-${s.T3.ActivityId}`,t,!1,e,i,f,"homePage"===s.T3.AppType);this.requestQueryParams=new u.m;for(let t=0;t<o.length;t++)this.requestQueryParams.set(o[t].key,o[t].value);if(T&&!n.start)this.requestQueryParams.set("t",T);else if(!n.disableQueryType){const t=n.queryType||"myfeed";this.requestQueryParams.set("queryType",t)}if(this.requestQueryParams.set("wrapodata","false").set("DisableTypeSerialization","true").set("timeOut",`${this.getRequestTimeout(n)}`).set("contentType",n.contentType).set("$select",n.select).set("responseSchema",n.disableFlatViewResponse?p.K.CardView:p.K.FlatView),n.apiKey&&this.requestQueryParams.set("apikey",n.apiKey),n.count&&this.requestQueryParams.set("$top",`${n.count}`),n.contentId&&this.requestQueryParams.set("contentId",n.contentId),n.entityIds&&this.requestQueryParams.set("entityids",n.entityIds),n.feedProviderId&&this.requestQueryParams.set("FeedProviderId",n.feedProviderId),this.tryAddQueryInterestParams(n)||this.requestQueryParams.set("ids",n.feedId).set("query",n.query).set("entityids",n.entityId),!T&&!n.disableLocation){const t=m.WR.getLocationParams(n.latitude,n.longitude);t&&this.requestQueryParams.set(t.key,t.value)}n.start&&this.requestQueryParams.set("$skip",`${n.start}`),n.infopaneItemCount&&(this.requestQueryParams.set("infopaneCount",`${n.infopaneItemCount}`),!1===n.complexInfopaneEnabled&&this.requestQueryParams.set("cipenabled","false")),_>0&&this.requestQueryParams.set(w.ei,_.toString()),(n.useDelta||n.sessionId)&&(!1!==n.useDelta&&this.requestQueryParams.set("delta","true"),n.sessionId&&this.requestQueryParams.set("session",n.sessionId)),n.channel&&this.requestQueryParams.set("channel",n.channel),!s.T3.SendFeedCallActivityIdInHeader&&s.T3.ActivityId&&"winWidgets"===s.T3.AppType&&s.T3.ActivityIdFor1S&&this.requestQueryParams.set("activityId",s.T3.ActivityIdFor1S)}let M,R,E,F,D,O,N;"UserFre"===n.query&&this.requestQueryParams.set("entityIds",n.userFreCandidatesSetId),s.T3.SendFeedCallActivityIdInHeader&&this.requestQueryParams.delete("activityId"),s.T3.UxMode&&this.requestQueryParams.set("uxmode",s.T3.UxMode),P.search=this.requestQueryParams.toString();try{var U,L;const t=(0,k.S)()?1e4:800,e=await(0,v.w)(async()=>this.config.useFetchPromise?await(0,v.Y)(decodeURIComponent(P.href),S,t):await(0,l.hv)(decodeURIComponent(P.href),t,S),"OneServiceCardProvider.fetch");if(E=(null===(U=e.headers)||void 0===U?void 0:U.get(c.pc.traceId))||void 0,F=(null===(L=e.headers)||void 0===L?void 0:L.get(c.pc.debugId))||void 0,!e||!e.ok&&404!==e.status){D=e?e.status:null,O=e?e.statusText:null;const t=401===D?i.oPR:i.TOE;return void C.YT.sendAppErrorEvent({...t,message:e?"OneService returned error response":"OneService response was null",pb:{...t.pb,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,statusCode:D,statusText:O,traceId:E,debugId:F}}})}if(204===e.status||404===e.status)M={feedItems:[]},D=e.status,O=e.statusText,C.YT.sendAppErrorEvent({...i.zqw,message:204===e.status?"Empty non first-page response":"Empty first-page response",pb:{...i.zqw.pb,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,statusCode:D,statusText:O,traceId:E,debugId:F}}});else{if(n.rawView)return e.json();M=await e.json()}if(e.headers){const t=e.headers.get(c.pc.isStatic);if(t&&((0,w.uw)(t),C.YT.sendAppErrorEvent({...i.fTG,pb:{...i.fTG.pb,customMessage:`Request URL: ${decodeURIComponent(P.href)}`,fetchNetworkResponse:{traceId:E,debugId:F}},message:"Fell back to static content on the feeds call"})),!t){const t=e.headers.get(c.pc.digitalId);(0,d.DZ)(t)}const n=e.headers.get("ddd-tmpl");C.YT.addOrUpdateTmplString(n),R=e.headers.get("ddd-session-id"),N=C.YT.addOrUpdateIdxId(E,!1),(0,w.Ig)(F,!1)}}catch(t){return void(0,r.vV)(i.xw8,"Error while fetching OneService response",void 0,{...i.xw8.pb,customMessage:`Error: ${t}`,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,traceId:E,debugId:F}})}if(!M)return void(0,r.vV)(i.z9c,"Didn't get valid JSON from response.",void 0,{...i.z9c.pb,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,traceId:E,debugId:F}});const B=(this.requestQueryParams.get("t")||"").toLowerCase(),W="tabriver"===B||"tabs"===B,H=this.requestQueryParams.get("responseSchema"),{nextPageUrl:V,feedItems:z}=H===p.K.CardView?(0,$.Cf)(M,W,!1,N):M;if(!z)return void C.YT.sendAppErrorEvent({...i.Bx$,message:"Didn't get valid feed items list from response.",pb:{...i.Bx$.pb,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M),traceId:E,debugId:F}}});if(!z.length&&!n.start)if(n.isSearchRequest)this.trackEmptyResponseForInterestSearch(n.feedId,n.query,P.href);else if(n.feedId){const{emptyResponseFeedIds:t}=this.config.initialRequest;e||n.feedId.startsWith("Q_")||t&&t.length&&-1!==t.indexOf(n.feedId)||this.trackEmptyResponseForXFeed(n.feedId,P.href,E,F)}else n.query?this.trackEmptyResponseForQueryFeed(n.query,P.href):this.trackAppErrorHelper(i.uyY,"OneService returned an empty feed for a myfeed request.",P.href,null,null,"",D,O);if(W)if("tabriver"===B){const t=z.find(t=>"tabbedInfopane"===t.type);t&&t.subItems&&t.subItems.length||C.YT.sendAppErrorEvent({...i.hbk,pb:{...i.hbk.pb,feedData:JSON.stringify(M),fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M)}},message:"TabRiver request returned empty content for tabbed infopane card."})}else if("tabs"===B){let t=!1;t=!z.length||-1!==z.findIndex(t=>"tabbedInfopane"!==t.type||!t.subItems||!t.subItems.length),t&&C.YT.sendAppErrorEvent({...i.e4F,pb:{...i.e4F.pb,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M)}},message:"Tabs request returned empty content for one or more tabbed infopane cards."})}let j;if(z.length>=0?j={...n,nextPageUrl:V,start:(n.start||0)+n.count}:o.v.log(`River has reached end of content stream. requested: ${n.count}, received: ${z.length}`),n.postRequestGrouping){const{start:t,count:e,type:i}=n.postRequestGrouping,r={type:i,subItems:z.splice(t,e)};z.splice(t,0,r)}F&&(z.debugId=F);const q={cardMetadata:z,nextPageRequest:j,sessionId:R,feedContext:M.feed,financeMetadata:M.financeMetadata,debugId:F};return this.isRequestCacheable(A)&&this.responseCache.set(n,q),q}fetchFromWebWorker(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0;return(0,k.S)()?(0,f.H$)({id:t},e).then(t=>{const e=t.payload;if(!t.fetched||!e||!e.feedData)return null;const i=e.traceId,r=C.YT.addOrUpdateIdxId(i,!1);e.responseSchema===p.K.CardView&&(e.feedData=(0,$.Cf)(e.feedData,e.isTabbedInfopaneResponse,!1,r));const{nextPageUrl:o,feedItems:s=[]}=e.feedData;let a,c=this.config.initialRequest;if(n&&(c={...c,...n}),o&&s.length&&(a={...c,start:(c.start||0)+c.count,nextPageUrl:o}),c.postRequestGrouping){const{start:t,count:e,type:n}=c.postRequestGrouping,i={type:n,subItems:s.splice(t,e)};s.splice(t,0,i)}const u=e.debugId;return(0,w.Ig)(u,!1),{cardMetadata:s,nextPageRequest:a,sessionId:e.sessionId}}):Promise.resolve(null)}clearCache(){this.responseCache=new S}getRequestTimeout(t){const{timeoutMs:e,isSearchRequest:n,query:i,customFeedTimeoutMs:r}=t;return n&&i&&r?r:e}tryAddQueryInterestParams(t){if(!t.useVerticalAsInterest&&!t.useCategoryAsInterest)return!1;const e=(t.useVerticalAsInterest?h.Rb.ClientSettings.verticalKey:h.Rb.ClientSettings.categoryKey)||"",n=t.verticalCategoryKeyToInterestMapping[e.toLowerCase()],r=n||"news";return this.requestQueryParams.set("query",encodeURIComponent(r)).set("source",t.contentSource),n||t.useCategoryAsInterest&&!e||C.YT.sendAppErrorEvent({...i.auz,message:"Failed to get content",pb:{...i.auz.pb,customMessage:`Failed to get content for VerticalKey:${s.T3.HostPage.verticalKey} | CategoryKey:${s.T3.HostPage.categoryKey}. Loading fallback views river with ${r} content.`}}),!0}async getSapphireOneServiceFeedCallHeaders(){const t=await(0,T.U)();return t[c.aS.activityId]=s.T3.ActivityId,t.SiteName="api.msn.com",t}trackAppErrorHelper(t,e,n,i,r,o,a,c,u,l){let d="";i&&(d+=`Feed id: ${i}. `),r&&(d+=`Feed query: ${r}. `),C.YT.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:d,fetchNetworkResponse:{activityId:s.T3.ActivityId,requestUrl:n,responseJson:o,statusCode:a,statusText:c,traceId:u||void 0,debugId:l||void 0}}})}trackEmptyResponseForQueryFeed(t,e){this.trackAppErrorHelper(i.gSt,"OneService returned an empty feed for a query-powered feed. See property bag for the query.",e,null,t)}trackEmptyResponseForXFeed(t,e,n,r){this.trackAppErrorHelper(i.d7h,"OneService returned an empty feed for an x-feed page.",e,t,null,"",null,null,n,r)}trackEmptyResponseForInterestSearch(t,e,n){t?this.trackAppErrorHelper(i.QAi,"OneService returned an empty feed for a user searched xfeed.",n,t,null):this.trackAppErrorHelper(i.DB3,"OneService returned an empty feed for a user query.",n,null,e)}isRequestCacheable(t){return!this.config.cacheDisableAll&&(!this.config.cacheDisabledRequestPaths||!this.config.cacheDisabledRequestPaths.includes(t))}}A.providerName="OneService"},56541:function(t,e,n){n.d(e,{qn:function(){return m}});var i=n(87032),r=n(17254),o=n(19548),s=n(12870),a=n(77246),c=n(27261),u=n(2462),l=n(7187);class d{constructor(t,e,n,i,r){this.autoSuggestProperties=t,this.osMarket=e,this.osLanguage=n,this.requestId=i,this.isDarkMode=r}addAutoSuggest(t){if(!(0,a.S)())return!1;if(r.T3.CurrentRequestTargetScope&&"kids"===r.T3.CurrentRequestTargetScope.audienceMode)return!1;const e=this.isDisabled(),n=window[d.globalObjectName];if(n)return n.enable(!e),this.updateAutoSuggestSessionId(),!0;if(e)return!1;const i=this.getCompleteUrl(),o=(0,c.C7)(i,void 0,!0,"use-credentials");o.onload=t;return document.getElementsByTagName("head")[0].appendChild(o),!0}invokeCookieSharing(){f((0,u.Ri)(d.sharedCookieName),5)||(0,u.Ub)(d.sharedCookieName,"SID=00",365,d.cookieDomain,"/")}isDisabled(){return new RegExp("\\b"+d.cookieCrumb+"=0\\b","i").test((0,u.Ri)(d.cookieName))}updateAutoSuggestSessionId(){const t=/SID=[\da-z]+/i;if(!this.partnerSessionId){const e=(0,u.Ri)(d.sharedCookieName);if(f(e,4)){const n=e.match(t);n&&f(n[0],5)&&(this.partnerSessionId=n[0].substr(4))}}const e=window[d.globalObjectName];if(e){const t=e["sid"];"function"==typeof t&&t(this.partnerSessionId)}}getCompleteUrl(){let t="";const e=o._3.getParamsFromUrl(location.search);return e.find(t=>"autosuggest_hook"===t.key)?this.getHookUrl(e):(t=this.autoSuggestProperties.useMarketBasedUrl?this.getMarketBasedUrl():this.getUrl(),this.shouldInitializeAutoSuggestOnPageLoad()&&(t+="&onload=1"),this.isDarkMode&&(t+="&rt=1"),(0,l.isNullOrUndefined)(this.autoSuggestProperties.zeroInputItemCount)||(t+=`&zict=${this.autoSuggestProperties.zeroInputItemCount}`),this.autoSuggestProperties.disableSearchHistory&&(t+="&shdis=1"),(0,l.isNullOrUndefined)(this.autoSuggestProperties.maxItemCount)||(t+=`&itemCount=${this.autoSuggestProperties.maxItemCount}`),t)}shouldInitializeAutoSuggestOnPageLoad(){return this.autoSuggestProperties.delayBind===i.ov.Immediately||this.autoSuggestProperties.delayBind===i.ov.OnPageLoad||this.autoSuggestProperties.delayBind===i.ov.OnBusinessSearchResultsReady&&this.autoSuggestProperties.businessSearchResultsEnabled}getMarketBasedUrl(){const t=this.osMarket||"US",e=this.osLanguage||"en-US",n=this.autoSuggestProperties.partnerEndpoint||"msnedgentp",i=(0,s.Th)().Locale;let r=["https","://www.bing.com/as/init?","pt="+n,this.osLanguage?"&setlang="+e:"",this.osMarket?"&cc="+t:"","&refig="+this.requestId].join("");return"en-us"!==e.toLowerCase()&&(r+="&endpt=1"),r+=this.getFeatures(),r+=this.autoSuggestProperties.businessSearchResultsEnabled?"&msbqf=true":"&msbqf=false",this.autoSuggestProperties.disableSuggestionFetchOnEmpty&&i&&"en-us"!==i.toLowerCase()&&(r+="&dfoe=1"),r+=this.getAutosuggestWCMobile(),r}getHookUrl(t){const e="muidflt9-ismsft",n=(0,s.Th)().CurrentFlights,i=t.find(t=>"fdhead"===t.key),r=i?i.value:"",o=t.find(t=>"asinturl"===t.key),a=o&&o.value;if((n.indexOf(e)>-1||r.indexOf(e)>-1)&&a){return decodeURIComponent(a)}return this.getUrl()}getUrl(){const t=(0,s.Th)().Locale||"en-us";let e=["https","://www.bing.com/as/init?mkt=",t,"&pt=",this.autoSuggestProperties.partnerEndpoint,"&refig=",this.requestId].join("");return this.autoSuggestProperties.enableNewSnrUrl||"en-us"===t.toLowerCase()||(e+="&endpt=1"),e+=this.getAutosuggestWCMobile(),e}getFeatures(){return this.autoSuggestProperties.enableFeatures&&(this.autoSuggestProperties.features||""===this.autoSuggestProperties.features)?"&features="+this.autoSuggestProperties.features:""}getAutosuggestWCMobile(){return this.autoSuggestProperties.enableAutoSuggestforWCMobile?"&asrt=1":""}}function f(t,e){return"string"==typeof t&&(!e||t.length>=e)}d.cookieCrumb="AS",d.globalObjectName="sa_inst",d.cookieName="SRCHHPGUSR",d.sharedCookieName="_SS",d.cookieDomain="msn.com";var h=n(52088),p=n(11372);function m(t){if(!t||t.disableAutoSuggest)return;const{autoSuggestProperties:e,requestId:n,isDarkMode:r,searchBoxContext:o,startPerfMarkerHandler:s}=t,{osMarket:a,osLanguage:c,useMarketBasedUrl:u,delayBind:l,businessSearchResultsEnabled:f,cookieSharingDelayInSeconds:h}=e,p=new d(e,u&&a,u&&c,n,r);if(l===i.ov.OnUserInteraction||l===i.ov.OnBusinessSearchResultsReady&&!f){o.autoSuggestEventHandler=g.bind(o,p),o.registerAutoSuggestOnSearchEventHandler=v.bind(o,t);const e=y(o.inputRef);null==e||e.addEventListener("keyup",o.autoSuggestEventHandler),null==e||e.addEventListener("click",o.autoSuggestEventHandler)}else l!==i.ov.Immediately&&l!==i.ov.OnPageLoad&&l!==i.ov.OnBusinessSearchResultsReady||(s&&s(i.bH),o.registerAutoSuggestOnSearchEventHandler=v.bind(o,t),p.addAutoSuggest(o.registerAutoSuggestOnSearchEventHandler));1===h&&p.invokeCookieSharing()}function g(t,e){if("keyup"===e.type){const t=e.key;if("Tab"===t||"Escape"===t)return}if(t.addAutoSuggest(this.registerAutoSuggestOnSearchEventHandler)){const t=y(this.inputRef);t.removeEventListener("click",this.autoSuggestEventHandler),t.removeEventListener("keyup",this.autoSuggestEventHandler)}}function v(t){const{autoSuggestProperties:e,endPerfMarkerHandler:n,searchBoxContext:o,searchOpenInNewWindow:s,action:c,telemetryCallback:u,enableDetailLogs:l,suggestionClickCallback:d}=t,{delayBind:f}=e;if(f!==i.ov.OnUserInteraction&&f!==i.ov.OnPageLoad&&f!==i.ov.OnBusinessSearchResultsReady||n&&n(i.bH),s)return;const m=window.sj_evt,g=m&&m.fire;g&&(m.fire=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,s]=e||[];if("AS.Navigate"===i){if(!s)return;const t=y(o.formRef);if(t&&t.attributes&&t.attributes["data-t"]){let e=h.W.get(t);if(!e&&(0,a.S)()&&(window.dispatchEvent(new CustomEvent("telemetrynodeadded",{detail:{element:t}})),e=h.W.get(t)),e.contract.content.type=function(t){if(!t)return p.b5.Undefined;const e=t.toLowerCase();if("hs"===e)return p.b5.SearchHistory;if("pn"===e)return p.b5.TrendingSearch;return p.b5.AutoSuggestSearch}(s.stype),l&&!0===l){const t=s.query??"";if((0,r.rA)().isAadAccountUser){if(c&&c.startsWith("https://www.bing.com/")){let t=c;const n=s.stype??"",i=new URL(t);i.searchParams.set("astycn",n.toString()),i.searchParams.set("qltype","ccaad"),t=i.href.toString(),e.contract.overrideDestinationUrl=t}}else{let n="";if(s.url&&s.url.length>0&&s.url.startsWith("http")?n=s.url.toString():c&&c.startsWith("https://www.bing.com/")&&(n=c),n&&n.length>0){const i=new URL(n);i.searchParams.set("assgl",t.length.toString()),i.searchParams.set("qltype","ccnotaad"),i.searchParams.set("q",""),n=i.href.toString(),e.contract.overrideDestinationUrl=n}}}h.W.setAttribute(t,e.contract)}}"onSearch"===i&&(o.onAutoSuggestSuggestionClickHandler=w.bind(o,c,u,l,d),o.onAutoSuggestSuggestionClickHandler()),g.apply(o,e)})}function w(t,e,n,i){let r=t;const o=y(this.formRef);if(r){const t=(-1!==r.indexOf("?")?"&":"?")+"msnst=AS";if(r+=t,o.attributes&&o.attributes["data-t"]){const t=h.W.get(o);if(n&&!0===n){const e=t.contract.overrideDestinationUrl;if(e&&e.length>0){const t=(-1!==e.indexOf("?")?"&":"?")+"msnst=AS";r=e+t}}t.contract.overrideDestinationUrl=r,h.W.setAttribute(o,t.contract)}}e(o,p.EG.Submit,p.MS.TextSearch),null==i||i()}function y(t){return t&&t.current?t.current:t}},56589:function(t,e,n){n.d(e,{L:function(){return mt}});var i=n(33107),r=n(88294),o=n(65022),s=n(17254),a=n(15589),c=n(12870),u=n(22360),l=n(19548),d=n(76166),f=n(17720),h=n(16091),p=n(27261),m=n(77246),g=n(67536);class v extends Error{constructor(t,e){super(t),this.isNetworkFailure=e}}var w=n(98216);const y="-start",b="-end",S="CrsConfig",x="AkCrsConfig",C="FDCrsConfig",k={},T={};let $;function A(t){if(t.endsWith(y)){t=t.slice(0,t.length-6);const e={endMeasure:$&&$.startMeasure(t).endMeasure,startTime:performance.now()};return void(k[t]=e)}if(t.endsWith(b)){if(t=t.slice(0,t.length-4),k[t]){const{endMeasure:e,startTime:n}=k[t],i=Math.round(performance.now()-n);return T[t]=i,e&&e(),{name:t,timeTaken:i}}}else;}var I=n(16856),P=n(18258);const _="feature-manifests",M="loc-manifests",R="feature-configs",E="loc-configs",F="default";const D=new class{constructor(){this._mocksEnabled=!1,this._shouldInitializeMockMgrConfig=!1,this._mockConfigDictionary={},this._mocksEnabled=this.areMocksEnabled(),this._shouldInitializeMockMgrConfig&&(this._mockConfigDictionary["MockManager/default"]="MockManager/default")}get mockConfigDictionary(){return this._mockConfigDictionary}get mocksEnabled(){return this._mocksEnabled}initialize(t){if(!t)return void this.addMockQspToDictionary();const e=[];if(new URLSearchParams((0,p.iA)()).getAll("mock").forEach(t=>{t.trim().split(",").forEach(t=>{e.indexOf(t)<0&&e.push(t)})}),0===e.length)return;const n=t&&t.scenarios;for(const t in n)if(n[t]&&e.indexOf(t)>-1){n[t].forEach(t=>{const{experienceType:e,instanceSrc:n}=t.source.configLink,{experienceType:i,instanceSrc:r}=t.target.configRef;this._mockConfigDictionary[`${e}/${n}`]=`${i}/${r}`})}this.addMockQspToDictionary()}areMocksEnabled(){const t=new URLSearchParams((0,p.iA)());return this._shouldInitializeMockMgrConfig=!!t.get("mock"),this._shouldInitializeMockMgrConfig||t.getAll("item").some(t=>/^mock:/.test(t))}addMockQspToDictionary(){new URLSearchParams((0,p.iA)()).getAll("item").filter(t=>/^mock:/.test(t)).forEach(t=>{const[e,n]=t.split(":"),[i,r]=n.split("|");this._mockConfigDictionary[i]=r})}},O=/^\d{8}\.\d+$/;let N="";function U(t,e){if(!t)return;const{experienceType:n,instanceSrc:i,sharedNs:r}=t,o=[e,n,i];return r&&o.push(r),o.map(t=>t||"").join("/").toLowerCase()}function L(t){if(!t)return null;if(t.match("^shared/")){const[e,n,i,r]=t.split("/");return{experienceType:i,instanceSrc:r,sharedNs:n}}{const[e,n]=t.split("/");return{experienceType:e,instanceSrc:n}}}function B(t){const e=new Set;if(t&&t.properties)try{W(t.properties,e)}catch(t){}return e}function W(t,e){const n=t.configRef;n&&n.experienceType&&e.add(n);for(const n of Object.values(t))"object"==typeof n&&n&&W(n,e)}function H(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return;const n=(e?F:t.instanceSrc)||F;return!t.sharedNs||e?`${t.experienceType}/${n}`:`shared/${t.sharedNs}/${t.experienceType}/${n}`}function V(t,e){t&&t(e)}function z(t,e){return function(t){return t===R||t===_}(t)?j(e&&e.feature):j(e&&e.loc)}function j(t){return t===P.t.Local}function q(t,e,n){let i=!1;const r=D.mocksEnabled&&D.mockConfigDictionary&&D.mockConfigDictionary[e];let o;r&&(e=r,i=!0),o=i?"mock":t===E?"dev/loc":"prod";return`${o}/${/^shared/.test(e)?e:`${n}/${e}`}`}var G=n(91494);function J(t,e,n){return{...t,message:e||t.message,pb:n?{...t.pb,customMessage:n}:t.pb}}var K=n(36417),Q=n(693),X=n(66600);class Y{get hadNetworkError(){return this._hadNetworkError}get shouldTryFallbackResolver(){return this._shouldTryFallbackResolver}get configServiceEnabled(){return this.enableConfigService}get configServiceQueryParams(){return this.configServiceParams}get crsActivityId(){return this._crsActivityId}constructor(t){if(this.resolverEnvironment=t,this.configMap=new Map,this.enableConfigService=!0,this.skipBelowTheFold=!1,this.configPromiseMap=new Map,this._shouldTryFallbackResolver=!1,this._hadNetworkError=!1,this._shouldUseCdnFallback=!1,this._initialCrsFetch=!0,this.getCacheKeyFromConfigRef=t=>U(t,this.resolverEnvironment.appType),!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw this.enableConfigService=!1,new Error("ResolverEnvironment or configServiceParameters or targetScope does not exist.");t.segmentPlugins&&t.segmentPlugins.skipBelowTheFold&&(this.skipBelowTheFold=!0)}async initialize(){this.shouldUseConfigService(),await this.setConfigServiceParams()}async setConfigServiceParams(){var t,e;const{appType:n,configServiceParameters:i,targetScope:r}=this.resolverEnvironment,{maxDepth:o}=i;let{buildVersion:s}=i,a=`apptype=${n}`;a+=`&v=${s}`;const c=function(t,e){try{if(t&&t.pageExperiments&&t.pageExperiments.includes("prg-crsfdheadrem")&&"weather"!==e&&"finance"!==e){const e={...t};return e.pageExperiments=[],e}}catch(t){}return t}(r,n);c.modes={audienceMode:c.audienceMode||(null===(t=c.modes)||void 0===t?void 0:t.audienceMode),uxMode:null===(e=c.modes)||void 0===e?void 0:e.uxMode},a+="&targetScope="+JSON.stringify(c),o&&(a+=`&maxDepth=${o}`),this.skipBelowTheFold&&(a+="&skipBelowTheFold=true"),this.containsDevOnlyQueryParameters()&&(a+="&citem=dev:true&instance=Int1"),this.configServiceParams=a}sendPerfMarker(t){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(t)}shouldUseConfigService(){const t=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;t&&t.enableConfigService&&(this.enableConfigService="true"===t.enableConfigService)}containsDevOnlyQueryParameters(){const t=this.resolverEnvironment.queryParams;if(!t)return!1;const e=t.item;if(e&&e.length>0)return!0;if(t.citem)return!0;return!!t.pcsonly}getConfigMap(){return this.configMap}tryGetConfigSync(t){if(t){const e=this.getCacheKeyFromConfigRef(t);return this.configMap.get(e)}}async getConfig(t){const{configServiceParameters:e,targetScope:n}=this.resolverEnvironment;if(!e||!n||!t)return Promise.reject(Error("Either of configServiceParameters, targetScope or configRef is not set correctly."));if(!this.enableConfigService)return void(this._shouldTryFallbackResolver=!0);const i=this.getCacheKeyFromConfigRef(t);if(this.configMap.has(i))return this.configMap.get(i);if(this.configPromiseMap.has(i))return this.configPromiseMap.get(i);const r=new Promise(async(e,n)=>{try{this._initialCrsFetch&&this.sendPerfMarker(`${x}${y}`),await this.getConfigTreeFromCrs(t),this._initialCrsFetch&&this.sendPerfMarker(`${x}${b}`),this._shouldTryFallbackResolver&&(this._shouldUseCdnFallback=!0,this._shouldTryFallbackResolver=!1,this._initialCrsFetch&&this.sendPerfMarker(`${C}${y}`),await this.getConfigTreeFromCrs(t),this._initialCrsFetch&&this.sendPerfMarker(`${C}${b}`),this.sendAppError(J(G.mQ,"CRS-AFD Retry",`Retryring to call CRS-AFD with ConfigRef ${this.getCacheKeyFromConfigRef(t)} because Akamai call had an error.`))),this._initialCrsFetch=!1,e(this.configMap.get(i))}catch(t){this.sendAppError(J(G.yy,`Exception in getConfig for ${i}`,t)),n(t)}finally{this.configPromiseMap.delete(i)}});return this.configPromiseMap.set(i,r),r}async getConfigTreeFromCrs(t){let e="",n="";try{let i;const r=this.getCrsTimeout(),o=performance.now(),s=new Promise(n=>{i=setTimeout(()=>{const i={...G._F,pb:{...G._F.pb,errorBehavior:K.B.Fallback,isWebWorker:this.resolverEnvironment.isThisWebWorkerThread}};return this.sendAppError(J(i,"CRS fetch timeout",`ConfigRef: ${this.getCacheKeyFromConfigRef(t)}. CrsUrl: ${e||""}, timeElapsed: ${performance.now()-o}`)),n(null)},r)});e=this.generateCrsUrl(t);let a=this.tryGetConfigFromEarlyCrsPromise(t,e);a?n="Prefetch ":a=this.downloadFromCrs(e,r);const c=a.then(t=>(i&&clearTimeout(i),t)),u=await Promise.race([c,s]),l=u&&u.configs;if(!l||(0,Q.A)(l))return void(this._shouldTryFallbackResolver=!0);this._shouldTryFallbackResolver=!1,this.updateCacheUsingConfigs(l)}catch(i){this._shouldTryFallbackResolver=!0,this.sendAppError(J(G.ZM,`${n}CRS fetch network error`,`ConfigRef: ${this.getCacheKeyFromConfigRef(t)}. CrsFetchNetworkError: ${this._hadNetworkError}. Error: ${i}. CrsUrl: ${e||""}`))}}updateCacheUsingConfigs(t){for(const e in t){const n=t[e];if(n&&n.properties){const t=this.getCacheKeyFromConfigRef(L(e));this.configMap.set(t,n)}}}setDownloadFromCrsBeforeNetwork(t){this.downloadFromCrsBeforeNetwork=t}async downloadFromCrs(t,e){if(this.downloadFromCrsBeforeNetwork){const e=await this.downloadFromCrsBeforeNetwork(t);if(e)return e}const{abortableFetchCallback:n,hostHeaderOverride:i}=this.resolverEnvironment,r="afdprotocol",o=f.vv.get(r);if(o){const e=new URL(t);e.searchParams.append(r,o),t=e.toString()}const s=!(0,m.S)()&&i?{headers:{host:i}}:void 0;return(n?n(t,e,s):fetch(t)).then(e=>this.processCrsResponse(t,e)).catch(t=>this.handleCrsDownloadError(t))}handleCrsDownloadError(t){throw this._shouldTryFallbackResolver=!1,this._hadNetworkError=!0,t}processCrsResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._crsActivityId=function(t){try{if(t&&"string"==typeof t){const e=t.indexOf("|");return t.substring(0,e)}}catch(t){}return""}(e.headers.get("x-ceto-ref")||"")||function(t){try{if(t&&"string"==typeof t)return t.match(/Ref A: [A-Z0-9]+/)[0].substring(7)}catch(t){}return""}(e.headers.get("x-msedge-ref")||"")||"empty",e.ok)return e.json();const{isThisWebWorkerThread:i}=this.resolverEnvironment,r=e.headers.get("X-Crs-BuildVersion")||"",o=e.headers.get("X-Crs-Env")||"",s=e.headers.get("X-Crs-Ref")||"",a=e.headers.get("Akamai-Cache-Status")||"",c=e.headers.get("Eo-Cache-Status")||"",u=e.headers.get("x-msedge-ref")||"",l=`Url: ${t}, CRS Version: ${r}, CRS Env: ${o}, CRS Ref: ${s}, Akamai Cache: ${a}, EO Cache: ${c}`,d={...G.BQ,pb:{...G.BQ.pb,userImpacting:!0,errorBehavior:K.B.Fallback,isWebWorker:i,isEarlyFetch:n,fetchNetworkResponse:{activityId:u,statusCode:e.status}}};return this.sendAppError(J(d,"CRS returned non-200 response",l)),Promise.resolve()}generateCrsUrl(t){const e=t.sharedNs?`&sharedNs=${t.sharedNs}`:"",n=`?${`expType=${t.experienceType}&expInstance=${t.instanceSrc}${e}`}&${this.configServiceParams}`;return(this._shouldUseCdnFallback?new URL(n,this.resolverEnvironment.crsRetryBaseUrl):new URL(n,this.resolverEnvironment.configServiceParameters.configServiceBaseUrl)).toString()}sendAppError(t){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(t)}getCrsTimeout(){return(0,m.S)()||this.resolverEnvironment&&this.resolverEnvironment.isThisWebWorkerThread?1e4:3e3}tryGetConfigFromEarlyCrsPromise(t,e){if(!(0,m.S)())return null;const{crsPromise:n,crsRequestData:i}=window,r=null==i?void 0:i.url;return n&&r&&(0,X.A)(t,(0,I.G)())?(setTimeout(()=>{const t=new URL(r).search,n=new URL(e).search;n.indexOf(t)<0&&this.sendAppError(J(G.aO,"Early CRS URL is different",[t,n].toString()))},8e3),delete window.crsPromise,delete window.crsRequestData,n.then(t=>this.processCrsResponse(r,t,!0)).catch(t=>this.handleCrsDownloadError(t))):null}}var Z=n(18284);let tt=async(t,e,n,i)=>{if(!t)throw new Error("BlobFetcher.ts: Fetch Error: Relative Url is null or undefined.");const r=z(e,n)?"https://localhost.msn.com:9000/"+t:N+t.toLowerCase(),o=void 0,s=i?i(r,1e4,o):fetch(r);let a;return a=i?s.then(t=>{if(t.ok)return t.json();return i(r,1e4,o).then(t=>{if(t.ok)return t.json();throw new Error(`Non-200 response, failed to fetch 2nd time, Status: ${t.status}, StatusText: ${t.statusText}, fetch url: ${r}`)})}).catch(t=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${r}, error: ${t}.`)}):s.then(t=>{if(t.ok)return t.json();throw new Error(`Non-200 response, Status: ${t.status}, StatusText: ${t.statusText}, fetch url: ${r}`)}).catch(t=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${r}, error: ${t}.`)}),a},et=(0,m.S)()?(0,Z.A)(tt):tt;class nt{constructor(t,e,n){this.failedConfigIndexFetches=[],this.appType=t,this.configOrigins=e,(0,m.S)()&&(this.fetchAndParseConfigIndex=(0,Z.A)(this.fetchAndParseConfigIndex,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("/")})),this.resolverEnvironment=n}async fetchAndParseConfigIndex(t,e,n){const i=z(t,this.configOrigins);if(!n&&!i)return;const r=i?`${q(t,e,this.appType)}/index.json`:`${t}/${e}/index.json/${n}`;try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback;return await et(r,t,this.configOrigins,e)}catch(t){i||this.failedConfigIndexFetches.push(t)}}getFailedConfigIndexFetches(){return this.failedConfigIndexFetches}}class it{constructor(t,e,n){this.failedConfigFetches=[],this.appType=t,this.configOrigins=e,(0,m.S)()&&(this.fetchAndParseConfig=(0,Z.A)(this.fetchAndParseConfig,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("/")})),this.resolverEnvironment=n}async fetchAndParseConfig(t,e,n,i){const r=z(t,this.configOrigins);if(!i&&!r)return;const o=r?`${q(t,e,this.appType)}/${n}`:`${t}/${e}/${n}/${i}`;try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback;return await et(o,t,this.configOrigins,e)}catch(t){r||this.failedConfigFetches.push(t)}}getFailedConfigFetches(){return this.failedConfigFetches}}class rt{constructor(t,e,n){this.manifestsMap=new Map,this.appType=t,this.configOrigins=e,this.resolverEnvironment=n}async fetchAndParseManifest(t,e){if(z(t,this.configOrigins))return;const n=`${t}/${this.appType}/${e}.json`;if(!this.manifestsMap.has(t))try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback,i=await et(n,void 0,void 0,e);if(this.manifestsMap.set(t,i),(0,Q.A)(i))throw new Error(`Manifest response is ok but empty or undefined, relative url: ${n}`)}catch(e){throw this.manifestsMap.set(t,null),new Error(`ManifestService.ts: ${e}`)}return this.manifestsMap.get(t)}getConfigIndexHashedFileName(t,e){if(z(e,this.configOrigins))return;const n=`${t}/index.json`;return this.getFromManifest(n,e)}getConfigHashedFileName(t,e,n){if(z(n,this.configOrigins))return;const i=`${t}/${e}`;return this.getFromManifest(i,n)}getFromManifest(t,e){if(!this.manifestsMap||!this.manifestsMap.get(e))return;const n=this.manifestsMap.get(e);if(n&&n.fileHashes)return n.fileHashes[t.toLowerCase()];throw new Error(`ManifestService.ts: Manifest is defined but does not have fileHashes: ${t}: cacheKey snippet of manifest: ${JSON.stringify(n).substr(0,100)}`)}}var ot=n(69144),st=n(78285);function at(t,e){if((0,st.A)(t))return e}var ct=n(51673);class ut{constructor(t){if(!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw new Error("SingleConfigResolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.appType=t.appType,this.targetScope=t.targetScope,this.buildVersion=t.configServiceParameters.buildVersion,this.configOrigins=t.configOrigins,this.manifestService=new rt(this.appType,this.configOrigins,t),this.configIndexService=new nt(this.appType,this.configOrigins,t),this.configService=new it(this.appType,this.configOrigins,t)}async resolveConfigAsync(t){const e=H(t),n=H(t,!0);this.buildNumber=this.tryGetBuildNumber()||await async function(t,e){let n;const i=new URLSearchParams((0,p.iA)()).getAll("item"),r=i?i.find(t=>t&&0===t.indexOf("spalink:")):void 0;r&&(n=r.replace("spalink:","").replace("/debug",""));const o=n||t;if(!o||!e||"latest"!==o&&"rolling"!==o&&!O.test(o))throw new Error(`Arguments are incorrect. Check buildVersion: ${o} appType: ${e}`);const s=`https://assets.msn.com/bundles/v1/${e}/${o}/v?${(new Date).getTime()}`;let a;try{if(a=await fetch(s),!a||!a.ok)throw new Error(`Response not OK, Status: ${a.status}, StatusText: ${a.statusText}`);return(await a.text()).trim()}catch(t){throw new Error(`getBuildNumberAsync Fetch Url: ${s}, ${t}`)}}(this.buildVersion,this.appType);const i=this.manifestService.fetchAndParseManifest(_,this.buildNumber),r=this.manifestService.fetchAndParseManifest(M,this.buildNumber);await Promise.all([i,r]);const o=this.manifestService.getConfigIndexHashedFileName(e,_),s=this.manifestService.getConfigIndexHashedFileName(n,M),a=this.configIndexService.fetchAndParseConfigIndex(R,e,o),c=this.configIndexService.fetchAndParseConfigIndex(E,n,s),u=await Promise.all([a,c]).then(t=>({featureIndex:t[0],localizationIndex:t[1]})),l=u.featureIndex&&u.featureIndex.configs||void 0,d=u.localizationIndex&&u.localizationIndex.configs||void 0,f=[];if(this.fetchMathingConfigs(f,l,_,R,e),this.fetchMathingConfigs(f,d,M,E,n),this.fetchMathingConfigs(f,d,M,E,n,!0),0==f.length)return;return function(t){if(!t||t.length<1)return null;const e=t[0];for(let n=1;n<t.length;n++)e.properties=(0,ot.A)(e.properties,t[n].properties,at);return e}((await Promise.all(f).then(t=>t)).filter(t=>null!=t))}fetchMathingConfigs(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e&&0!=e.length&&e.forEach(e=>{if((0,ct.oH)(e.targetScope,this.targetScope,o)){const o=e.src,s=this.manifestService.getConfigHashedFileName(r,o,n);t.push(this.configService.fetchAndParseConfig(i,r,o,s))}})}getFailedFetches(){const t=[],e=this.configService.getFailedConfigFetches();e.length>0&&t.push(...e);const n=this.configIndexService.getFailedConfigIndexFetches();return n.length>0&&t.push(...n),t}get buildNumber(){return this._buildNumber}set buildNumber(t){this._buildNumber=t}tryGetBuildNumber(){return this.buildNumber?this.buildNumber:this.configOrigins.feature===P.t.Local&&this.configOrigins.loc===P.t.Production?null:this.buildVersion}}class lt{constructor(t){if(this.mergedConfigMap=new Map,this.mockManagerInitialized=!1,!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw new Error("Resolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.resolverEnvironment=t,this.appType=t.appType,this.singleConfigResolver=new ut(t)}async getConfig(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(t,this.appType),{mockManager:i}=this.resolverEnvironment;if(i.mocksEnabled&&!this.mockManagerInitialized){this.mockManagerInitialized=!0;const t={scenarios:(await this.getConfig({experienceType:"MockManager",instanceSrc:"default"})).properties.scenarios};i.initialize(t)}if(!this.mergedConfigMap.has(n)){await this.getConfigRecursive(t,e);const n=this.singleConfigResolver.getFailedFetches();n.length>0&&n.forEach(t=>{V(this.resolverEnvironment.appErrorCallback,{...G.EV,message:"Fetch failed for a config",pb:{...G.EV.pb,customMessage:`Failed fetch url: ${t}`}})})}return this.mergedConfigMap.get(n)}getConfigMap(){return this.mergedConfigMap}async getConfigRecursive(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(t,this.appType);if(n&&!this.mergedConfigMap.has(n))try{const i=await this.singleConfigResolver.resolveConfigAsync(t);if(this.mergedConfigMap.set(n,i),e){const t=B(i);if(0==t.size)return;const n=[];t.forEach(t=>{n.push(this.getConfigRecursive(t,e))}),await Promise.all(n)}}catch(t){V(this.resolverEnvironment.appErrorCallback,{...G.Co,message:"Exception in getConfig.",pb:{...G.Co.pb,customMessage:`CacheKey: ${n} / Error: ${t}`}})}}}class dt{constructor(t){if(this.resolverEnvironment=t,this.fallbackResolverCalled=!1,this.crsInitComplete=!1,this.configResolverMap=new Map,this.configResolverMapSet=!1,!t||!t.targetScope)throw new Error("ResolverEnvironment or targetScope does not exist.");var e;this.configService=new Y(t),e=t.configStaticFallbackBaseUrl,N=e,this.fallbackResolver=new lt(t)}get crsHadNetworkError(){return this.configService.hadNetworkError}get crsActivityId(){return this.configService.crsActivityId}tryGetConfigSync(t){if(t)return this.configService.tryGetConfigSync(t)||this.tryToGetFromInMemory(t)}async getConfig(t){if(this.resolverEnvironment.configOrigins.feature===P.t.Local||this.resolverEnvironment.mockManager.mocksEnabled){const e="function"==typeof this.resolverEnvironment.loggerCallback;try{const n=await this.fallbackResolver.getConfig(t);return n?Promise.resolve(n):(e&&this.resolverEnvironment.loggerCallback(`ConfigResolver: Failed to fetch configs from local configs. Config: ${U(t)}`),Promise.resolve(null))}catch(t){return e&&this.resolverEnvironment.loggerCallback(`${t.message}`),Promise.reject(t)}}if(!this.configResolverMapSet&&null!=t&&t.properties){const e=t.properties;e&&e.configs&&(this.setConfigResolverMap(e.configs),this.configResolverMapSet=!0)}const e=this.configResolverMapSet&&t?this.tryToGetFromInMemory(t):null;if(e)return e;this.crsInitComplete||(this.sendPerfMarker(`${S}${y}`),await this.initiateConfigService(),this.crsInitComplete=!0,this.sendPerfMarker(`${S}${b}`)),this.configResolverMapSet&&this.crsInitComplete&&this.sendAppError(J(G.P9,"Fallback to network call",`Config Ref ${this.getCacheKeyFromConfigRef(t)} not found in prefetched configs. Network Fallback`));const n=t?this.configService.tryGetConfigSync(t):null;return n||new Promise(async e=>{if(this.configService.shouldTryFallbackResolver){this.fallbackResolverCalled=!0;const n=await this.fallbackResolver.getConfig(t);if(n)return e(n)}else{const n=await this.configService.getConfig(t);if(n)return e(n)}return e(null)})}getConfigServiceObject(){return this.configService}async initiateConfigService(){await this.configService.initialize(),await this.configService.getConfig((0,I.G)())}sendPerfMarker(t){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(t)}setConfigResolverMap(t){for(const e in t){const n=t[e];if(n&&n.properties){const t=this.getCacheKeyFromConfigRef(L(e));this.configResolverMap.set(t,n)}}}tryToGetFromInMemory(t){const e=this.getCacheKeyFromConfigRef(t);return this.configResolverMap.get(e)}getCacheKeyFromConfigRef(t){return U(t,this.resolverEnvironment.appType)}sendAppError(t){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(t)}}const ft="__ResolverInstance__";class ht{constructor(){this.currentTargetScope=s.T3.CurrentRequestTargetScope,this.env=s.T3.Environment||a.O.prod,this.localOverrideMap={},this.isInitialized=!1,this.initializeCaching()}static getInstance(){return f.vv.get(ft,()=>new ht)}static resetResolverInstance(){const t=new ht;f.vv.set(ft,t),pt=(0,h.G)(ht)}getConfigResolver(){return this.configResolver}initializeCaching(){this.setTargetScopeAndConfigServiceParams()}setTargetScopeAndConfigServiceParams(){const{AppType:t,CurrentRequestTargetScope:e,WidgetAttributes:n}=s.T3;this.currentTargetScope=this.currentTargetScopeOverride||e;let i=[];const r=c.Rb.AppFlights;if(Array.isArray(r))i=r;else{var o;const e=n&&n.clientPerf&&n.clientPerf.shouldUsePWOnlyFlights||"distribution"===t,r=null===(o=this.currentTargetScope)||void 0===o?void 0:o.pageExperiments,s=(0,g.wV)(r,e,t);i=(0,g.Dl)(r,s)}this.scopeWithPeregrineFlights={...this.currentTargetScope,domain:n&&(0,p.VQ)()||this.currentTargetScope&&this.currentTargetScope.domain,pageExperiments:i}}initialize(t,e){if(this.isInitialized)return;var n;if(this.perfTimeline=(0,i.S9)("Resolver","Resolver",!0),n=this.perfTimeline,$=n,!s.T3.IsGitConfigs)return;const o={buildVersion:s.T3.BuildVersion,configServiceBaseUrl:s.T3.ConfigServiceBaseUrl.toString()},a=s.T3.CrsRetryBaseUrl,{pageExperiments:c}=this.currentTargetScope,u={appType:s.T3.AppType,configServiceParameters:o,targetScope:this.scopeWithPeregrineFlights,env:s.T3.Environment.toString(),featureFlags:s.T3.FeatureFlags,isThisWebWorkerThread:!1,isWebWorkerPresent:this.useWebWorkerToCache,queryParams:l._3.getParamsObj((0,p.iA)()),appErrorCallback:t,perfMarkerCallback:A,loggerCallback:r.v.log.bind(r.v),logObjectsCallback:r.v.logObjects.bind(r.v),isDebug:r.v.isDebug(),configCacheProperties:undefined,configOrigins:s.T3.ConfigOrigins,segmentPlugins:e,mockManager:D,crsRetryBaseUrl:a,disableInMemoryCache:s.T3.DisableInMemoryCache,useCachedApp:s.T3.UseCachedApp,crsDisableServerCache:s.T3.CrsDisableServerCache,abortableFetchCallback:c&&(c.includes("useabortfetch")||c.includes("prg-1sw-abtfetch"))||!(0,m.S)()?d.hv:void 0,hostHeaderOverride:s.T3.HostHeaderOverride,configStaticFallbackBaseUrl:s.T3.ConfigStaticFallbackBaseUrl};this.configResolver=new dt(u),this.isInitialized=!0}overrideCurrentRequestTargetScope(t){this.currentTargetScopeOverride=t,this.currentTargetScopeOverride&&(this.currentTargetScope=this.currentTargetScopeOverride)}overrideCurrentRequestEnvironment(t){this.env=t||a.O.prod}overrideConfig(t,e,n){if(this.env!==a.O.prod){const i="string"==typeof t?t:(0,u.Dw)(t);this.localOverrideMap[i]={experienceType:e,properties:n,typeVersion:"1.0.0",_name:"index"}}}async getRootConfig(){const t=await this.getEntryPointConfigRef();return await this.getConfig(t.configRef)}async getEntryPointConfigRef(){return(await this.getConfig((0,I.G)())).properties.rootExperience}getConfigSync(t){if(!t||!this.currentTargetScope||!s.T3.IsGitConfigs)return;const e=(0,u.Dw)(t),n=e&&this.localOverrideMap[e];if(n)return n;const i=this.configResolver&&this.configResolver.tryGetConfigSync(t);return i?{experienceType:t.experienceType,properties:i.properties||{},typeVersion:"Git",_name:e}:void 0}async getConfig(t){if(!this.currentTargetScope)return Promise.reject(new Error(`getConfig: Invalid target scope when fetching config ${JSON.stringify(t)}`));if(s.T3.IsGitConfigs){if("string"==typeof t){const e="Invalid config Id for Git configs flight";return this.resolverErrors.push({...o.cDn,message:e,pb:{...o.cDn.pb,userImpacting:!0,customMessage:t}}),Promise.reject(new Error(`${e}: ${t}`))}if(!this.configResolver){const e="Invalid configResolver object for Git configs flight";return this.resolverErrors.push({...o.dyB,message:e,pb:{...o.dyB.pb,userImpacting:!0,customMessage:JSON.stringify(t)}}),Promise.reject(new Error(`${e}: ${JSON.stringify(t)}`))}const e=(0,u.Dw)(t),n=this.localOverrideMap[e];if(n)return n;const i=this.perfTimeline&&this.perfTimeline.startMeasure("config",e).endMeasure;let r,s;try{s=this.configResolver.tryGetConfigSync(t);let e=s;if(!e){e=await this.configResolver.getConfig(t);const n=this.configResolver.crsActivityId;n&&w.YT.addOrUpdateCustomProperty("crsActivityId",n)}return e?r={experienceType:t.experienceType,properties:e.properties||{},typeVersion:"Git",_name:(0,u.Dw)(t)}:Promise.reject(new v(`Could not fetch Git config id ${JSON.stringify(t)}`,this.configResolver.crsHadNetworkError))}finally{if(i){i({customSuffix:`${e}-${(s?"memory":r&&"network")||"error"}`})}}}}useConfigService(){const t=(0,p.iA)();if(t){const e=l._3.getQueryParameterByName("enableConfigService",t);if(e)return"true"===e.toLocaleLowerCase()}return s.T3.EnableConfigService}getConfigRetrievalMaxDepth(){const t=l._3.getQueryParameterByName("maxDepth",(0,p.$N)());return t||(s.T3.FeatureFlags&&s.T3.FeatureFlags.crsMaxDepth?s.T3.FeatureFlags.crsMaxDepth:"10")}containsDevOnlyQueryParameters(){const t=(0,p.iA)(),e=l._3.getQueryParameterByName("item",t);if(e&&e.length>0)return!0;const n=l._3.getQueryParameterByName("pcsonly",t);return!!(n&&n.length>0)}getConfigTimings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s.T3.IsGitConfigs)return void Object.assign(t,T);if(!this.configTimings)return;let n=0,i=0;for(const r of this.configTimings){const o=r.experienceType.toLowerCase(),a=r.cacheFetchDuration,c=r.networkFetchDuration;("entrypoint"===o||"river"===o||"contentpreview"===o||s.T3.IsDebug||e)&&(void 0!==c&&(t["ConfigFetch."+o]=Math.round(c)),void 0!==a&&(t["ConfigCache."+o]=Math.round(a))),void 0!==a&&(n+=a),void 0!==c&&(i+=c)}n&&(t["ConfigCache.All"]=Math.round(n)),i&&(t["ConfigFetch.All"]=Math.round(i))}}let pt=(0,h.G)(ht);const mt={getRootConfig:()=>pt.getRootConfig(),getEntryPointConfigRef:()=>pt.getEntryPointConfigRef(),getConfig:t=>pt.getConfig(t),getConfigSync:t=>pt.getConfigSync(t),getConfigTimings:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pt.getConfigTimings(t,e)},getInstance:()=>pt,setTargetScopeAndConfigServiceParams:()=>pt.setTargetScopeAndConfigServiceParams(),initialize:(t,e)=>pt.initialize(t,e),overrideConfig:(t,e,n)=>pt.overrideConfig(t,e,n),overrideCurrentRequestTargetScope:t=>pt.overrideCurrentRequestTargetScope(t),overrideCurrentRequestEnvironment:t=>pt.overrideCurrentRequestEnvironment(t),initializeCaching:()=>pt.initializeCaching()}},56598:function(t,e,n){n.d(e,{a:function(){return m}});var i,r=n(59545),o=n(8092),s=n(23768),a=n(89151),c=n(89388);!function(t){t.VISUALLY_READY_WILL_FIRE="visuallyReadyWillFire",t.VISUALLY_READY_DID_FIRE="visuallyReadyDidFire",t.PAGE_REVEAL_START_WILL_FIRE="pageRevealStartWillFire",t.PAGE_REVEAL_START_DID_FIRE="pageRevealStartDidFire",t.PAGE_REVEAL_COMPLETE_WILL_FIRE="pageRevealCompleteWillFire",t.PAGE_REVEAL_COMPLETE_DID_FIRE="pageRevealCompleteDidFire"}(i||(i={}));var u=n(83542),l=n(65444);class d extends u.i{constructor(){super(...arguments),this.ttvrMarkers=[],this.getIncompleteVisualDependencies=()=>{const{visuallyReadyDependencies:t}=this.getCurrentState(),e=[];return t.forEach(t=>{t.visuallyReady||e.push(t.experienceType)}),e}}addVisuallyReadyDependencies(t){l.y.addVisuallyReadyDependencies.getActionSender(this).send(t),t.forEach(t=>{this.ttvrMarkers.push(t),(0,c.r)(t,!0)})}registerVisuallyReadyObserver(){s.m.updateVisuallyReadyTiming.registerObserver(t=>{const e=t.params[0];if(!e)return;const{experienceType:n,endTime:i}=e;if(null!=i){this.getCurrentState().visuallyReadyDependencies.has(n)&&this.markVisuallyReadyComplete(n)}})}registerMarkersIfNecessary(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(this.ttvrMarkers&&0!==this.ttvrMarkers.length||t&&0!==t.length||e&&0!==e.length))return;const i={};i.TTVR=e?[...this.ttvrMarkers,...e]:this.ttvrMarkers,t&&(i.TTF=t),n&&(i.TTPR=[...this.ttvrMarkers],i.TTPR.push("OverlayRemoval")),(0,a.Yq)(i)}registerSecondaryPerfMarkers(t){(0,a.XO)(t)}registerFeedPerfMarker(t){(0,a.VK)(t)}async markVisuallyReadyComplete(t){const{visuallyReadyDependencies:e}=this.getCurrentState();if(e.get(t).visuallyReady)return;l.y.markVisuallyReadyComplete.getActionSender(this).send(t);for(const t of e.values())if(!t.visuallyReady)return;const n=(0,r.Kl)();n&&(await(0,r.Uk)(i.VISUALLY_READY_WILL_FIRE),performance.measure("VisuallyReady"),s.m.updateAboveTheFoldVisuallyReady.getActionSender(n).send(performance.now()),await(0,r.Uk)(i.VISUALLY_READY_DID_FIRE))}}var f=n(17254),h=n(84855),p=n(43820);class m extends d{async initialize(t){var e;const{deviceFormFactor:n,pageExperiments:i}=(null===f.rA||void 0===f.rA||null===(e=(0,f.rA)())||void 0===e?void 0:e.CurrentRequestTargetScope)||{},{isWaterfallDep:a,isRubyMode:c,disableFeed:u}=t||{},l="phone"===n,d=[];l?d.push(h.u1j):(a||null!=i&&i.includes("prg-hp-cmnhdr")?d.push(h.iRp):d.push(h.NJc),a?-1!==location.pathname.indexOf("/personalize")?d.push(h.ve9):u||-1===location.pathname.indexOf("/interest/following")?-1!==location.pathname.indexOf("/navigation_page")?d.push(h.$K6):u||d.push(h.HPc):d.push(h.jCw):d.push(h.p_1)),this.addVisuallyReadyDependencies(d);const m=(0,r.Kl)(),g=[];if(m){const t={eventType:o.R$.aboveTheFoldVisuallyReady},e=[];l?(e.push((0,r.it)(t,h.c$z)),e.push((0,r.it)(t,h.e19))):(a||(e.push((0,r.it)(t,h.B7r)),e.push((0,r.it)(t,h.IRE)),e.push((0,r.it)(t,h._1i))),e.push((0,r.it)(t,h.eYr)),e.push((0,r.it)(t,h.QpX)),e.push((0,r.it)(t,h.Ben)),e.push((0,r.it)(t,h.DXU)),e.push((0,r.it)(t,h.rV4)),e.push((0,r.it)(t,h.JID)),e.push((0,r.it)(t,h.Urf)),e.push((0,r.it)(t,h.TOK)),e.push((0,r.it)(t,h.s1n)),e.push((0,r.it)(t,h.ZL8)),e.push((0,r.it)(t,h.zeO)),e.push((0,r.it)(t,h.Zj5)),e.push((0,r.it)(t,h.ikz)),e.push((0,r.it)(t,h.q8j)),e.push((0,r.it)(t,h.MEK)),e.push((0,r.it)(t,h.Cfy)),e.push((0,r.it)(t,h.e1W)),e.push((0,r.it)(t,h.wxC)),e.push((0,r.it)(t,h.dnU)),e.push((0,r.it)(t,h.Kt8)),e.push((0,r.it)(t,h.QtQ)),e.push((0,r.it)(t,h.jRe)),e.push((0,r.it)(t,h.c$z)),e.push((0,r.it)(t,h.PIH)),e.push((0,r.it)(t,h.PvQ)),e.push((0,r.it)(t,h.cpF)),e.push((0,r.it)(t,h.rWZ)),e.push((0,r.it)(t,h.$mD)),e.push((0,r.it)(t,h.FEr))),s.m.updateExperienceLoadDeferralState.getActionSender(m).send(e)}l||(g.push("TTNativeAd.Request"),g.push("NAdFetch"),g.push("TTNativeAd.Response"),a&&c&&(0,p.AO)((0,p.$q)(location.href))||g.push("TTVR.MeStripe"),this.registerSecondaryPerfMarkers(g)),this.registerVisuallyReadyObserver(),this.registerMarkersIfNecessary()}}},56639:function(t,e,n){n.d(e,{Mo:function(){return a},cE:function(){return l},s_:function(){return s},vk:function(){return f}});var i=n(77246),r=n(17720);const o="__SapphireUserInformation__",s=()=>r.vv.get(o,()=>null),a=t=>{r.vv.set(o,t)},c="__SapphireSSRUserConfig__",u="__SapphireUserConfig__",l=t=>(0,i.S)()?r.vv.get(u,()=>t):(0,i.S)()?null:r.vv.get(c,()=>null),d="__SapphireUserConfigReady__",f=()=>r.vv.get(d,()=>!1)},57226:function(t,e,n){n.d(e,{EO:function(){return s},PJ:function(){return a},aM:function(){return r},en:function(){return o},sE:function(){return i}});const i=[0,1,2,3,4,5,6],r=[1,2,3,4,5,6,0];const o=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=i.length,s=function(t,e){return new Date(t,e,0).getDate()}(t,e),a=new Date(t,e-1,1);if(r)return[a,new Date(t,e-1,s)];let c=a.getDay();const u=s+c,l=u%o;let d=l?o-l:0;d=u+d>=5*o?d:d+o,n&&(c>0?(c-=1,d+=1):(c+=6,d+=1));return[new Date(t,e-1,1-c),new Date(t,e-1,s+d)]},s=(t,e)=>e?`${t.getFullYear()}${`0${t.getMonth()+1}`.slice(-2)}${`0${t.getDate()}`.slice(-2)}`:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`,a=(t,e)=>{if(!t)return null;try{const n=t.split("-");if(!Array.isArray(n)||3!=n.length)return null;const i=o(Number(n[0]),Number(n[1]),e);return Array.isArray(i)&&2==i.length?[s(i[0],!0),s(i[1],!0)]:null}catch{return null}}},57717:function(t,e,n){n.d(e,{X9:function(){return C},fe:function(){return b},Xt:function(){return x}});var i,r,o,s=n(21599),a=n(68614),c=n(93468),u=n(65022),l=n(19548);function d(t,e){return l._3.getQueryParameterByName(t,e)||l._3.getQueryParameterByName(t.toLowerCase(),e)}!function(t){t.IrisCoachmark="iris-coachmark",t.IrisHorizontalBanner="iris-horizontal-banner",t.AmplifyCoachmark="amplify-coachmark",t.AmplifyHorizontalBanner="amplify-horizontal-banner"}(i||(i={})),function(t){t.LocalStore="local-store",t.PersistentStore="persistent-store"}(r||(r={})),function(t){t.Individual="individual",t.Group="group"}(o||(o={}));var f=n(87405),h=n(16611);class p{constructor(){this._placementsSurfaceMap={}}addPlacements(t){t&&t.length&&t.forEach(t=>{const e=t.surfaceModel.surfaceType,n=this._placementsSurfaceMap[e];n?n.push(t):this._placementsSurfaceMap[e]=[t]})}getPlacementsBySurface(t){const{surfaceType:e,supportedContentTypes:n}=t,i=this._placementsSurfaceMap[e];if(i&&i.length)return i.filter(t=>n.includes(t.contentModel.contentType))}}var m=n(79426);class g{addSurface(t,e){t&&e&&(this.addSurfaceToRegistry(t,e),this.resolveSurfaceRegistryPromise(t.surfaceType),this._surfacesRegisteredCallback([t]))}async waitForSurfaceRegistered(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;const n=t.surfaceModel.surfaceType,i=this.getSurfaceRegistryPromise(n);return await Promise.race([i.getResultAsync(),new Promise(t=>setTimeout(()=>t(!1),e))]),!!i.wasSet()||((0,c.vV)(u.N5T,`Timeout waiting for surface type: ${n} to be registered`),!1)}getSurfaceCallbackForPlacement(t){const e=t.surfaceModel.surfaceType,n=this._surfaceRegistry[e];if(!n)return;return n[t.contentModel.contentType]}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._surfacesRegisteredCallback=t,this._expectedSurfaces=e,this._surfaceRegistry={},this._surfaceRegistryStatusMap={}}addSurfaceToRegistry(t,e){const{surfaceType:n,supportedContentTypes:i}=t;i.forEach(t=>{const i=this._surfaceRegistry[n];i?i[t]=e:this._surfaceRegistry[n]={[t]:e}})}getSurfaceRegistryPromise(t){return this._surfaceRegistryStatusMap[t]||(this._surfaceRegistryStatusMap[t]=new m.e),this._surfaceRegistryStatusMap[t]}resolveSurfaceRegistryPromise(t){this.getSurfaceRegistryPromise(t).set()}}var v=n(98216),w=n(59545);const y={Default:s.z.NurturingPromotions,Functional:s.z.NurturingFunctional,FeedLayout:s.z.FeedLayoutPromotions};class b{getInteractions(){return this._interactionsTracker.getPlacementsInteractions()}registerSurface(t,e){const{surfaceType:n,supportedContentTypes:i}=t||{};n&&i.length&&e?this._surfaceRegistry.addSurface(t,e):(0,c.vV)(u.Jjk,"Surface Type, Supported Content Types or Surface Callback are not provided.")}constructor(t,e,n,i){this._placementProviders=t,this._interactionsTracker=e,this._rules=n,this._extensionContext=i,this._placementRegistry=new p,this._surfaceRegistry=new g(this.onSurfacesRegistered.bind(this),null==i?void 0:i.expectedSurfaces),this.initializeProviders().then(()=>{this.waitToProcess().then(()=>{v.YT.addOrUpdateTmplProperty("nf_process_s",Date.now()+""),(0,a.I1)().then(t=>{t.startProcessing()})})})}waitToProcess(){var t;const e=[(0,h.e1)(),(0,w.Qc)()],n=(null===(t=this._extensionContext)||void 0===t?void 0:t.waitedElements)||[];if(n.length){const t=n.map(t=>(0,f.TW)(t));e.push(...t)}return Promise.all(e)}async initializeProviders(){this._placementProviders.filter(t=>null==t?void 0:t.subscribeForPlacementStream).forEach(t=>t.subscribeForPlacementStream(t=>this.onPlacementsReceived([t])));const t=this._placementProviders.filter(t=>null==t?void 0:t.getAvailablePlacements).map(t=>t.getAvailablePlacements()),e=(await Promise.all(t)).flat();this.onPlacementsReceived(e)}onPlacementsReceived(t){var e;null!=t&&t.length&&(t.forEach(t=>{t.interactionEvent.addEventListener(e=>{var n,i;null===(n=this._extensionContext)||void 0===n||null===(i=n.onPlacementInteraction)||void 0===i||i.call(n,t,e),this._interactionsTracker.logPlacementInteraction(t.id,e)}),t.interactionEvent.dispatchEvent({type:"Served",ts:Date.now()})}),null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue||this._placementRegistry.addPlacements(t),this.enqueuePlacementsForProcessing(t))}onSurfacesRegistered(t){var e;if(null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue)return;const n=t.flatMap(t=>this._placementRegistry.getPlacementsBySurface(t)||[]);n.length&&this.enqueuePlacementsForProcessing(n)}enqueuePlacementsForProcessing(t){const e=t.map(t=>{var e;if(null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue||this._surfaceRegistry.getSurfaceCallbackForPlacement(t))return{id:t.id,evaluator:async()=>{var e;if(await(0,h.mU)(),null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue){if(!await this._surfaceRegistry.waitForSurfaceRegistered(t)||!this._surfaceRegistry.getSurfaceCallbackForPlacement(t))return!1}return await this.evaluatePlacement(t)},display:async()=>await this.sendPlacementToSurface(t,this._surfaceRegistry.getSurfaceCallbackForPlacement(t)),priorityGroup:y[t.group]}}).filter(t=>!!t);(0,a.I1)().then(t=>{t.enqueuePlacements(e)})}async evaluatePlacement(t){const e=function(){const t=d("ignoreNurturingPlacementRules",window.location.search);return t?t.split(",").map(t=>t.trim()):[]}(),n=await this._interactionsTracker.getPlacementsInteractions(),i=Object.keys(n).map(t=>({placementId:t,interactionsCount:n[t].length}));if(v.YT.addOrUpdateTmplProperty("nf_cache_interactions",i.map(t=>{let{placementId:e,interactionsCount:n}=t;return`${e}_${n}`}).join(",")),function(t){const e=(t.locationAccuracyRevIP||[]).slice(-3).map(t=>`${t.type}_${t.ts}`).join(",");v.YT.addOrUpdateTmplProperty("nf_cache_interaction_locationAccuracyRevIP",e)}(n),!e.includes(o.Individual))for(const e of t.getPlacementRules()){if(!await e(t,n))return v.YT.addOrUpdateTmplProperty(`nf_log_failed_ppir_${t.id}`,(new Date).getTime()+""),!1}if(!e.includes(o.Group)){const e=this._rules[t.group]||[];for(const i of e){if(!await i(t,n))return v.YT.addOrUpdateTmplProperty(`nf_log_failed_ppgr_${t.id}`,(new Date).getTime()+""),!1}}const r=function(){const t=d("filterNurturingPlacements",window.location.search);return t?t.split(",").map(t=>t.trim()):[]}();return!(("1"===d("vptest",window.location.search)||null!=r&&r.length)&&!r.includes(t.id))}async sendPlacementToSurface(t,e){const n=new m.e;let i,r;t.interactionEvent.addEventListener(async t=>{"Hidden"!==t.type&&(r=t.type),t.followUpPlacementPromise&&(i=t.followUpPlacementPromise),"Hidden"===t.type&&(await i,n.set(r||"Viewed"))}),e(t);const o=await n.getResultAsync(),a=await i,c=a&&this._surfaceRegistry.getSurfaceCallbackForPlacement(a);if(a&&c)return await this.sendPlacementToSurface(a,c);switch(o){case"Engaged":return s.R.Engaged;case"Dismissed":case"Closed":return s.R.Dismissed;default:return s.R.Ignored}}}const S=new m.e,x=t=>S.set(t),C=async()=>S.getResultAsync()},57759:function(t,e,n){n.d(e,{Y:function(){return y},w:function(){return b}});var i=n(76166),r=n(65022),o=n(59448),s=n(98216),a=n(77246);class c{constructor(t,e,n,i,r,s,u){if(!t)throw new Error("loggingService is required for ExponentialBackoffRetry.");const l=new o.L(t);this.logInvalidParams(l,e,n,i,r,u),this.loggingService=t,this.maxRetries=e||c.defaultMaxRetries,this.baseRetryDelayInMs=n||c.defaultBaseRetryDelayInMs,this.maxRetryDelayInMs=i||c.maxAllowedRetryDelayInMs,this.factor=r||c.defaultFactor,this.minOffsetInMs=s||c.defaultMinOffsetInMs,this.maxOffsetInMs=u||c.defaultMaxOffsetInMs,(0,a.S)()&&this.loggingService.infoCallback(()=>"ExponentialBackoffRetry has been configured.",null,{maxRetries:e,minTimeout:n,maxTimeout:i,factor:r})}async executeRequest(t,e,n,i,r,o){return new Promise(async(s,a)=>{await this.tryRequest(t,s,a,0,e,n,i,r,o)})}logInvalidParams(t,e,n,i,r,o){e&&(e<1||e>c.maxAllowedRetries)&&t.fatal(`maxRetries should be at least 1 and less than ${c.maxAllowedRetries}.`),n&&n<c.defaultBaseRetryDelayInMs&&t.fatal("baseRetryDelay has to be a positive value greater than or equal to 100."),n&&o&&n<=o&&t.fatal("baseRetryDelay must not be smaller than the maximum delay offset."),i&&(i<=0||i>c.maxAllowedRetryDelayInMs)&&t.fatal(`maxRetryDelay has to be a positive value less than ${c.maxAllowedRetryDelayInMs}.`),r&&r<=0&&t.fatal("factor has to be a positive value.")}async tryRequest(t,e,n,i,o,c,u,l,d){const f=()=>(0,a.S)()&&i<this.maxRetries&&!l;let h=d||"";if(h&&i>0)try{const t=new URL(h);t.searchParams.set("retryAttempt",i.toString()),h=t.toString()}catch(t){}try{const n=u||1e4;let r=null;r=u&&u<0?await t(i,h):await this.timeoutServiceRequest(n,t(i,h)),e(r)}catch(a){if(f()){const r=3,s=parseFloat((Math.random()*(this.minOffsetInMs-this.maxOffsetInMs)+this.maxOffsetInMs).toFixed(r)),f=.5,h=Math.random()<f?-1:1,p=Math.min(this.baseRetryDelayInMs*Math.pow(this.factor,i),this.maxRetryDelayInMs)+s*h;this.loggingService.warnCallback(()=>`Retrying the request in ${p} milliseconds.`,c,{error:a,currentRetry:i+1,requestInfo:o}),setTimeout(()=>this.tryRequest(t,e,n,i+1,o,c,u,l,d),p)}else{if(s.YT&&s.YT.sendAppErrorEvent){const t=("string"==typeof a?a:a.message)||"";s.YT.sendAppErrorEvent({...r.s$M,pb:{...r.s$M.pb,retryAttemptsMade:i,serviceFailed:c&&c.Message,maxRetries:this.maxRetries,customMessage:`${this.getActivityName(c)}. Error details: '${t}'. All retry attempts failed.`}},!1)}this.loggingService.errorCallback(()=>f()?`ExponentialBackoffRetry has exceeded maximum retries ${this.maxRetries}`:"Request has failed.",c,{error:a,currentRetry:i,requestInfo:o}),n(a)}}}async timeoutServiceRequest(t,e){return new Promise(async(n,i)=>{const r=setTimeout(()=>i(new Error(`Service Request Timed out after ${t} milliseconds!`)),t);try{n(await e),clearTimeout(r)}catch(t){i(t),clearTimeout(r)}})}getActivityName(t){return`Activity name: '${t&&t.Message||"None"}'`}}c.defaultBaseRetryDelayInMs=100,c.defaultFactor=2,c.defaultMaxOffsetInMs=25,c.defaultMaxRetries=5,c.defaultMinOffsetInMs=1,c.maxAllowedRetries=10,c.maxAllowedRetryDelayInMs=2e3;var u=n(17128),l=n(79095),d=n(41589),f=n(48257),h=n(17075),p=n(19993),m=n(88294);let g,v;const w=3;function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,u.dx)()?(0,u.Ps)(t,e,n,r):(0,i.hv)(t,n,e)}async function b(t,e,n,i,r){const o=S().activityLoggingService.createActivity(e);return i=i||(0,u.Ve)(),await p.WR.serviceRequestOnComplete(()=>function(){if(v)return v;return v=new c(S().loggingService,w),v}().executeRequest(t,null,o,n,i,r),()=>S().activityLoggingService.endActivity(o))}function S(){if(g)return g;const t=l.w.getInstance("ExperienceActivityLogger");return(0,a.S)()&&m.v.isDebug()&&t.addAppender(new d.F(h.$.Activity)),g=new f._(m.v.getLoggingService(),t),g}},57865:function(t,e,n){var i,r;n.d(e,{wX:function(){return o}}),function(t){t.Anon="ANON",t.AppAnon="APP_ANON",t.Unknown=""}(i||(i={})),function(t){t.AnonCookieExists="ace",t.AppAnonCookieExists="aace"}(r||(r={}));const o="child"},57886:function(t,e,n){n.d(e,{Gx:function(){return i},KG:function(){return h},No:function(){return r},U4:function(){return o},_9:function(){return a},_E:function(){return s},aI:function(){return c},e9:function(){return f},ky:function(){return u},zn:function(){return l},zw:function(){return d}});const i=16,r=308,o=368,s=308,a=300,c=272,u=320,l=300,d=320,f=300,h=320},58533:function(t,e,n){n.d(e,{eA:function(){return y},hq:function(){return b}});var i=n(98216),r=n(6736),o=n(49084),s=n(85766),a=n(74166),c=n(67387),u=n(13113),l=n(4865),d=n(61803),f=n(2509),h=n(30158),p=n(86948),m=n(17254),g=n(48608);var v=n(6727);let w=!1;async function y(t){let e,n,f,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.YO,w="app";if(t)e=t.isMsa,n=t.isAAD,f=t.isSSO;else if((0,o.lp)()){const t=(0,s.eM)();f=2===t.isSignedIn,e="MSA"===t.accountType,n="AAD"===t.accountType,w="edgeId"}else if((0,o.FS)()){const t=(0,p.NP)();e="MSA"===t||!!(0,a.XJ)(c.kr),n="AAD"===t||!!(0,a.XJ)(c.E1),f=["AAD","MSA"].includes(t)&&!(0,u.gV)(),w="web"}else if((0,h.$O)()){const t=await(0,h.f7)();e=!(null==t||!t.tokenValue),f=e}else e=2===await(0,p.XK)(),f=e;const y={aadState:n?1:0,isSignedIn:e,isSso:f},k=function(t,e){let n;const i=(0,l.p)(),r=i===l.j.Web?"anon":"app_anon",o=!!e&&(0,d.pu)(r);n=o?"AAD-AL":e?"AAD":t?"MSA":"NA";return n}(e,n),$={...y,loginState:k},A=await T(v);if((0,o.NY)()){let t;t=A?await(0,r.nx)(v):(0,r.S8)(v),t&&($.loginState=S(t),A?await C(t,v):x(t,v)),b(v)}return null===i.YT||void 0===i.YT||i.YT.addOrUpdateCustomProperty("AuthCookies",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"app";const e={aace:+!!(0,a.Ux)(c.v1),app_anon:+!!(0,a.Ux)(c.CR),ace:+!!(0,a.Ux)(c.kr),anon:+!!(0,a.Ux)("ANON"),authCookieName:m.T3.AuthCookieName,lt:+!!(0,a.Ux)(s.wj),osat:+!!(0,a.Ux)(c.V$),app_wid:+!!(0,a.Ux)(c.j$,!0),wid:+!!(0,a.Ux)(c.E1,!0),it:t};if((0,o.op)()){var n,i;const t={elt_account:null===(n=(0,g._W)())||void 0===n?void 0:n.account_type,elt_token:+!(null===(i=(0,g._W)())||void 0===i||!i.access_token)};Object.assign(e,t)}return JSON.stringify(e)}(w)),$}const b=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.YO;(0,o.NY)()&&(w||(w=!0,f.X4.subscribe(f.wE.DigitalIdUpdate,async e=>{await T(t)?await C(e,t):x(e,t)})))};function S(t){if(t)return["AAD","AAD-AL","MSA","NA"].includes(t.at)?t.at:void 0}function x(t){k(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.YO,arguments.length>2?arguments[2]:void 0,!1)}async function C(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.rw;await k(t,e,void 0,!0)}async function k(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o&&(n=await(0,r.nx)(e));const{shouldUpdateTelemetry:s,reason:a}=function(t,e){var n;if(!t)return{shouldUpdateTelemetry:!1,reason:"No digital ID provided"};let r=!1;const o=["MSA","AAD-AL"].includes(null===(n=t.at)||void 0===n?void 0:n.trim().toUpperCase());e&&(r=function(t,e){if(!t||!e)return!1;return["muid","anid","wid","at","picassoId"].every(n=>(t[n]||"")===e[n])}(e,t));const s=!r||o;let a=0;r||(a|=1);o&&(a|=2);const c=[];1&a&&c.push("changed digital ID");2&a&&c.push("forced update due to account type");return null===i.YT||void 0===i.YT||i.YT.addOrUpdateCustomProperty("DigitalIdUpdate",JSON.stringify({areDigitalIdsEqual:+r,shouldUpdateTelemetry:+s,reasonNumber:a})),{shouldUpdateTelemetry:s,reason:c.join(", ")}}(t,n);if(!s)return;!function(t){if("NA"===t.at&&t.muid){const e=t.muid.replace(/^m-/,"").toUpperCase();(0,v.Hi)(e)}}(t),function(t){if(["MSA","AAD-AL"].includes(t.at)&&t.anid){const e="A="+t.anid.toUpperCase().replace(/^A-/,"");null===i.YT||void 0===i.YT||i.YT.applyAnidOverride(e)}}(t),function(t){if(t.at){const e=function(t){if(!t)return;const e=S(t),n={aadState:"AAD"===e?1:0,isSignedIn:"MSA"===e,isSso:["AAD","AAD-AL","MSA"].includes(e),loginState:e,wid:t.wid?t.wid.replace(/^m-/,"").toUpperCase():void 0},i=t.picassoId??void 0;return i&&(n.picassoId=i),n}(t);null===i.YT||void 0===i.YT||i.YT.updatePageMetadata({user:e},!0)}}(t);const c=function(t){var e;const n={...t,lastUpdated:(new Date).toISOString()};return null===(e={NA:["anid","wid"],AAD:["anid"],MSA:["wid"]}[t.at])||void 0===e||e.forEach(t=>delete n[t]),n}(t);o?await(0,r.ZT)(c,e):(0,r.Wh)(c,e)}const T=async t=>(null==t?void 0:t.getItem(""))instanceof Promise},59239:function(t,e,n){n.d(e,{Cl:function(){return l},GR:function(){return c},Tj:function(){return a},d1:function(){return u}});var i=n(46117),r=n(1215),o=n(77246),s=n(2462);function a(){return(0,o.S)()&&null!=document.getElementById(r.W)}function c(){return a()&&null===(0,s.Ri)(i.I6)}function u(){return(0,o.S)()&&null!=document.getElementById(r.$)}function l(){return(0,o.S)()?u()&&null===(0,s.Ri)(i.Ii):!!window.__tcfapi&&null===(0,s.Ri)(i.Ii)}},59545:function(t,e,n){n.d(e,{it:function(){return b},bO:function(){return S},ez:function(){return x},Uk:function(){return m},WO:function(){return h},Kl:function(){return d},Qc:function(){return p}});var i,r=n(8092);!function(t){t[t.StandardEventBasedDeferral=0]="StandardEventBasedDeferral",t[t.CustomEventBasedDeferral=1]="CustomEventBasedDeferral"}(i||(i={}));var o=n(23768),s=n(16414),a=n(28006),c=n(93005),u=n(41917);const l={filter:(t,e)=>t.filter(t=>e in t)};function d(){return c.V.getInstance().rootReducer.connector(a.BO)}function f(t){const e=d();if(!e)return;const n=e.getCurrentState().perExperienceMilestones,i=n&&n.get(t);let r;return i&&(r=i.perInstanceMilestones.get(s.D)),r}function h(t){const e=f(t);if(!e||function(t){let e;switch(t.loadAfter.eventType){case r.R$.pageVisuallyReady:e=function(){const t=d();if(!t)return!1;const{pageCompleteTiming:e}=t.getCurrentState();return Boolean(e&&e.endTime!==s.o)}();break;case r.R$.aboveTheFoldVisuallyReady:e=g();break;case r.R$.belowTheFoldTransitionStart:e=v();break;case r.R$.hydrationComplete:e=y();break;default:e=(0,u.E)(t.loadAfter.experienceType,t.loadAfter.eventType)}return e}(e))return null;if(e.shouldLoad&&e.loadAfter){return{deferralType:w(e.loadAfter),shouldResolve:e.shouldLoad}}return null}function p(){return d()?g()?Promise.resolve():new Promise(t=>{o.m.updateAboveTheFoldVisuallyReady.registerObserver(e=>{t()})}):Promise.resolve()}async function m(t){const e=d();if(!e)return;const n=e.getCurrentState().plugins;if(!n||0===n.length)return;const i=l.filter(n,t);for(const e of i)void 0!==e[t]&&await e[t].call(e)}function g(){const t=d();if(!t)return!1;const{aboveTheFoldVisuallyReady:e}=t.getCurrentState();return Boolean(e&&e.endTime!==s.o)}function v(){const t=d();return!!t&&t.getCurrentState().belowTheFoldTransitionStart}function w(t){return t.eventType in r.Qr?i.CustomEventBasedDeferral:i.StandardEventBasedDeferral}function y(){const t=d();return!!t&&t.getCurrentState().hydrationComplete}function b(t,e,n,i){return{deferralInfo:t,experienceType:e,experienceGroup:n,experienceInstance:i}}function S(t,e,n,i){return{experienceType:t,currentState:e,experienceGroup:n,experienceInstance:i}}function x(t,e,n,i,r){return{experienceType:t,experienceGroup:e,experienceInstance:n,startTime:i,endTime:r}}},59660:function(t,e,n){n.d(e,{K:function(){return i}});const i=()=>(new Date).getTime()+"|"+(9*Math.random()+1)*Math.pow(10,17)},59721:function(t,e,n){var i;n.d(e,{P:function(){return i}}),function(t){t[t.Banner=999999]="Banner",t[t.CookieWall=1100]="CookieWall",t[t.Dialog=900]="Dialog",t[t.Flyout=700]="Flyout",t[t.Overlay=600]="Overlay",t[t.Nav=500]="Nav",t[t.Over=300]="Over",t[t.Above=100]="Above",t[t.Default=0]="Default",t[t.Below=-1]="Below",t[t.Buried=-2]="Buried"}(i||(i={}))},59957:function(t,e,n){n.d(e,{e:function(){return a}});var i=n(56911),r=n(60815),o=n(65022),s=n(44449);class a{constructor(t){this.propertyName=t}connectedCallback(t){r.cP.getNotifier(t.source).subscribe(this,this.propertyName)}disconnectedCallback(t){this.styles&&t.source.$fastController.removeStyles(this.styles)}handleChange(t,e){this.styles&&t.$fastController.removeStyles(this.styles),this.styles=t[e],t.$fastController.addStyles(this.styles)}}(0,i.Cg)([(0,s.sx)(o.SuG,"PropertyBehavior.Bind")],a.prototype,"connectedCallback",null),(0,i.Cg)([(0,s.sx)(o.SuG,"PropertyBehavior.Unbind")],a.prototype,"disconnectedCallback",null),(0,i.Cg)([(0,s.sx)(o.SuG,"PropertyBehavior.HandleChange")],a.prototype,"handleChange",null)},59983:function(t,e,n){n.d(e,{Dm:function(){return c},GZ:function(){return l},RZ:function(){return u},o8:function(){return a},qM:function(){return s}});var i=n(74166),r=n(15098),o=n(28828);const s="currentaccount",a=365,c=(0,r.L)(()=>{const t=(0,i.Ux)(s,!0),e=t&&(0,o.B)(t),{login_hint:n}=e||{};return n&&e}),u=(0,r.L)(()=>!!(0,i.Ux)(s));function l(){u.cache.clear(),c.cache.clear()}},60791:function(t,e,n){n.d(e,{a:function(){return o},j:function(){return r}});var i=n(56639);function r(){return(0,i.vk)()}function o(){return(0,i.cE)()}},61204:function(t,e,n){n.d(e,{_H:function(){return b},wy:function(){return y},lK:function(){return w}});var i=n(93468),r=n(65022),o=n(15003),s=n(56098),a=n(90565),c=n(17254),u=n(51267);const l="ntps",d="marketPref",f=182;var h=n(2462),p=n(98216),m=n(48622),g=n(98793);const v=["windowsShell","windowsShellV2","winWidgets"];async function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=c.T3.AppType;m.d.updateMarketPreference(t).then(async l=>{if(l||(0,i.vV)(r.VsV,"PDP Service failed to update market preference from CommonSettings",`market: ${t}`),v.includes(n))e();else{var d;if(c.T3.IsUCBased)null===(d=s.c.getInstance())||void 0===d||d.notify(a.m2.OnContentReload);await y(t),function(t){const e=c.T3.AppType,n=c.T3.CurrentMarket,i=location.href.includes(`/${n}`);if("edgeChromium"==e)return function(t){const e=`/${c.T3.CurrentMarket}/`;if(!location.pathname.startsWith(e))return void(0,u.J)();const n=new URL(location.href);n.pathname=n.pathname.replace(e,`/${t}/`),(0,u.J)({newUrl:n.href})}(t),void(0,o.TI)(2);i?location.href=location.href.replace(`/${n}`,`/${t}`):location.assign(`${location.origin}/${t}${location.search}`)}(t)}})}async function y(t,e){const[n,i,r]=function(t,e){const n=`.${c.T3.HostPage.topDomain}`,i=b(e),r="homePage"===c.T3.AppType||e?t:JSON.stringify({m:t});return[n,i,r]}(t,e),o=c.T3.AppType;(0,h.Ub)(i,"",-1),(0,h.Ub)(i,"",-1,void 0,"/edge"),(0,h.Ub)(i,r,f,n,"/"),"edgeChromium"==o&&(await g.Q.savePreferenceSetting(i,{setting:i,source:"ntp",timestamp:(new Date).getTime(),value:r}),p.YT.addOrUpdateTmplProperty("marketSetToExplicitSelection","1")),e||"homePage"==c.T3.AppType||(0,h.Ri)(d)&&y(t,!0)}function b(t){return"homePage"===c.T3.AppType||t?d:l}},61522:function(t,e,n){n.d(e,{P5:function(){return i},Rx:function(){return o},pF:function(){return r}});const i=s.bind(null,"object"),r=s.bind(null,"number"),o=s.bind(null,"string");function s(t,e){return("object"!=typeof e||null!==e)&&typeof e===t}},61803:function(t,e,n){n.d(e,{Qm:function(){return f},_C:function(){return h},pu:function(){return l}});var i=n(67387),r=n(17254),o=n(38796),s=n(74166),a=n(15098),c=n(28828),u=n(2462);function l(t){const e=t||(0,o.eU)()||"al_app_anon",n=d();return!!(n&&(["anon","al_anon"].includes(e)&&n.AL_ANON||["app_anon","al_app_anon"].includes(e)&&n.AL_APP_ANON))}const d=(0,a.L)(()=>{const t=(0,s.Ux)(i.dW,!0);return(0,c.B)(t)});function f(){(0,u.Ub)(i.dW,"",-1,r.T3.HostPage.topDomain,"/"),h()}function h(){d.cache.clear()}},62586:function(t,e,n){function i(t,e){const{audienceMode:n="",locale:i={},pageType:r=""}=e||{},o=i.content??i,{language:s,market:a}=o;return`wpo_data_ ${n}_${s}_${a}_${r}_${t}`}n.d(e,{$:function(){return i}})},63069:function(t,e,n){n.d(e,{y:function(){return o}});var i=n(17254),r=n(12870);class o{constructor(t,e,n){this.ot=t,this.vt=e,this.rt=n}connectedCallback(t){const{source:e}=t;"zh-cn"===i.T3.CurrentMarket?this.rt&&r.Rb.CurrentFlightSet.has(this.rt)?(e.$fastController.addStyles(this.vt),e.$fastController.removeStyles(this.ot)):(e.$fastController.addStyles(this.ot),e.$fastController.removeStyles(this.vt)):(e.$fastController.removeStyles(this.ot),e.$fastController.removeStyles(this.vt))}}},63150:function(t,e,n){n.d(e,{U0:function(){return i},ce:function(){return u},ns:function(){return c},oh:function(){return l}});var i,r=n(17254),o=n(12870),s=n(5044),a=n(27261);function c(){var t;const e="msnStudio"===(0,r.rA)().AppType&&(0,a.$N)().includes("uxmode=ruby");return"ruby"===(null===o.Rb||void 0===o.Rb||null===(t=o.Rb.ClientSettings)||void 0===t||null===(t=t.modes)||void 0===t?void 0:t.uxMode)||e}function u(){var t;return"ruby"===(null===o.Rb||void 0===o.Rb||null===(t=o.Rb.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant)}function l(){return c()||(0,s.K7)()||u()}!function(t){t.isDhpPage=function(){return"dhp"===o.Rb.ClientSettings.pagetype},t.isNtpPage=function(){return"ntp"===o.Rb.ClientSettings.pagetype},t.fiveColSupported=function(){return r.T3.EnableFiveColLayout}}(i||(i={}))},63250:function(t,e){e.A='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M6.85 6 12 11.15l-.85.85L6 6.85.85 12 0 11.15 5.15 6 0 .85.85 0 6 5.15 11.15 0l.85.85L6.85 6Z"/></svg>'},63581:function(t,e,n){n.d(e,{L:function(){return i}});const i={_60x60:{width:60,height:60},_82x82:{width:82,height:82},_100x100:{width:100,height:100},_104x84:{width:104,height:84},_141x250:{width:141,height:250},_180x88:{width:180,height:88},_203x114:{width:203,height:114},_216x114:{width:216,height:114},_220x124:{width:220,height:124},_220x178:{width:220,height:178},_238x120:{width:238,height:120},_240x129:{width:240,height:129},_240x253:{width:240,height:253},_242x144:{width:242,height:144},_242x176:{width:242,height:176},_300x156:{width:300,height:156},_300x169:{width:300,height:169},_300x174:{width:300,height:174},_300x179:{width:300,height:179},_300x180:{width:300,height:180},_300x200:{width:300,height:200},_300x225:{width:300,height:225},_300x282:{width:300,height:282},_300x304:{width:300,height:304},_300x326:{width:300,height:326},_300x462:{width:300,height:462},_306x174:{width:306,height:174},_306x197:{width:306,height:197},_385x225:{width:385,height:225},_362x272:{width:362,height:272},_406x304:{width:406,height:304},_486x304:{width:486,height:304},_468x304:{width:468,height:304},_604x296:{width:604,height:296},_612x304:{width:612,height:304},_612x326:{width:612,height:326},_612x328:{width:612,height:328},_612x462:{width:612,height:462},_628x372:{width:628,height:372}}},63607:function(t,e,n){n.d(e,{v:function(){return it}});var i=n(29231),r=n(17501),o=n(11372);var s=n(6727);class a{constructor(t,e){this.contentViewCallback=t,this.overrideScrollOffset=e,this.scrollChanged=!0,this.sizeChanged=!0,this.newScrollLeft=null,this.newScrollTop=null,this.firstScrolledMargin=10,this.forceScrollFiring=!1,this.viewportEventIntervalDelayMs=200,this.viewportLeft=0,this.viewportTop=0,this.viewportWidth=0,this.viewportHeight=0,this.userInteracted=!1,this.eventTimerId=0,this.eventTimeoutMS=1e3,this.scrollPerformanceTrackers={},this.contentContainerElementFromCustomEvent=null,this.contentContainerClientRect=null,this.contentViewedArea=-1,this.syntheticTelemetryScrollCallback=(t,e)=>{t&&(this.userInteracted=!0,this.updateMechanism=i.ym.Scroll,this.scrollChanged=!0,this.triggerCallback(),e(t),this.forceScrollFiring=!0)},this.viewportOffset=0}initListener(t){const e=this.throttle(this.update.bind(this),this.viewportEventIntervalDelayMs);e(),this.scrollContainer=t,this.attachEvent("resize",t=>{this.userInteracted=!0,this.updateMechanism=i.ym.Resize,this.sizeChanged=!0,this.triggerCallback(),e(t)}),this.attachEvent("scroll",t=>{t&&!t.preventDefaultScroll&&(this.userInteracted=!0,this.updateMechanism=i.ym.Scroll,this.scrollChanged=!0,this.triggerCallback(),e(t))}),s.OL&&(window.addEventListener("telemetryscroll",t=>{this.syntheticTelemetryScrollCallback(t,e)}),window.addEventListener("telemetryregistercontentcontainer",t=>{t.detail&&t.detail.element&&t.detail.element instanceof HTMLElement&&(this.contentContainerElementFromCustomEvent=t.detail.element,this.getContentViewArea())}))}resetViewportOffset(){this.viewportOffset=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.xI)(this.scrollContainer)}triggerCallback(){this.dispatchEvent("telemetryviewportupdated",this.updateMechanism)}dispatchEvent(t,e){const n=new CustomEvent(t,{detail:{mech:e}});dispatchEvent(n)}throttle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=0,i=!1;return r=>{if(i)return;const o=(new Date).getTime(),s=o-n;s>e?(n=o,t(r)):(i=!0,setTimeout(()=>{i=!1,t()},e-s))}}update(t){let e=this.sizeChanged,n=this.scrollChanged;const i=this.viewportWidth,r=this.viewportHeight,o=this.viewportLeft,s=this.viewportTop;this.updateCurrentViewportValues(),e=e&&(r!==this.viewportHeight||i!==this.viewportWidth),n=n&&(o!==this.viewportLeft||s!==this.viewportTop),(this.forceScrollFiring||e||n)&&(this.scheduleViewportEvent(t),this.forceScrollFiring=!1)}updateCurrentViewportValues(){this.scrollChanged&&(this.viewportLeft=this.newScrollLeft||this.getScrollLeft(),this.viewportTop=this.newScrollTop||this.getScrollTop(),this.newScrollLeft=this.newScrollTop=null,!this.firstScroll&&this.viewportTop>this.firstScrolledMargin&&(this.firstScroll=!0)),this.sizeChanged&&(this.viewportWidth=window.innerWidth||document.documentElement.clientWidth,this.viewportHeight=window.innerHeight||document.documentElement.clientHeight),this.scrollChanged=this.sizeChanged=!1}scheduleViewportEvent(t){if(this.userInteracted&&(c(t)&&(this.lastScrollStarted||(this.lastScrollStarted=t&&t.timeStamp||performance.now()),this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.startOrContinue(t),this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.startOrContinue(t)),this.eventLastScheduleTime=+new Date,!this.eventTimerId)){const e=()=>{this.eventTimerId=this.userInteracted=!1;const n=Date.now()-this.eventLastScheduleTime;if(n>this.eventTimeoutMS)if(c(t)){const t=performance.now()-this.lastScrollStarted;let e,n,i;this.lastScrollStarted=void 0,this.scrollPerformanceTrackers.scrollInputTracker&&(e=this.scrollPerformanceTrackers.scrollInputTracker.getPendingPotentialInputType(),n=this.scrollPerformanceTrackers.scrollInputTracker.getAndResetPotentialMissedScrollInput(),i=this.scrollPerformanceTrackers.scrollInputTracker.getScrollInstanceData());const r={scrollInputType:e,potentialMissedScrollInput:n,scrollDuration:t,endOfFeedTime:this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.stop(),calculateAri:this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.stop(),scrollInstanceData:i,contentViewedArea:this.getContentViewArea()};this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll(),r)}else this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll());else this.eventTimerId=setTimeout(e,this.eventTimeoutMS-n)};this.eventTimerId=setTimeout(e,this.eventTimeoutMS)}}isMeaningfulScroll(){if(this.updateMechanism!==i.ym.Scroll)return!1;const t=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.xI)(this.scrollContainer),e=(0,s.AE)(this.scrollContainer);return(t>this.viewportOffset&&t-this.viewportOffset>e/2||t<this.viewportOffset&&this.viewportOffset-t>e/2)&&(this.viewportOffset=t,!0)}getScrollTop(){if(this.scrollContainer)return this.scrollContainer.scrollTop;if("undefined"!=typeof pageYOffset)return pageYOffset;{const t=document.body;let e=document.documentElement;return e=e.clientHeight?e:t,e.scrollTop}}getScrollLeft(){if(void 0!==window.pageXOffset)return window.pageXOffset;{const t=document.body;let e=document.documentElement;return e=e.clientWidth?e:t,e.scrollLeft}}attachEvent(t,e){window.addEventListener(t,e,!1),this.scrollContainer&&this.scrollContainer.addEventListener(t,e,!1)}initScrollPerformanceTrackers(t){const{endOfFeedTimeTracker:e,appResponsivenessTracker:n,scrollInputTracker:i}=t;e&&(this.scrollPerformanceTrackers.endOfFeedTimeTracker=e),n&&(this.scrollPerformanceTrackers.appResponsivenessTracker=n),i&&(this.scrollPerformanceTrackers.scrollInputTracker=i,i.start())}getContentViewArea(){const t=this.contentContainerElementFromCustomEvent;if(!t)return;this.contentContainerClientRect||(this.contentContainerClientRect=t.getBoundingClientRect());const e=this.getScrollTop(),n=Math.max(0,this.contentContainerClientRect.top),i=this.viewportHeight-n+e,r=t.clientWidth;return this.contentViewedArea=Math.max(this.contentViewedArea,Math.floor(i*r)),this.contentViewedArea}}function c(t){return t&&(t.type===i.ym.Scroll||"telemetryscroll"===t.type)}var u=n(36417);let l,d=new Promise(t=>l=t);const f=new Map;function h(){f.clear()}const p=t=>Math.floor(101*Math.random())<=t;let m,g=new Promise(t=>m=t),v=0;const w=new Map;var y=n(18806),b=n(25194);class S{static start(){this.startTime=Date.now(),this.isPause=!1,this.isPauseV2=!1,this.started=!0}static pause(){this.started&&!this.isPause&&(this.isPause=!0,this.dwellTimeElapse+=Date.now()-this.startTime)}static pauseV2(){this.started&&!this.isPauseV2&&(this.isPauseV2=!0,this.dwellTimeElapseV2+=Date.now()-this.startTime)}static getDwellTime(){if(this.isPause){return this.dwellTimeElapse}if(0!==this.startTime&&this.started){return this.dwellTimeElapse+(Date.now()-this.startTime)}return 0}static getDwellTimeV2(){if(this.isPauseV2){return this.dwellTimeElapseV2}if(0!==this.startTime&&this.started){return this.dwellTimeElapseV2+(Date.now()-this.startTime)}return 0}static setDwellTime(t,e){this.startTime=t,this.dwellTimeElapse=e}static setDwellTimeV2(t,e){this.startTime=t,this.dwellTimeElapseV2=e}static reset(){this.dwellTimeElapse=0,this.dwellTimeElapseV2=0,this.startTime=0,this.isPause=!1,this.isPauseV2=!1,this.started=!1}static getIsActive(){return this.started&&!this.isPause}}S.started=!1,S.startTime=0,S.dwellTimeElapse=0,S.dwellTimeElapseV2=0,S.isPause=!1,S.isPauseV2=!1;const x=`[${i.i}]`,C=t=>(0,s.U4)("telemetrynodeadded",t);class k{constructor(){this.mutationObserver=new MutationObserver(this.mutationCallback.bind(this)),this.processMutatedNode=this.processMutatedNode.bind(this),document.documentElement&&this.processAddedSubtreeAndDispatchEvent(document.documentElement);const t=HTMLElement.prototype.attachShadow;if(t){const e=this;HTMLElement.prototype.attachShadow=function(n){const i=t.call(this,n);return this.shadowRoot&&e.observe(this.shadowRoot),i}}}observe(t){t!==window&&this.mutationObserver.observe(t,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:[i.i]})}unobserve(t){}mutationCallback(t){setTimeout(()=>this.processMutationRecord(t),10)}processMutationRecord(t){for(const e of t){const{addedNodes:t}=e;null!=t&&t.length?t.forEach(this.processMutatedNode):"attributes"===e.type&&this.processMutatedNode(e.target)}}processMutatedNode(t){((0,s.DO)(t)||1===t.nodeType&&"SCRIPT"!==t.tagName)&&this.processAddedSubtreeAndDispatchEvent(t)}processAddedSubtreeAndDispatchEvent(t){(0,s.i4)(t)&&C(t),function(t){var e;null===(e=t.shadowRoot)||void 0===e||e.querySelectorAll(x).forEach(C),t.querySelectorAll(x).forEach(C)}(t)}}var T=n(52088),$=n(47149);var A=n(87440);class I{get requestId(){return this.requestIdInternal}get combinedContract(){this.eventIndexInternal=this.eventIndexInternal+1,this.tmplString=this.generateStringFromKeyValueObject(this.tmplProps);const t=this.joinIdProps&&Object.keys(this.joinIdProps).length>0?JSON.stringify(this.joinIdProps):void 0,e=Object.keys(this.customProps).length>0?JSON.stringify(this.customProps):void 0;this.customString=e;try{const t=window;void 0!==t&&t.navigator&&void 0!==typeof t.navigator.globalPrivacyControl&&(this.globalPrivacyControl=t.navigator.globalPrivacyControl)}catch{}const n={page:{...this.contract.page,url:(0,s.s8)((0,s.pO)(this.contract.page.url,this.contract.page.ocid),this.qspToScrubbed),referral:(0,s.s8)(this.contract.page.referral||s.OL&&document.referrer,this.qspToScrubbed),content:this.contract.page.content?{...this.contract.page.content}:void 0,dwellTime:S.getDwellTime(),dwellTimeV2:this.getDwellTimeV2(),viewType:this.contract.page.viewType||this.viewTypeCallback&&this.viewTypeCallback()},browser:{...this.contract.browser,width:(0,s.td)(),height:(0,s.AE)(),screenSize:s.OL?[screen.width,screen.height].join("x"):"0x0",clientId:(0,s.fp)(this.activityIdInternal),scrollOffset:"function"==typeof this.overrideScrollOffset&&this.overrideScrollOffset()||(0,s.xI)(),anoncknm:this.anonCookieName||"app_anon",cookieEnabled:s.OL&&navigator.cookieEnabled,globalPrivacyControl:this.globalPrivacyControl,hiddenOnce:this.browserHiddenOnce,muid:(0,s.W6)()||void 0,cookies:(0,s.hD)(this.cookiesToCollect)||void 0},flight:{...this.contract.flight,tmpl:this.tmplString},integration:{...this.contract.integration,joinIds:t},request:{activityId:this.activityIdInternal,requestId:this.requestIdInternal,afdMuid:this.afdMuidInternal,pageGenTime:this.pageGenTime,tier:this.tier},timestamp:+Date.now(),eventIndex:this.eventIndexInternal,sdk:{name:"peregrine",ver:"1.0.21",schemaVer:"1.0.21"},user:this.contract.user,locale:this.contract.locale,feed:this.contract.feed,gallery:this.contract.gallery,custom:this.customString,build:this.buildNumber,ext:this.contract.ext},i=(0,s.nN)();return i&&(n.browser.isWin11=i),this.isPvEvent&&(n.debug=this.contract.debug),n}constructor(t,e,n,i,r,o,a,c,u,l,d){this.eventIndexInternal=0,this.cookiesToCollect=["TOptOut","OptanonConsent","eupubconsent-v2","wid","app_wid"],this.qspToScrubbed=["anid","email","login_hint","q","referer","tid","upn","user","username"],this.isPvEvent=!1,this.shouldResetClientId=!0,this.shouldResetClientId=void 0===l||l,this.contract=t,this.updateActivityId(e),this.anonCookieName=n,this.enableDwelltimeV2=c,this.buildNumber=i||"",this.afdMuidInternal=a,this.customProps={},this.tmplProps={},this.joinIdProps={},this.eventIndexInternal=0,this.browserHiddenOnce=!1,this.overrideScrollOffset=r,this.viewTypeCallback=o,this.pageGenTime=u,this.tier=d,s.OL&&document.addEventListener("visibilitychange",this.browserVisibilityCallback.bind(this))}static mergeContract(t,e){if(!t||!e)return t||e;const n=Object.keys(e),i={...t};for(let t=0;t<n.length;t++){const r=n[t];i[r]={...i[r],...e[r]}}return t.page&&t.page.content&&e.page&&e.page.content&&(i.page.content={...t.page.content,...e.page.content}),t.user&&e.user&&(i.user={...t.user,...e.user}),t.ext&&e.ext&&(i.ext=(0,A.A)(t.ext,e.ext)),i}update(t){t&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.contract=I.mergeContract(this.contract,t):this.updatedContract=I.mergeContract(this.updatedContract,t))}updateActivityId(t){this.activityIdInternal=t;const e=this.contract&&this.contract.page&&this.contract.page.isStatic&&"true"===this.contract.page.isStatic.toString().toLowerCase()?(0,s.DA)():t;this.updateRequestId(e)}getEventIndexInternal(){return this.eventIndexInternal}updateRequestId(t,e){this.eventIndexInternal=e||0,this.shouldResetClientId&&(0,s._Q)(),this.requestIdInternal=t||(0,s.DA)()}updateAfdMuid(t){this.afdMuidInternal=t||""}updateContract(){this.contract=I.mergeContract(this.contract,this.updatedContract),delete this.updatedContract}addOrUpdateCustomProperty(t,e){this.customProps[t]=e}removeCustomProperty(t){t&&delete this.customProps[t]}addOrUpdateTmplProperty(t,e){this.tmplProps[t]=e}removeTmplProperty(t){delete this.tmplProps[t]}addOrUpdateJoinIdProperty(t,e){this.joinIdProps[t]=e}getJoinId(t){return this.joinIdProps[t]}updatePageConfiguration(t){this.update({page:{config:t}})}get JoinIdProps(){return this.joinIdProps}browserVisibilityCallback(){(document.hidden||"hidden"===document.visibilityState)&&(this.browserHiddenOnce=!0)}IsPvEvent(t){this.isPvEvent=t}generateStringFromKeyValueObject(t){const e=[];return t&&Object.keys(t).forEach(n=>{t[n]?e.push(n+":"+t[n]):e.push(n)}),e.length>0?e.join(";"):void 0}getDwellTimeV2(){if(this.enableDwelltimeV2)return S.getDwellTimeV2()}}var P=n(5926),_=n(41922),M=n(16198);class R{get disable(){return this.config.disable}set disable(t){this.config.disable=t}applyAnidOverride(t){/^A=[0-9A-F]+FFFFFFF$/i.test(t)?this.config.anidOverride=t:window.console.error(`Invalid ANID format: ${t}`)}constructor(t){this.config=t}}var E=n(88206),F=n(693);class D extends R{constructor(t){super(t),this.transporterReady=!1,setTimeout(()=>{this.collectorChannelPlugin=new _.A,this.appInsightsCore=new P.A;const e=new M.A,n={populateBrowserInfo:!1,populateOperatingSystemInfo:!1,enableApplicationInsightsTrace:!1,enableDistributedTracing:!0,enableApplicationInsightsUser:!1,sessionRenewalMs:18e5,sessionExpirationMs:18e5,userConsentCookieName:"OptanonAlertBoxClosed"},i={instrumentationKey:t.key,channels:[[this.collectorChannelPlugin]],extensionConfig:[e],disablePageUnloadEvents:["visibilitychange"]},r=[];if(s.OL||(i.extensionConfig[this.collectorChannelPlugin.identifier]={httpXHROverride:{sendPOST:(e,n,i)=>{delete e.headers["cache-control"],delete e.headers["content-type"];const r={method:"POST",credentials:"include",body:e.data,headers:e.headers};e.data.length>64e3?this.sendRequest(t,e.urlString,r).then(t=>{n(t.status)}).catch(t=>{n(0,{})}):(this.sendRequest(t,e.urlString,{...r,keepalive:!0}).then(t=>{}).catch(t=>{}),n(200,{}))}}}),t.addNoResponse){const t={addNoResponse:!1};i.extensionConfig[this.collectorChannelPlugin.identifier]=t}if(s.OL&&(i.extensionConfig[e.identifier]=n,r.push(e)),t&&t.anonCookieName&&(i.anonCookieName=t.anonCookieName),null!=t&&t.ignoreClientAnidCookies&&(i.cookieCfg={ignoreCookies:["ANON"]}),t.endpoint&&(i.endpointUrl=t.endpoint),this.appInsightsCore.initialize(i,r),t&&t.enableTraceGenerator)try{E.T.getTraceInstance().setTraceObj(this.appInsightsCore)}catch{}this.transporterReady=!0},100)}sendRequest(t,e,n){return t.abortableFetch?t.abortableFetch(e,t.timeout??1e3,n,void 0,void 0,void 0,!0):fetch(e,n)}transport(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!t||(0,F.A)(t)||this.config.disable||(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()?this.appInsightsCore.track(t):n<50&&setTimeout(()=>this.transport(t,e,n+1),200))}applyAnidOverride(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t||!/^A=[0-9A-F]+FFFFFFF$/i.test(t))return void window.console.error(`Invalid ANID format: ${t}`);if(!(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()))return void(e<50?setTimeout(()=>this.applyAnidOverride(t,e+1),200):window.console.error("applyAnidOverride: Max retries reached. Required components not initialized."));this.appInsightsCore.addTelemetryInitializer(e=>{e.ext=e.ext||{},e.ext.intweb=e.ext.intweb||{},e.ext.intweb.anid=t})}}class O extends R{constructor(t){super(t)}transport(t){if(!t||!this.config.endpoint||this.config.disable)return;const e=this.generateUrl(this.config.endpoint+"?",t);this.generatePixelBeacon(e)}generatePixelBeacon(t){(new Image).src=t.replace(/&amp;/gi,"&")}generateUrl(t,e){const n=[];let i=t;return Object.keys(e).forEach(t=>{let i=e[t];"object"==typeof i&&i&&(i=JSON.stringify(i)),n.push(this.encodeURIComponent(t)+"="+this.encodeURIComponent(i))}),i=t+n.join("&").replace(/%20/g,"+"),i}encodeURIComponent(t){return null!=t&&encodeURIComponent(t)||""}}class N extends R{constructor(t){var e,n,i;super(t),this.logEventAsync=null==t||null===(e=t.callbackData)||void 0===e?void 0:e.callback,this.sapphireId=null==t||null===(n=t.callbackData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.sapphireId,this.productId=null==t||null===(i=t.callbackData)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.productId}transport(t){if(!t||this.config.disable)return;let e;try{e=this.flattenObj(t),e.isCoreView=!0,e.platform="app",this.sapphireId&&(e["browser.muid"]=this.sapphireId),e["page.product"]=this.productId||"SuperAppHP",e["page.ocid"]="superappdhp",e["page.canvas"]="App",e["flight.tmpl"]=this.appendString(e["flight.tmpl"],";","sa-is-web:1")}catch(t){return void window.console.error("Error occured while flatterning telemetry payload :",t)}t.name&&this.logEventAsync({type:t.eventType,name:t.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{oneds:e}})}flattenObj(t){const e={},n=(t,i)=>{Object.keys(t).forEach(r=>{let o="";o=""===i?`${r}`:`${i}.${r}`,"object"==typeof t[r]&&t[r]?n(t[r],o):e[this.formatKey(o)]=t[r]})};return n(t,""),e}formatKey(t){return t?"eventType"===t?"type":t.startsWith("data.")?t.substring(5,t.length):t:t}appendString(t,e,n){return(t?t+e:"")+n}}class U extends R{constructor(t){var e,n,i;super(t),this.logEventAsync=null==t||null===(e=t.callbackData)||void 0===e?void 0:e.callback,this.sapphireId=null==t||null===(n=t.callbackData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.sapphireId,this.productId=null==t||null===(i=t.callbackData)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.productId}transport(t){if(!t||this.config.disable)return;let e;try{e=this.flattenObj(t),e.isCoreView=!0,e.platform="app",this.sapphireId&&(e["browser.muid"]=this.sapphireId),e["page.product"]=this.productId||"SuperAppHP",e["page.ocid"]="superappdhp",e["page.canvas"]="App"}catch(t){return void window.console.error("Error occured while flatterning telemetry payload :",t)}if(t.name){const n=this.transformPayload(e);this.logEventAsync({type:t.eventType,name:t.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{...n}})}}flattenObj(t){const e={},n=(t,i)=>{Object.keys(t).forEach(r=>{let o="";o=""===i?`${r}`:`${i}.${r}`,"object"==typeof t[r]&&t[r]?n(t[r],o):e[this.formatKey(o)]=t[r]})};return n(t,""),e}formatKey(t){return t?"eventType"===t?"type":t.startsWith("data.")?t.substring(5,t.length):t:t}transformPayload(t){const e={"app.custom.content.targetContentType":"targetContentType","client.hScrollOffset":"hScrollOffset","client.scrollOffset":"scrollOffset",contentViewType:"contentViewType","page.name":"pageName","page.pageId":"pageId","page.type":"pageType","locale.mkt":"localeMkt","extSchema.pb.build":"extSchemaBuild","request.requestId":"requestId",actionType:"actionType","object.content.id":"contentId","object.name":"objectName","object.type":"objectType","object.content.type":"objectContentType","object.placement.lineage":"objectPlacementLineage","object.content.category":"objectContentCategory",object:"batchObjects"},n={};return Object.keys(e).forEach(i=>{t[i]&&(n[e[i]]=t[i])}),n}}var L=n(22309);class B extends R{constructor(t){super(t)}transport(t){t&&!this.config.disable&&this.config.callback(t)}}var W=n(77255),H=n(2603),V=n(91326),z=n(39598);class j extends H.V{createEvent(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{name:this.getSuperAppOneDSEventName(y.E0[t]),eventType:this.getSuperAppOneDSEventType(y.E0[t]),data:e,baseType:y.E0.Base,latency:n,sync:i}}createContentViewPayload(t,e,n){if(!e)return;const r=[];t.forEach(t=>{r.push(this.mapTelemetryObject(t))});let o;(0,s.mm)()&&(o={content:{docHeight:(0,s.mm)()}});let a=null;try{a=JSON.stringify(r)}catch(t){a=r}const c={...e,...o,object:a,contentViewType:n.contentViewType};if(n.contentViewType===i.ym.Scroll&&(c.isMeaningfulScroll=n.isMeaningfulScroll),!(0,F.A)(r)){return this.createEvent("ContentView",c,V.XA.RealTime)}}reConstructLiteTelemetryPayload(t){const e=this.getSuperAppOneDSEventName(t.name),n=this.getSuperAppOneDSEventType(t.name);return Object.assign(t,{name:e,eventType:n,data:{...t.data,name:e,object:{...t.data.object,ext:t.ext}}}),t}mapTelemetryObject(t){let e;const n=t&&t.content&&t.content.type;(n||t.behavior)&&(e=(0,z.k)(n,t.behavior));const i={...t};return delete i.action,delete i.behavior,delete i.overrideId,i}getSuperAppOneDSEventType(t){switch(t){case y.E0.PageView:return"Microsoft.Windows.MsnApps.PageView";case y.E0.UserAction:return"Microsoft.Windows.MsnApps.PageAction";case y.E0.AppError:return"Microsoft.Windows.MsnApps.Failure";case y.E0.AppPerfTrace:return"Microsoft.Windows.MsnApps.ClientPerf";case y.E0.ContentView:return"Microsoft.Windows.MsnApps.ContentView";case y.E0.LoadTime:case y.E0.Unload:return"Microsoft.Windows.MsnApps.AppLifeCycle";case y.E0.VideoPlay:return"Microsoft.Windows.MsnApps.VideoPlay";case y.E0.TraceInfo:return"Microsoft.Windows.MsnApps.TraceInfo";case y.E0.ClientLog:return"Microsoft.Windows.MsnApps.ClientLog";default:return null}}getSuperAppOneDSEventName(t){switch(t){case y.E0.PageView:return"PAGE_VIEW_HP_WEBVIEW";case y.E0.UserAction:return"PAGE_ACTION_HP_WEBVIEW_CLICK";case y.E0.AppError:return"HP_WEBVIEW_APP_ERROR";case y.E0.AdFeedback:return"PAGE_ACTION_HP_WEBVIEW_AD_FEEDBACK";case y.E0.AdImpression:return"HP_WEBVIEW_AD_IMPRESSION";case y.E0.AppPerfTrace:return"HP_WEBVIEW_APP_PERF_TRACE";case y.E0.Base:return"PAGE_VIEW_HP_WEBVIEW_BASE";case y.E0.ContentView:return"CONTENT_VIEW_HP_WEBVIEW";case y.E0.Feedback:return"PAGE_ACTION_HP_WEBVIEW_FEEDBACK";case y.E0.LoadTime:return"HP_WEBVIEW_LOAD_TIME";case y.E0.ServerLog:return"HP_WEBVIEW_SERVER_LOG";case y.E0.Unload:return"HP_WEBVIEW_UNLOAD";case y.E0.VideoAdPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO_AD";case y.E0.VideoPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO";case y.E0.TraceInfo:return"DIAGNOSTIC_HP_WEBVIEW_TRACEINFO";case y.E0.ClientLog:return"DIAGNOSTIC_HP_WEBVIEW_CLIENTLOG";default:return t}}}class q{static getTrackingSystem(t,e){switch(t.type){case r.x.OneDS:return{transporter:new D(t.transporterConfig),mapper:new H.V(t.transporterConfig.enableEventsBatching),type:t.type};case r.x.CTag:return{transporter:new O(t.transporterConfig),mapper:new L.H,type:t.type};case r.x.Comscore:return{transporter:new O(t.transporterConfig),mapper:new W.J,type:t.type};case r.x.Debug:case r.x.Automation:return{transporter:new B(t.transporterConfig),mapper:t.mapper,type:t.type};case r.x.SuperApp:return{transporter:new N(t.transporterConfig),mapper:new j,type:t.type};case r.x.SuperAppBridge:return{transporter:new U(t.transporterConfig),mapper:new j,type:t.type};default:return{transporter:new D(t.transporterConfig),mapper:new H.V,type:t.type}}}}class G{constructor(){this.trackingSystems=[]}add(t){this.trackingSystems.push(t)}sendPageViewEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.x.All;this.trackingSystems.forEach(n=>{if((e===r.x.All||e===n.type)&&n.mapper.createPageViewPayload){const e=n.mapper.createPageViewPayload(t);n.transporter.transport(e)}})}fireCTagTrackingPixel(t){this.trackingSystems.forEach(e=>{if(e.type===r.x.CTag&&e.mapper.createPageViewPayload){const n=e.mapper.createPageViewPayload(t);e.transporter.transport(n)}})}sendContentViewEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{contentViewType:i.ym.Partial},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;this.trackingSystems.forEach(i=>{if(i.mapper.createContentViewPayload){const s=i.mapper.createContentViewPayload(t,e,n,r,o);i.transporter.transport(s)}})}sendActionEvent(t,e,n,i){this.trackingSystems.forEach(r=>{if(r.mapper.createActionPayload){const o=r.mapper.createActionPayload(t,e,n,i);r.transporter.transport(o)}})}sendEventPayload(t,e,n){this.trackingSystems.forEach(i=>{if(i.mapper.createEventPayload){const r=i.mapper.createEventPayload(t,e,n);i.transporter.transport(r)}})}sendSSREventPayload(t){this.trackingSystems.forEach(e=>{if(e.mapper.reConstructLiteTelemetryPayload){const n=e.mapper.reConstructLiteTelemetryPayload(t);e.transporter.transport(n)}})}sendCustomEvent(t,e,n){this.trackingSystems.forEach(i=>{if(i.mapper.createCustomEventPayload){const r=i.mapper.createCustomEventPayload(t,e,n);i.transporter.transport(r)}})}disable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.x.All;this.trackingSystems.forEach(e=>{t!==r.x.All&&t!==e.type||(e.transporter.disable=!0)})}enable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.x.All;this.trackingSystems.forEach(e=>{t!==r.x.All&&t!==e.type||(e.transporter.disable=!1)})}applyAnidOverride(t){this.trackingSystems.forEach(e=>{e.type===r.x.OneDS&&e.transporter.applyAnidOverride(t)})}}var J=n(98216);const K=[3e3,5e3,8e3,15e3,2e4,3e4];class Q{constructor(){this.currentIndex=0}async start(){this.timeHandler||(this.timeHandler=window.setInterval(()=>{if(this.currentIndex>=K.length)return void window.clearInterval(this.timeHandler);const t=J.YT.getDwellTime(),e=K[this.currentIndex];t<e||(J.YT.sendHeartBeatEvent({type:"SATCI",metrics:{SATCI:e}}),this.currentIndex++)},200))}}function X(){let t;return new Promise(e=>{var n;const i=null===(n=J.YT.config)||void 0===n?void 0:n.startDwellOnPageVisible;t=()=>{const t=i&&"visible"===document.visibilityState||document.hasFocus();return t&&e(),t},t()||(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t))}).finally(()=>{t&&(document.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t))})}const Y=new Set,Z=new Set;function tt(t,e){var n,i;return t.id?t.id:null!=e&&null!==(n=e.contract)&&void 0!==n&&n.id?e.contract.id:null!=e&&null!==(i=e.contract)&&void 0!==i&&null!==(i=i.content)&&void 0!==i&&i.id?e.contract.content.id:void 0}function et(t){return["NativeAd"].includes(t)}const nt=new Set;s.OL&&function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}();class it{constructor(t){this.internalErrors=[],this.eventQueue=[],this.contentUpdateQueue=new Set,this.partialContentUpdateQueue=new Set,this.contentViewTriggerSource=i.ym.Load,this.contentViewTimeout=1e3,this.contentViewTimer=null,this.contentViewDelay=200,this.scheduledContentViewType=null,this.contentViewTimePassed=0,this.contentViewLastExecution=0,this.contentUpdateDebugQueue=new Set,this.intersectionObserverOptions={root:null,rootMargin:"0px",threshold:0},this.intersectionObserver25PercentOptions={root:null,rootMargin:"0px",threshold:.25},this.vCardContentCount=0,this.vCardContentCount25=0,this.vCardAdCount=0,this.vCardAdCount25=0,this.adsViewedArea=0,this.traceIdIndex=-1,this.maxScrollLoadTimeEvents=10,this.contentViewBeaconSent=!1,this.pageViewBeaconSent=!1,this.offsetCalculationCallback=null,this.vpOffsetFlagIsValidCallback=null,this.yieldElementsCount=20,this.hoverTimes=new Map,this.createContentVisibilityCallback=t=>e=>{this.contentVisibilityCallback(e,t)},this.onFocusCallback=()=>{this._useVisForDwell||this.contentLoaded&&this.toggleDwellTime(!0)},this.onBlurCallback=()=>{this._useVisForDwell||(this.sendPageOutOfFocusEvent({}),this.toggleDwellTime(!1))},this.toggleDwellTime=t=>{if(this.config.disableAutoCalculateDwellTime)return;let e;t?(S.start(),e="dwellTimeFocusStart"):(S.pause(),e="dwellTimePause"),this.pageMetadata.addOrUpdateTmplProperty(e,"true")},this.visibilityChangeCallback=()=>{if(!this._useVisForDwell)return;const t="visible"===document.visibilityState;this.toggleDwellTime(t)},this.batchSendScrollLoadTimeEvent=t=>{let{scrollInputType:e,scrollDuration:n,endOfFeedTime:i,potentialMissedScrollInput:r,calculateAri:o,scrollInstanceData:s}=t;if(this.scrollLoadTimeEventsBatcher)this.scrollLoadTimeEventsBatcher.defer();else{const t=t=>{let e,n,i,r,o=0;if(t.forEach(t=>{null!=t.eoft&&(e=(e||0)+t.eoft),null!=t.ari&&t.duration&&(n=(n||0)+t.ari*t.duration),t.duration&&(o+=t.duration),t.inputType&&(i||(i={}),i[t.inputType]=(i[t.inputType]||0)+1),!r&&t.potentialMissedScrollInput&&(r=t.potentialMissedScrollInput)}),o<=0||null==e&&null==n)return;const a={scrollDuration:Math.round(o)};i&&(a.scrollInputs=i),r&&(a.potentialMissedScrollInput=r),null!=e&&(a.scrollEoft=Math.round(e/o*1e4)),null!=n&&(a.scrollAri=Math.round(n/o*1e4)),s&&s.length&&(a.scrollInstanceData=[...s],s.length=0),this.sendLoadTimeEvent({markers:a})};this.scrollLoadTimeEventsBatcher=function(t,e){const{autoFlushIntervalInMs:n,maxFlushes:i}={...e};let r,o=[],s=0;const a=()=>{(null==i||s<i)&&(s++,o.length&&(t(o),o=[]))},c=()=>{n&&(r&&clearTimeout(r),r=setTimeout(a,n))};return{enqueue:t=>{o.push(t),c()},flush:a,defer:c}}(t,{maxFlushes:this.maxScrollLoadTimeEvents}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.scrollLoadTimeEventsBatcher.flush()}),window.addEventListener("beforeunload",()=>this.scrollLoadTimeEventsBatcher.flush()),this.subscribeToAppHidden&&this.subscribeToAppHidden(()=>this.scrollLoadTimeEventsBatcher.flush())}const a=o&&o();this.scrollLoadTimeEventsBatcher.enqueue({eoft:i,ari:a,duration:n,inputType:e,potentialMissedScrollInput:r})};try{this.config=t,this.config.autoCaptureContentView=void 0===t.autoCaptureContentView||t.autoCaptureContentView,this.config.beacons=t.beacons||{},this.config.beacons.PageOutOfFocus=this.config.beacons.PageOutOfFocus||{},this.config.beacons.PageOutOfFocus.disable=void 0===this.config.beacons.PageOutOfFocus.disable||this.config.beacons.PageOutOfFocus.disable,s.OL&&(this.config.disableLayoutEventManager||(this.layoutEventManager=new k,this.layoutEventManager.observe(document.documentElement)),this.clickEventManager=new b.S4,t.hydrationPromise&&t.hydrationPromise instanceof Promise?this.config.hydrationPromise.then(()=>{this.clickEventManager.observe(window,this.config.disableContextMenu)}):this.clickEventManager.observe(window,this.config.disableContextMenu),t.enableAutoHeartbeats&&!this.hbScheduler&&(this.hbScheduler=function(){const t=new Q;return Promise.allSettled([X(),new Promise(t=>window.setTimeout(t,2e3))]).then(()=>{t.start()}),t}()),window.addEventListener("beforeunload",this.unloadEventCallback.bind(this)),window.addEventListener("telemetrynodeadded",t=>{if(t&&t.detail&&t.detail.element){T.W.addElement(t.detail.element);this.getActiveIntersectionObservers().forEach(e=>{e.observe(t.detail.element)})}}),window.addEventListener("telemetrynodremoved",t=>{if(t&&t.detail&&t.detail.element){this.getActiveIntersectionObservers().forEach(e=>{e.unobserve(t.detail.element)})}}),window.addEventListener("telemetryclick",this.clickEventHandler.bind(this)),window.addEventListener("focus",this.onFocusCallback),window.addEventListener("blur",this.onBlurCallback),document.addEventListener("visibilitychange",this.visibilityChangeCallback)),this.trackingSystemList=new G,t.clientLogMaxCount=t.clientLogMaxCount||10,t.trackingSystems.forEach(e=>{e.transporterConfig.abortableFetch=t.abortableFetch,e.transporterConfig.anonCookieName=t.anonCookieName,e.transporterConfig.addNoResponse=t.addNoResponse,e.transporterConfig.ignoreClientAnidCookies=t.ignoreClientAnidCookies,e.transporterConfig.enableTraceGenerator=t.enableTraceGenerator,e.transporterConfig.enableEventsBatching=t.enableEventsBatching,e.transporterConfig.timeout=t.timeout,this.trackingSystemList.add(q.getTrackingSystem(e))})}catch(t){this.internalErrors.push({message:"Error in Telemetry Lib constructor.",error:t})}}getTrackingSystemList(){return this.trackingSystemList}setContentViewTimeout(t){this.contentViewTimeout=t}resetContentViewTimeout(){this.contentViewTimeout=y.Hb}renderTelemetryAttribute(t,e,n){return new $.$(t).render(e)}observeSingleElement(t){}observeElementTree(t){}observeShadowRoot(t){var e;null===(e=this.layoutEventManager)||void 0===e||e.observe(t)}setOffsetCalculationCallback(t){this.offsetCalculationCallback=t}setVPOffsetFlagIsValidCallback(t){this.vpOffsetFlagIsValidCallback=t}getIntersectionObserverMode(){return this.config.intersectionObserverMode||"ZeroPercentOnly"}getActiveIntersectionObservers(){const t=[];switch(this.getIntersectionObserverMode()){case"TwentyFivePercentOnly":this.viewport25PercentIntersectionObserver&&t.push(this.viewport25PercentIntersectionObserver);break;case"Both":this.viewportIntersectionObserver&&t.push(this.viewportIntersectionObserver),this.viewport25PercentIntersectionObserver&&t.push(this.viewport25PercentIntersectionObserver);break;default:this.viewportIntersectionObserver&&t.push(this.viewportIntersectionObserver)}return t}initPage(t,e,i,r,o,c){if(this.pageMetadata=new I(t,e,this.config.anonCookieName,i,this.config.overrideScrollOffset,this.config.viewTypeCallback,r,this.config.enableDwelltimeV2,o,this.config.shouldResetClientId,c),s.OL){if("IntersectionObserver"in n.g){switch(this.getIntersectionObserverMode()){case"ZeroPercentOnly":{const t=this.config.cvIntersectionObserverDelay?{...this.intersectionObserverOptions,delay:this.config.cvIntersectionObserverDelay}:this.intersectionObserverOptions;this.viewportIntersectionObserver=new IntersectionObserver(this.createContentVisibilityCallback(!1),t);break}case"TwentyFivePercentOnly":{const t=this.config.cvIntersectionObserverDelay?{...this.intersectionObserver25PercentOptions,delay:this.config.cvIntersectionObserverDelay}:this.intersectionObserver25PercentOptions;this.viewport25PercentIntersectionObserver=new IntersectionObserver(this.createContentVisibilityCallback(!0),t);break}case"Both":{const t=this.config.cvIntersectionObserverDelay?{...this.intersectionObserverOptions,delay:this.config.cvIntersectionObserverDelay}:this.intersectionObserverOptions;this.viewportIntersectionObserver=new IntersectionObserver(this.createContentVisibilityCallback(!1),t);const e=this.config.cvIntersectionObserverDelay?{...this.intersectionObserver25PercentOptions,delay:this.config.cvIntersectionObserverDelay}:this.intersectionObserver25PercentOptions;this.viewport25PercentIntersectionObserver=new IntersectionObserver(this.createContentVisibilityCallback(!0),e);break}}this.contentVisibilityCallbackPromise=(0,s.Ym)()}this.runContentVisibilityCallbacksPromise=this.config.deferContentViewIntersectionCallbacks?(0,s.Ym)():(0,s.Ym)(!0),this.viewportEventManager=new a((t,e,n)=>{this.config.autoCaptureContentView&&(this.autoSendContentViewEvent({contentViewType:t,isMeaningfulScroll:e}),n&&(null!=n.endOfFeedTime||n.calculateAri)&&this.batchSendScrollLoadTimeEvent(n))},this.config.overrideScrollOffset),window.addEventListener("telemetryviewportupdated",t=>{t&&t.detail&&t.detail.mech&&(this.contentViewTriggerSource=t.detail.mech)}),this.viewportEventManager.initListener()}}sendPageView(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.x.All,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.queueEvent("PageView",()=>{this.config.beacons&&this.config.beacons.PageView&&this.config.beacons.PageView.disable||!this.pageMetadata||(this.config.resetAppErrorCounterOnPageView&&h(),t=t||{},(0,s.uj)(t),this.contentLoaded=!1,this.config.disableAutoCalculateDwellTime||S.reset(),this.pageMetadata.update(t),n?this.pageMetadata.updateActivityId(n):e||this.updateRequestId(),this.pageMetadata.updateContract(),this.viewportEventManager.resetViewportOffset(),this.updatePageMetadata({page:{isMonetized:!1}},!0),this.pageMetadata.IsPvEvent(!0),this.trackingSystemList.sendPageViewEvent(this.pageMetadata.combinedContract,o),this.pageMetadata.IsPvEvent(!1),this.pageViewBeaconSent=!0,!a||o!==r.x.All&&o!==r.x.Comscore||fetch(y.tK),e||(this.contentViewTriggerSource=i.ym.Load,setTimeout(()=>{this.autoSendContentViewEvent({contentViewType:i.ym.Load})},1e3)),this.dispatchEvent(i.RJ,{requestId:this.pageMetadata.requestId}))})}fireCTagPixelBeacon(){this.trackingSystemList.fireCTagTrackingPixel(this.pageMetadata.combinedContract)}getRequestId(){return this.pageMetadata.requestId}getCurrentEventIndex(){return this.pageMetadata.getEventIndexInternal()}updateRequestId(t,e){this.pageMetadata.updateRequestId(t,e)}disableTrackingSystem(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.x.All;this.trackingSystemList.disable(t)}enableTrackingSystem(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.x.All;this.trackingSystemList.enable(t)}disableBeacon(t){this.config.beacons[t]||(this.config.beacons[t]={}),this.config.beacons[t].disable=!0}enableBeacon(t){this.config.beacons[t]||(this.config.beacons[t]={}),this.config.beacons[t].disable=!1}disableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!0}enableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!1}updatePageConfiguration(){let t;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(e=>{t|=e}),this.pageMetadata.updatePageConfiguration(t)}updatePageMetadata(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&this.pageMetadata.update(t,e)}addOrUpdateCustomProperty(t,e){this.pageMetadata.addOrUpdateCustomProperty(t,e)}removeCustomProperty(t){this.pageMetadata.removeCustomProperty(t)}addOrUpdateJoinIdProperty(t,e){this.pageMetadata.addOrUpdateJoinIdProperty(t,e)}addOrUpdateTmplProperty(t,e){this.pageMetadata.addOrUpdateTmplProperty(t,e)}removeTmplProperty(t){this.pageMetadata.removeTmplProperty(t)}addOrUpdateTmplString(t){if(!t)return;const e=t.split(";");for(let t=0;t<e.length;t++){const n=e[t].split(":");2===n.length?this.addOrUpdateTmplProperty(n[0],n[1]):1===n.length&&this.addOrUpdateTmplProperty(n[0])}}removeTmplString(t){if(!t)return;const e=t.split(";");for(let t=0;t<e.length;t++){const n=e[t].split(":");n&&n.length&&this.pageMetadata.removeTmplProperty(n[0])}}useVisForDwell(t){if(this._useVisForDwell===t)return;t&&this.pageMetadata.addOrUpdateTmplProperty("useVisForDwell","1"),this._useVisForDwell=t;const e=this.isDwellTimeActive();t&&!e&&"visible"===document.visibilityState?this.toggleDwellTime(!0):t||!e||document.hasFocus()||this.toggleDwellTime(!1)}addOrUpdateIdxId(t,e){if(t){e&&(delete this.pageMetadata.JoinIdProps[i.kN],this.traceIdIndex=-1);const n=this.pageMetadata.getJoinId(i.kN),r=n?`${n},${t}`:t;return this.pageMetadata.addOrUpdateJoinIdProperty(i.kN,r),this.traceIdIndex+=1,this.traceIdIndex}}sendActionEvent(t,e,n,r,a){let c=null;const{enableMouseDwellTime:u,mouseDwellCardTypePrefixs:l=[],enableVPOffsetOnClick:d,cardsForVPOffset:f}=this.config;u&&l.some(e=>t.tagName.startsWith(e))&&(c=(0,s.zm)(t,!0),"mouseenter"===e)?this.hoverTimes.set(c,Date.now()):this.queueEvent("UserAction",()=>{if(!(this.config.beacons&&this.config.beacons.UserAction&&this.config.beacons.UserAction.disable)&&this.pageMetadata&&t){const h=t;T.W.updateLayout();const p=this.clickEventManager.getTelemetryClickTarget(t);let m;p&&(t=p),m=t.getAttribute&&t.getAttribute(i.i),t.parentElement&&!m&&(m=(t=t.parentElement).getAttribute&&t.getAttribute(i.i));let g=T.W.get(t);if(!g){const t=T.W.parseAttribute(m);t&&(g=new T.W(t))}if(this.pageMetadata&&g){a&&((0,s.J1)(h,this.pageMetadata.contract.page.ocid),(0,s.eq)(h,this.pageMetadata.contract.page.partnerTrackingCode),(0,s.UG)(h,this.pageMetadata.requestId,this.config.useRidAsCvid),(0,s.YC)(h,this.pageMetadata.contract.page.uxMode),(0,s.yO)(h,this.pageMetadata.getEventIndexInternal()+1)),this.config.destinationUrlHash&&(0,s.KS)(h,this.config.destinationUrlHash);const i=t.getAttribute("action")||t.form&&t.form.getAttribute("action"),p=e||g.contract.action,m=void 0===n?g.contract.behavior:n;let v=g.contract.overrideDestinationUrl||(0,s.AY)(r)&&r||t.getAttribute("href")||i;if(this.config.customProtocolOverride&&((0,s.gk)(h,this.config.customProtocolOverride,v),t.hasAttribute("originalhref")&&(v=t.getAttribute("originalhref"))),v&&!v.startsWith("mailto:")?!0===g.contract.overrideEmailIdScrubbing||(0,s.O8)(v)?g.contract.destinationUrl=v:(g.contract.destinationUrl="",this.sendAppErrorEvent({id:54301,severity:0,message:"Email found in the destination url",pb:g.combinedContract})):g.contract.destinationUrl="",p===o.EG.RightClick&&m===o.MS.ContextMenu&&!(g&&g.contract&&g.contract.destinationUrl))return;if(u&&"mouseleave"===e&&l.some(t=>h.tagName.startsWith(t))){if(!this.hoverTimes.has(c))return;const t=Date.now()-this.hoverTimes.get(c);this.hoverTimes.delete(c),g.contract.ext=g.contract.ext||{},g.contract.ext.mouseDwellTime=t}if(d&&null==p&&this.offsetCalculationCallback){const e=t.getRootNode();if(e instanceof ShadowRoot){const t=e.host;if(t instanceof HTMLElement){const e=[[t,g]];this.offsetCalculationCallback(e,{cardsForVPOffset:f})}}}this.trackingSystemList.sendActionEvent(g.combinedContract,this.pageMetadata.combinedContract,null==p?o.EG.Click:p,null==m?o.MS.Navigate:m),g.contract&&g.contract.triggerPageView&&m===o.MS.Navigate&&this.sendPageView(null,!1)}}})}scheduleContentViewEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ym.Partial,e=arguments.length>1?arguments[1]:void 0;if(!s.OL)return;const n=(new Date).getTime();this.contentViewTimePassed=n-this.contentViewLastExecution,this.contentViewTimePassed<=this.contentViewDelay&&t!==i.ym.Partial||(this.contentViewLastExecution=n,this.contentViewTimer&&this.scheduledContentViewType===t&&window.clearTimeout(this.contentViewTimer),this.contentViewTimer=window.setTimeout(()=>this.autoSendContentViewEvent({contentViewType:t}),e||this.contentViewTimeout),this.scheduledContentViewType=t)}sendContentViewEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ym.Partial,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.queueEvent("ContentView",()=>{if(this.config.beacons&&this.config.beacons.ContentView&&this.config.beacons.ContentView.disable||!this.pageMetadata)return;T.W.updateLayout();const i=(0,s.Ir)(t),r=[];if(i&&i.length>0){for(let t=0;t<i.length;t++){const e=i[t],o=T.W.get(e);o&&(!n||this.contentUpdateQueue.has(e)||this.partialContentUpdateQueue.has(e))&&(this.setIsMonetizedFlag(o.combinedContract),r.push(o.combinedContract))}this.trackingSystemList.sendContentViewEvent(r,this.pageMetadata.combinedContract,{contentViewType:e})}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())})}sendAppErrorEvent(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.config.ignoreAppErrorCounter||!function(t){if(!t||!t.id)return!0;f.has(t.id)||f.set(t.id,0);const e=f.get(t.id)+1;return f.set(t.id,e),3===t.severity&&e>25||3!==t.severity&&e>10}(t))if(function(t){if(!t)return!1;const{pb:e,severity:n=u.A.Alert}=t;if(e&&e.shouldSampleErrorsForTreatement1)switch(n){case u.A.Deprecated:return p(1);case u.A.Alert:return p(10);default:return!0}const i=e&&e.isDebugPage||!1,r=e&&e.samplePct||0;if(!i){if(n===u.A.Deprecated)return p(1);if(r>0)return p(r)}return!0}(t)||this.config.shouldNotSampleErrors){if(!(this.config.beacons&&this.config.beacons.AppError&&this.config.beacons.AppError.disable)&&this.pageMetadata)if(function(t){const{pb:e,severity:n=1}=t;return 3!==n&&!(!e||!e.shouldDelayUntilLoadTime)}(t)){const n={...t,pb:{...t.pb,delayed:1}};d.then(()=>{this.queueAppErrorEvent(n,e)})}else this.queueAppErrorEvent(t,e)}else e&&(console.error(JSON.stringify(t)),console.error(`This App error Id: ${t.id} will not be sent due to app error sampling!`));else e&&(console.error(JSON.stringify(t)),console.error(`App errors throttled for Id: ${t.id}`))}sendLoadTimeEvent(t){if("undefined"!=typeof window&&!0===window.__throttleLoadTime){const e=this.getRequestId(),n=this.config.loadTimeMaxCount??5;if(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(!t||!e)return!0;const r=Math.min(Math.max(n,1),i);w.has(e)||w.set(e,0);const o=(w.get(e)||0)+1;return w.set(e,o),o>r}(t,e,n,10))return void(console&&console.error&&console.error(`LoadTime event throttled for request ID: ${e}. Maximum allowed: ${Math.min(n,10)} events per request ID.`))}const e=this.config.enableCustomDiagnostic?"LoadTimeDiag":"LoadTime";this.sendEvent(e,t),l(),m()}sendFeedbackEvent(t){this.sendEvent("Feedback",t)}sendAdImpressionEvent(t){this.sendEvent("AdImpression",t)}sendAdFeedbackEvent(t){this.sendEvent("AdFeedback",t)}sendVideoPlayEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.config.beacons&&this.config.beacons.VideoPlay&&this.config.beacons.VideoPlay.disable)return;const i=n?"VideoAdPlay":"VideoPlay";e&&T.W.updateLayout();const r=e?T.W.get(e):void 0,o=r?r.combinedContract:{};if(t){const e={...o,...t};return void this.trackingSystemList.sendEventPayload(i,{object:e},this.pageMetadata.combinedContract)}e&&this.pageMetadata&&r&&this.trackingSystemList.sendEventPayload(i,{object:o},this.pageMetadata.combinedContract)}sendGamePlayEvent(t,e){if(!(this.config.beacons&&this.config.beacons.GamePlay&&this.config.beacons.GamePlay.disable)&&e){T.W.updateLayout();const n=T.W.get(e);if(this.pageMetadata&&n){const e={object:{...n.combinedContract,...t}};this.trackingSystemList.sendEventPayload("GamePlay",e,this.pageMetadata.combinedContract)}}}sendAudioPlayEvent(t,e){if(!(this.config.beacons&&this.config.beacons.AudioPlay&&this.config.beacons.AudioPlay.disable)&&e){T.W.updateLayout();const n=T.W.get(e);if(this.pageMetadata&&n){const e={object:{...n.combinedContract,...t}};this.trackingSystemList.sendEventPayload("AudioPlay",e,this.pageMetadata.combinedContract)}}}sendServerLogEvent(t){this.sendEvent("ServerLog",t)}sendAppPerfTraceEvent(t){this.sendEvent("AppPerfTrace",t)}sendAuthEvent(t){this.sendEvent("Auth",t)}sendHeartBeatEvent(t){this.sendEvent("HeartBeat",t)}sendClientLogEvent(t){if(this.config.enableSendClientLogEvent){var e,n;const{isRestrictClientLogSize:r,maxClientLogSize:o}=(null===(e=this.pageMetadata)||void 0===e||null===(e=e.contract)||void 0===e?void 0:e.featureFlags)||{};if(!r){if(!function(t,e){try{var n;return(t&&(null===(n=JSON.stringify(t))||void 0===n?void 0:n.length)||0)<=e}catch(t){return!0}}(t,"number"==typeof o?o:6144))return void this.sendEvent("ClientLog",t)}if(null===(n=this.pageMetadata)||void 0===n||null===(n=n.contract)||void 0===n||null===(n=n.featureFlags)||void 0===n||!n.throttleClientLogs)return void this.sendEvent("ClientLog",t);if(!s.OL)return void this.sendEvent("ClientLog",t);i=this.config.clientLogMaxCount,v++,v>i||g.then(()=>{this.sendEvent("ClientLog",t)})}var i}sendPageOutOfFocusEvent(t){this.queueEvent("PageOutOfFocus",()=>{this.config.beacons&&this.config.beacons.PageOutOfFocus&&this.config.beacons.PageOutOfFocus.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("PageOutOfFocus",null,this.pageMetadata.combinedContract)})}sendUnloadEvent(){this.queueEvent("Unload",()=>{this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||!this.pageMetadata||"undefined"!=typeof window&&!1===window.__sendUnloadTelemetry||this.trackingSystemList.sendEventPayload("Unload",null,this.pageMetadata.combinedContract)})}sendTraceInfoEvent(t){this.queueEvent("TraceInfo",()=>{this.config.beacons&&this.config.beacons.TraceInfo&&this.config.beacons.TraceInfo.disable||!this.pageMetadata||this.sendEvent("TraceInfo",t)})}getPageMetadata(){return this.pageMetadata}flush(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=t=>!(e&&e!==t.eventType||n&&n===t.eventType);for(const t of this.eventQueue)"function"==typeof t.callback&&i(t)&&t.callback();this.eventQueue=this.eventQueue.filter(t=>!i(t)),this.config.useEventQueue=!t}empty(){this.eventQueue=[]}enableEventQueue(){this.config.useEventQueue=!0}disableEventQueue(){this.config.useEventQueue=!1}addEventTypeToForceQueueList(t){this.config.forceUseEventQueueList||(this.config.forceUseEventQueueList=[]),this.config.forceUseEventQueueList.push(t)}removeEventTypeFromForceQueueList(t){this.config.forceUseEventQueueList&&(this.config.forceUseEventQueueList=this.config.forceUseEventQueueList.filter(e=>e!==t))}startDwellTime(){S.start()}pauseDwellTime(){S.pause()}pauseDwellTimeV2(){S.pauseV2()}resetDwellTime(){S.reset()}isDwellTimeActive(){return S.getIsActive()}setDwellTime(t,e){S.setDwellTime(t,e)}setDwellTimeV2(t,e){S.setDwellTimeV2(t,e)}getDwellTime(){return S.getDwellTime()}clickEventHandler(t){if(t&&t.detail&&t.detail.element&&this.pageMetadata){const e=t.detail.element;this.sendActionEvent(e,t.detail.action,t.detail.behavior,void 0,!0),e.attributes&&e.attributes.href&&e.attributes.href.value&&e.attributes.href.value.startsWith&&"function"==typeof e.attributes.href.value.startsWith&&e.attributes.href.value.startsWith("mailto:")&&(this.ignoreUnload=!0)}}queueAppErrorEvent(t){var e,n;let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o="AppError";!this.config.enableCustomDiagnostic||null!==(e=(n=this.config).shouldAppErrorEscapeCustomDiagnostic)&&void 0!==e&&e.call(n,t)||(o="AppErrorDiag"),this.queueEvent(o,()=>{if(this.trackingSystemList.sendCustomEvent(o,t,this.pageMetadata.combinedContract),r){const e=new Date+": "+ +new Date+" "+JSON.stringify(t);console.error(e)}this.dispatchEvent(i.xB,{error:t})})}unloadEventCallback(){this.ignoreAutoUnloadCallback||this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||(this.pageMetadata&&!this.ignoreUnload&&this.sendUnloadEvent(),this.ignoreUnload=!1)}setIsMonetizedFlag(t){t&&t.isMonetized&&this.updatePageMetadata({page:{isMonetized:!0}},!0)}autoSendContentViewEvent(t){this.queueEvent("ContentView",()=>{if(this.pageMetadata){let n;if(T.W.updateLayout(),t.contentViewType!==i.ym.Partial&&this.contentUpdateQueue&&this.contentUpdateQueue.size>0?n=this.contentUpdateQueue:this.partialContentUpdateQueue&&this.partialContentUpdateQueue.size>0&&(n=this.partialContentUpdateQueue),n){var e;const{enableViewportOffset:r,cardsForVPOffset:o}=this.config,s=[];let a=[];const c=r&&!!this.vpOffsetFlagIsValidCallback&&this.vpOffsetFlagIsValidCallback();if([...n].forEach(e=>{const n=T.W.get(e);if(n&&(t.contentViewType!==i.ym.Partial||!n.isCaptured)){n.isCaptured=!0;const t=n.combinedContract;this.setIsMonetizedFlag(t),c?s.push(n):t&&a.push(t)}}),c&&this.offsetCalculationCallback&&s.length>0){const t=s.map(t=>[t.element,t]);this.offsetCalculationCallback(t,{cardsForVPOffset:o}),a=s.map(t=>t.combinedContract).filter(t=>t)}const u={},l={};let d=!1,f=!1;(null===(e=this.viewportEventManager)||void 0===e?void 0:e.contentViewedArea)>0&&(l.contentViewedArea=this.viewportEventManager.contentViewedArea,f=!0),this.adsViewedArea>0&&(l.adViewedArea=this.adsViewedArea,f=!0),this.vCardContentCount>0&&(u.vCardContentCount=this.vCardContentCount,d=!0),this.vCardContentCount25>0&&(u.vCardContentCount25=this.vCardContentCount25,d=!0),this.vCardAdCount>0&&(u.vCardAdCount=this.vCardAdCount,d=!0),this.vCardAdCount25>0&&(u.vCardAdCount25=this.vCardAdCount25,d=!0);d||f?this.trackingSystemList.sendContentViewEvent(a,this.pageMetadata.combinedContract,t,d?u:void 0,f?l:void 0):this.trackingSystemList.sendContentViewEvent(a,this.pageMetadata.combinedContract,t),this.contentViewBeaconSent=!0,this.partialContentUpdateQueue.clear(),this.contentViewTriggerSource=null}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}})}runContentVisibilityCallbacks(){var t;null===(t=this.runContentVisibilityCallbacksPromise)||void 0===t||t.resolve()}applyAnidOverride(t){this.trackingSystemList.applyAnidOverride(t)}updateCustomProtocolOverride(t){this.config.customProtocolOverride=t}yieldAsync(){return new Promise(t=>setTimeout(t,0))}trackVCardElement(t,e){const n=function(t,e,n,i){if(!e&&!n)return;const r=T.W.get(t),o=tt(t,r);if(!o)return;const s=i?Z:Y;if(!s.has(o)&&r){var a,c;const t=(null===(a=r.contract)||void 0===a?void 0:a.name)||"";if(e&&et(t))return s.add(o),{type:"ad"};const i=(null===(c=r.contract)||void 0===c||null===(c=c.ext)||void 0===c?void 0:c.ct1s)||"";if(n&&function(t,e){if(["ContentCard","SuperSDCard","BingVideo_Carousel","RiverGem"].includes(t))return!0;const n=[{name:"destination",ct1s:"DigestCard"}];for(const i of n)if(i.name===t&&i.ct1s===e)return!0;return!1}(t,i))return s.add(o),{type:"content"}}}(t,this.config.advCardTracking,this.config.contentvCardTracking,e);if(!n)return;const i="ad"===n.type;e?i?this.vCardAdCount25++:this.vCardContentCount25++:i?this.vCardAdCount++:this.vCardContentCount++}trackAdViewAreaElement(t){if(!this.config.enableAdDensityTracking)return;const e=function(t){const e=T.W.get(t),n=tt(t,e);if(n&&!nt.has(n)&&e&&e.contract&&et(e.contract.name||"")){var i,r;const t=((null===(i=e.contract.ext)||void 0===i?void 0:i.height)||0)*((null===(r=e.contract.ext)||void 0===r?void 0:r.width)||0);if(t>0)return nt.add(n),t}}(t);e&&(this.adsViewedArea+=e)}contentVisibilityCallback(t,e){var n;const r=async n=>{const r="Both"!==this.getIntersectionObserverMode()||!e;for(let i=0;i<t.length;i++){n&&i>0&&i%this.yieldElementsCount===0&&await this.yieldAsync();const a=t[i];var o,s;if(a.isIntersecting)r&&this.contentUpdateQueue.add(a.target),this.trackVCardElement(a.target,e),this.trackAdViewAreaElement(a.target),!r||this.contentViewTriggerSource||this.config.enableNoPartialContentView&&!((null===(o=T.W.get(a.target))||void 0===o||null===(s=o.getShouldTrackPartialContentUpdate)||void 0===s?void 0:s.call(o))??1)||this.partialContentUpdateQueue.add(a.target);else r&&(this.contentUpdateQueue.delete(a.target),this.partialContentUpdateQueue.delete(a.target));0}r&&!this.contentViewTriggerSource&&this.config.autoCaptureContentView&&this.scheduleContentViewEvent(i.ym.Partial,500),this.contentUpdateQueue.size&&this.contentVisibilityCallbackPromise&&this.contentVisibilityCallbackPromise.resolve()};this.config.deferContentViewIntersectionCallbacks&&null!==(n=this.runContentVisibilityCallbacksPromise)&&void 0!==n&&n.promise?this.runContentVisibilityCallbacksPromise.promise.then(()=>r(this.config.shouldYieldCVCallback)):r(this.config.shouldYieldCVCallback)}sendEvent(t,e){this.queueEvent(t,()=>{this.config.beacons&&this.config.beacons[t]&&this.config.beacons[t].disable||!this.pageMetadata||this.trackingSystemList.sendCustomEvent(t,e,this.pageMetadata.combinedContract)})}queueEvent(t,e){this.config.eventTypeAllowList&&!this.config.eventTypeAllowList.includes(t)||(this.config.useEventQueue||this.config.forceUseEventQueueList&&this.config.forceUseEventQueueList.includes(t)?this.eventQueue.push({eventType:t,callback:e}):e())}dispatchEvent(t,e){s.OL&&setTimeout(()=>dispatchEvent(new CustomEvent(t,{detail:e})),0)}startAutoDwellTime(){(document.hasFocus()||this.config.startDwellOnPageVisible&&"visible"===document.visibilityState)&&!this.config.disableAutoCalculateDwellTime&&(document.hasFocus()||this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStartedWithoutFocus","true"),S.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStart","true"))}waitForContentVisibilityObserverInit(){return this.contentVisibilityCallbackPromise?this.contentVisibilityCallbackPromise.promise:Promise.resolve()}isEventInQueue(t){return this.eventQueue.some(e=>e.eventType===t)}getQueuedEventCount(){return this.eventQueue.length}isContentViewBeaconSent(){return this.contentViewBeaconSent}isPageViewBeaconSent(){return this.pageViewBeaconSent}initScrollPerformanceTrackers(t){if(!this.viewportEventManager)return;null!=t&&t.scrollContainer&&this.viewportEventManager.initListener(null==t?void 0:t.scrollContainer),this.subscribeToAppHidden=null==t?void 0:t.subscribeToAppHidden;n.e("scrollPerfMetricTrackers").then(n.bind(n,19171)).then(e=>{let{createEndOfFeedTimeTracker:n,createAppResponsivenessTracker:i,createScrollInputTracker:r}=e;const o=n({scrollContainer:null==t?void 0:t.scrollContainer,scrollEventName:null==t?void 0:t.scrollEventName}),s=i(),a=(null==t?void 0:t.enableScrollInputTracking)&&r&&r(null==t?void 0:t.enableMissedScrollTracking,null==t?void 0:t.enableSectionScrollTracking,t.scrollContainer);this.viewportEventManager.initScrollPerformanceTrackers({endOfFeedTimeTracker:o,appResponsivenessTracker:s,scrollInputTracker:a})})}}},63608:function(t,e,n){n.d(e,{Y:function(){return o},y:function(){return r}});var i=n(88294);function r(t){const e=[];return t&&s(t,e),e.join(",")}function o(t){return t&&!t.startsWith("_")}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=Object.keys(t).filter(o).sort();for(const o of r){const r=t[o];if(null==r)continue;const a=`${n}${n?".":""}${o}`;if("object"==typeof r)s(r,e,a);else{if(!(e.length<100)){i.v.logError("getSortedObjectKeyValuesDeep: circular reference suspect");break}e.push(`${a}=${r.toString().toLowerCase()}`)}}}},63988:function(t,e,n){n.d(e,{MV:function(){return _},d7:function(){return I},j5:function(){return M}});var i=n(45084),r=n(26555),o=n(693),s=n(6383),a=n(5283),c=n(65022),u=n(4891),l=n(27791),d=n(44449),f=n(98216),h=n(17254);const p=(0,d.sx)(c._0l,"checkConfigType")((t,e)=>e.template.configType===t.configType),m=(0,d.sx)(c._0l,"checkRegion")((t,e)=>t.region.includes(e.region)),g=(0,d.sx)(c._0l,"checkAllAssets")((t,e)=>!!(0,o.A)(t.requiredAssetsAll)||t.requiredAssetsAll.every(t=>{var n,r;return!(0,o.A)(null==e||null===(n=e.items[0])||void 0===n?void 0:n.assets)&&Object.keys(null==e||null===(r=e.items[0])||void 0===r?void 0:r.assets).some(e=>t===i.eO[e])})),v=(0,d.sx)(c._0l,"checkAnyAssets")((t,e)=>!!(0,o.A)(t.requiredAssetsAny)||t.requiredAssetsAny.some(t=>{var n,r;return!(0,o.A)(null==e||null===(n=e.items[0])||void 0===n?void 0:n.assets)&&Object.keys(null==e||null===(r=e.items[0])||void 0===r?void 0:r.assets).some(e=>t===i.eO[e])})),w=(0,d.sx)(c._0l,"checkAdCount")((t,e)=>e.items.length<=(t.maxAdCount||1)),y=(0,d.sx)(c._0l,"checkMultiImage")((t,e)=>{var n;return!t.multiImage||(null===(n=e.items[0])||void 0===n||null===(n=n.images)||void 0===n?void 0:n.length)>1}),b=(0,d.sx)(c._0l,"checkDiscountThreshold")((t,e)=>{var n;return!t.discountThreshold||!(null!==(n=e.items[0])&&void 0!==n&&n.assets)||t.discountThreshold<=e.items[0].assets.discount}),S=(0,d.sx)(c._0l,"checkRatio")((t,e)=>{var n,i;return!t.supportedImageRatios||(null===(n=t.supportedImageRatios)||void 0===n?void 0:n.includes(null==e||null===(i=e.template)||void 0===i?void 0:i.desiredRatio))}),x=(0,d.sx)(c._0l,"setTemplate")((t,e)=>{e.template.templateType=t.template instanceof Function?t.template(t,e):t.template,e.template.dynamicRenderingConfig=t.dynamicRenderingConfig&&t.dynamicRenderingConfig(e)}),C=(0,d.sx)(c._0l,"filterAssets")((t,e)=>{var n,c,u,l;if(null!=e&&null!==(n=e.template)&&void 0!==n&&n.enableVA||null!=e&&null!==(c=e.template)&&void 0!==c&&c.enableVAPhase2)return;const d=(0,a.A)([...i.rQ,...(null==e||null===(u=e.template)||void 0===u?void 0:u.allowedAssets)||[],...(null==e||null===(l=e.template)||void 0===l?void 0:l.auctionCallAssets)||[],...t.supportedAssets||[],...t.requiredAssetsAll||[],...t.requiredAssetsAny||[]]);(0,r.A)(e.items,t=>{if((0,o.A)(d)||(0,o.A)(null==t?void 0:t.assets))return void delete t.assets;const e=(0,s.A)(t.assets,(t,e,n)=>(d.includes(i.eO[n])&&(t[n]=e),t),{});t.assets=e})}),k=(0,d.sx)(c._0l,"updateImageRatio")((t,e)=>{var n,i;if(!t.supportedImageRatios||!t.targetImageRatio)return;let o;const s=u.IT.includes(e.region)?"infopane":"river";e.items.forEach(e=>{const n=(0,l.GZ)(e,t.targetImageRatio,!1,s);o||(o=n),e.images&&(0,r.A)(e.images,e=>{e.ext&&e.ext.originalImageWidth&&e.ext.originalImageHeight&&(0,l.GZ)(e,t.targetImageRatio,!0,s)})}),null!==(n=o)&&void 0!==n&&n.h&&null!==(i=o)&&void 0!==i&&i.w&&(e.template.desiredHeight=o.h.toString(),e.template.desiredWidth=o.w.toString())}),T=(0,d.sx)(c._0l,"trimProviderName")((t,e)=>{e&&e.items&&e.items.forEach(t=>{t.providerName&&(t.providerName=I(t.providerName,t.destinationUrl))})}),$=h.T3.CurrentRequestTargetScope&&h.T3.CurrentRequestTargetScope.pageExperiments,A=$&&$.includes("prg-ad-ivq"),I=(0,d.sx)(c._0l,"trimProviderNameHelper")((t,e)=>{if(!t)return"";A&&f.YT.sendClientLogEvent({message:"Before trimming provider name",pb:{providerName:t},type:"information"});const n=t.trim();try{let i=n;n.startsWith("http://")||n.startsWith("https://")||(i="https://"+n),new URL(i);const r=n.match(/^(www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+)/);return r?n.length-r[2].length===1?n:(A&&r[2]!==n&&f.YT.sendClientLogEvent({message:"After trimming provider name",pb:{providerNameBeforeTrimming:t,providerNameAfterTrimming:r[2],adUrl:e},type:"information"}),r[2]):n}catch(t){return n}}),P=(0,d.sx)(c._0l,"updateLayoutColor")((t,e)=>{e&&e.items&&e.items.forEach(t=>{t.images&&t.images.forEach(t=>{t&&t.ext&&t.ext.layoutColor&&(t.ext.layoutColor.startsWith("#")||(t.ext.layoutColor="#"+t.ext.layoutColor))})})}),_=[p,m,g,v,w,b,y,S],M=[x,C,k,T,P]},64065:function(t,e,n){n.d(e,{g:function(){return c}});var i=n(65022),r=n(93468),o=n(51518),s=n(77246),a=n(12870);function c(t){var e;const{tier:n}=t||{},{ClientSettings:c}=a.Rb;if(!(0,s.S)()||!c||c.static_page||!(0,o.E)(5))return;const u=null===(e=c.detection)||void 0===e?void 0:e.tier;u&&n&&u!==n&&(0,r.vV)(i.AEE,"Traffic tier mismatch between PCS and 1S",void 0,{pcsTrafficTier:u,oneServiceTrafficTier:n})}},64281:function(t,e,n){n.d(e,{BA:function(){return s},Gy:function(){return d},L5:function(){return l},Wh:function(){return c},aU:function(){return o},cs:function(){return a},kw:function(){return i},zo:function(){return u}});class i{}i.byName=t=>e=>(null==e?void 0:e.name)===t;class r{}function o(t,e){return f(t,[{condition:e,action:arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.identity()}])}function s(t,e,n){return o(t,i.byName(e),r.replaceWith(n))}function a(t,e,n){const o=[];for(let t=0;t<e.length;t++)o.push({condition:i.byName(e[t]),action:r.replaceWith(n[t])});return f(t,o)}function c(t,e,n){return o(t,i.byName(e),r.extendFields(n))}function u(t,e,n){const o=[];for(let t=0;t<e.length;t++)o.push({condition:i.byName(e[t]),action:r.extendFields(n[t])});return f(t,o)}function l(t,e,n,s){return o(t,i.byName(e),r.spliceChildren(n,s))}function d(t,e,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;return o(t,i.byName(e),r.spliceChildren(n,s,a))}function f(t,e){if((t=e.reduce((t,e,n,i)=>{const{condition:r,action:o}=e;return r(t)?(i[n]=null,o(t)):t},t)).children){const n=t.children.map(t=>f(t,e.filter(t=>t)));return{...t,children:n}}return t}r.identity=()=>t=>t,r.replaceWith=t=>()=>t,r.extendFields=t=>e=>({...e,...t}),r.spliceChildren=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return i=>{const r=[...i.children||[]];return r.splice(t,n,...e),{...i,children:r}}}},64405:function(t,e,n){n.d(e,{U:function(){return E}});var i=n(1350),r=n(93468),o=n(65022),s=n(17254),a=n(12870),c=n(28868);function u(t){return new Promise((e,n)=>{!function(t,e){(0,c.lA)("getUserInfo",t,e)}(t,t=>{e(t)})})}var l=n(56639);const d=(t,e)=>new URL(e).searchParams.get(t)||null;var f=n(90454);function h(t,e){(0,f.Rl)({type:"Failure",name:"HP_WEBVIEW_APP_ERROR",error:e,data:{error:t,customMessage:e}})}function p(t){return new Promise((e,n)=>{!function(t,e){(0,c.lA)("loadData",t,e)}(t,t=>{e(t)})})}function m(t){return new Promise((e,n)=>{!function(t,e){(0,c.lA)("saveData",t,e)}(t,t=>{e(t)})})}var g=n(89980);var v=n(61825);const w="mobileAccessToken",y=(0,g.Lg)();async function b(){if(!A())return null;try{let t=y.getItem(w);if(!t)try{t=await function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Error("Promise timed out");const i=new Promise((t,i)=>{setTimeout(()=>{i(n)},e)});return Promise.race([t,i])}(p({TOKEN_CACHE_KEY:w}),800).then(t=>t?JSON.parse(t).value:null)}catch(t){(0,r.c_)(t,o.zhT,"Exception occurred while parsing JSON from native cache"+w)}if(!t)return null;const e=JSON.parse(t);if(function(t){if(!t.token)return!1;if(!function(t){const e=(0,l.s_)();if(null!=e&&e.userId&&t.userId)return e.userId===t.userId;if(null!=e&&e.userEmail&&t.userEmail)return e.userEmail===t.userEmail;return $()===t.muid}(t))return!1;return!x(t.expiresOn)}(e)){window.performance.mark("EdgeMobileValidCachedToken",{startTime:1});return{...e,token:v.o4.decode(e.token)}}e.token&&(window.performance.mark("EdgeMobileInvalidCachedToken",{startTime:1}),S({token:""}))}catch(t){(0,r.c_)(t,o.ukq,"Exception occurred while reading content from cache"+w)}return null}function S(t){if(!A())return;const{userId:e,userEmail:n}=(0,l.s_)()??{};try{const i={...t,token:v.o4.encode(t.token),userId:e,userEmail:n,muid:$()},s=JSON.stringify(i);y.setItem(w,s),m({TOKEN_CACHE_KEY:w,value:s}).catch(t=>{(0,r.c_)(t,o.hyX,"Exception occurred while writing content to native cache"+w)})}catch(t){(0,r.c_)(t,o.hyX,"Exception occurred while writing content to cache"+w)}}function x(t){const e=(new Date).getTime();return!t||t<=e}let C,k,T;function $(){if(void 0===C){const t=I();C=t.fd_muid}return C}function A(){if(void 0===k){const{browser:t}=I(),{browserType:e=""}=t||{};k=/edgeiOS/i.test(e)}return!!k}function I(){if(void 0===T)try{var t;const e=null===(t=document.head)||void 0===t?void 0:t.getAttribute("data-client-settings");T=e?JSON.parse(e):void 0}catch(t){}return T??{}}let P=!1;async function _(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await async function(){try{return(0,l.s_)()||await async function(){const t=await u({});try{const e=JSON.parse(t),n=window.location.href,i=e.accountType??Object.values(e).find(t=>"MSA"===t||"AAD"===t),r=e.isSignedIn??(i&&("MSA"===i||"AAD"===i)),s="true"===d("isSignedIn",n);if(void 0===window._isSignedInMismatchReported&&(window._isSignedInMismatchReported=!1),!1===window._isSignedInMismatchReported&&s!==r&&(window._isSignedInMismatchReported=!0,Array.isArray(window._EMDelayedErrorLogs))){const t={type:o.x4r,message:"QSP vs UserInfo mismatch",customMessage:`isSignedIn (QSP: ${s}, bridge: ${r}); accountType: ${i}`};window._EMDelayedErrorLogs.push(t)}(0,l.Mo)({...e,accountType:i,isSignedIn:r})}catch(t){h(t,"SapphireUserConfig.getUserInformationInternal: Failed to parse response")}}(),(0,l.s_)()??{}}catch(t){return(0,r.c_)(t,o.Zir,"getUserInfoAsyncFailed: Failed to retrieve user information",`Error message: ${t.message}`),{}}}();if(!Object.keys(n).length)return null;if(n.isSignedIn){if(!(e||!n.accessToken||n.accessTokenExpiresOn&&x(n.accessTokenExpiresOn)))return{token:n.accessToken};{if(!e&&"MSA"===n.accountType){const t=await b();if(t)return t}if(P)return null;if(!n.accountType){(0,r.vV)(o.y$v,"getAccessTokenByOAuth: Received empty accountType","Account type is missing in user information.");return h(new Error("received empty accountType"),"empty accountType"),null}let i;try{i=await u({refresh:!0,accountType:n.accountType,type:"AccessToken",scope:t})}catch(t){return(0,r.c_)(t,o.Zir,"getAccessTokenByOAuth: Failed to retrieve user info asynchronously",`Error message: ${t.message}`),null}try{const t=JSON.parse(i);if(!t||!1===t.succeed)return((null==t?void 0:t.reason)??"").includes("InteractionRequired")&&(P=!0),(0,r.vV)(o.cCu,"getAccessTokenByOAuth: Failed to retrieve access token",`Access token info: ${JSON.stringify(t)}`),null;if(t.succeed){if(t.expiresOn&&x(t.expiresOn))return(0,r.vV)(o.fhS,"getAccessTokenByOAuth: access token is expired",`Access token info: ${JSON.stringify(t)}`),null;const e=t.accessToken.startsWith("t=")?t.accessToken.substring(2):t.accessToken;e&&(0,l.Mo)({...n,accessToken:e});const i={token:e,expiresOn:t.expiresOn};return i.expiresOn&&("MSA"===n.accountType&&S(i),n.accessTokenExpiresOn=i.expiresOn),i}if(Object.keys(t).length>0){let e=Object.values(t).find(t=>t&&"boolean"!=typeof t&&"AAD"!==t)||null;return e&&(e=e.startsWith("t=")?e.substring(2):e,(0,l.Mo)({...n,accessToken:e})),{token:e}}}catch(t){(0,r.c_)(t,o.V77,"getAccessTokenByOAuth: Failed to parse access token",`Failed to parse ${n.accountType} access token`),h(t,`SapphireUserConfig.getAccessTokenByOAuth: Failed to parse ${n.accountType} access token`)}}}return!1!==n.isSignedIn&&(0,r.vV)(o.cCu,"getAccessTokenByOAuth: User is signed in but access token does not exist or is empty",`User information: ${JSON.stringify(n)}`),null}var M=n(77246);let R;async function E(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===R&&(R="edgeMobile"===(null===s.T3||void 0===s.T3?void 0:s.T3.AppType)),R&&"bingHomepageMobile"!=a.Rb.ClientSettings.pagetype)return await async function(){var t;const e={};e.SiteName="www.msn."+(null!==s.T3&&void 0!==s.T3&&s.T3.IsChinaCompliance?"cn":"com");const n=await _(i.Vq);return n&&(e.Authorization="Bearer "+n.token),null!==s.T3&&void 0!==s.T3&&s.T3.UserId&&null!==s.T3&&void 0!==s.T3&&null!==(t=s.T3.CurrentRequestTargetScope)&&void 0!==t&&null!==(t=t.pageExperiments)&&void 0!==t&&t.includes("1s-r-user-qsp")&&(e.Muid=s.T3.UserId),e}();const n=await async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={},s=t&&e;try{const t=await async function(t){const e=(0,l.cE)();if(!(0,M.S)()){const{accountType:t,ssrAccessToken:n}=e||{};return"AAD"===t&&n?`Bearer ${n}`:"MSA"===t&&n?n:null}const n=(0,l.s_)()??{};if(n.isSignedIn&&"AAD"===n.accountType){try{const t=await u({accountType:"AAD",type:"AccessToken",resource:"9ea1ad79-fdb6-4f9a-8bc3-2b70f96e34c7"}),e=JSON.parse(t);if(e.accessToken&&e.accessToken.length>0)return(0,l.Mo)({...n,accessToken:e.accessToken}),`Bearer ${e.accessToken}`;(0,r.vV)(o.bwM,`Sapphire.getAccessToken: AAD token request failed - ${JSON.stringify(e)}`)}catch(t){(0,r.vV)(o.cCu,"Sapphire.getAccessToken: Failed to get or parse AAD access token"),h(t,"SapphireUserConfig.getAccessToken: Failed to parse AAD access token")}return null!=n&&n.accessToken?`Bearer ${n.accessToken}`:null}if(n.isSignedIn&&"MSA"===n.accountType){try{const e=await u({accountType:"MSA",type:"AccessToken",scope:t}),i=JSON.parse(e);if(i.succeed)return(0,l.Mo)({...n,accessToken:i.accessToken}),i.accessToken;(0,r.vV)(o.bwM,`Sapphire.getAccessToken: MSA token request failed - ${JSON.stringify(i)}`)}catch(t){(0,r.vV)(o.cCu,"Sapphire.getAccessToken: Failed to get or parse MSA access token."),h(t,"SapphireUserConfig.getAccessToken: Failed to parse MSA access token")}return n.accessToken}return null}(function(t){return t?i.im:i.Az}(s)),{accountType:e,isSignedIn:a}=(0,l.cE)()??{};if(!t)return a&&(n.needCookie=!0),n;s?n.Authorization=t:"MSA"===e?n.UserAuthToken=t:"AAD"===e&&(n.Authorization=t)}catch(t){(0,r.vV)(o.wxp,"Error occured while getting access token.")}return n}(t,e),{muid:c,accountType:d,anid:f}=(0,l.cE)()??{};return!(0,M.S)()&&"MSA"===d&&f&&(n.Cookie=`APP_ANON=A=${f};`),c&&(n.MUID=c),n}},64965:function(t,e,n){n.d(e,{F:function(){return o}});var i=n(30817),r=n(98216);(new Date).getTime();function o(t,e,n,o,s){if(!0===window.__peregrine_litePVSent)r.YT.getPageMetadata().updateContract();else{(0,i.ZF)().TimeToSendPageView=Math.round(performance.now()),r.YT.sendPageView(t,e,n,o,s),window.__peregrine_normalPVSent=!0}}},65022:function(t,e,n){n.d(e,{UQC:function(){return kx},bBc:function(){return Cx},xCs:function(){return Ix},HqF:function(){return Ax},mjF:function(){return Tx},kbl:function(){return $x},aY_:function(){return Px},Tyw:function(){return _x},aNS:function(){return Ki},_0l:function(){return Ei},PDj:function(){return Ri},Gq_:function(){return zi},MxD:function(){return ji},qdn:function(){return _I},ys:function(){return Mi},WLY:function(){return Ui},cIK:function(){return Ni},qvM:function(){return Vi},SuG:function(){return Di},rUn:function(){return ma},CIk:function(){return $a},zWf:function(){return Ta},VxE:function(){return ca},YG1:function(){return ua},d1n:function(){return ha},L6t:function(){return pa},F$A:function(){return aa},_5U:function(){return wa},zl3:function(){return ka},Beh:function(){return Sa},YZV:function(){return ba},RLY:function(){return fa},FgT:function(){return da},_v6:function(){return ga},tJt:function(){return va},TLG:function(){return Ca},DiI:function(){return xa},fuN:function(){return la},nWp:function(){return ya},AIN:function(){return Z},Qhr:function(){return rx},HDZ:function(){return ur},OAF:function(){return lr},gr2:function(){return cr},ptZ:function(){return js},ASD:function(){return zs},vsI:function(){return Hs},J3L:function(){return qs},FQt:function(){return Gs},C7K:function(){return Ws},CKB:function(){return Vs},mD0:function(){return Fs},Me9:function(){return Ls},n5z:function(){return Ns},TwO:function(){return Bs},MkP:function(){return Us},LwN:function(){return Os},$Ck:function(){return Ds},QlG:function(){return Ks},HpO:function(){return Js},gsf:function(){return Zy},uqN:function(){return tb},dIV:function(){return Ai},WDU:function(){return gw},G08:function(){return vw},yHB:function(){return ww},nHy:function(){return Sw},D04:function(){return Cw},tRj:function(){return yw},qDs:function(){return xw},VZt:function(){return bw},zjD:function(){return _s},wvT:function(){return Li},QfK:function(){return tw},Jwb:function(){return ib},YGv:function(){return nb},Dad:function(){return rb},UcN:function(){return gx},Azd:function(){return Fk},kBB:function(){return Dk},H77:function(){return Gi},xZ$:function(){return dv},LOQ:function(){return XT},ZP0:function(){return Wa},UUo:function(){return Ha},QZG:function(){return ct},kOp:function(){return st},lbM:function(){return ut},OZt:function(){return lt},lZi:function(){return dt},Bik:function(){return at},UwZ:function(){return ft},HN5:function(){return ot},Kq6:function(){return ht},NTi:function(){return VS},jNl:function(){return HS},EeC:function(){return hc},i$e:function(){return Vr},j3i:function(){return qr},n32:function(){return zr},EMc:function(){return jr},wvp:function(){return bk},_JL:function(){return zl},A2U:function(){return Vl},jnO:function(){return Wl},GNn:function(){return jl},yV:function(){return Hl},lnF:function(){return yk},p96:function(){return ET},nDJ:function(){return FT},qh6:function(){return MT},Jb2:function(){return RT},_lp:function(){return _T},bLC:function(){return DT},xIZ:function(){return OT},lm1:function(){return Mh},Ovn:function(){return Rh},cy9:function(){return Eh},Ivt:function(){return Dh},bBS:function(){return vh},rnL:function(){return jT},bHM:function(){return zT},EYz:function(){return GT},$Us:function(){return qT},YcK:function(){return QT},KGt:function(){return KT},JVc:function(){return JT},lZ:function(){return Fy},CsG:function(){return Ry},OwW:function(){return Dy},Xqb:function(){return My},m5R:function(){return Ey},IOA:function(){return Uk},QZH:function(){return Zv},n$K:function(){return nt},ZEk:function(){return tt},Ffi:function(){return et},JwI:function(){return Ra},vDy:function(){return YS},E7x:function(){return GS},q6p:function(){return JS},Re$:function(){return tx},zDq:function(){return XS},rZ0:function(){return KS},vmx:function(){return QS},PSI:function(){return ZS},GWd:function(){return nx},Y9e:function(){return ix},Rpw:function(){return ex},UH4:function(){return I},Aw8:function(){return lA},djn:function(){return St},w0w:function(){return yt},Y1k:function(){return bt},lVo:function(){return gt},k_z:function(){return wt},rIB:function(){return yI},Nqo:function(){return xI},JWS:function(){return ir},aVy:function(){return sr},s$M:function(){return or},E45:function(){return rr},KFp:function(){return ew},bOs:function(){return Ia},PbZ:function(){return SI},NUf:function(){return sm},fze:function(){return CA},tpw:function(){return TA},KdH:function(){return gA},E2i:function(){return RC},SdS:function(){return MC},BgJ:function(){return EC},ceT:function(){return PC},_bc:function(){return IC},ztZ:function(){return _C},wIS:function(){return AC},XDZ:function(){return vA},d9_:function(){return bA},cvX:function(){return wA},DwE:function(){return yA},bLg:function(){return po},CO2:function(){return Xs},JYg:function(){return Qs},lXX:function(){return Ys},iUO:function(){return Zs},Opc:function(){return y$},QsG:function(){return b$},a$P:function(){return ph},WqK:function(){return fe},Kyk:function(){return xi},o6d:function(){return gI},cnX:function(){return mI},Gmj:function(){return wI},seI:function(){return vI},fhS:function(){return Ck},x4r:function(){return Sk},m6M:function(){return Cn},Q1$:function(){return t$},DTP:function(){return e$},Pd_:function(){return dw},VNh:function(){return ta},d7h:function(){return cc},h6H:function(){return Qr},gSt:function(){return dc},QAi:function(){return uc},DB3:function(){return lc},ON9:function(){return Ga},g3e:function(){return v$},vJx:function(){return w$},P_C:function(){return rt},Bgb:function(){return it},ZEm:function(){return _a},LcB:function(){return iw},mAZ:function(){return nw},_6x:function(){return mw},Wrb:function(){return bC},qV8:function(){return SC},HaU:function(){return CC},YNh:function(){return kC},LCg:function(){return xC},To0:function(){return ps},SdT:function(){return ms},QoC:function(){return As},QOe:function(){return ys},tG1:function(){return bs},OFQ:function(){return Ts},UmO:function(){return gs},kL:function(){return Fa},sms:function(){return vs},dxI:function(){return q},MB0:function(){return Da},qwf:function(){return $w},DFL:function(){return wh},LTf:function(){return yi},Uoi:function(){return Je},lW$:function(){return Ea},nOI:function(){return hh},YHC:function(){return vi},OvD:function(){return Kr},NVc:function(){return Ue},FEs:function(){return je},yhg:function(){return Le},JSM:function(){return Me},Ikd:function(){return Bi},vfw:function(){return SA},H_c:function(){return z},wN$:function(){return j},CgA:function(){return G},q6J:function(){return J},EtG:function(){return K},ufw:function(){return Se},Ebr:function(){return Ju},zS0:function(){return Iu},PzM:function(){return vu},s0h:function(){return Lp},_EJ:function(){return ev},cSb:function(){return iv},gWU:function(){return nv},X$2:function(){return rv},UiG:function(){return $m},XIu:function(){return bm},yf:function(){return vm},Imm:function(){return wm},BV1:function(){return ym},cc_:function(){return gm},zZP:function(){return bc},TJS:function(){return xc},vnd:function(){return Sc},h9:function(){return Zc},hye:function(){return tv},XhF:function(){return Zg},ggR:function(){return mu},WxJ:function(){return gu},ocY:function(){return om},MrI:function(){return Ym},F3o:function(){return Km},T4B:function(){return Xm},vGW:function(){return Qm},y7l:function(){return Jm},hug:function(){return jm},Vg2:function(){return Gm},BE5:function(){return qm},jKP:function(){return Hm},R$T:function(){return zm},z2i:function(){return Vm},vl2:function(){return ng},OIf:function(){return Zm},wWT:function(){return eg},OtP:function(){return tg},vJe:function(){return ou},j6G:function(){return Ku},yuX:function(){return Pu},Co4:function(){return yu},Ub:function(){return xu},MJ8:function(){return $u},fKA:function(){return Kg},NFG:function(){return Xg},P8U:function(){return Qg},YTw:function(){return Yg},KzG:function(){return jg},cVQ:function(){return Gg},KSJ:function(){return qg},ve0:function(){return Jg},dnr:function(){return Jp},JBU:function(){return Qp},Pow:function(){return Kp},X$v:function(){return iu},_gF:function(){return Rc},kyM:function(){return Fc},IEz:function(){return Ec},vH5:function(){return ru},GCF:function(){return Dc},C1G:function(){return Nc},gW5:function(){return Oc},u43:function(){return fm},ShI:function(){return pm},qFL:function(){return hm},$JO:function(){return mm},JM:function(){return cm},ZKf:function(){return lm},ZMf:function(){return um},iRA:function(){return dm},xFg:function(){return uu},QIO:function(){return Mu},UVO:function(){return Eu},kHN:function(){return Ru},MAm:function(){return $c},qw0:function(){return Ic},EP6:function(){return Ac},OuU:function(){return eu},OrI:function(){return Gu},pbI:function(){return Yu},WB3:function(){return su},z10:function(){return Jc},lWz:function(){return Qc},DNS:function(){return Kc},aVr:function(){return fu},X1k:function(){return Am},x6z:function(){return Pm},zHX:function(){return Im},E4h:function(){return Wg},w$A:function(){return Vg},ae$:function(){return Hg},DwS:function(){return zg},VBC:function(){return Uc},lpr:function(){return Bc},FDu:function(){return Lc},c98:function(){return Qv},frK:function(){return fg},j6z:function(){return Jv},D_w:function(){return Kv},zRm:function(){return jv},amn:function(){return Lv},vis:function(){return au},I0W:function(){return Wc},euZ:function(){return Vc},miW:function(){return Hc},hzO:function(){return cu},E_v:function(){return zc},OAV:function(){return qc},oje:function(){return jc},h5B:function(){return Gv},j6K:function(){return Fv},yhC:function(){return Ov},g5H:function(){return Hv},bC8:function(){return Wv},v9v:function(){return Vv},eUU:function(){return Nv},ElZ:function(){return Uv},XOE:function(){return Dv},UsN:function(){return R$},uME:function(){return $g},SLB:function(){return Ig},E0l:function(){return Ag},x_g:function(){return Pg},ozU:function(){return xg},qPT:function(){return kg},Otq:function(){return Cg},bjV:function(){return Tg},TnZ:function(){return nu},CYA:function(){return Pc},ok3:function(){return Mc},GPf:function(){return _c},aZ9:function(){return qp},X54:function(){return Gp},NOO:function(){return Up},c6L:function(){return Np},V58:function(){return Dp},o4L:function(){return Ep},_9t:function(){return Op},mIY:function(){return Fp},cn8:function(){return du},rYF:function(){return Nu},lPj:function(){return Lu},tn$:function(){return Uu},DJq:function(){return lu},O_L:function(){return Fu},cck:function(){return Ou},GBW:function(){return Du},e6T:function(){return ku},$u$:function(){return gc},zSi:function(){return wc},vce:function(){return vc},CJN:function(){return tu},Ryk:function(){return Mg},gjp:function(){return Xu},hJb:function(){return Zu},F_A:function(){return rm},eQo:function(){return em},Au0:function(){return im},Slm:function(){return nm},xco:function(){return Gc},Ryp:function(){return Su},rp9:function(){return bu},bU3:function(){return Tu},qR4:function(){return wg},aU5:function(){return bg},KWK:function(){return yg},jc6:function(){return Sg},tbj:function(){return hg},My1:function(){return Cm},eUt:function(){return Tm},Y14:function(){return km},vqE:function(){return Cc},TYe:function(){return Tc},TQI:function(){return kc},Pq_:function(){return Yc},P9o:function(){return Xp},dSI:function(){return Um},vFU:function(){return Bm},lKn:function(){return Lm},UOg:function(){return Wm},wFB:function(){return dg},Sx1:function(){return qv},q4e:function(){return pg},Cbe:function(){return gg},yjx:function(){return mg},N6n:function(){return vg},H6J:function(){return Nm},Mkz:function(){return Fm},GoW:function(){return Om},Suv:function(){return Dm},IMo:function(){return Yp},K2Q:function(){return tm},mwE:function(){return Zp},ayx:function(){return Bv},grv:function(){return Vp},C7i:function(){return jp},gIt:function(){return zp},R_x:function(){return pu},qu9:function(){return Bp},AO:function(){return Hp},sEB:function(){return Wp},bN_:function(){return hu},drt:function(){return xm},TyL:function(){return _u},Tbd:function(){return wu},efh:function(){return Bu},$6m:function(){return Rg},ne8:function(){return Fg},ver:function(){return Eg},WUq:function(){return Dg},exF:function(){return ag},eIp:function(){return ug},AL6:function(){return cg},Jvk:function(){return lg},u$4:function(){return Og},i8s:function(){return Ug},CsM:function(){return Ng},NVn:function(){return Lg},FZ0:function(){return Vu},mHR:function(){return Hu},z81:function(){return ju},kAq:function(){return zu},S0u:function(){return Wu},rmO:function(){return ig},L0Z:function(){return og},$aR:function(){return rg},yg0:function(){return sg},ES9:function(){return _m},Hkc:function(){return Rm},dRn:function(){return Mm},YFp:function(){return Em},xTN:function(){return Qu},iD:function(){return Cu},Ovg:function(){return Au},Ymg:function(){return Bg},bTq:function(){return yc},LeY:function(){return Xc},Kyl:function(){return qu},VLN:function(){return pk},RxE:function(){return yC},hic:function(){return wC},abW:function(){return mh},qn3:function(){return Ch},z1p:function(){return PT},hAd:function(){return xh},CGD:function(){return yh},ksK:function(){return gh},Jd2:function(){return bh},O01:function(){return fC},GfB:function(){return gC},weh:function(){return mC},$te:function(){return hC},IUP:function(){return pC},BDE:function(){return qe},$2Q:function(){return vC},l6z:function(){return wx},O2z:function(){return vx},Wyl:function(){return ad},Qnp:function(){return gi},$no:function(){return am},tD3:function(){return _i},y0q:function(){return pi},ic_:function(){return mi},zML:function(){return bi},TYv:function(){return Ci},PTf:function(){return ki},_3Z:function(){return $i},mbj:function(){return Ti},Fa2:function(){return Si},fS0:function(){return dh},cDn:function(){return fr},dyB:function(){return hr},kSJ:function(){return th},wZh:function(){return Zf},TPS:function(){return nh},xUP:function(){return eh},NpW:function(){return ah},cjm:function(){return rh},dXd:function(){return oh},QlV:function(){return ih},NG5:function(){return sh},NZT:function(){return Ex},eMt:function(){return x$},ZOT:function(){return C$},JlB:function(){return Mx},Om4:function(){return Rx},qQs:function(){return U$},yK8:function(){return L$},ymt:function(){return go},MvJ:function(){return pA},VX6:function(){return Ah},kRb:function(){return kh},Yh1:function(){return Th},yTG:function(){return $h},icq:function(){return xA},BNF:function(){return kA},YKQ:function(){return sI},Ztd:function(){return Xi},WsM:function(){return Yi},IKI:function(){return Iw},zfe:function(){return fT},hm6:function(){return V},tAV:function(){return CT},YJH:function(){return ST},UnU:function(){return bT},fa5:function(){return TT},D4l:function(){return xT},cAT:function(){return kT},TZZ:function(){return _e},lr4:function(){return Pe},g07:function(){return ye},llR:function(){return He},hhL:function(){return ze},yus:function(){return $e},oXD:function(){return Ae},EgB:function(){return Ie},NO3:function(){return Ee},_xy:function(){return ge},mRv:function(){return We},Yd6:function(){return ve},RCZ:function(){return xe},r1G:function(){return Te},LQS:function(){return Ce},QGc:function(){return me},_NJ:function(){return he},T38:function(){return pe},KWo:function(){return we},KH4:function(){return ke},PXf:function(){return be},Epe:function(){return Ve},ytL:function(){return Oe},bwM:function(){return wk},eN3:function(){return Zi},pwC:function(){return Ji},Iig:function(){return vt},J$q:function(){return O$},BKY:function(){return Pi},Ntn:function(){return Ba},HaV:function(){return La},TSj:function(){return Ua},X8D:function(){return cw},oEU:function(){return lw},WQo:function(){return uw},Ma1:function(){return Ih},ZO$:function(){return Ph},PAg:function(){return _h},i8B:function(){return ch},NB9:function(){return kI},crR:function(){return Qe},B0t:function(){return Ke},hPD:function(){return Qy},xCk:function(){return $A},JvU:function(){return AA},JNi:function(){return Ky},gQ_:function(){return OI},F6z:function(){return lT},NHc:function(){return YT},QXg:function(){return ZT},vqP:function(){return Fh},f12:function(){return fx},XcU:function(){return dx},Lln:function(){return Y},kjR:function(){return X},Sjf:function(){return nA},WlW:function(){return N$},QAk:function(){return fh},ac1:function(){return Oa},g7x:function(){return Pa},IYc:function(){return tr},jyZ:function(){return aI},KT2:function(){return uA},ukq:function(){return ie},hyX:function(){return re},yoW:function(){return sA},W8g:function(){return oA},L36:function(){return iA},G1W:function(){return rA},zhT:function(){return oe},B8p:function(){return $n},A0k:function(){return In},MpT:function(){return An},lBJ:function(){return Pn},QjI:function(){return On},TlH:function(){return Dn},LNf:function(){return Gn},OuK:function(){return Kn},$lj:function(){return ii},elX:function(){return ti},i$U:function(){return ei},bPX:function(){return Nn},nxX:function(){return qn},HL3:function(){return Yn},kcv:function(){return Wn},WA6:function(){return Fn},Eq1:function(){return Ln},cI6:function(){return Un},Qho:function(){return fA},zc_:function(){return Jn},G$x:function(){return ri},FXQ:function(){return Hn},AQF:function(){return Bn},LEW:function(){return Vn},zny:function(){return ni},Me0:function(){return En},sPY:function(){return kn},iS6:function(){return Tn},TI4:function(){return Rn},mi4:function(){return Mn},Ozz:function(){return zn},Ejb:function(){return _n},EGl:function(){return Zn},vyN:function(){return jn},eI8:function(){return Qn},ne$:function(){return Xn},kwH:function(){return r$},nB:function(){return o$},lCZ:function(){return n$},f9i:function(){return s$},XK_:function(){return L},GOZ:function(){return ry},h$h:function(){return iy},CAF:function(){return Hw},w1N:function(){return qw},Nz0:function(){return jw},npu:function(){return Gw},ZT1:function(){return xy},w6o:function(){return ky},LOp:function(){return dy},u6V:function(){return ly},r_l:function(){return Ww},asp:function(){return uy},mKD:function(){return by},V8E:function(){return zw},H67:function(){return Kw},Bof:function(){return Ty},iNw:function(){return fy},ZUy:function(){return cy},fHg:function(){return sy},IYB:function(){return oy},Ahq:function(){return Iy},PBN:function(){return Wy},R0x:function(){return Zw},sUE:function(){return Yw},uux:function(){return ay},IZh:function(){return Qw},pV8:function(){return Vy},YlL:function(){return ey},zbv:function(){return Hy},H1r:function(){return Bw},q_L:function(){return Sy},$B_:function(){return my},ygO:function(){return py},GGk:function(){return Ny},trI:function(){return $y},h$X:function(){return Jw},o_U:function(){return ty},F5C:function(){return _y},OGb:function(){return Xw},b1m:function(){return Cy},$Vn:function(){return wy},Nmv:function(){return ny},dEA:function(){return yy},ycZ:function(){return Vw},v60:function(){return hy},u6T:function(){return Ay},QIV:function(){return gy},Tix:function(){return vy},iVk:function(){return Uy},_07:function(){return By},IfH:function(){return zy},SDt:function(){return jy},Et5:function(){return jt},Pnm:function(){return zt},PTu:function(){return JA},SzM:function(){return UA},fk2:function(){return FA},T$A:function(){return oI},xjR:function(){return NA},YwJ:function(){return IA},HAH:function(){return jA},$gI:function(){return ZA},rI4:function(){return BA},_bC:function(){return XA},rru:function(){return MA},JxL:function(){return RA},WyS:function(){return PA},dR1:function(){return _A},cKj:function(){return EA},lfg:function(){return zA},Nnl:function(){return VA},pSc:function(){return eI},YPx:function(){return YA},Mfz:function(){return tI},ziL:function(){return WA},R53:function(){return OA},fN6:function(){return GA},I7f:function(){return HA},gf5:function(){return LA},K9N:function(){return qA},PPI:function(){return DA},Vrx:function(){return iI},Koy:function(){return dA},dt1:function(){return md},O3F:function(){return mk},cgf:function(){return MI},i1G:function(){return Wi},nxh:function(){return Oi},$2y:function(){return j$},o1l:function(){return hi},fnC:function(){return oi},VQr:function(){return qi},tBu:function(){return q$},GTE:function(){return z$},E7N:function(){return V$},WQp:function(){return Fi},hYJ:function(){return li},Ivu:function(){return di},BEl:function(){return si},fGC:function(){return ci},ikd:function(){return ai},inK:function(){return ui},TqQ:function(){return fi},C8f:function(){return Hi},kpu:function(){return Lr},UDY:function(){return Hr},mE3:function(){return Br},hEo:function(){return Wr},MxK:function(){return IT},Hu3:function(){return AT},zrw:function(){return $T},qSe:function(){return DS},mVb:function(){return xt},UOe:function(){return io},O3W:function(){return Yr},Xag:function(){return Zr},_Y1:function(){return to},HRt:function(){return eo},Qh3:function(){return no},fU:function(){return oo},C1u:function(){return ro},P1Y:function(){return Py},tqL:function(){return qf},cZD:function(){return jf},r6S:function(){return zf},LrU:function(){return rI},Ffm:function(){return Mk},bV3:function(){return _k},wHQ:function(){return Pk},May:function(){return Ak},Jjk:function(){return Ik},DQR:function(){return Rk},N5T:function(){return Ek},RQB:function(){return Oh},uyY:function(){return b},xw8:function(){return x},Bx$:function(){return k},z9c:function(){return C},auz:function(){return $},zqw:function(){return y},TOE:function(){return S},oxQ:function(){return T},fTG:function(){return A},CPX:function(){return Ol},tF9:function(){return Ul},KxB:function(){return Dl},vD4:function(){return Ll},OZP:function(){return Nl},HWF:function(){return pt},AnY:function(){return mt},VsV:function(){return H},xqF:function(){return _v},bk4:function(){return ho},CUJ:function(){return gk},IaI:function(){return Sm},tiL:function(){return hA},G1m:function(){return Ii},V9L:function(){return wn},Lt_:function(){return yn},YEW:function(){return bn},o6N:function(){return Sn},d2O:function(){return hn},UzJ:function(){return pn},bl5:function(){return mn},por:function(){return fn},WxD:function(){return xn},uRh:function(){return gn},Wg2:function(){return vn},g5U:function(){return Q},pUO:function(){return Qf},Syp:function(){return Gf},NVY:function(){return Kf},huQ:function(){return Xf},r0p:function(){return Jf},W5k:function(){return Yf},S6g:function(){return za},FK$:function(){return qa},ExE:function(){return Va},xrv:function(){return ja},muh:function(){return jk},l44:function(){return nT},Cm:function(){return Jk},F5s:function(){return qk},Qy5:function(){return Gk},SK2:function(){return rT},Bsc:function(){return sT},feh:function(){return iT},hjY:function(){return oT},HA5:function(){return Qk},uKk:function(){return Yk},jmV:function(){return Kk},aUL:function(){return eT},lXi:function(){return Zk},iRJ:function(){return Xk},$u8:function(){return tT},QZE:function(){return aT},dmk:function(){return QA},mS4:function(){return Be},H6Q:function(){return eb},Ffx:function(){return Nk},GSz:function(){return Xo},cxK:function(){return ks},Mcc:function(){return Cs},yJQ:function(){return Qo},xVU:function(){return Ps},d4I:function(){return Yo},rs0:function(){return xs},lL9:function(){return Ms},Dje:function(){return Rs},mqA:function(){return Es},zBI:function(){return wS},wL_:function(){return yS},AbT:function(){return MS},nPW:function(){return Fe},WwE:function(){return $C},iO_:function(){return TC},bxT:function(){return sx},KpS:function(){return De},Gvl:function(){return Vk},pfw:function(){return zk},fKW:function(){return wp},TQ$:function(){return yp},BeD:function(){return P$},xbh:function(){return _$},_7:function(){return sv},k_$:function(){return av},a2L:function(){return hx},PfM:function(){return px},fnS:function(){return i$},JLI:function(){return mT},Okb:function(){return gT},qog:function(){return pT},ymo:function(){return Xt},zV8:function(){return Kt},VSj:function(){return qt},mks:function(){return Gt},M5I:function(){return Jt},U0N:function(){return Yt},J1$:function(){return ee},E7O:function(){return Qt},u0w:function(){return te},sDU:function(){return Zt},Y5W:function(){return ne},H6o:function(){return Nw},HRN:function(){return Lw},gpE:function(){return _w},Qq_:function(){return Pw},XDX:function(){return Mw},q9p:function(){return Rw},Pho:function(){return Dw},mEX:function(){return Fw},WYB:function(){return Ow},D6U:function(){return Uw},KPK:function(){return ux},MtZ:function(){return Qi},qaz:function(){return pd},w0y:function(){return Sx},jb:function(){return bx},Gp$:function(){return xx},T62:function(){return KA},S8B:function(){return nI},H3C:function(){return yx},_uC:function(){return cI},WEY:function(){return _p},DrH:function(){return Mp},uBi:function(){return Pp},hC4:function(){return Rp},nyv:function(){return Ip},BL9:function(){return ia},pHQ:function(){return ra},BZ4:function(){return mo},rbF:function(){return ea},X5D:function(){return na},ejj:function(){return sa},YTd:function(){return oa},cPt:function(){return RI},o29:function(){return Av},byn:function(){return gd},eb7:function(){return vd},KMx:function(){return an},I0k:function(){return sn},KX0:function(){return on},mIT:function(){return en},K6n:function(){return nn},xuU:function(){return Xe},zqN:function(){return Ye},U_7:function(){return Ze},l$6:function(){return rn},Bel:function(){return tn},j$G:function(){return eC},EVF:function(){return Ne},tDC:function(){return M$},Vy1:function(){return Er},u5P:function(){return Ir},$n:function(){return Pr},hfI:function(){return Mr},NNm:function(){return Fr},KLj:function(){return Rr},dDC:function(){return _r},QFX:function(){return bp},fIj:function(){return Tp},oOL:function(){return $p},b6v:function(){return Sp},kwp:function(){return Ap},byY:function(){return kp},T0u:function(){return Cp},EuX:function(){return xp},QHO:function(){return zv},nGT:function(){return Xv},yAh:function(){return Ct},$ab:function(){return lh},d9t:function(){return W},Xnf:function(){return B},gSu:function(){return _g},V4H:function(){return iC},Rs1:function(){return aC},XkM:function(){return cC},NVb:function(){return oC},XbI:function(){return sC},JL_:function(){return rC},AVg:function(){return nC},w$_:function(){return lC},hkw:function(){return uC},M5X:function(){return dC},PQn:function(){return lv},Xj2:function(){return cv},zHP:function(){return uv},v47:function(){return Cr},D6P:function(){return xr},WTc:function(){return uT},StB:function(){return cT},d78:function(){return S$},H44:function(){return Jr},o8A:function(){return ub},l$m:function(){return NT},xD6:function(){return LT},Jh_:function(){return UT},Odo:function(){return yr},NiT:function(){return W$},Fjq:function(){return mr},xkP:function(){return pr},c7V:function(){return vr},dMO:function(){return gr},ECJ:function(){return wr},IG9:function(){return B$},rqW:function(){return Sr},zsZ:function(){return kk},_sn:function(){return Gr},Wbw:function(){return Tk},kF2:function(){return Ur},v9g:function(){return lb},q4D:function(){return db},y$I:function(){return ab},MnR:function(){return cb},Yv0:function(){return sb},Qje:function(){return ob},UMt:function(){return $k},WaH:function(){return H$},ISx:function(){return K$},H4J:function(){return G$},KpV:function(){return J$},ufo:function(){return Q$},OUO:function(){return X$},$$G:function(){return nl},NPP:function(){return gl},Z1s:function(){return xl},aKE:function(){return Cl},vpF:function(){return el},h3O:function(){return bl},jjJ:function(){return Sl},Sd6:function(){return wl},_oM:function(){return hl},t$8:function(){return $l},LsK:function(){return pl},q8y:function(){return sl},_F6:function(){return vl},aNj:function(){return rl},c0M:function(){return ml},oCh:function(){return dl},T0U:function(){return cl},eyV:function(){return al},aJi:function(){return yl},VKJ:function(){return ol},G_w:function(){return ll},oFo:function(){return fl},p_3:function(){return ul},Y2P:function(){return Tl},tWP:function(){return kl},_Rq:function(){return Il},p2F:function(){return Al},tb_:function(){return tl},bxt:function(){return il},ugc:function(){return sw},Ghz:function(){return rw},tdA:function(){return ow},M6r:function(){return aw},_i:function(){return m$},FKe:function(){return h$},NT7:function(){return p$},CF0:function(){return g$},MYT:function(){return U},Air:function(){return of},bV9:function(){return kf},P8$:function(){return xf},Ax6:function(){return Sf},s8u:function(){return Tf},tDy:function(){return If},mgw:function(){return $f},haX:function(){return BC},jX7:function(){return ZC},mx1:function(){return hf},QjV:function(){return ff},HWy:function(){return bf},Guj:function(){return mf},s6q:function(){return yf},PY2:function(){return wf},njN:function(){return gf},M58:function(){return Af},Fw6:function(){return Cf},Y0P:function(){return pf},Nf7:function(){return vf},pVA:function(){return df},lbz:function(){return sf},R_t:function(){return af},sIL:function(){return nf},r4$:function(){return ef},vy$:function(){return cf},QkA:function(){return rf},MX7:function(){return uf},ONV:function(){return lf},r6X:function(){return Ly},EfP:function(){return nk},khl:function(){return ik},rQn:function(){return D$},Y_G:function(){return Df},Xqh:function(){return Bf},jR4:function(){return Vf},x1J:function(){return Pf},J2L:function(){return _f},KLz:function(){return Ef},zVM:function(){return Rf},TEk:function(){return Ff},YJI:function(){return Wf},hqB:function(){return Mf},dSi:function(){return Nf},lPv:function(){return Lf},KbD:function(){return Of},Ba9:function(){return FC},PWr:function(){return KC},YXi:function(){return QC},BYQ:function(){return XC},qyQ:function(){return WC},hsv:function(){return HC},Mp5:function(){return VC},Zuk:function(){return jC},i4G:function(){return zC},MnK:function(){return qC},vYK:function(){return YC},s23:function(){return JC},rKF:function(){return GC},Z9n:function(){return LC},AM8:function(){return NC},ZTI:function(){return UC},a_g:function(){return OC},D13:function(){return DC},BfS:function(){return tk},K0b:function(){return ek},D8P:function(){return Uf},QO2:function(){return VT},$F5:function(){return bI},sTv:function(){return vT},wEP:function(){return yT},GtS:function(){return wT},QPT:function(){return Hf},M0z:function(){return FS},L61:function(){return ov},tY5:function(){return Oy},vYE:function(){return mA},FQY:function(){return $v},ca0:function(){return xv},PxO:function(){return Sv},$oH:function(){return Cv},nZM:function(){return kv},uIm:function(){return gv},B0w:function(){return vv},yIP:function(){return bv},sHf:function(){return mv},nlb:function(){return yv},sOF:function(){return hv},HR1:function(){return wv},vES:function(){return pv},QyC:function(){return Tv},Q1S:function(){return Aa},TyC:function(){return Ma},O2G:function(){return hw},WZp:function(){return ko},wxp:function(){return ue},pen:function(){return dT},ubn:function(){return fv},Ayc:function(){return PS},P75:function(){return Fb},pHh:function(){return Nb},m3I:function(){return IS},HjP:function(){return fb},PU3:function(){return Sb},Ov9:function(){return mS},F8Z:function(){return kb},ABd:function(){return Gb},Z1_:function(){return Qb},FmL:function(){return Ab},O_4:function(){return Jb},GdV:function(){return hS},mgZ:function(){return Db},ODw:function(){return ax},JQU:function(){return cS},vq$:function(){return dS},V$N:function(){return lS},fHH:function(){return Xb},$UT:function(){return Yb},vJN:function(){return uS},pQh:function(){return Zb},acy:function(){return Wb},IKV:function(){return oS},NRf:function(){return rS},LRf:function(){return Lb},oup:function(){return eS},y09:function(){return tS},aSm:function(){return Bb},f6:function(){return xS},SXF:function(){return iS},Bz_:function(){return nS},gCQ:function(){return sS},qlj:function(){return aS},nJZ:function(){return SS},IBt:function(){return Ub},bHU:function(){return xb},ZLG:function(){return vb},Rhq:function(){return gb},Lvw:function(){return wb},DIe:function(){return yb},fyC:function(){return vS},naH:function(){return Ib},xHX:function(){return Ob},eik:function(){return Vb},q9J:function(){return zb},JN:function(){return jb},I8Q:function(){return hb},Cpl:function(){return cx},tFD:function(){return gS},Deh:function(){return CS},jwY:function(){return Tb},sFb:function(){return Eb},N84:function(){return pS},Db6:function(){return Hb},cwh:function(){return Pb},TBj:function(){return RS},agw:function(){return Kb},iv3:function(){return qS},isL:function(){return Mb},ijP:function(){return fS},qNq:function(){return _b},yTZ:function(){return Rb},ESk:function(){return kS},YeZ:function(){return TS},rIz:function(){return pb},Cdh:function(){return mb},Ej7:function(){return bS},pn9:function(){return $b},dis:function(){return AS},Tuh:function(){return jS},t9r:function(){return Cb},Mwi:function(){return qb},xCv:function(){return WS},mue:function(){return $S},Obl:function(){return bb},ouM:function(){return Yy},N2u:function(){return mx},pjG:function(){return Na},hbk:function(){return pc},e4F:function(){return mc},jWv:function(){return hI},TT_:function(){return dI},ATb:function(){return fI},thp:function(){return pI},noR:function(){return lI},FE0:function(){return uI},eFv:function(){return g},TUW:function(){return m},JN4:function(){return p},FeD:function(){return h},b04:function(){return w},N1:function(){return v},_f3:function(){return Dr},s5R:function(){return Or},Nm$:function(){return Nr},TRi:function(){return ox},XrR:function(){return Ge},WR_:function(){return Re},I$6:function(){return Ql},tBT:function(){return Zl},hij:function(){return ld},eOr:function(){return td},ZVM:function(){return ed},P6K:function(){return id},Bks:function(){return Gl},kiL:function(){return Jl},a1u:function(){return hd},ZJT:function(){return Yl},HWh:function(){return cd},hvw:function(){return dd},yOe:function(){return fd},e7T:function(){return nd},tk5:function(){return ud},hbg:function(){return Y$},jGQ:function(){return eA},$pp:function(){return tA},dfM:function(){return Z$},tnj:function(){return F$},VFl:function(){return Kl},Hz$:function(){return ql},jN:function(){return Xl},AEE:function(){return vk},jxT:function(){return sd},mN8:function(){return od},Qlm:function(){return rd},OV:function(){return kw},J2j:function(){return Fx},Hq:function(){return Qx},ndc:function(){return Kx},bY0:function(){return Xx},Bzz:function(){return Wx},tZR:function(){return Bx},eVm:function(){return Ox},NlC:function(){return jx},bAc:function(){return Dx},HTy:function(){return Vx},ajg:function(){return qx},mhE:function(){return tC},CDp:function(){return Lx},ZM1:function(){return Nx},OzB:function(){return Yx},Mpy:function(){return zx},xHK:function(){return Hx},ke$:function(){return Zx},JRy:function(){return Gx},XVX:function(){return Ux},kzh:function(){return Jx},il2:function(){return Tw},Rzg:function(){return PI},oUl:function(){return cn},g5x:function(){return Wk},t1_:function(){return Hk},jwE:function(){return Bk},_SJ:function(){return dn},pkK:function(){return un},SgR:function(){return ln},Z2S:function(){return f$},NRk:function(){return d$},JhR:function(){return l$},KSf:function(){return a$},Jqm:function(){return Sh},Ucx:function(){return FI},r4U:function(){return u$},Fwv:function(){return c$},oPR:function(){return fc},kZg:function(){return Gy},HBg:function(){return qy},cSA:function(){return CI},Ox9:function(){return II},WjD:function(){return AI},zlq:function(){return TI},UfE:function(){return $I},Rk$:function(){return Pl},gsJ:function(){return Nd},Ys5:function(){return Lk},MBe:function(){return Jy},r_M:function(){return Xy},QQG:function(){return wi},cke:function(){return pw},r5T:function(){return Td},Ta7:function(){return kd},IIt:function(){return $d},FPh:function(){return hT},WWk:function(){return wd},c0J:function(){return jd},zWZ:function(){return le},yc5:function(){return de},SEO:function(){return Ad},mit:function(){return Yd},yLU:function(){return tf},csj:function(){return Wd},kTg:function(){return qd},fX9:function(){return Rd},p6h:function(){return Vd},JUf:function(){return _d},GML:function(){return Cd},HSH:function(){return Md},DBO:function(){return Pd},JR:function(){return xd},S9r:function(){return Sd},TmI:function(){return Fd},RzE:function(){return Id},g_C:function(){return Kd},mTR:function(){return Gd},EX5:function(){return Zd},JuQ:function(){return Qd},n_5:function(){return Jd},u39:function(){return Ed},Zdj:function(){return Od},mBO:function(){return Hd},tDh:function(){return bd},uiS:function(){return yd},oO$:function(){return zd},wlN:function(){return Ud},fbJ:function(){return Dd},A0q:function(){return Xd},dmW:function(){return Ld},g3N:function(){return Bd},AMA:function(){return _t},YSB:function(){return Mt},TJ:function(){return Nt},RTA:function(){return Pt},DqN:function(){return kt},XXk:function(){return It},ZEA:function(){return $t},ANf:function(){return Ot},Y1H:function(){return At},u0X:function(){return Dt},ImC:function(){return Ft},RBD:function(){return Vt},KkS:function(){return Wt},TXh:function(){return Ht},k5z:function(){return Ut},uSS:function(){return Bt},n6e:function(){return Lt},L6k:function(){return Rt},Vgs:function(){return Et},vDo:function(){return Tt},Rvj:function(){return Bl},N61:function(){return lo},Fdr:function(){return fo},zY:function(){return Yv},kyo:function(){return LS},YfR:function(){return OS},khp:function(){return ES},L$h:function(){return US},AX3:function(){return NS},EgO:function(){return _S},rZC:function(){return BS},aIL:function(){return zS},bGx:function(){return fw},_kG:function(){return N},QF4:function(){return Po},VBB:function(){return Fo},YDP:function(){return A$},ooP:function(){return Vo},adl:function(){return Eo},QRs:function(){return xo},Jaj:function(){return $$},am7:function(){return Do},Gv7:function(){return Bo},gB:function(){return Wo},QzP:function(){return Pv},IRE:function(){return No},XSb:function(){return qo},W6Y:function(){return Co},vZ_:function(){return bo},I92:function(){return k$},I7:function(){return T$},wDb:function(){return E$},nVy:function(){return BT},lI:function(){return WT},IO:function(){return F},Va3:function(){return _},Ggx:function(){return Ro},p4_:function(){return Ao},k0:function(){return yo},vLT:function(){return wo},QxS:function(){return _o},CRO:function(){return zo},azY:function(){return jo},pZQ:function(){return Ho},n1j:function(){return Rv},zfX:function(){return HT},iBX:function(){return Mo},Lc2:function(){return E},yeQ:function(){return R},E9G:function(){return M},Z9U:function(){return D},HyQ:function(){return So},x_r:function(){return Mv},tPd:function(){return P},bJE:function(){return Go},f9r:function(){return $o},bjD:function(){return To},Ljz:function(){return O},YfN:function(){return Lo},NQ7:function(){return vo},YLz:function(){return Io},z_l:function(){return I$},dvE:function(){return Uo},Sdo:function(){return Oo},R94:function(){return Ko},zdY:function(){return Jo},oXQ:function(){return Ev},uDq:function(){return so},fo8:function(){return uo},Xf:function(){return co},HxO:function(){return ao},tsQ:function(){return Iv},V8S:function(){return Aw},Y$i:function(){return uh},LUz:function(){return ws},DYU:function(){return lx},wDo:function(){return Ok},KuI:function(){return Rl},p_N:function(){return Ml},kjK:function(){return Fl},$GJ:function(){return _l},QY0:function(){return El},Y3F:function(){return fs},YOy:function(){return ss},YzV:function(){return es},A04:function(){return ds},sl_:function(){return us},S6Q:function(){return rs},TWH:function(){return ls},F0B:function(){return Ew},Ylx:function(){return $s},T7w:function(){return is},yji:function(){return cs},S_y:function(){return as},Hi3:function(){return os},WaV:function(){return ns},QqZ:function(){return hs},INq:function(){return ts},Jyo:function(){return $r},k7V:function(){return Ar},KT4:function(){return Tr},s2B:function(){return rk},Qao:function(){return Zo},$hk:function(){return ar},yrQ:function(){return Ss},wi4:function(){return Is},sWn:function(){return lp},O7A:function(){return up},tRb:function(){return vp},PWH:function(){return gp},Gc0:function(){return fp},jNX:function(){return cp},wsO:function(){return ip},bqh:function(){return ep},TwZ:function(){return Uh},OLu:function(){return dp},Amp:function(){return Nh},Dhq:function(){return sp},GtY:function(){return Jh},xlx:function(){return Kh},o2X:function(){return Bh},BTk:function(){return Qh},ah_:function(){return Wh},iXH:function(){return np},Ffs:function(){return tp},YTQ:function(){return Xh},mky:function(){return hp},v0W:function(){return Lh},TBf:function(){return pp},T8$:function(){return ap},faL:function(){return mp},JK9:function(){return Hh},F2m:function(){return jh},rWX:function(){return Gh},ckq:function(){return rp},mbM:function(){return op},T4e:function(){return Yh},M_y:function(){return Zh},PUH:function(){return zh},Upu:function(){return qh},$3R:function(){return Vh},b5B:function(){return rc},rSI:function(){return Ja},nwt:function(){return ac},KVr:function(){return sc},DdZ:function(){return Ka},qcK:function(){return ic},wzS:function(){return ec},q_v:function(){return Ya},Aio:function(){return nc},AxD:function(){return oc},_$C:function(){return tc},Yhr:function(){return Za},De:function(){return EI},SdJ:function(){return Qa},vLE:function(){return Xa},zwc:function(){return cA},R1m:function(){return aA},Bhy:function(){return Xr},ic4:function(){return DI},V77:function(){return xk},Ukt:function(){return l},Zir:function(){return ae},V_P:function(){return dr},cCu:function(){return se},y$v:function(){return ce},ao8:function(){return dk},o6X:function(){return sk},BZI:function(){return ok},YJY:function(){return hk},X1L:function(){return fk},MLR:function(){return uk},yHp:function(){return lk},Ikj:function(){return ak},bCS:function(){return ck},Y_s:function(){return er},M6N:function(){return nr},RWs:function(){return u}});var i=n(36417);const r=i.A.Alert,o=i.A.Deprecated,s=i.A.HighImpact,a=i.A.Critical,c=(i.B.Fallback,i.B.Exceptional,{build:""});function u(t){Object.assign(c,t)}function l(){return c}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.A.Alert,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const s={id:t,severity:e,pb:void 0===n?c:n};return void 0!==r&&(s.message=r),void 0!==o&&(s.source=o),s}function f(t,e){return{build:"",userImpacting:t,errorBehavior:e}}const h=d(8017),p=d(8018),m=d(8021),g=d(8022),v=d(8027),w=d(8028),y=d(8029),b=d(8030),S=d(8031,s),x=d(8032,s),C=d(8033,s),k=d(8034),T=d(8035),$=d(8036),A=d(8037),I=d(8047),P=d(8100,s,f(!0)),_=d(8101,o),M=d(8102,o),R=d(8103,r,f(!0)),E=d(8104,r,f(!0)),F=d(8105,o),D=d(8107,o),O=d(8108,r,f(!0)),N=d(8109,o),U=d(8126),L=d(8137),B=d(8191),W=d(8192),H=d(8203),V=d(8204),z=d(8214),j=d(8215),q=d(8219),G=d(8222),J=d(8223),K=d(8225),Q=d(8230),X=d(8260,o),Y=d(8261,s),Z=d(8350),tt=d(8363),et=d(8364),nt=d(8366),it=d(8380),rt=d(8381),ot=d(8601),st=d(8602),at=d(8603),ct=d(8604),ut=d(8605),lt=d(8606),dt=d(8607),ft=d(8608,o),ht=d(8611),pt=d(8815,a,c,"Cookie Banner Element is missing"),mt=d(8817,o,c,"Fixed TCF string in US locale failed"),gt=d(8841,s),vt=d(8842,a),wt=d(8843),yt=d(8844),bt=d(8845,a),St=d(8846,a),xt=d(8847),Ct=d(8848,s),kt=d(9002),Tt=d(9014),$t=d(9016),At=d(9017),It=d(9026,o),Pt=d(9027),_t=d(9031),Mt=d(9032),Rt=d(9033),Et=d(9034),Ft=d(9035),Dt=d(9036),Ot=d(9055),Nt=d(9057,o),Ut=d(9060),Lt=d(9061),Bt=d(9062),Wt=d(9063),Ht=d(9064),Vt=d(9065),zt=d(9408),jt=d(9409),qt=d(9425),Gt=d(9426),Jt=d(9427),Kt=d(9428),Qt=d(9429),Xt=d(9430),Yt=d(9431),Zt=d(9432),te=d(9433),ee=d(9434),ne=d(9437),ie=d(9734),re=d(9735),oe=d(9781),se=d(9787,o),ae=d(9789,o),ce=d(9790,o),ue=d(9798),le=d(9904),de=d(9906),fe=d(11103),he=d(13e3),pe=d(13001),me=d(13100),ge=d(13101),ve=d(13102),we=d(13103),ye=d(13104),be=d(13105),Se=d(13109),xe=d(13110),Ce=d(13114),ke=d(13115),Te=d(13116),$e=d(13117),Ae=d(13119),Ie=d(13120),Pe=d(13121),_e=d(13122,s),Me=d(13125),Re=d(13126),Ee=d(13127),Fe=d(13128),De=d(13129),Oe=d(13131),Ne=d(13132),Ue=d(13133),Le=d(13134),Be=d(13135),We=d(13136),He=d(13137),Ve=d(13138),ze=d(13140),je=d(13141),qe=d(13142),Ge=d(13143,o),Je=d(13144),Ke=d(14007),Qe=d(14102),Xe=d(15020),Ye=d(15021),Ze=d(15023),tn=d(15024),en=d(15025),nn=d(15026),rn=d(15027),on=d(15029,o),sn=d(15030,o),an=d(15031,o),cn=d(15252),un=d(15410),ln=d(15411),dn=d(15412,o),fn=d(18100),hn=d(18103),pn=d(18104),mn=d(18105),gn=d(18106),vn=d(18107),wn=d(18108),yn=d(18109),bn=d(18110),Sn=d(18111),xn=d(18113),Cn=d(19023),kn=d(20002),Tn=d(20003),$n=d(20007,o),An=d(20008),In=d(20009),Pn=d(20011,o),_n=d(20014),Mn=d(20018),Rn=d(20022),En=d(20023),Fn=d(20024),Dn=d(20051),On=d(20053),Nn=d(20054),Un=d(20056),Ln=d(20060),Bn=d(20061),Wn=d(20062),Hn=d(20063),Vn=d(20064,o),zn=d(20066),jn=d(20068),qn=d(20069,i.A.Deprecated),Gn=d(20070),Jn=d(20071,o),Kn=d(20072,o),Qn=d(20074),Xn=d(20082,o),Yn=d(20087,o),Zn=d(20088),ti=d(20090,o),ei=d(20092,o),ni=d(20089),ii=d(20091),ri=d(20094,o),oi=d(20139),si=d(20140),ai=d(20141),ci=d(20142),ui=d(20143),li=d(20144),di=d(20220),fi=d(21100),hi=d(20138),pi=d(20150),mi=d(20151),gi=d(20152),vi=d(20153),wi=d(20168),yi=d(20169),bi=d(20165),Si=d(20166),xi=d(20167),Ci=d(20154),ki=d(20155),Ti=d(20156),$i=d(20157),Ai=d(20158),Ii=d(20159),Pi=d(20162,s),_i=d(20164),Mi=d(20171),Ri=d(20172),Ei=d(20173),Fi=d(20174),Di=d(20175),Oi=d(20176),Ni=d(20177),Ui=d(20178),Li=d(20179),Bi=d(20180),Wi=d(20223,s),Hi=d(20224),Vi=d(20181),zi=d(20182),ji=d(20184),qi=d(20186),Gi=d(20188),Ji=d(20189),Ki=d(20190,o),Qi=d(20191,o),Xi=d(20194,s),Yi=d(20195,s),Zi=d(20196),tr=d(20197),er=d(20198),nr=d(20199),ir=d(20204,o),rr=d(20205,o),or=d(20209,o,c,"Service request failed all retries"),sr=d(20210,o,c,"1S request (assets.msn.*) failed. Retrying using backup domain (assets2.msn.*)"),ar=d(20222),cr=d(20302),ur=d(20303),lr=d(20304),dr=d(21015),fr=d(22029,a),hr=d(22030,a),pr=(i.A.Deprecated,d(24520)),mr=d(24521),gr=d(24522),vr=d(24523),wr=d(24524),yr=d(24526),br="shopping-card/src/shopping-card.ts",Sr=d(24565,r,c,void 0,br),xr=d(24573),Cr=d(24574),kr="WindowsShellAccountManager.connector.ts",Tr=d(24580,o,c,void 0,kr),$r=d(24583,r,c,void 0,kr),Ar=d(24584),Ir=d(24601),Pr=d(24602),_r=d(24603),Mr=d(24606),Rr=d(24607),Er=d(24608),Fr=d(24609),Dr=d(24611),Or=d(24612),Nr=d(24613),Ur=d(24904),Lr=d(28e3),Br=d(28001),Wr=d(28002),Hr=d(28003),Vr=d(28100,o),zr=d(28101),jr=d(28102),qr=d(28103),Gr=d(28110),Jr=d(28111),Kr=d(28213,o),Qr=d(28216),Xr=d(28217),Yr=d(28401,o),Zr=d(28410),to=d(28411,o),eo=d(28414),no=d(28415),io=d(28416),ro=d(28420),oo=d(28421),so=d(29e3),ao=d(29001),co=d(29002,o),uo=d(29003),lo=d(29100,s),fo=d(29101),ho=d(29102),po=d(29103),mo=d(29105,o),go=d(29300),vo=d(29499,a,f(!0)),wo=d(29501,r,f(!0)),yo=d(29502,r,f(!0)),bo=d(29503,o),So=d(29507,r,f(!0)),xo=d(29508,r,f(!0)),Co=d(29522,r,f(!0)),ko=d(29526,r,f(!0)),To=d(29530,o),$o=d(29532,o,f(!1)),Ao=d(29533,r,f(!0)),Io=d(29535,s,f(!0)),Po=d(29541,o,f(!1)),_o=d(29543,r,f(!0)),Mo=d(29544,o,f(!0)),Ro=d(29545,s,f(!0)),Eo=d(29547,r,f(!0)),Fo=d(29548,s,f(!0)),Do=d(29549,r,f(!0)),Oo=d(29557,r,f(!0)),No=d(29565,r,f(!0)),Uo=d(29566,o,f(!1)),Lo=d(29569,r,f(!0)),Bo=d(29580,s,f(!0)),Wo=d(29582,r,f(!0)),Ho=d(29585,o,f(!1)),Vo=d(29586,r,f(!0)),zo=d(29590,r,f(!0)),jo=d(29591,o,f(!0)),qo=d(29593,o,f(!1)),Go=d(29599,o,f(!0)),Jo=d(295005,o,f(!0)),Ko=d(295006,o,f(!0)),Qo=d(29610,o),Xo=d(29625,o),Yo=d(29635),Zo=d(29729,o),ts=d(29756,o),es=d(29854),ns=d(29855),is=d(29856),rs=d(29857),os=d(29858),ss=d(29860),as=d(29861),cs=d(29862),us=d(29863),ls=d(29864),ds=d(29865),fs=d(29866),hs=d(29867),ps=d(29901),ms=d(29903),gs=d(29904),vs=d(29905),ws=d(29910),ys=d(29923),bs=d(29924),Ss=d(29952),xs=d(29959),Cs=d(29960),ks=d(29961),Ts=d(29971),$s=d(29972),As=d(29977),Is=d(29980),Ps=d(29992),_s=d(29993),Ms=d(31100),Rs=d(31102),Es=d(31104),Fs=d(33018,o),Ds=d(33020),Os=d(33100),Ns=d(33102),Us=d(33103),Ls=d(33105),Bs=d(33110),Ws=d(33112),Hs=d(33113,o),Vs=d(33114),zs=d(33130,a,f(!0)),js=d(33140),qs=d(33150),Gs=d(33151),Js=d(33160,a,f(!0)),Ks=d(33161,a,f(!0)),Qs=d(33170,a,f(!0)),Xs=d(33171,a,f(!0)),Ys=d(33175,a,f(!0)),Zs=d(33176,a,f(!0)),ta=d(34012,s),ea=d(34014,s),na=d(34015,s),ia=d(34024),ra=d(34027),oa=d(34032),sa=d(34034),aa=d(35001),ca=d(35003,o),ua=d(35004),la=d(35006),da=d(35007),fa=d(35008),ha=d(35009),pa=d(35010),ma=d(35013,o),ga=d(35014),va=d(35015),wa=d(35016),ya=d(35018),ba=d(35019),Sa=d(35020),xa=d(35022,o),Ca=d(35023),ka=d(35024,o),Ta=d(35025,o),$a=d(35026),Aa=d(35117),Ia=d(35118),Pa=d(35119,o),_a=d(35120),Ma=d(35121),Ra=d(35122),Ea=d(35123),Fa=d(35124),Da=d(35128),Oa=d(35129,o),Na=d(35130),Ua=d(35131),La=d(35132),Ba=d(35133),Wa=d(35403,o),Ha=d(35404,o),Va=d(35600,o),za=d(35601,o),ja=d(35602,o),qa=d(35603,o),Ga=d(36107),Ja=d(36300),Ka=d(36302),Qa=d(36309),Xa=d(36311),Ya=d(36313),Za=d(36314,o),tc=d(36315),ec=d(36317,o),nc=d(36319,o),ic=d(36320,o),rc=d(36321),oc=d(36322),sc=d(36323,o),ac=d(36324,o),cc=d(36600),uc=d(36601),lc=d(36602),dc=d(36603),fc=d(36604),hc=d(36605),pc=d(36606),mc=d(36607),gc=d(36904),vc=d(36905),wc=d(36906),yc=d(36907),bc=d(36908),Sc=d(36909),xc=d(36910),Cc=d(36911),kc=d(36912),Tc=d(36913),$c=d(36914),Ac=d(36915),Ic=d(36916),Pc=d(36917),_c=d(36918),Mc=d(36919),Rc=d(36920),Ec=d(36921),Fc=d(36922),Dc=d(36923),Oc=d(36924),Nc=d(36925),Uc=d(36927),Lc=d(36928),Bc=d(36929),Wc=d(36930),Hc=d(36931),Vc=d(36932),zc=d(36933),jc=d(36934),qc=d(36935),Gc=d(36936),Jc=d(36937),Kc=d(36938),Qc=d(36939),Xc=d(36940,a,f(!0)),Yc=d(36941,a,f(!0)),Zc=d(36942,a,f(!0)),tu=d(36943,a,f(!0)),eu=d(36944,a,f(!0)),nu=d(36945,a,f(!0)),iu=d(36946,a,f(!0)),ru=d(36947,a,f(!0)),ou=d(36948,a,f(!0)),su=d(36949,a,f(!0)),au=d(36950,a,f(!0)),cu=d(36951,a,f(!0)),uu=d(36953,a,f(!0)),lu=d(36954,a,f(!0)),du=d(36956,a,f(!0)),fu=d(36957,a,f(!0)),hu=d(36958,a,f(!0)),pu=d(36959,a,f(!0)),mu=d(36960,a,f(!0)),gu=d(36961,a,f(!0)),vu=d(36962,a,f(!0)),wu=d(36963,a,f(!0)),yu=d(36964,a,f(!0)),bu=d(36965,a,f(!0)),Su=d(36966,a,f(!0)),xu=d(36967,a,f(!0)),Cu=d(36968,a,f(!0)),ku=d(36899,a,f(!0)),Tu=d(36898,a,f(!0)),$u=d(36969,a,f(!0)),Au=d(36970,a,f(!0)),Iu=d(36971,a,f(!0)),Pu=d(36972,a,f(!0)),_u=d(36973,a,f(!0)),Mu=d(36974),Ru=d(36975),Eu=d(36976),Fu=d(36977),Du=d(36978),Ou=d(36979),Nu=d(36980),Uu=d(36981),Lu=d(36982),Bu=d(36983,a,f(!0)),Wu=d(36984,a,f(!0)),Hu=d(36985,a,f(!0)),Vu=d(36986,a,f(!0)),zu=d(36987,a,f(!0)),ju=d(36988,a,f(!0)),qu=d(36990,r,f(!1)),Gu=d(36991,r,f(!1)),Ju=d(36992,a,f(!0)),Ku=d(36993,a,f(!0)),Qu=d(36994,a,f(!0)),Xu=d(36995,a,f(!0)),Yu=d(36996,a,f(!0)),Zu=d(36997,r,f(!0)),tl=d(37020),el=d(37021),nl=d(37022),il=d(37023),rl=d(37024),ol=d(37025),sl=d(37026),al=d(37028),cl=d(37029),ul=d(37030),ll=d(37031),dl=d(37032),fl=d(37033),hl=d(37035),pl=d(37036),ml=d(37037),gl=d(37038),vl=d(37039),wl=d(37040),yl=d(37041),bl=d(37042),Sl=d(37043),xl=d(37044),Cl=d(37045),kl=d(37046),Tl=d(37047),$l=d(37048),Al=d(37049),Il=d(37050),Pl=d(37300,o),_l=(i.A.Deprecated,d(37550)),Ml=d(37551),Rl=d(37552),El=d(37553),Fl=d(37554,o),Dl=d(37560),Ol=d(37561),Nl=d(37562,a),Ul=d(37563),Ll=d(37566),Bl=d(37568),Wl=d(37571,r,f(!0)),Hl=d(37573,r),Vl=d(37576),zl=d(37583,o),jl=d(37584),ql=d(37601),Gl=d(37604),Jl=d(37605),Kl=d(37609),Ql=d(37610),Xl=d(37611),Yl=d(37612,r,f(!0)),Zl=d(37613),td=d(37614),ed=d(37629),nd=d(37631),id=d(37632),rd=d(37634,o),od=d(37635,o),sd=d(37636,o),ad=d(37637),cd=d(37638),ud=d(37639),ld=d(37640),dd=d(37641),fd=d(37642),hd=d(37644),pd=d(38046,a),md=d(38047),gd=d(38050),vd=d(38055),wd=d(38100),yd=d(38101),bd=d(38102),Sd=d(38104),xd=d(38105),Cd=d(38106),kd=d(38108),Td=d(38109),$d=d(38110),Ad=d(38111),Id=d(38112),Pd=d(38113),_d=d(38114),Md=d(38115),Rd=d(38116),Ed=d(38117),Fd=d(38118),Dd=d(38119,o),Od=d(38120),Nd=d(38121),Ud=d(38122),Ld=d(38124,o),Bd=d(38125),Wd=d(38127),Hd=d(38128,o),Vd=d(38129),zd=d(38130),jd=d(38131),qd=d(38132,o),Gd=d(38133),Jd=d(38134),Kd=d(38135),Qd=d(38138),Xd=d(38139,o),Yd=d(38140),Zd=d(38141),tf=d(38142),ef=d(38300,s,f(!0)),nf=d(38301,s,f(!0)),rf=d(38302),of=d(38303),sf=d(38304),af=d(38305),cf=d(38306),uf=d(38307),lf=d(38318),df=d(38319,s,f(!0)),ff=d(38320),hf=d(38321,s,f(!0)),pf=d(38322,s,f(!0)),mf=d(38323),gf=d(38324),vf=d(38325),wf=d(38327,s),yf=d(38328),bf=d(38329),Sf=d(38331,s,f(!0)),xf=d(38334,r,f(!0)),Cf=d(38342),kf=d(38344),Tf=d(38345),$f=d(38346),Af=d(38347),If=d(38348),Pf=d(38360),_f=d(38362),Mf=d(38363),Rf=d(38364),Ef=d(38365,a),Ff=d(38366),Df=d(38367),Of=d(38369),Nf=d(38370),Uf=d(38373),Lf=d(38375),Bf=d(38377),Wf=d(38378),Hf=d(38380),Vf=d(38381),zf=(i.A.Deprecated,d(38600)),jf=d(38601),qf=d(38602),Gf=d(38603),Jf=d(38604),Kf=d(38605),Qf=d(38606),Xf=d(38607),Yf=d(38608,o),Zf=d(39230),th=d(39231),eh=d(39232),nh=d(39233),ih=d(39234,o),rh=d(39235,o),oh=d(39236),sh=d(39237,o),ah=d(39238,o),ch=d(39362,o),uh=d(39400),lh=d(39500),dh=d(39501),fh=d(39502),hh=d(39508),ph=d(39509),mh=d(39510),gh=d(39511),vh=d(39512),wh=d(39513),yh=d(39514),bh=d(39515),Sh=d(39517),xh=d(39518),Ch=d(39519),kh=d(39600),Th=d(39601),$h=d(39602),Ah=d(39603),Ih=d(39712),Ph=d(39713,o),_h=d(39714),Mh=d(39715),Rh=d(39716,o),Eh=d(39717),Fh=d(39720),Dh=d(39722),Oh=d(39901),Nh=d(40301,s),Uh=d(40302,s),Lh=d(40303,o),Bh=d(40304,s),Wh=d(40305,s),Hh=d(40308),Vh=d(40310,o),zh=d(40312,s),jh=d(40313,s),qh=d(40314),Gh=d(40315),Jh=d(40318),Kh=d(40319),Qh=d(40320),Xh=d(40321,o),Yh=d(40322,s),Zh=d(40323,s),tp=d(40324,o),ep=d(40325,o),np=d(40326,s),ip=d(40327,s),rp=d(40328,o),op=d(40329,o),sp=d(40331),ap=d(40332),cp=d(40333,o),up=d(40334,o),lp=d(40335,o),dp=d(40336,s),fp=d(40337,s),hp=d(40338,o),pp=d(40339,o),mp=d(40340,o),gp=d(40341,o),vp=d(40342),wp=d(40500),yp=d(40520,o),bp=d(40600,o),Sp=d(40601),xp=d(40604),Cp=d(40605),kp=d(40606),Tp=d(40607),$p=d(40608),Ap=d(40609),Ip=d(40700),Pp=d(40701),_p=d(40702),Mp=d(40703),Rp=d(40704),Ep=d(41109,a,f(!0)),Fp=d(41110,a,f(!0)),Dp=d(41111,a,f(!0)),Op=d(41112,a,f(!0)),Np=d(41113,a,f(!0)),Up=d(41114,a,f(!0)),Lp=d(41115,a,f(!0)),Bp=d(41140,a,f(!0)),Wp=d(41141,a,f(!0)),Hp=d(41142,a,f(!0)),Vp=d(41143,a,f(!0)),zp=d(41144,a,f(!0)),jp=d(41145,a,f(!0)),qp=d(41147,a,f(!0)),Gp=d(41148,a,f(!0)),Jp=d(41149),Kp=d(41150),Qp=d(41151),Xp=d(41152,a,f(!0)),Yp=d(41153),Zp=d(41154),tm=d(41155),em=d(41156),nm=d(41157),im=d(41158),rm=d(41159,a,f(!0)),om=d(41160,a),sm=d(41161,a),am=d(41162,a),cm=d(41163,a),um=d(41164,a),lm=d(41165,a),dm=d(41166,a),fm=d(41167,a),hm=d(41168,a),pm=d(41169,a),mm=d(41170,a),gm=d(41172,a),vm=d(41174,a),wm=d(41175,a),ym=d(41176,a),bm=d(41177,a),Sm=d(41184,a),xm=d(41185,a),Cm=d(41186),km=d(41187),Tm=d(41188),$m=d(41190,a),Am=d(41191),Im=d(41192),Pm=d(41193),_m=d(41195,a),Mm=d(41196,a),Rm=d(41197,a),Em=d(41198,a),Fm=d(41208),Dm=d(41209),Om=d(41210),Nm=d(41211,a,f(!0)),Um=d(41212),Lm=d(41213),Bm=d(41214),Wm=d(41215,a,f(!0)),Hm=d(41216),Vm=d(41217),zm=d(41218),jm=d(41220),qm=d(41221),Gm=d(41222),Jm=d(41223,a,f(!0)),Km=d(41224),Qm=d(41225),Xm=d(41226),Ym=d(41227,a,f(!0)),Zm=d(41228),tg=d(41229),eg=d(41230),ng=d(41231,a,f(!0)),ig=d(41232,a),rg=d(41233,a),og=d(41234,a),sg=d(41235,a),ag=d(41236,a),cg=d(41237,a),ug=d(41238,a),lg=d(41239,a),dg=d(41245,o),fg=d(41247,o),hg=d(41251,o),pg=d(41253,a),mg=d(41254,a),gg=d(41255,a),vg=d(41256,a),wg=d(41258,a),yg=d(41259,a),bg=d(41260,a),Sg=d(41261,a),xg=d(41263,a),Cg=d(41264,a),kg=d(41265,a),Tg=d(41266,a),$g=d(41267,a),Ag=d(41268,a),Ig=d(41269,a),Pg=d(41270,a),_g=d(41271,a),Mg=d(41272,a,f(!0)),Rg=d(41273,a),Eg=d(41274,a),Fg=d(41275,a),Dg=d(41276,a),Og=d(41277,a),Ng=d(41278,a),Ug=d(41279,a),Lg=d(41280,a),Bg=d(41281,a),Wg=d(41282,a),Hg=d(41283,a),Vg=d(41284,a),zg=d(41285,a),jg=d(41286,a),qg=d(41287,a),Gg=d(41288,a),Jg=d(41289,a),Kg=d(41360,a),Qg=d(41361,a),Xg=d(41362,a),Yg=d(41363,a),Zg=d(41291,a),tv=d(41292,a),ev=d(41294,a),nv=d(41295,a),iv=d(41296,a),rv=d(41297,a),ov=d(41356),sv=d(41406),av=d(41407),cv=d(41415),uv=d(41416),lv=d(41417,o),dv=d(41601),fv=d(41611),hv=d(41801),pv=d(41802),mv=d(41803),gv=d(41804),vv=d(41805),wv=d(41806),yv=d(41807),bv=d(41808),Sv=d(41809),xv=d(41810),Cv=d(41811),kv=d(41813),Tv=d(41814),$v=d(41816),Av=d(41900),Iv=d(42601),Pv=d(42602),_v=d(42603),Mv=d(42604),Rv=d(42605),Ev=d(42606),Fv=d(42701),Dv=d(42702,o),Ov=d(42703),Nv=d(42705),Uv=d(42706),Lv=d(42707),Bv=d(42708),Wv=d(42710),Hv=d(42711),Vv=d(42712),zv=d(43e3),jv=d(43001),qv=d(43002),Gv=d(43005),Jv=d(43006),Kv=d(43008),Qv=d(43011),Xv=d(43012,o),Yv=d(43225),Zv=d(43310),tw=d(43500),ew=d(43511),nw=d(43600),iw=d(43601),rw=d(43968),ow=d(43970),sw=d(43985),aw=d(43986),cw=d(40001),uw=d(40002),lw=d(40003),dw=d(44003),fw=d(44200),hw=d(44300),pw=d(44702),mw=d(44709),gw=d(44720),vw=d(44721),ww=d(44722),yw=d(44724),bw=d(44725),Sw=d(44726),xw=d(44729,o),Cw=d(44730,o),kw=d(45700),Tw=d(45706,r,f(!0)),$w=d(46216,a),Aw=d(46222,a),Iw=d(46243,o),Pw=(i.A.Deprecated,d(47701,a)),_w=d(47702,a),Mw=d(47703,a),Rw=d(47704,a),Ew=d(47705,a),Fw=d(47706,a),Dw=d(47707,a),Ow=d(47710,s,f(!0)),Nw=d(47712,s,f(!0)),Uw=d(47713,s,f(!0)),Lw=d(47716,s,f(!0)),Bw=d(5e4),Ww=d(50001),Hw=d(50002),Vw=d(50003),zw=d(50005),jw=d(50006),qw=d(50007),Gw=d(50008),Jw=d(50009),Kw=d(50010),Qw=d(50011,a),Xw=d(50012,o),Yw=d(50013),Zw=d(50014),ty=d(50015),ey=d(50017),ny=d(50018),iy=d(50019),ry=d(50020),oy=d(50021),sy=d(50022),ay=d(50024),cy=d(50025,a),uy=d(50026),ly=d(50027),dy=d(50028,a),fy=d(50029,a),hy=d(50030),py=d(50031),my=d(50032),gy=d(50033),vy=d(50034),wy=d(50035),yy=d(50036),by=d(50038),Sy=d(50039),xy=d(50040),Cy=d(50041),ky=d(50042),Ty=d(50043),$y=d(50045),Ay=d(50046),Iy=d(50049),Py=d(50050),_y=d(50052),My=d(50053,a),Ry=d(50054),Ey=d(50061),Fy=d(50062),Dy=d(50063),Oy=d(50065),Ny=d(50066),Uy=d(50067),Ly=d(50068),By=d(50069),Wy=d(50072),Hy=d(50073),Vy=d(50074),zy=d(50075),jy=d(50076),qy=d(50100),Gy=d(50101),Jy=d(50400,o),Ky=d(50401),Qy=d(50402),Xy=d(50403),Yy=d(52101),Zy=d(53322),tb=d(53323),eb=d(53700),nb=d(53800,r,c,void 0,"libs/feed-layout/.../healthFitnessCardDataMapper.ts"),ib=d(53801),rb=d(53802),ob=d(53944),sb=d(53952),ab=d(53972),cb=d(54401),ub=d(54437),lb=d(54440),db=d(54441),fb=d(60101),hb=d(60102),pb=d(60103),mb=d(60104),gb=d(60105),vb=d(60106),wb=d(60107),yb=d(60108),bb=d(60109),Sb=d(60110),xb=d(60111),Cb=d(60114),kb=d(60115),Tb=d(60116),$b=d(60117,o),Ab=d(60118,o),Ib=d(60119),Pb=d(60120),_b=d(60125),Mb=d(60126),Rb=d(60127),Eb=d(60128),Fb=d(60510),Db=d(60129),Ob=d(60130),Nb=d(60132,o),Ub=d(60134,o),Lb=d(60135,o),Bb=d(60136,o),Wb=d(60137,o),Hb=d(60138,a),Vb=d(60139,o),zb=d(60140,o),jb=d(60141,o),qb=d(60142,s),Gb=d(60143),Jb=d(60145,o),Kb=d(60146,o),Qb=d(60147),Xb=d(60148),Yb=d(60149),Zb=d(60150),tS=d(60151,s),eS=d(60152,s),nS=d(60153,o),iS=d(60154,s),rS=d(60155,o),oS=d(60156,s),sS=d(60157,o),aS=d(60158,o),cS=d(60160,o),uS=d(60161,s),lS=d(60162,o),dS=d(60163,o),fS=d(60165),hS=d(60166),pS=d(60168,o),mS=d(60169),gS=d(60170),vS=d(60171),wS=d(60228),yS=d(60237),bS=d(60239),SS=d(60240),xS=d(60241,o),CS=d(60242),kS=d(60243),TS=d(60244),$S=d(60245),AS=d(60246),IS=d(60247,a),PS=d(60250,o),_S=d(60252,o),MS=d(60254),RS=d(60259),ES=d(60260,o),FS=d(60261,o),DS=d(60262,o),OS=d(60265),NS=d(60266),US=d(60267),LS=d(60268),BS=d(60269),WS=d(60270),HS=d(60271),VS=d(60272),zS=d(60281),jS=d(60282,o),qS=d(60285),GS=d(60400),JS=d(60401),KS=d(60403),QS=d(60404),XS=d(60406),YS=d(60407),ZS=d(60408),tx=d(60409),ex=d(60410),nx=d(60413),ix=d(60414),rx=d(60421),ox=d(60430),sx=d(60475),ax=d(60500),cx=d(60550),ux=d(60551),lx=d(60552),dx=d(60800),fx=d(60801),hx=d(60900),px=d(60901),mx=d(61e3),gx=d(65001),vx=d(65002),wx=d(65004),yx=d(65103,o),bx=d(65101,o),Sx=d(65102),xx=d(65104,o),Cx=d(7e4,s),kx=d(70001,s),Tx=d(70010),$x=d(70011),Ax=d(70012),Ix=d(70013),Px=d(70014,a),_x=d(70015,a),Mx=d(70100),Rx=d(70101),Ex=d(70103),Fx=d(70202),Dx=d(70203),Ox=d(70204),Nx=d(70205),Ux=d(70206),Lx=d(70209),Bx=d(70210),Wx=d(70211),Hx=d(70212),Vx=d(70213),zx=d(70214),jx=d(70216),qx=d(70217),Gx=d(70218),Jx=d(70219),Kx=d(70221),Qx=d(70222),Xx=d(70223),Yx=d(70224),Zx=d(70225),tC=d(70227),eC=d(70300),nC=d(70400),iC=d(70401),rC=d(70402),oC=d(70403),sC=d(70404),aC=d(70406,i.A.Deprecated),cC=d(70407,i.A.Deprecated),uC=d(70408),lC=d(70409),dC=d(70410,i.A.Deprecated),fC=(i.A.Deprecated,d(73021)),hC=d(73030),pC=d(73033),mC=d(73040),gC=d(73065,o),vC=d(73082),wC=d(73078),yC=d(73079),bC=d(73100),SC=d(73101),xC=d(73102),CC=d(73104),kC=d(73105),TC=d(73116),$C=d(73117),AC=d(73121),IC=d(73122),PC=d(73123),_C=d(73124),MC=d(73125),RC=d(73126),EC=d(73127),FC=d(73209,r,f(!1)),DC=d(73210,r,f(!0)),OC=d(73211),NC=d(73212,s),UC=d(73213,s),LC=d(73215,r,f(!0)),BC=d(73253,s,f(!1)),WC=d(73255,s,f(!0)),HC=d(73256,s,f(!0)),VC=d(73257,s,f(!0)),zC=d(73258,s,f(!0)),jC=d(73259,s,f(!1)),qC=d(73260),GC=d(73261,r,f(!0)),JC=d(73262,s,f(!0)),KC=d(73263,s,f(!0)),QC=d(73264,s,f(!1)),XC=d(73265),YC=d(73266,s,f(!1)),ZC=d(73267,s,f(!1)),tk=d(73307),ek=d(73308),nk=(i.A.HighImpact,i.A.HighImpact,i.A.HighImpact,i.A.HighImpact,d(77025,s)),ik=d(77026,r),rk=d(90108,o),ok=d(90300),sk=d(90301,o),ak=d(90303),ck=d(90305),uk=d(90306),lk=d(90307),dk=d(90308,o),fk=d(90309,o),hk=d(90310,o),pk=d(91002),mk=d(91005),gk=d(91006),vk=d(91007),wk=d(92001),yk=d(100032),bk=d(100036),Sk=d(102003,o),xk=d(102300,o),Ck=d(102302,o),kk=d(110022),Tk=d(110043),$k=d(110044,o),Ak=d(111001,o),Ik=d(111030,o),Pk=d(111043,o),_k=d(111050,o),Mk=d(111051,o),Rk=d(111060,o),Ek=d(111070,o),Fk=d(111100),Dk=d(111103),Ok=d(111106),Nk=d(111110),Uk=d(111300),Lk=d(112001,o),Bk=d(120001),Wk=d(120002),Hk=d(120003),Vk=d(120010),zk=d(120011),jk=d(130002),qk=d(130003),Gk=d(130004,o),Jk=d(130005,o),Kk=d(130006,o),Qk=d(130007,o),Xk=d(130008,o),Yk=d(130009,o),Zk=d(130010,o),tT=d(130011,o),eT=d(130012,o),nT=d(130013,o),iT=d(130014,o),rT=d(130015,o),oT=d(130016,o),sT=d(130017,o),aT=d(130018,o),cT=d(133100),uT=d(133101),lT=d(134e3),dT=d(135020),fT=d(135021),hT=d(135022),pT=d(135040,o),mT=d(135041,o),gT=d(135043),vT=d(135063,o),wT=d(135064,o),yT=d(135065,o),bT=(i.A.Deprecated,d(140100)),ST=d(140101),xT=d(140102),CT=d(140103),kT=d(140104),TT=d(140110),$T=d(140105),AT=d(140106),IT=d(140107),PT=d(140200),_T=d(143e3,o),MT=d(143001,a),RT=d(143007,a),ET=d(143002,a),FT=d(143003,a),DT=d(143005,a),OT=d(143006,a),NT=d(145e3),UT=d(145001),LT=d(145002),BT=d(146e3,r,f(!0)),WT=d(146001,o),HT=d(146002,r,f(!0)),VT=d(222223),zT=d(223e3),jT=d(223001),qT=d(223002),GT=d(223004),JT=d(223005),KT=d(223006),QT=d(223007),XT=d(223050),YT=d(223060),ZT=d(223062,o),t$=d(223100),e$=d(223101),n$=d(223200),i$=d(223201),r$=d(223202),o$=d(223203,a),s$=d(223204),a$=d(223300,o),c$=d(223301),u$=d(223302),l$=d(223303,o),d$=d(223304,o),f$=d(223305,o),h$=d(224100,a,f(!0)),p$=d(224101),m$=d(224102),g$=d(224103),v$=d(224200),w$=d(224201),y$=d(224300),b$=d(224301),S$=d(224302,a),x$=d(224500,a,f(!0)),C$=d(224502),k$=d(295103,o),T$=d(295104,o),$$=d(295100,o),A$=d(295101,o),I$=d(295102),P$=d(295200),_$=d(295201),M$=(i.A.Deprecated,i.A.Deprecated,i.A.Deprecated,d(295205)),R$=d(295206),E$=d(295207),F$=d(295208),D$=d(295209),O$=d(295210),N$=d(295211),U$=d(295212),L$=d(295220),B$=d(295254),W$=d(295255),H$=d(295257),V$=d(295300),z$=d(295301),j$=d(295302),q$=d(295303),G$=d(295402),J$=d(295406),K$=d(295407),Q$=d(295408),X$=d(295409),Y$=d(295500,a),Z$=d(295501),tA=d(295502),eA=d(295503),nA=d(295504),iA=d(1600,s),rA=d(1602,s),oA=d(1606,s),sA=d(1612),aA=d(1614,s),cA=d(1615,s),uA=d(1616),lA=d(3e4),dA=d(33e4),fA=d(34e4,o),hA=d(340001,o),pA=d(340002,o),mA=d(345e3,s),gA=d(35e4),vA=d(351e3),wA=d(351001),yA=d(351002),bA=d(351010),SA=d(36e4),xA=d(41e4),CA=d(410001),kA=d(410003),TA=d(410004),$A=d(43e4),AA=d(430001),IA=d(420050,s),PA=d(420051,s),_A=d(420053,s),MA=d(420052,s),RA=d(420054),EA=d(420063),FA=d(420100,s),DA=d(420101,s),OA=d(420102,s),NA=d(420103,s),UA=d(420055,s),LA=d(420056,s),BA=d(420057,s),WA=d(420058,s),HA=d(420059,s),VA=d(420060,s),zA=d(420061,s),jA=d(420062),qA=d(420064,s),GA=d(420065),JA=d(420066),KA=d(420104,s),QA=d(420105,s),XA=d(420106,s),YA=d(420107),ZA=d(420108),tI=d(420109),eI=d(420111),nI=d(420112),iI=d(420113),rI=d(420115),oI=d(420116),sI=d(440001),aI=d(440003),cI=d(440004),uI=d(45e4,s,f(!0)),lI=d(450001,s,f(!0)),dI=d(450002,s,f(!0)),fI=d(450003,s,f(!0)),hI=d(450004,s,f(!0)),pI=d(450005,s,f(!0)),mI=d(46e4),gI=d(460001),vI=d(460002),wI=d(460003),yI=d(460004),bI=d(48e4),SI=d(5e5,r,f(!0)),xI=d(51e4,o),CI=d(52e4),kI=d(520001),TI=d(520002),$I=d(520003),AI=d(520004),II=d(520005),PI=d(55e4),_I=d(56e4),MI=d(560001),RI=d(590002,s),EI=d(6e5,a),FI=d(61e4,o),DI=d(610005),OI=d(64e4,o)},65431:function(t,e,n){var i,r,o,s;n.d(e,{Hv:function(){return a},Nh:function(){return c}}),function(t){t._lowerBound="invalid",t._1by191="1x1.91",t._9by16="9x16",t._3by4="3x4",t._1by1="1x1",t._4by3="4x3",t._16by9="16x9",t._191by1="1.91x1"}(i||(i={})),function(t){t.Adult="adult",t.Enterprise="enterprise"}(r||(r={})),function(t){t.AdFeedV2="feedv2-template",t.Default="msft-content-card",t.PatternOverlay="msn-pattern-overlay-card",t.PseudoVideo="msn-pseudo-video-card",t.Slideshow="msn-slideshow-card",t.ZIndex="msn-z-index-card",t.AdCarousel="msn-ad-carousel",t.AnimatedImagery="msn-animated-imagery",t.InfopaneHorizontal_1by1="msn-info-pane-horizontal-1-by-1",t.InfopaneHorizontal_3by4="msn-info-pane-horizontal-3-by-4",t.InfopaneHorizontal_4by3="msn-info-pane-horizontal-4-by-3",t.InfopaneHorizontal_9by16="msn-info-pane-horizontal-9-by-16",t.InfopanePatternOverlay_1by1="msn-info-pane-pattern-overlay-1-by-1",t.InfopanePatternOverlay_4by3="msn-info-pane-pattern-overlay-4-by-3",t.InfopaneDoubleCard_19by10="msn-card-19-by-10",t.RiverAnimatedImagery_9by16="msn-river-animated-imagery-9-by-16",t.RiverZIndex_9by16="msn-river-z-index-9-by-16",t.RiverZIndex_3by4="msn-river-z-index-3-by-4",t.HotspotSingle="msn-hotspot-single",t.BrandStory="msn-brand-story",t.CallToAction="msn-ad-cta",t.CallToActionLearnMore="msn-ad-cta-learn-more",t.CallToActionDarkMode="msn-ad-cta-learn-more-dark-mode",t.CallToActionIcon="msn-ad-cta-icon",t.CallToActionShortTitle="msn-ad-cta-short-title",t.CallToActionMaskMode="msn-ad-cta-mask-mode",t.ContentReveal="msn-content-reveal",t.DiscountScribble="msn-discount-scribble",t.BrandStoryNoDeco="msn-brand-story-no-deco",t.BrandStoryNoProgressiveDisplay="msn-brand-story-no-progressive-display",t.Gamification="msn-gamification",t.HighlightRating="msn-highlight-rating-card",t.DecorationDynamic="msn-decoration-dynamic",t.TitleMaxLine2="msn-title-max-line-2",t.TitleMaxLine2C="msn-title-max-line-2-c",t.InfopaneDynamicRendering="msn-info-pane-dynamic-rendering",t.Logo="msn-native-ad-logo",t.LogoWithBorderRadius="msn-native-ad-logo-radius",t.ShortTitle="msn-native-ad-short-title",t.Spotlight="msn-spotlight-image",t.Disclaimer="msn-ad-disclaimer",t.ZIndexV2Original="msn-ad-zindex-v2-original",t.ZIndexV2Polygon="msn-ad-zindex-v2-polygon",t.AdSlugV3="msn-ad-slug-v3",t.AdSlugV4="msn-ad-slug-v4",t.DrPerf="msn-ad-dr-perf",t.Video="msn-video",t.VideoIAS="msn-video-ias",t.Amplify="msn-amplify",t.SpecialOfferNonDR="msn-special-offer-nondr",t.SpecialOfferNonDRWithExp="msn-special-offer-nondr-with-exp",t.RatingHighlightRedNonDR="msn-highlight-rating-nondr-red",t.RatingHighlightYellowNonDR="msn-highlight-rating-nondr-yellow",t.RatingHighlightYellowNonDRStatic="msn-highlight-rating-nondr-yellow-static",t.RatingDefaultYellowNonDRStatic="msn-default-rating-nondr-yellow-static",t.FreeShippingPlainTextNonDR="msn-freeshipping-plain-text-nondr",t.FreeShippingInlineNonDR="msn-freeshipping-inline-nondr",t.FreeShippingTopLeftNonDR="msn-freeshipping-top-left-nondr",t.FreeShippingTopRightNonDR="msn-freeshipping-top-right-nondr",t.FreeShippingDR="msn-freeshipping-dr",t.ConditionNonDR="msn-condition-nondr",t.ConditionNonDRControl="msn-condition-nondr-c",t.ReturnPolicyNonDR="msn-return-policy-nondr",t.ReturnPolicyNonDRControl="msn-return-policy-nondr-c",t.SoldNonDR="msn-sold-nondr",t.SoldNonDRControl="msn-sold-nondr-c",t.EliteBadge="msn-elite-badge",t.RatingDR="msn-rating-dr",t.Trending="msn-trending",t.LikeButton="msn-like-button",t.SaleHighlightV1="msn-sale-highlight-v1",t.SaleHighlightV1Control="msn-sale-highlight-v1-c",t.SaleHighlightV3="msn-sale-highlight-v3",t.SaleHighlightV4="msn-sale-highlight-v4",t.SaleHighlightV3V4Control="msn-sale-highlight-v3v4-c",t.ShortTitleControl="msn-short-title-c",t.SpecialOfferControl="msn-special-offer-c",t.LogoControl="msn-logo-c",t.FreeShippingControl="msn-freeshipping-c",t.ZIndexControl="msn-z-index-c",t.RatingControl="msn-rating-c",t.TrendingControl="msn-trending-c",t.CallToActionControl="msn-cta-c",t.HoverEffectControl="msn-hover-effect-c",t.HoverEffect="msn-hover-effect",t.ComboRating="msn-combo-rating",t.ComboFreeShipping="msn-combo-freeshipping",t.ComboSpecialOffer="msn-combo-special-offer",t.ComboRatingNonDR="msn-combo-rating-nondr",t.ComboFreeShippingNonDR="msn-combo-freeshipping-nondr",t.ComboSpecialOfferNonDR="msn-combo-special-offer-nondr",t.ComboSaleHighlightNonDR="msn-combo-sale-highlight-nondr",t.ComboRatingNonDRControl="msn-combo-rating-nondr-c",t.ComboFreeShippingNonDRControl="msn-combo-freeshipping-nondr-c",t.ComboSpecialOfferNonDRControl="msn-combo-special-offer-nondr-c",t.ComboSaleHighlightNonDRControl="msn-combo-sale-highlight-nondr-c",t.CallToActionV2="msn-call-to-action-v2",t.CallToActionV3="msn-call-to-action-v3",t.CallToActionV3PA="msn-call-to-action-v3-pa",t.PESeasonalAds="msn-pe-seasonal",t.PESeasonalAdsV1="msn-pe-seasonal-v1",t.PESeasonalAdsV1P="msn-pe-seasonal-v1p",t.PESeasonalAdsControl="msn-pe-seasonal-control",t.ComboSoldNonDR="msn-combo-sold-nondr",t.ComboReturnPolicyNonDR="msn-combo-return-policy-nondr",t.ComboConditionNonDR="msn-combo-condition-nondr",t.ComboSoldNonDRControl="msn-combo-sold-nondr-c",t.ComboReturnPolicyNonDRControl="msn-combo-return-policy-nondr-c",t.ComboConditionNonDRControl="msn-combo-condition-nondr-c",t.ResponsiveImageSizing="msn-responsive-image-sizing",t.ResponsiveDescription="msn-responsive-description",t.GeometricAdWaves1="msn-geometric-ad-waves-1",t.GeometricAdWaves3="msn-geometric-ad-waves-3",t.GeometricAdWaves4="msn-geometric-ad-waves-4",t.GeometricAdNature3="msn-geometric-ad-nature-3",t.GeometricAdSparkles1="msn-geometric-ad-sparkles-1",t.GeometricAdSparkles2="msn-geometric-ad-sparkles-2",t.GeometricAdSparkles3="msn-geometric-ad-sparkles-3",t.GeometricAdSparkles4="msn-geometric-ad-sparkles-4",t.GeometricAdSparkles5="msn-geometric-ad-sparkles-5",t.GPTTitle="msn-native-ad-gpt-title",t.AlignmentRF="msn-native-ad-align-rf",t.AIImg="msn-native-ad-ai-img",t.VAPhase2="msn-native-ad-va-phase2"}(o||(o={})),function(t){t.ScaleUp="scale-up",t.ScaleDown="scale-down",t.ScaleUpDown="scale-up-down"}(s||(s={}));const a={infopane:{w:612,h:304},riverdb:{w:612,h:304},river:{w:300,h:304}},c={templateType:"msft-content-card",animatedImage:"",landscapeOverlay:!1,allowedAssets:null,nativeAdMode:"adult",adCarousel:!1,progressiveDisplay:!1,discountThreshold:1,imageSizeConfig:{infopane:{w:604,h:296},river:{w:300,h:174}},badgeStyle:"blendedIn",useClickInGamify:!0,configType:void 0}},65432:function(t,e,n){n.d(e,{HY:function(){return d},fM:function(){return c},hF:function(){return u},v3:function(){return f}});var i=n(89980);const r="1s-tokens";var o;let s,a;function c(){return s=l(),s&&s.accessToken?s:void 0}function u(){if(s=l(),!s)return"notAvailable";const t=s.expiresOn,e=new Date(t),n="expired";if(!e.getTime())return n;return e>new Date?"valid":n}function l(){return s=s||void 0===s&&(0,i.Lg)().getObject(r)||null,s}function d(t){s=void 0,a=t;const{accessToken:e,expiresOn:n}=t||{};e&&n?(0,i.Lg)().setObject(r,{accessToken:e,expiresOn:n}):(0,i.Lg)().removeItem(r)}function f(){return a}!function(t){t.NotAvailable="notAvailable",t.Expired="expired",t.Valid="valid"}(o||(o={}))},65444:function(t,e,n){n.d(e,{y:function(){return r}});var i=n(68480);class r{}r.addVisuallyReadyDependencies=new i.P("AddVisuallyReadyDependencies"),r.markVisuallyReadyComplete=new i.P("MarkVisuallyReadyComplete")},67387:function(t,e,n){n.d(e,{Ah:function(){return s},B9:function(){return W},CR:function(){return w},Cr:function(){return L},Dg:function(){return v},E1:function(){return T},GH:function(){return A},I1:function(){return O},Jp:function(){return m},Ju:function(){return H},MK:function(){return i},MQ:function(){return p},Nn:function(){return g},OS:function(){return U},PO:function(){return d},Rs:function(){return f},Tp:function(){return h},V$:function(){return x},VR:function(){return N},Xp:function(){return o},Zc:function(){return S},aS:function(){return I},dW:function(){return k},dZ:function(){return B},gR:function(){return a},j$:function(){return $},js:function(){return l},k2:function(){return R},kr:function(){return b},oC:function(){return r},pc:function(){return P},pq:function(){return u},q9:function(){return D},v1:function(){return y},wX:function(){return C},y_:function(){return c}});const i="msnewsroot",r={html:"html",head:"head",body:"body"},o="data-canvas-info",s="data-client-settings",a="data-diagnostics",c="dir",u="data-info",l="data-js",d="data-pagetype",f="data-service-url",h="data-telemetry-id",p="data-page-product",m="data-page-type",g="data-ads-numberline",v=2,w="APP_ANON",y="aace",b="ace",S="OSATE",x="OSAT",C="child",k="AL_STATE",T="WID",$="APP_WID",A="search-history-enabled",I={activityId:"x-client-activityid",adsReferer:"ads-referer",authorization:"Authorization",entAuthorization:"Ent-Authorization",muid:"MUID",rpsToken:"UserAuthToken",taboolaSessionId:"taboola-sessionId",xboxToken:"s-xbox-token",traceParent:"traceparent",uniFeatTun:"OneSvc-Uni-Feat-Tun"},P={traceId:"ddd-activityid",debugId:"ddd-debugid",afdRefStr:"x-msedge-ref",userType:"ddd-usertype",isStatic:"X-Statics-Fallback",authFeatures:"ddd-auth-features",akamai_cache_status:"akamai-cache-status",akamai_grn:"akamai-grn",akamai_request_bc:"akamai-request-bc",akamai_request_id:"akamai-request-id",akamai_server_ip:"akamai-server-ip",digitalId:"X-1S-Digital-ID"};var _,M;!function(t){t.Presentation="presentation"}(_||(_={})),function(t){t.Unknown="Unknown",t.Portrait="Portrait",t.Landscape="Landscape"}(M||(M={}));const R={pageVersions:"pageVersions"},E={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default"}},F={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default",sharedNs:"msn-ns"}},D=t=>{let e;switch(t){case"default":e=E;break;case"shared":e=F;break;default:e=void 0}return e},O="switchedPivot",N="pivotSelectionSource";var U,L;!function(t){t[t.Undefined=0]="Undefined",t[t.Basic=1]="Basic",t[t.Advanced=2]="Advanced",t[t.Premium=3]="Premium"}(U||(U={})),function(t){t.Init="init",t.Config="config",t.Targeted="targeted",t.Sticky="sticky",t.NoSticky="no_sticky",t.Admin="admin",t.Forced="forced",t.Manual="manual"}(L||(L={}));const B=new Set(["finance-app-win","weather-app-win","winpstoreapp"]),W=new Set(["hpmsn"]),H=new Set(["chromentpnews"])},67536:function(t,e,n){n.d(e,{Dl:function(){return r},wV:function(){return o}});var i=n(33918);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.EW;const n=e.length,r=[];return t&&t.length&&(t.forEach(t=>{const i=t&&t.trim();i&&i.length>=n&&i.substring(0,n).toLowerCase()===e&&r.push(i.toLowerCase())}),r.sort()),r}function o(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=i.EW;var o,s;return e?r=i.OY:n.toLocaleLowerCase()==="windowsShell".toLocaleLowerCase()||n.toLocaleLowerCase()==="windowsShellV2".toLocaleLowerCase()?r=i.h0:n.toLocaleLowerCase()!=="winWidgets".toLocaleLowerCase()||(null===(o=window)||void 0===o||null===(o=o.location)||void 0===o||null===(o=o.search)||void 0===o?void 0:o.includes("reqsrc=vp"))||null!==(s=window)&&void 0!==s&&null!==(s=s.location)&&void 0!==s&&null!==(s=s.search)&&void 0!==s&&s.includes("vptest")||(r=i.J4),r}},67878:function(t,e,n){n.d(e,{h:function(){return i}});const i={prod:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/"}},67931:function(t,e,n){n.d(e,{KS:function(){return c},go:function(){return s},kJ:function(){return o},py:function(){return a},z4:function(){return u}});var i=n(7040),r=n(55609);const o="#000000",s="#FFFFFF",a=(0,i.pq)(()=>o)(r.Ay),c=(0,i.Tk)(()=>o)(r.Ay),u=(0,i.k6)(()=>s)(r.Ay)},68288:function(t,e,n){n.d(e,{OV:function(){return f}});var i=n(93468),r=n(65022),o=n(86948),s=n(44369),a=n(49084),c=n(2462);function u(t){const e=(0,s.l)(()=>{(0,i.vV)(r.ASD,"finalizeSignInState called without properly setPageAuthManager to a valid instance")});e&&(e.setSignInState(t),(0,o._r)(),function(t){if((0,a.FS)()||(0,a.lp)()||(0,a.$D)())return;const e="ace",n=(0,c.Ri)(e);2!==t||n?1===t&&n&&(0,i.vV)(r.$Ck,`Non signed in user still has ${e} cookie`):(0,i.vV)(r.$Ck,`Signed in user missing ${e} cookie`)}(t))}var l=n(23572);let d;d=d=[u];const f=t=>{d.forEach(e=>e(t)),(0,l.eQ)("SetSignInState")}},68399:function(t,e,n){n.d(e,{Pp:function(){return c},Qn:function(){return l},Ww:function(){return u},kf:function(){return f},up:function(){return d},vx:function(){return h}});var i=n(53788),r=n(98763);const o=(0,r.Xe)(),s=(0,r.Xe)(),a=(0,r.Xe)();function c(t){s.set([]),a.set([]),o.set(t)}function u(t){var e;null===(e=o.get())||void 0===e||e.startMeasure(t.name,void 0,{entityMeasure:!0,startTime:p(t.startTime,-1)}).endMeasure({endTime:p(t.endTime,-1)})}function l(t){const e=o.get();return e?(0,i.X1)(e.getMeasureValues({entityMeasures:!0}),t,"from",!1):[]}function d(t){let e;const n=a.get();n&&null!=(e=m(t.time))&&n.push({name:t.name,time:e})}function f(t){const e=s.get();return e?(0,i.X1)(e,t,"time",!0):[]}function h(t){const e=a.get();return e?(0,i.X1)(e,t,"time",!1):[]}function p(t,e){return null!=t?t:e}function m(t){if("number"==typeof t&&t>=0)return t}},68480:function(t,e,n){n.d(e,{P:function(){return h}});var i=n(93005);function r(t,e,n,i){let r;return t&&(r=t.parentNamespace?t.parentNamespace+"."+t.namespace:t.namespace),{key:r,experienceInstanceId:i,type:e,params:n}}function o(t,e){return t?t.store.dispatch(e):i.V.getInstance().store.dispatch(e)}var s=n(99382);class a{get send(){return this.dispatchAction()}constructor(t,e,n){this.type=t,this.observers=e,this.connector=n}dispatchAction(){return function(){const t=this.tryGetPerfTimeline(),e=t&&t.startMeasure("action",this.type).endMeasure;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];const{payload:c,result:u}=this.getDispatchResult(i);return this.observers.forEach(t=>{try{t.filterConnector&&this.connector!==t.filterConnector||t.observer(c)}catch(e){console.log(`Error calling observer: ${JSON.stringify(t.observer)}, with error: ${e}`)}if(t.dispatchConnector){const e=r(t.dispatchConnector,s.j.renderAction,[],void 0);o(t.dispatchConnector,e)}}),e&&e(),u}}}class c extends a{constructor(t,e,n){super(t,e,n)}getDispatchResult(t){const e=r(this.connector,this.type,t,void 0);return{payload:e,result:o(this.connector,e)}}tryGetPerfTimeline(){return this.connector.perfTimeline}}var u=n(33107);class l extends a{constructor(t,e,n){super(t,e,null),this.experienceInstanceId=n}getDispatchResult(t){const e=r(void 0,this.type,t,this.experienceInstanceId);return{payload:e,result:o(void 0,e)}}tryGetPerfTimeline(){return(0,u.S9)("GlobalActionSender",this.experienceInstanceId||"unknown")}}var d=n(17720);let f=1;class h{get observers(){return d.vv.get(this.observerKey,()=>[])}set observers(t){d.vv.set(this.observerKey,t)}constructor(t){this.type=t,this.observerKey=`__ActionMap_${t}_${f++}`}getActionSender(t){let e;if(e="string"==typeof t?i.V.getInstance().rootReducer.connector(t):t,e)return new c(this.type,this.observers,e)}getGlobalActionSender(t){return new l(this.type,this.observers,t)}registerObserver(t,e){const{dispatchConnector:n,filterConnector:i}=e||{};this.observers.push({observer:t,dispatchConnector:n,filterConnector:i})}unregisterObserver(t){const e=this.observers.findIndex(e=>e.observer===t);e>-1&&this.observers.splice(e,1)}unregisterObservers(){this.observers=[]}}},68614:function(t,e,n){n.d(e,{I1:function(){return o},eq:function(){return r}});const i=new(n(79426).e),r=t=>i.set(t),o=async()=>i.getResultAsync()},69089:function(t,e,n){var i;n.d(e,{s:function(){return i}}),function(t){t.AiCharacter="aicharacterCardEnabled",t.AutosMarketplaceCard="autosmarketplaceCardEnabled",t.BoostCard="boostCardEnabled",t.HoroscopeCard="horoscopeCardEnabled",t.WeatherCard="weatherCardEnabled",t.SevereWeatherCard="severeWeatherCardEnabled",t.NowcastWeatherCard="nowcastweatherCardEnabled",t.RainTodayWeatherCard="raintodayweatherCardEnabled",t.WeatherRubyCard="weatherRubyCardEnabled",t.SportsCard="sportsCardEnabled",t.MoneyCard="moneyCardEnabled",t.FinanceCard="financeCardEnabled",t.OnThisDayCard="onthisdayCardEnabled",t.LocalEventsCard="localEventsCardEnabled",t.SavingsCard="savingsCardEnabled",t.ShoppingCard="shoppingCardEnabled",t.ShoppingFashionCarousel="shoppingFashionCardEnabled",t.ShoppingEventCard="eventSDCardShoppingEnabled",t.TrafficCard="trafficCardEnabled",t.EsportsCard="esportsCardEnabled",t.ElectionsCard="genericelectionCardEnabled",t.LotteryCard="lotteryCardEnabled",t.QnaCard="qnaCardEnabled",t.RecipesCard="recipeCardEnabled",t.PrismFeedCard="prismFeedCardEnabled",t.PrismCarouselCard="prismFeedCarouselCardEnabled",t.TravelCard="travelCardEnabled",t.HealthCard="healthCardEnabled",t.TopStoriesCard="topstoriesCardEnabled",t.TrendingTopics="TrendingTopicsUpsellEnabled",t.LocalGuideCard="localGuideCardEnabled",t.GroceryCard="groceryCardEnabled",t.RewardsCard="rewardsCardEnabled",t.PersonalizedOffersCard="personalizedoffersCardEnabled",t.PollsCard="pollsCardEnabled",t.MarketPlaceCard="marketplaceCardEnabled",t.QuizCard="quizcardCardEnabled",t.DailyQuizCard="DailyQuizCardEnabled",t.OnThisDaySDCard="OnThisDayCardEnabled",t.CasualGamesCard="esportsCardEnabled",t.CommuteCard="commuteCardEnabled",t.TrendingSearchCard="trendingsearchCardEnabled",t.RealEstateCard="realestateCardEnabled",t.MangaCard="mangaCardEnabled",t.RichCalendarCard="richCalendarCardEnabled",t.DailyGreetingCard="dailyGreetingCardEnabled",t.DonationNpoCard="DonationNpoCardEnabled",t.cegrowthCard="cegrowthCardEnabled",t.CopilotCard="copilotCardEnabled",t.PublisherSpotlightCard="PublisherSpotlightCardEnabled",t.FollowedPublishersCard="FollowedPublishersCardEnabled",t.Crypto="CryptoCard",t.MarketBrief="MarketBriefCard",t.ElectionCard="ElectionCardEnabled",t.EntertainmentPremierCard="entertainmentCardEnabled",t.CommunityCard="CommunityCardEnabled",t.DailyWonderCard="dailywonderCardEnabled",t.DailyBriefCard="DailyBriefCardEnabled",t.TopCommentsCard="TopCommentsCardEnabled"}(i||(i={}))},69118:function(t,e,n){n.d(e,{h:function(){return a}});var i=n(54761),r=n(62586),o=n(17254),s=n(89980);const a=new class{constructor(){this.localStorage=new Map,this.wpoTreatmentTypeMap=new Map,this.isLoaded=new Map}getWpoTreatments(t){const e=(0,r.$)(o.T3.AppType,o.T3.CurrentRequestTargetScope);if(!this.isLoaded.get(e)||t){this.wpoTreatmentTypeMap.set(e,new Map);const t=this.wpoTreatmentTypeMap.get(e);for(const e in i.Ar)if(isNaN(Number(e))){const n=i.Ar[e];null==t||t.set(n,[])}const{treatments:r}=(0,s.Lg)().getObject(e)||{};if(this.localStorage.set(e,r||[]),r)for(let e=0;e<r.length;e++){var n;const i=null===(n=r[e])||void 0===n?void 0:n.type;var a;if(i)null==t||null===(a=t.get(i))||void 0===a||a.push(r[e])}this.isLoaded.set(e,!0)}return this.localStorage.get(e)}getWpoTreatmentsWithType(t,e){var n;const i=(0,r.$)(o.T3.AppType,o.T3.CurrentRequestTargetScope);return this.isLoaded.get(i)&&!e||this.getWpoTreatments(e),null===(n=this.wpoTreatmentTypeMap.get(i))||void 0===n?void 0:n.get(t)}}},69189:function(t,e,n){n.d(e,{D:function(){return c},s:function(){return a}});var i=n(77246);const r="date",o=(null===globalThis||void 0===globalThis?void 0:globalThis.requestIdleCallback)??(t=>globalThis.setTimeout(t))??(t=>t());class s{constructor(t){var e=this;this.options=t,this.tryReadCache=async function(){if(await e.tryOpenCache()){const n=e.options.getCacheKey(...arguments);if(n){var t;const i=await(null===(t=e.cache)||void 0===t?void 0:t.match(n));if(e.isValid(i))return Object.assign(i,{isFromCache:!0}),i}}},this.writeCache=async function(t){if(200===(null==t?void 0:t.status)&&await e.tryOpenCache()){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];const c=e.options.getCacheKey(...i);if(c){t.headers.get(r)||t.headers.set(r,(new Date).toUTCString());let n=!1;try{var a;await(null===(a=e.cache)||void 0===a?void 0:a.put(c,t)),n=!0}catch{}o(()=>e.clearCache(n))}}},this.clearCache=async function(){var t,n;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null===(t=await(null===(n=e.cache)||void 0===n?void 0:n.keys()))||void 0===t?void 0:t.forEach(async t=>{let n=!i;if(i){var r;const i=await(null===(r=e.cache)||void 0===r?void 0:r.match(t));n=i&&!e.isValid(i)}var o;n&&await(null===(o=e.cache)||void 0===o?void 0:o.delete(t))})},this.tryOpenCache=async()=>{if(this.isEnabled&&!this.cache)try{this.cache=await globalThis.caches.open(this.options.cacheName)}catch{}return!!this.cache},this.isValid=t=>{var e;const n=Date.parse((null==t||null===(e=t.headers)||void 0===e?void 0:e.get(r))||""),i=n&&!isNaN(n)?n+this.maxAgeInMs:void 0;return!!i&&i>=Date.now()},this.isEnabled=(0,i.S)()&&!(null===globalThis||void 0===globalThis||!globalThis.caches),this.maxAgeInMs=t.maxAgeInMs||6e4}}const a=t=>new s(t),c=t=>!(null==t||!t.isFromCache)},69259:function(t,e,n){n.d(e,{$q:function(){return i},ei:function(){return r}});const i="news",r="feed/personalize/settings"},69295:function(t,e,n){n.d(e,{hK:function(){return r}});var i=n(46151);n(94623);function r(t,e,n){return(0,i.n3)(t,{cvid:e,ocid:n})}},69583:function(t,e,n){n.d(e,{sn:function(){return V},g6:function(){return B},k3:function(){return H}});var i=n(15098),r=n(8646);class o{get surfaceModel(){return(0,i.L)(()=>{const t=this._surfaceTemplateMapper(this._platformData);return t.interactionEvent.addEventListener(this.interactionEvent.dispatchEvent.bind(this.interactionEvent)),t})()}get contentModel(){return(0,i.L)(()=>{const t=this._contentTemplateMapper(this._platformData);return t.interactionEvent.addEventListener(this.interactionEvent.dispatchEvent.bind(this.interactionEvent)),t})()}get IsValid(){return!!this.id&&this.surfaceModel.IsValid&&this.contentModel.IsValid}constructor(t,e,n){if(this._platformData=t,this._surfaceTemplateMapper=e,this._contentTemplateMapper=n,this.interactionEvent=new r.f,!t)throw new Error("Platform data is required for PlacementModel")}getPlacementRules(){return[]}}class s extends o{getPlacementRules(){return[...super.getPlacementRules(),...this._platformData.placementRules??[]]}get id(){return this._platformData.id}get placementSource(){return"Internal"}get group(){return this._platformData.group}}var a=n(16813);class c{}class u extends c{constructor(){super(...arguments),this._placementsQueue=[]}providePlacement(t){this._callback?this._callback(t):this._placementsQueue.push(t)}subscribeForPlacementStream(t){this._callback||(this._callback=t,this._placementsQueue.forEach(e=>t(e)))}}class l{constructor(t){if(this._platformData=t,this.interactionEvent=new r.f,!t)throw new Error("Platform data is required for ContentTemplateModel")}}class d extends l{get contentType(){return a.r.CallToAction}get IsValid(){return!!this.title&&!!this.description}}class f extends d{get IsValid(){return!!this._contentData&&super.IsValid}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get disclaimerContent(){return this._contentData.disclaimerContent}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Engaged",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.engageContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}get dismissContentAction(){if(this._contentData.dismissContentAction||this._contentData.engageContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Dismissed",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.dismissContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}}class h extends l{get contentType(){return a.r.CallToChoice}get IsValid(){return!!this.title&&!!this.description}}class p extends h{get IsValid(){return!!this._contentData&&super.IsValid&&this.validateOptionValues()}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get currentValue(){return this._contentData.currentValue}get choiceOptions(){return this._contentData.choiceOptions||[]}get dismissContentAction(){if(this._contentData.dismissContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Dismissed",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.dismissContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async t=>{var e,n;this.interactionEvent.dispatchEvent({type:"Engaged",ts:Date.now(),followUpPlacementPromise:null===(e=this._contentData.engageContentAction)||void 0===e||null===(n=e.actionDelegate)||void 0===n?void 0:n.call(e,t)})}}}validateOptionValues(){const t=new Set;for(const e of this.choiceOptions){if(!e.value)return!1;if(t.has(e.value))return!1;t.add(e.value)}return!0}}var m=n(46534);class g extends m.Hl{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get position(){return this._surfaceData.position}get size(){return this._surfaceData.size}get enableGradientBorderBottom(){return this._surfaceData.enableGradientBorderBottom}get dismissAfterResolve(){const t=this._surfaceData.dismissAfterSeconds||120,e=new Promise(e=>setTimeout(()=>e("Ignored"),1e3*t));return this._surfaceData.dismissAfterResolve?Promise.race([e,this._surfaceData.dismissAfterResolve]):e}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get closeSurfaceAction(){var t;return{ariaLabel:null===(t=this._platformData)||void 0===t?void 0:t.defaultCloseAriaLabel,...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var t,e,n,i;null===(t=super.closeSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.closeSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var v=n(40735);class w extends v.u{get surfaceType(){return"ContextualFeedbackCardLevel"}}class y extends w{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterResolve(){const t=new Promise(t=>setTimeout(()=>t("Ignored"),12e4));return this._surfaceData.dismissAfterResolve?Promise.race([t,this._surfaceData.dismissAfterResolve]):t}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}class b extends v.u{get surfaceType(){return"ContextualFeedback"}}class S extends b{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterResolve(){return this._surfaceData.dismissAfterResolve}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var x,C,k;!function(t){t.Promotional="Promotional",t.LegalCompliance="LegalCompliance"}(x||(x={})),function(t){t.SlideUp="SlideUp",t.FadeIn="FadeIn",t.SlideRight="SlideRight"}(C||(C={})),function(t){t.Top="Top",t.Bottom="Bottom"}(k||(k={}));class T extends v.u{get IsValid(){return!!this.position}get surfaceType(){return"HorizontalBanner"}}class $ extends T{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get transitionEffect(){return this._surfaceData.transitionEffect}get position(){return this._surfaceData.position}get dismissAfterResolve(){const t=this._platformData.dismissAfterSeconds||120,e=new Promise(e=>setTimeout(()=>e("Ignored"),1e3*t));return this._surfaceData.dismissAfterResolve?Promise.race([e,this._surfaceData.dismissAfterResolve]):e}get bannerType(){return this._surfaceData.bannerType}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get closeSurfaceAction(){return{...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var t,e,n,i;null===(t=super.closeSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.closeSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var A,I=n(79426),P=n(19548);function _(){const t=(e="nurturingMockPlacement",n=window.location.search,P._3.getQueryParameterByName(e,n)||P._3.getQueryParameterByName(e.toLowerCase(),n));var e,n;return t?t.split(",").map(t=>t.trim()):[]}!function(t){t.InternalCoachmark="internal-coachmark",t.InternalHorizontalBanner="internal-horizontal-banner",t.InternalContextualFeedback="internal-contextual-feedback",t.WalktroughCoachmark="walktrough-coachmark",t.FloatingCoachmark="floating-coachmark",t.FloatingTopCenter="floating-top-center",t.FloatingBottomCenter="floating-bottom-center"}(A||(A={}));var M=n(70487),R=n(17254);function E(){return{id:"feedFreCoachmark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.fB.Large,position:{coachmarkAnchor:M.u.myFeed,anchoringPosition:m.M7.Above,hasPointer:!0,pointerPosition:m.X1.Opposite}},contentModel:{contentType:a.r.CallToAction,title:"Discover your Feed Experience",description:"Get more out of your feed experience through this walk-thru.",contentImage:{url:`${(0,R.rA)().StaticsUrl}latest/nurturing/rewards/signin-upsell-signin.png`,altText:"Feed Image"},engageContentAction:{label:"Get Started"},dismissContentAction:{label:"Maybe Later"}}}}function F(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.L$.BottomEnd;return{id:"floatingCoachMark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.fB.Medium,position:t},contentModel:{contentType:a.r.CallToAction,title:"Discover your Feed Experience",description:"Get more out of your feed experience through this walk-thru.",contentImage:{url:`${(0,R.rA)().StaticsUrl}latest/nurturing/rewards/signin-upsell-signin.png`,altText:"Feed Image"},engageContentAction:{label:"Get Started"},dismissContentAction:{label:"Maybe Later"}}}}const D={[A.InternalCoachmark]:E,[A.InternalHorizontalBanner]:()=>({id:"nurturingPlacementManagerTestKey",placementSource:"Internal",group:"Functional",surfaceModel:{surfaceType:"HorizontalBanner",position:"Top",displaySurfaceAction:{actionDelegate:()=>{}},hideSurfaceAction:{actionDelegate:()=>{}}},contentModel:{title:"Take Action",description:"Learn about promotion trough descriptions.",contentType:a.r.CallToAction,contentImage:{url:"https://www.bing.com/th?id=OADD2.10239253524416_1IRFPKC9YUHNF27KA&pid=21.2&c=16&roil=0&roit=0&roir=1&roib=1&w=300&h=225&dynsize=1",altText:"Image Alt Text"},engageContentAction:{label:"Engage",actionDelegate:()=>{}},dismissContentAction:{label:"Not Now",actionDelegate:()=>{}},disclaimerContent:{text:"Disclaimer text should be defined here and need to be informative.",links:[{linkText:"Term",linkUrl:"https://microsoft.com"},{linkText:"Privacy",linkUrl:"https://microsoft.com"}]}}}),[A.InternalContextualFeedback]:()=>({id:"nurturingPlacementManagerTestKey",placementSource:"Internal",group:"Functional",surfaceModel:{surfaceType:"ContextualFeedback",displaySurfaceAction:{actionDelegate:()=>{}},hideSurfaceAction:{actionDelegate:()=>{}}},contentModel:{title:"Do you like this feed?",description:"Description should be defined here and need to be informative.",contentType:a.r.CallToChoice,contentImage:{url:"https://www.bing.com/th?id=OADD2.10239253524416_1IRFPKC9YUHNF27KA&pid=21.2&c=16&roil=0&roit=0&roir=1&roib=1&w=300&h=225&dynsize=1",altText:"Image Alt Text"},choiceOptions:[{label:"Yes",actionDelegate:()=>{}},{label:"No",actionDelegate:()=>{}},{label:"Not sure",actionDelegate:()=>{}}],engageContentAction:{label:"Engage",actionDelegate:()=>{}},dismissContentAction:{label:"Not Now",actionDelegate:()=>{}},disclaimerContent:{text:"Disclaimer text should be defined here and need to be informative.",links:[{linkText:"Term",linkUrl:"https://google.com"},{linkText:"Privacy",linkUrl:"https://google.com"}]}}}),[A.WalktroughCoachmark]:()=>{const t=E(),e={id:"personalizeFreCoachmark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.fB.Large,position:{coachmarkAnchor:M.u.myInterests,anchoringPosition:m.M7.Above,hasPointer:!0,pointerPosition:m.X1.Opposite}},contentModel:{contentType:a.r.CallToAction,title:"Personalize your feed",description:"This is personalization settings, where you can personalize your feed.",contentImage:{url:`${(0,R.rA)().StaticsUrl}nurturing/rewards/signin-upsell-signin.png`,altText:"Personalization Image"},engageContentAction:{label:"Next"}}},n=new I.e,i=t=>{if("ArrowUp"===t.key)n.set("Ignored"),document.removeEventListener("keydown",i)};document.addEventListener("keydown",i);const r={...e,contentModel:{...e.contentModel,engageContentAction:{...e.contentModel.engageContentAction}}};return{...t,surfaceModel:{...t.surfaceModel,dismissAfterResolve:n.getResultAsync()},contentModel:{...t.contentModel,engageContentAction:{...t.contentModel.engageContentAction,actionDelegate:async()=>(await new Promise(function(t){setTimeout(t,1e4)}),r)}}}},[A.FloatingCoachmark]:F,[A.FloatingTopCenter]:()=>F(m.L$.TopCenter),[A.FloatingBottomCenter]:()=>F(m.L$.BottomCenter)};var O=n(93468),N=n(65022);const U={Coachmark:t=>new g(t),HorizontalBanner:t=>new $(t),ContextualFeedback:t=>new S(t),ContextualFeedbackCardLevel:t=>new y(t)},L={[a.r.CallToAction]:t=>new f(t),[a.r.CallToChoice]:t=>new p(t)};class B extends u{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._providerStaticContext=t,this.showMockPlacements()}createPlacement(t){const e=U[t.surfaceModel.surfaceType],n=L[t.contentModel.contentType];if(!e||!n)return;let i;const r={...this._providerStaticContext.localizedStrings};try{i=new s({...t,...r},e,n)}catch(e){return void(0,O.vV)(N.wHQ,"Internal data is not valid or missing.",void 0,t)}return i.interactionEvent.dispatchDecorator=t=>{var e;const n=t.followUpPlacementPromise?null===(e=t.followUpPlacementPromise)||void 0===e?void 0:e.then(t=>{if(t)return this.createPlacement(t)}):void 0;return{...t,followUpPlacementPromise:n}},i}sendInternalPlacement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this.createPlacement({...t,placementRules:e});n&&this.providePlacement(n)}showMockPlacements(){_().forEach(t=>{const e=D[t];e&&this.sendInternalPlacement(e())})}}const W=new I.e,H=t=>W.set(t),V=async()=>W.getResultAsync()},69723:function(t,e,n){n.r(e),n.d(e,{EntryPointHpWC:function(){return wt},EntryPointHpWCBackgroundColor:function(){return X},EntryPointHpWCStyles:function(){return ut},EntryPointHpWCTemplate:function(){return re},NewEntryPointHpWCBackgroundColor:function(){return Y},RubySideGutterSize:function(){return Q},ToolingInfo:function(){return se},commonStyles:function(){return rt},fetchAndStoreMainFeed:function(){return ht.io},getGlobalStyles:function(){return at},getviewType:function(){return yt},heroContentStyles:function(){return it},isMyFeedPageByUrl:function(){return ht.Gj},isPageWithFeedDep:function(){return ht.$y},isPersonalizePageByUrl:function(){return ht.MZ}});var i=n(56911),r=n(88296),o=n(27942),s=n(28006),a=n(84855),c=n(98216),u=n(17254),l=n(56589),d=n(12870),f=n(77454),h=n(65022),p=n(93468),m=n(89151),g=n(30817),v=n(81618),w=n(28422),y=n(93891);const b="entry-point-hp-wc-header",S=`#${b}`;var x;!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom"}(x||(x={}));class C{constructor(t,e,n){this.layoutChangeSubscriptions=[],this.updateBannerState=(t,e)=>{this.setupElements();const n=this.entryPointShadowRoot.querySelector(`#entry-point-hp-wc-banner-${t.bannerItemConfig.childExperienceConfigInfo.instanceId}`);if(!n||!this.headerContainerElement||!this.bannerContainerElement)return;const i=e?t.bannerItemConfig.metadata.height:"0px";this.headerContainerElement.style.top=i,this.entryPointContainerElement.style.marginTop=i,this.bannerContainerElement.style.maxHeight=i,e&&(n.style.display="block"),n.style.maxHeight=i,this.handleLayoutChange({bannerHeightWithUnit:i}),e||window.setTimeout(()=>n.style.display="none",500)},this.entryPointShadowRoot=t,this.banners=e||[],this.pendingQueue=[],this.enableLayoutSubscription=n}getBannerChildExperienceConfigInfoList(){return this.banners.map(t=>t.childExperienceConfigInfo)}getShowBannerFunction(){return(t,e,n)=>{const i=this.getBannerItemById(t);if(!i)return;const r={bannerItemConfig:i,placement:e,callback:n};this.currentBanner?(this.pendingQueue.push(r),this.sortPendingQueueByPriority()):(this.currentBanner=r,this.updateBannerState(r,!0)),n&&"function"==typeof n&&n()}}getHideBannerFunction(){return(t,e)=>{var n;if(this.getBannerItemById(t)){if((null===(n=this.currentBanner)||void 0===n||null===(n=n.bannerItemConfig)||void 0===n||null===(n=n.childExperienceConfigInfo)||void 0===n?void 0:n.instanceId)===t)this.updateBannerState(this.currentBanner,!1),this.currentBanner=void 0,this.showNextPendingBanner();else if(this.pendingQueue.length){const e=this.pendingQueue.findIndex(e=>e.bannerItemConfig.childExperienceConfigInfo.instanceId===t);e>=0&&(this.pendingQueue.splice(e,1),this.sortPendingQueueByPriority())}e&&"function"==typeof e&&e()}}}showNextPendingBanner(){this.pendingQueue&&this.pendingQueue.length&&(this.currentBanner=this.pendingQueue.shift(),this.updateBannerState(this.currentBanner,!0))}subscribeLayoutChange(t){this.enableLayoutSubscription&&this.layoutChangeSubscriptions.push(t)}dispose(){this.enableLayoutSubscription&&(this.layoutChangeSubscriptions=[])}handleLayoutChange(t){if(!this.enableLayoutSubscription)return;const e=parseInt(t.bannerHeightWithUnit,10);isNaN(e)||this.layoutChangeSubscriptions.forEach(t=>t({bannerHeight:e}))}sortPendingQueueByPriority(){this.pendingQueue.sort((t,e)=>t.bannerItemConfig.metadata.priority>e.bannerItemConfig.metadata.priority?1:t.bannerItemConfig.metadata.priority<e.bannerItemConfig.metadata.priority?-1:0)}getBannerItemById(t){for(const e of this.banners)if(e.childExperienceConfigInfo.instanceId===t)return e;return null}setupElements(){this.bannerContainerElement||(this.bannerContainerElement=this.entryPointShadowRoot.querySelector("#entry-point-hp-wc-banner")),this.headerContainerElement||(this.headerContainerElement=this.entryPointShadowRoot.querySelector(S)),this.entryPointContainerElement||(this.entryPointContainerElement=this.entryPointShadowRoot.querySelector("#entry-point-hp-wc-root-wrapper"))}}var k=n(11372),T=n(21481),$=n(77246),A=n(60815),I=n(71507),P=n(66600),_=n(36042),M=n(35849),R=n(59545),E=n(89980),F=n(2462),D=n(48622),O=n(86948),N=n(61204);async function U(t){if(!window.navigator.cookieEnabled||"ru-ru"===u.T3.CurrentMarket)return;await(0,O.e9)();let e="";try{e=await async function(){var t;const e=await D.d.getPdpUserPreference(!0,void 0,void 0,"market-consolidation");if(!e||!e.value||0===e.value.length)return"";const n=e.value[0];if(!n)return"";return(null===(t=n.userSettings)||void 0===t?void 0:t.preferredMarket)??""}()}catch{return void(0,p.vV)(h.QXg,"There was an error getting preferredMarket from PDP services.")}const n=function(){let t="";const e=(0,N._H)(),n=(0,F.Ri)(e);if(!n)return"";if("homePage"===u.T3.AppType)return n;const i=JSON.parse(n);i&&i.m&&(t=i.m);return t}();"edgeChromium"!=u.T3.AppType&&(t=N.wy);let i=!1,r="";if(r=(0,E.Lg)().getItem("marketConsolidationTmpl"),e)n?e!==n?(r=`MarketConsolidationSync_Mismatch_${e}_${n}`,t(e),(0,E.Lg)().setObject("showMarketRoamingCoachmark",!0),i=!0,(0,p.vV)(h.NHc,`Market missmatch. Server market: ${e}, Client market: ${n}`)):e!==n||r||(r="MarketConsolidationSync_Match",i=!0):(r="MarketConsolidationSync_Client_"+e,t(e),i=!0);else if(n){i=!0;await D.d.updateMarketPreference(n)?r="MarketConsolidationSync_Server_"+n:(i=!1,(0,p.vV)(h.VsV,"PDP Service failed to update market preference from MarketConsolidation",`market: ${n}`))}r&&(0,E.Lg)().setItem("marketConsolidationTmpl",r),(i||r)&&(c.YT.addOrUpdateTmplProperty("MarketConsolidationSync",i?"1":"0"),c.YT.addOrUpdateTmplProperty(r,"1"))}var L=n(3920),B=n(44594),W=n(43640),H=n(55602);let V=!1;var z=n(54030),j=n(79737),q=n(74849),G=n(4126),J=n(87944),K=(n(54355),n(25152));const Q="108",X={BODY:"#d5d4d0",MAIN:"#F4F4F2",LIGHT:"#F7F7F7"},Y={LIGHT:"#F4F4F2",DARK:"#242424"},Z="0.5s",tt=306,et=300,nt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e?12:16,i=e?et:tt;return(0,J.c)(i*t+n*(t-1))},it={base:{kGNEyG:"x6s0dn4",k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kAzted:"x65nank",kXHlph:"x101abm8",kVAEAm:"x1n2onr6",kmkexE:"x6nxxya",kzIqYQ:null,kIr0Dl:null,kIyJzY:null,k1ekBW:null,kAMwcw:null,kC7eKd:"x11k533r",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,kogj98:"xoiktbp",kUOVxO:null,keTefX:null,koQZXg:null,k71WvV:null,km5ZXQ:null,kqGvvJ:null,keoZOQ:null,k1K539:null,kZKoxP:"x1je3nrv",kY2c9j:"x1vjfegm",kaIpWk:"x4pepcl",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0}},rt={nurturingBannerContainer:{kZKoxP:"xdi48bf",ktR8K2:"x6wvzqs",kVAEAm:"x7wzq59",k87sOh:"x13vifvy",kzqmXN:"xh8yej3",kY2c9j:"x1pddxg8",$$css:!0},homepageBanner:{kskxy:"xnjgh8c",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kIyJzY:"x1wsgiic",k1xSpc:"x1s85apg",$$css:!0},stripeContainer:{kzqmXN:"xh8yej3",kB7OPa:"x9f619",kUk6DE:"x98rzlu",kzQI83:null,kmuXW:null,kCS8Yb:null,$$css:!0},stickyRail:{kVAEAm:"x7wzq59",k87sOh:"x1p8f6f7",k1xSpc:"xrvj5dj",kumcoG:"x1y6fwsi",k9llMU:"x1rmbzdt",$$css:!0},displayAdsContainer:{k1xSpc:"x78zum5",kjj79g:"xl56j7k",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kZKoxP:"xt7dq6l",kVAEAm:"x1n2onr6",$$css:!0},breakingNewsContainer:{k1xSpc:"x1lliihq",kzqmXN:"xh8yej3",kB7OPa:"x9f619",$$css:!0},bannerContainer:{kskxy:"xnjgh8c",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kVAEAm:"xixxii4",kzqmXN:"xh8yej3",k87sOh:"x13vifvy",kIyJzY:"x1wsgiic",kY2c9j:"x11uqc5h",$$css:!0},footerContainer:{k1xSpc:"x78zum5",kjj79g:"xl56j7k",kzqmXN:"xh8yej3",kZKoxP:"xd7y6wv",kVAEAm:"xixxii4",krVfgx:"x1ey2m1c",kbCHJM:"xu96u03",kLqNvP:null,kt4wiu:null,kY2c9j:"x11uqc5h",$$css:!0},superNavContainer:{k1xSpc:"xrvj5dj",kumcoG:"x1kawlos",kzqmXN:"xh8yej3",kAzted:"x12zfxbx",kGO01o:"xsag5q8",$$css:!0},chromeWaterfallBox:{k1xSpc:"x78zum5",kOIVth:"x883omv",khm7nJ:null,k1C7PZ:null,kZKoxP:"x1s1d1n7",$$css:!0}},ot="#entry-point-hp-wc-root-wrapper:not(.ntp-feed)",st=q.A`
.content-with-rail{display:grid;gap:${(0,J.c)(16)}}@media (min-width:1800px){${ot} .content-with-rail{grid-template-columns:${nt(4)} ${(0,J.c)(tt)}}}@media (min-width:1325px) and (max-width:1799px){${ot} .content-with-rail{grid-template-columns:${nt(3)} ${(0,J.c)(tt)}}}@media (min-width:995px) and (max-width:1324px){${ot} .content-with-rail{grid-template-columns:${nt(2)} ${(0,J.c)(tt)}}}@media (max-width:994px){${ot} .content-with-rail{grid-template-columns:1fr}${ot} .rail-container{display:none}}@media (max-width:955px){.ntp-feed .content-with-rail{grid-template-columns:1fr}.ntp-feed .rail-container{display:none}}`,at=()=>` @font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Light vi Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Light-WF-subset_vi.woff2) format('woff2');font-weight:100;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semilight vi Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Semilight-WF-subset_vi.woff2) format('woff2');font-weight:200;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI vi Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-WF-subset_vi.woff2) format('woff2');font-weight:400;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semibold vi Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Semibold-WF-subset_vi.woff2) format('woff2');font-weight:600;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Bold vi Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Bold-WF-subset_vi.woff2) format('woff2');font-weight:700;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Light Eastern Europe Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Light-WF-subset_east-europe.woff2) format('woff2');font-weight:100;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semilight Eastern Europe Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Semilight-WF-subset_east-europe.woff2) format('woff2');font-weight:200;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Eastern Europe Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-WF-subset_east-europe.woff2) format('woff2');font-weight:400;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semibold Eastern Europe Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Semibold-WF-subset_east-europe.woff2) format('woff2');font-weight:600;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Bold Eastern Europe Subset),url(${(0,u.rA)().AssetsUrl}/statics/fonts/Segoe-UI-Bold-WF-subset_east-europe.woff2) format('woff2');font-weight:700;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI;font-style:normal;src:url(${(0,u.rA)().AssetsUrl}/statics/fonts/SegoeUI-Roman-VF-subset_web.woff2) format('woff2');font-weight:100 900;font-display:swap}body,html{margin:0;font-family:Segoe UI,Segoe UI Midlevel,Segoe WP,Arial,sans-serif;background:${X.BODY}}body,html,fluent-design-system-provider{min-height:100vh}`+" @media (prefers-color-scheme:dark){body,html{background:none}}",ct=q.A` :host,.wrapper,.common-header,.dummy-header-container,.header-container{background:${X.LIGHT};
    }
`,ut=q.A`
:host{display:block;background:${X.BODY};min-height:100vh;--color-neutral-stroke-2:#e0e0e0;--color-neutral-stroke-3:#f0f0f0}.feed-view{--hp-feed-view-gap:16px;position:relative;top:10px;}.limited-width{max-width:1600px}@media (min-width:1800px){.limited-width.fifth-column{max-width:1922px}}.wrapper{display:flex;flex-flow:column;align-items:center;margin:0 auto 20px;position:relative;background:${X.MAIN};
        transition-duration: ${Z};min-height:100vh;overflow-x:clip}.header-outer-wrapper{display:flex;width:100%;position:fixed;top:0;align-items:center;justify-content:center;z-index:${"100"};
        transition-duration: ${Z}}.common-header{position:sticky;top:0;margin:0 auto;background-color:${X.MAIN};
        z-index: ${"100"};
        transition-duration: ${Z}}.dummy-header-container{display:flex;background:${X.MAIN};
        box-sizing: border-box;
        align-items: start;
        justify-content: center;
        padding: 0;
        position: relative;
        top: 0;
        transition-duration: ${Z};
        z-index: 0;
        height: ${"108"}px;margin:0 auto}.header-container{display:flex;background:${X.MAIN};
        box-sizing: border-box;
        align-items: start;
        position: relative;
        justify-content: center;
        padding: 0;
        width: 100%;
        height: ${"108"}px}.header-container:before,.header-container:after,.common-header:before,.common-header:after{content:'';display:block;height:calc(100vh + 500px);position:absolute;top:-500px;width:1.2rem}.header-container.content-shadow-box:before,.common-header.content-shadow-box:before{background:linear-gradient(to right,rgba(255,255,255,0),rgba(0,0,0,.1));left:-20px}.header-container.content-shadow-box:after,.common-header.content-shadow-box:after{background:linear-gradient(to left,rgba(255,255,255,0),rgba(0,0,0,.1));right:-20px}.header-shadow-box{box-shadow:rgb(0 0 0 / 10%) 0px 3px 3px}.header-wrapper{align-self:center;width:616px}.content-container{display:flex;flex-flow:column;flex:1;width:629px;max-width:100%}.me-stripe-container{width:100%;box-sizing:border-box;margin-bottom:${"3"}px}.me-stripe-placeholder{height:91px;width:100%;margin-bottom:${"3"}px}.me-stripe-placeholder.compact{height:70px}.me-stripe-placeholder.compact .placeholder-wrapper{height:70px}.placeholder-wrapper{display:flex;align-items:center;overflow:hidden;height:86px;margin-bottom:4px}.shimmer{height:100%;width:100%;border-radius:4px;background:linear-gradient(to right,var(--color-neutral-stroke-2) 40%,var(--color-neutral-stroke-3) 50%,var(--color-neutral-stroke-2) 60%);background-position-x:100%;background-size:300%;animation:shimmereffect 1s infinite linear}@keyframes shimmereffect{to{background-position-x:0%}}.topnav-placeholder{height:33px;width:100%;margin-bottom:3px}.topnav-placeholder.supernav-placeholder{padding-bottom:12px;margin-bottom:0}.topnav-placeholder .topnav-placeholder-container{height:33px;display:flex;align-item:center;overflow:hidden}.ad-banner-wrapper{min-height:112px}.feed-view .ad-banner-wrapper{margin-bottom:calc(var(--hp-feed-view-gap) - 6px);}.ad-banner-placeholder{height:100px;display:flex;align-items:center;justify-content:center;margin:0 auto}${st} .hybrid-feed{--override-card-base-gap:${16..toString()};
        --override-card-width: ${(0,J.c)(tt)};
        --override-card-wide-width: ${(0,J.c)(628)}}display-ads{position:relative;transform-origin:top}.recommended-sites-container{display:block;width:100%;box-sizing:border-box;--recommended-sites-sponsored-label-color:#666;--recommended-sites-margin-top:0px;--recommended-sites-item-padding-top:14px;--recommended-sites-msn-dark-mode:#fff;--recommended-sites-msn-dark-blue:#0078d4;--recommended-sites-msn-dark-red:#d83b01;--recommended-sites-msn-dark-green:#107c10}breaking-news-wc::part(breaking-news){text-align:left;min-height:44px;padding:0 16px}.gray-scale{filter:grayscale(1)}.gray-scale-with-ofhidden{filter:grayscale(1);overflow:hidden}.chrome-ext-container{display:flex;width:442px}.chrome-waterfall-container{width:${(0,J.c)(416)}}.chrome-waterfall-container super-nav{margin-inline-end:10px}@media (max-width:926px){recommended-sites::part(list){max-height:228px;overflow:hidden}}@media (max-width:994px){.dummy-header-container{height:${"163"}px}.header-container{height:${"163"}px}.header-wrapper{width:629px}}@media (min-width:995px){.content-container{width:951px}.header-wrapper{width:990px}.chrome-ext-container{width:765px}}@media (min-width:1325px){.content-container{width:1272px}.header-wrapper{width:1320px}.header-container.limited-width{width:1600px}.chrome-ext-container{width:100%}}.content-container.ntp-feed .me-stripe-placeholder.compact{margin:2px auto 12px}.feed-view .content-container.ntp-feed .me-stripe-placeholder.compact{margin:0 auto calc(var(--hp-feed-view-gap) - 1px);}.content-container.ntp-feed recommended-sites::part(recommended-sites){width:100%}@media (max-width:332px){:host{--feed-width:302}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:302px}}@media (min-width:332px) and (max-width:643px){:host{--feed-width:302}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:302px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:343px}}@media (min-width:644px) and (max-width:955px){:host{--feed-width:614}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:614px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:400px}}@media (min-width:956px) and (max-width:1267px){:host{--feed-width:926}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:926px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:568px}.ntp-feed .content-with-rail{grid-template-columns:${nt(2,!0)} ${(0,J.c)(et)}}.chrome-waterfall-container{width:${(0,J.c)(728)}}}@media (min-width:1268px) and (max-width:1579px){:host{--feed-width:1238}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:1238px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${nt(3,!0)} ${(0,J.c)(et)}}.chrome-waterfall-container{width:${(0,J.c)(1040)}}}@media (min-width:1580px){:host{--feed-width:1548}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:1548px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${nt(4,!0)} ${(0,J.c)(et)};
            gap: ${(0,J.c)(12)}}.chrome-waterfall-container{width:${(0,J.c)(1350)}}}@media (min-width:1800px){.content-container.fifth-column,.header-wrapper.fifth-column{width:1922px}:host{--feed-width:1548}.content-container.fifth-column.ntp-feed{width:1548px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${nt(4,!0)} ${(0,J.c)(et)};
            gap: ${(0,J.c)(12)}}.header-container.limited-width.fifth-column{width:1922px}}@media (max-width:650px){.header-wrapper{width:100%}}@media (max-width:650px) and (min-resolution:4dppx){.header-outer-wrapper{position:initial}.dummy-header-container{display:none}.banner-container{position:relative}}@media (prefers-color-scheme:dark){${" :host{--color-neutral-stroke-2:#525252;--color-neutral-stroke-3:#3d3d3d}:host,.wrapper,.common-header,.dummy-header-container,.header-container{background:var(--fill-color) !important}.recommended-sites-container{--recommended-sites-msn-dark-mode:#2b2b2b}.static-skeleton .me-stripe-skeleton{background:#333333}.dynamic-skeleton .me-stripe-skeleton{background:linear-gradient(90deg,#333333 25%,#404040 50%,#333333 75%)}"}
    }
`.withBehaviors(new K.hE,new G.o("alignBgColor",!0,ct));var lt;!function(t){t.Initialization="@common-events/initialization",t.Connection="@common-events/connection"}(lt||(lt={}));class dt extends j.nS{addFavIconLinkTag(){var t;if(null!==(t=this.target.config)&&void 0!==t&&t.favIconOverrideUrl&&(0,$.S)()){const t=document.createElement("link");t.setAttribute("rel","icon"),t.setAttribute("href",this.target.config.favIconOverrideUrl),t.setAttribute("type","image/x-icon"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("sizes","32x32"),document.querySelector("head").appendChild(t)}}applyGlobalStyles(){if((0,$.S)()&&!window.isSSREnabled){const t=document.createElement("style");t.innerHTML=at(),window.document.head.appendChild(t)}}dispatch(t){switch(t){case lt.Initialization:this.applyGlobalStyles();break;case lt.Connection:this.addFavIconLinkTag()}}}var ft=n(56500),ht=n(24452);const pt=(0,L.HL)("feedManager",()=>Promise.all([n.e("libs_windows-widget-shared_dist_BoardsHelper_js-libs_windows-widget-shared_dist_WidgetMappings_js"),n.e("libs_weather-common-utils_dist_data_FeedWeatherDataUtils_js"),n.e("experiences_card-action-wc_dist_CardActionWC_constants_js-libs_feed-layout-common_dist_Conten-ffd904"),n.e("libs_sports-data-service_dist_SportsDataMapper_js"),n.e("libs_contextual-feedback-manager_dist_ContextualFeedbackController_js-libs_feed-layout-common-db7bdd"),n.e("libs_feed-layout_dist_card-templates_hide-story-card_templates_HideStoryAdFeedbackConfirmatio-9d0d8d"),n.e("nas-highlight-v1"),n.e("libs_ad-service_dist_CookieSyncService_js-libs_card-overlap-monitor_dist_CardOverlapMonitor_j-5605a5"),n.e("cs-core-desktop_libs_dist_feed_feed-type_js-libs_experiences-base_dist_utilities_CountdownPro-f23033"),n.e("libs_chromium-page-settings_dist_ChromiumPageSettingsHelper_js-libs_edgechromium-wpo-promotio-44bfa2"),n.e("getFeedManager")]).then(n.bind(n,26159)).then(t=>t)),mt=(0,L.HL)("widgetsFeedManager",()=>Promise.all([n.e("libs_windows-widget-shared_dist_BoardsHelper_js-libs_windows-widget-shared_dist_WidgetMappings_js"),n.e("experiences_card-action-wc_dist_CardActionWC_constants_js-libs_feed-layout-common_dist_Conten-ffd904"),n.e("libs_sports-data-service_dist_SportsDataMapper_js"),n.e("libs_contextual-feedback-manager_dist_ContextualFeedbackController_js-libs_feed-layout-common-db7bdd"),n.e("libs_feed-layout_dist_card-templates_hide-story-card_templates_HideStoryAdFeedbackConfirmatio-9d0d8d"),n.e("nas-highlight-v1"),n.e("libs_ad-service_dist_CookieSyncService_js-libs_card-overlap-monitor_dist_CardOverlapMonitor_j-5605a5"),n.e("cs-core-desktop_libs_dist_feed_feed-type_js-libs_experiences-base_dist_utilities_CountdownPro-f23033"),n.e("libs_chromium-page-settings_dist_ChromiumPageSettingsHelper_js-libs_edgechromium-wpo-promotio-44bfa2"),n.e("experiences_entry-point-hp-wc_dist_lazy-loadings_widgetsFeedManager_js-libs_datetime-util_dis-a4206a")]).then(n.bind(n,98196)).then(t=>t.FeedManagerForNtpWidgets)),gt=(0,L.HL)("layoutTemplates",()=>n.e("feedDependencies").then(n.bind(n,42991)).then(t=>t.AnaheimLayoutTemplateMap)),vt=(0,L.HL)("widgetLayoutTemplates",()=>n.e("experiences_entry-point-hp-wc_dist_lazy-loadings_widgetLayoutTemplateMaps_js").then(n.bind(n,61219)).then(t=>t.AnaheimWidgetsLayoutTemplateMap));class wt extends T.U{constructor(){var t;super(),t=this,this.alignBgColor=!1,this.topStickyHeight=68,this.shouldHeaderShowShadow=!1,this.isFeedReady=!1,this.stripeEndCardCount=0,this.outUpdateBreakpoint=this.updateBreakpoint.bind(this),this.overriddenFeedConfig=null,this.isFirstRouteTrigger=!0,this.showHeroAboveNav=!1,this.isShowHero=!1,this.disableFeed=!1,this.headerHeroTelemetryObject=(0,z.u)("WaterfallViewFeed",{type:k.MJ.Module}),this.isShowHeroChanged=()=>{var t;(0,$.S)()&&this.isShowHero&&null!==(t=this.config)&&void 0!==t&&null!==(t=t.childExperienceConfigInfo)&&void 0!==t&&t.meStripeConfigInfo&&window.requestAnimationFrame(()=>{window.scrollBy(0,95)})},this.setOverriddenFeedConfig=t=>{this.overriddenFeedConfig={...t}},this.switchListenerCallback=t=>{var e;const{id:n,renderInfo:i}=t;null!=i&&null!==(e=i.experienceConfigRef)&&void 0!==e&&e.configRef&&this.startContentLoad(null==i?void 0:i.experienceConfigRef,void 0,n)},this.outRouteChange=async t=>{var e,n;const{id:i,renderInfo:r,dynamicContext:o={}}=t.detail;if("myFeed"===i&&null!==(e=this.initProps)&&void 0!==e&&null!==(e=e.feedView)&&void 0!==e&&e.shouldReturnToClassic)return void window.location.reload();this.isShowHero=u.T3.IsHeroNTP&&(0,ht.Gj)(),this.disableFeed=(0,ht.$y)()&&this.config.disableFeed,this.showHeroAboveNav=u.T3.IsHeroNTP&&this.config.showHeroAboveNav&&(null===(n=this.config.childExperienceConfigInfo)||void 0===n?void 0:n.widgetsRegion)&&(0,ht.Gj)(),this.isFirstRouteTrigger?this.isFirstRouteTrigger=!1:this.switchListenerCallback(t.detail),this.isInterestPage=i.includes("myInterests");const s={configRef:{...r.experienceConfigRef.configRef},instanceId:i};(0,P.A)(this.contentConfigInfo,s)||(this.contentConfigInfo=s,this.properties={isHeroShownOnHeader:this.showHeroAboveNav,context:{...r.context,...o}},this.isInterestPage&&(this.properties.topStickyHeight=this.topStickyHeight))},this.beforeHydration=()=>{this.hpTtvrFired=!0,this.contentConfigInfo={configRef:{experienceType:"WaterfallViewFeed",instanceSrc:"default"},instanceId:"myFeed"},super.beforeHydration()},this.getExperienceConfigInfo=function(t){return{instanceId:t,configRef:{experienceType:arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,instanceSrc:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default"}}},this.hasFeedSwitch=()=>{var t,e;return(null===(t=this.initProps)||void 0===t?void 0:t.feedView)&&(null===(e=this.config.childExperienceConfigInfo)||void 0===e?void 0:e.feedSwitchConfigInfo)},this.getHomepageViewSettings=()=>this.hasFeedSwitch()&&this.supportsFeedViewSettings?{isClassicView:!this.config.enableWaterfallViewFeed||this.initProps.feedView.shouldReturnToClassic,onHomepageViewSettingsChange:this.initProps.feedView.switch,strings:{title:this.strings.settingsFeedSwitchLabel,toggleOff:this.strings.settingsFeedSwitchOff,toggleOn:this.strings.settingsFeedSwitchOn}}:null,this.onFeedSwitchBannerToggle=t=>{var e;null===(e=this.initProps)||void 0===e||e.feedView.onBannerToggle(t),this.supportsFeedViewSettings&&!this.config.enableWaterfallViewFeed&&window.dispatchEvent(new CustomEvent("homepage-view-settings-focus"))},this.onColumnArragementChange=t=>{var e;t&&(t!==this.columnArrangement&&(this.columnArrangement=t,c.YT.updatePageMetadata({page:{viewType:yt(t)}},!0),null!==(e=this.config)&&void 0!==e&&e.enableChromeExtensionNav&&this.updateChromeExtensionNav()))},this.updateChromeExtensionNav=()=>{this.showChromeExtensionNav=this.shouldRenderChromeExtensionNav},this.onStripeFeedEndCb=t=>{this.stripeEndCardCount=t.cardCount+1},this.openChannelStore=t=>{this.renderChannelStoreEvent=t,window.removeEventListener("launchChannelStore",this.openChannelStore)},this.headerScrollEventHanlder=(0,_.A)(()=>{0===window.scrollY?this.shouldHeaderShowShadow=!1:this.shouldHeaderShowShadow=!0},100),this.initFeedDependencies=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(t.widgetsRegionDependencyPromise=Promise.all([mt(),pt(),vt()]).then(t=>{let[e,{getSharedTelemetryLegacyCardMappers:n},i]=t;const r=new e(n());return r.setPrerenderFeedCallDisabled(!0),{feedManager:r,layoutTemplateMap:i}})),t.getFeedDependencyPromise=Promise.all([pt(),n?gt():void 0]).then(t=>{let[{FeedManagerWithClientAd:e,getSharedTelemetryLegacyCardMappers:n},i]=t;return{feedManager:new e(n()),importLayoutTemplateMap:gt,layoutTemplateMap:i}}),t.getFeedDependencyPromise.catch(t=>{const n={...h.m3I.pb,stack:t.stack};(0,p.vV)(h.m3I,`Failed to load feedDependencies bundle for ${e}. ${t.message||""}`,void 0,n)}),t.isFeedReady=!0},this.behaviors=[new dt(this)],this.dispatch(lt.Initialization)}dispatch(t){this.behaviors.forEach(e=>e.dispatch(t,this.$fastController.context))}async startContentLoad(t,e,n){c.YT.addOrUpdateTmplProperty("fl","3"),e||(0,H.uC)(t),this.showHeroAboveNav?this.initFeedDependencies(n,!0):this.initFeedDependencies(n),this.contentConfigInfo=t}initListeners(){window.addEventListener("nav-switch",this.outRouteChange)}updateBreakpoint(t){const{detail:e}=t,[n]=null==e?void 0:e.rootMargin.split(" "),i=Number(null==n?void 0:n.slice(1,(null==n?void 0:n.length)-2));this.topStickyHeight=i}async experienceConnected(){var t,e,i,o;if(this.config.showHeroAboveNav&&!this.config.supportHeroAboveNav&&(0,ht.Gj)()){var a;const t="undefined"!=typeof window&&null!==(a=window.location)&&void 0!==a&&a.href?new URL(window.location.href):null;if(t){const e=t.searchParams.get("cm");t.search="",t.searchParams.set("ocid","windirect"),null!=e&&""!==e&&t.searchParams.set("cm",e),window.location.href=t.toString()}else(0,p.vV)(h.LrU,"window.location.href is not available for redirect.")}this.dispatch(lt.Connection),this.config.useRouter&&this.initListeners(),this.isShowHero=u.T3.IsHeroNTP&&(0,ht.Gj)(),this.disableFeed=(0,ht.$y)()&&this.config.disableFeed,this.showHeroAboveNav=u.T3.IsHeroNTP&&this.config.showHeroAboveNav&&(null===(t=this.config.childExperienceConfigInfo)||void 0===t?void 0:t.widgetsRegion)&&(0,ht.Gj)(),this.initHeaderScrollEventHandler(),this.alignBgColor=this.config.alignBgColor,this.childExperienceConfigInfo=this.config.childExperienceConfigInfo,this.nurturingBannerConfig=null===(e=this.childExperienceConfigInfo)||void 0===e?void 0:e.nurturingBanner;const c=null===(i=this.config.childExperienceConfigInfo)||void 0===i||null===(i=i.commonHeaderWC)||void 0===i?void 0:i.configRef;if(this.commonHeaderConfig=c&&(null===(o=await l.L.getConfig(c))||void 0===o?void 0:o.properties),this.config.enableWaterfallViewFeed){if(this.config.useRouter||(this.contentConfigInfo=this.getExperienceConfigInfo("WaterfallViewFeed")),(0,$.S)()||!(0,ht.Gj)()||this.config.enableEarlyFeedSSR||this.config.disableFeed||(0,ht.io)(),(0,ht.$y)()){const t="myFeed";this.showHeroAboveNav?this.initFeedDependencies(t,!0):this.initFeedDependencies(t)}}else this.config.useEarlyRiverRequest&&this.fetchAndStoreTopRiver();if((0,$.S)()){var b,x,k,T;this.config.displayAdPreloadConfig&&(0,H.uC)(this.config.displayAdPreloadConfig);const t=(0,M.zP)(s.TA);(0,v.K)({incompleteVisualDependencyCallback:t&&t.getIncompleteVisualDependencies||null,timeoutOverride:this.config.perfMarkersTimeoutMs});(0,w.g)({incompleteVisualDependencyCallback:t&&t.getIncompleteVisualDependencies||null,timeoutOverride:this.config.perfMarkersTimeoutMs});(0,m.bu)().then(t=>{const e=(0,g.ZF)();for(const n of t){e[n[0]]=n[1]}}),null!==(b=this.config)&&void 0!==b&&b.enableTcfConsentExpireBanner&&"us"===(null===d.Rb||void 0===d.Rb||null===(x=d.Rb.ClientSettings)||void 0===x||null===(x=x.geo_country)||void 0===x?void 0:x.toLocaleLowerCase())&&"california"!==(null===d.Rb||void 0===d.Rb||null===(k=d.Rb.ClientSettings)||void 0===k||null===(k=k.geo_subdivision)||void 0===k?void 0:k.toLocaleLowerCase())&&"connecticut"!==(null===d.Rb||void 0===d.Rb||null===(T=d.Rb.ClientSettings)||void 0===T||null===(T=T.geo_subdivision)||void 0===T?void 0:T.toLocaleLowerCase())&&(0,f.BS)();const{thirdPartyTracking:e}=this.config;e&&(0,R.Qc)().then(()=>n.e("libs_entry-point-shared-utils_dist_index_js").then(n.bind(n,94687))).then(t=>{let{loadThirdPartyScript:n}=t;return n(e)}),(0,R.Qc)().then(async()=>{const t=this.config.banners,e=this.config.fixDspAdRfshPageHeader;if(t&&t.length&&(this.bannerManager=new C(this.shadowRoot,t,e)),this.hpTtvrFired=!0,this.supportsFeedViewSettings&&n.e("web-components_common-settings-dialog_dist_index_js").then(n.bind(n,69120)).then(t=>{let{registerCsHomepageViewSettings:e}=t;e()}),this.nurturingBannerConfig){const{MarketComplianceExceptionBanners:t}=await n.e("super-nav-coach-mark").then(n.bind(n,14066));t()}if(this.config.enableTcfConsentExpireBanner){const{setupTcfConsentExpireBannerForMsn:t,shouldShowTcfConsentBanner:e}=await n.e("tcfConsentBanner").then(n.bind(n,49640));e()&&t()}(0,$.S)()&&e&&(this.contentViewportManager=new y.F({queryParent:this.shadowRoot,headerSelector:S,isHeaderHeightDynamic:!0}),this.bannerManager&&(this.bannerManager.subscribeLayoutChange(t=>{let{bannerHeight:e}=t;this.contentViewportManager.updatePageContentViewport({bannerHeight:e})}),document.addEventListener("pageContentViewportUpdated",this.outUpdateBreakpoint))),this.config.enableChromeExtensionNav&&(this.promoCardService=new W.f("hp","nav"),this.updateChromeExtensionNav()),U(()=>{})})}else this.hpTtvrFired=!0;var A,P;(this.columnArrangement=(0,r.TU)().currentColumnArrangement,(0,r.TU)().subscribe(this.onColumnArragementChange),this.config)&&I.x.initializeCache((null===(A=this.config)||void 0===A?void 0:A.samPageDedupeCacheSize)||0,void 0,null===(P=this.config)||void 0===P?void 0:P.dedupeConfigsByClientHintType);window.addEventListener("launchChannelStore",this.openChannelStore)}shadowDomPopulated(){this.config.enableWaterfallViewFeed&&(this.tryLoadFeedModuleBundle(),!(0,$.S)())||this.config.enableResponsiveDisplayAds&&(this.resizeObserver=new ResizeObserver((0,_.A)(()=>function(t,e){var n,i,r;if(!(0,$.S)()||!t)return;const o=null==t||null===(n=t.children)||void 0===n?void 0:n[0],s=null==o||null===(i=o.shadowRoot)||void 0===i||null===(i=i.children)||void 0===i?void 0:i[0];if(!o||!s)return;V||(V=!0,e&&e.observe(s));const a=t.clientWidth,c=s.clientWidth;if(!a||!c)return;let u=+(a/c).toFixed(2);if(1===u&&!o.style.transform)return;u=Math.min(u,1);const l=s.style.minHeight||s.style.height,d=l?parseInt(l||"0",10):s.clientHeight+((null===(r=s.getElementsByTagName("a"))||void 0===r?void 0:r.length)>0?16:0),f=+(Math.max(d,110)*u).toFixed(2);o.style.transform=`scale(${u})`,o.style.height=`${f}px`}(this.displayAdsContainerRef,this.resizeObserver),300)),this.displayAdsContainerRef&&this.resizeObserver.observe(this.displayAdsContainerRef))}async fetchAndStoreTopRiver(){var t;const e={experienceType:a.p_1,instanceSrc:"default"},n=await l.L.getConfig(e);window.enableEarlyRiverRequest=!0;const i=new ft.f(null==n||null===(t=n.properties)||void 0===t?void 0:t.cardProviderConfig),r=await i.fetch();window.topStripeResponse=r}getExperienceType(){return a.CJU}get supportsFeedViewSettings(){var t;return!!this.hasFeedSwitch()&&(null===(t=this.config.localizedStrings)||void 0===t?void 0:t.settingsFeedSwitchLabel)}get headerOptions(){const t={...this.commonHeaderConfig.searchBoxConfig,trendingSearchConfig:this.config.trendingSearchConfig,contextualSuggestFormCode:this.config.contextualSuggestFormCode,adContextualSuggestFormCode:this.config.adContextualSuggestFormCode,contextSuggestAsPlaceholder:!!this.config.trendingSearchConfig,enableContextualSuggest:!!this.config.trendingSearchConfig,contextualSuggestAsDefault:!!this.config.trendingSearchConfig,contextualSuggestOnFocus:!!this.config.trendingSearchConfig,hoverFocusOutlineStyle:!!this.config.hoverFocusOutlineStyle,enableConditionalSchBtn:!!this.config.enableConditionalSchBtn,enableTrendingQueryClearable:!!this.config.enableTrendingQueryClearable,enableHighlightTrendingQuery:!!this.config.enableHighlightTrendingQuery},e=this.getHomepageViewSettings();return{config:{...this.commonHeaderConfig,searchBoxConfig:t},homepageViewSettings:e,getAccessibilityParentElement:t=>{var e,n;return null!=t&&t.includes("contentinfo")?null===(e=this.shadowRoot)||void 0===e||null===(n=e.querySelector)||void 0===n||null===(n=n.call(e,"[footer-component]"))||void 0===n?void 0:n.shadowRoot:this.shadowRoot},adjustPositionForFocusElement:()=>{window.scrollBy(0,-this.topStickyHeight)}}}disconnectedCallback(){var t,e,n,i,o,s;super.disconnectedCallback(),null===(t=this.bannerManager)||void 0===t||t.dispose(),null===(e=this.contentViewportManager)||void 0===e||e.dispose(),(0,r.TU)().unsubscribe(this.onColumnArragementChange),window.removeEventListener("scroll",this.headerScrollEventHanlder),window.removeEventListener("launchChannelStore",this.openChannelStore),this.config.useRouter&&window.removeEventListener("nav-switch",this.outRouteChange),this.resizeObserver&&this.resizeObserver.disconnect(),this.bannerManager&&document.removeEventListener("pageContentViewportUpdated",this.outUpdateBreakpoint),null!==(n=this.config)&&void 0!==n&&n.enableTcfConsentExpireBanner&&"us"===(null===d.Rb||void 0===d.Rb||null===(i=d.Rb.ClientSettings)||void 0===i||null===(i=i.geo_country)||void 0===i?void 0:i.toLocaleLowerCase())&&"california"!==(null===d.Rb||void 0===d.Rb||null===(o=d.Rb.ClientSettings)||void 0===o||null===(o=o.geo_subdivision)||void 0===o?void 0:o.toLocaleLowerCase())&&"connecticut"!==(null===d.Rb||void 0===d.Rb||null===(s=d.Rb.ClientSettings)||void 0===s||null===(s=s.geo_subdivision)||void 0===s?void 0:s.toLocaleLowerCase())&&(c.YT.removeTmplProperty("TCFRevokeBannerShowed"),c.YT.removeTmplProperty("TCFRevokeBannerDismissed"),c.YT.removeTmplProperty("TCFRevokeBannerPrivacyClicked"))}getBannersTelemetryTags(){return(0,z.u)("precontent",{type:k.MJ.Section}).getMetadataTag()}getMainTelemetryTags(){return(0,z.u)("main",{type:k.MJ.Section}).getMetadataTag()}hasFlight(t){const e=u.T3.CurrentRequestTargetScope&&u.T3.CurrentRequestTargetScope.pageExperiments;return!!e&&e.includes(t)}get shouldRenderChromeExtensionNav(){var t,e,n;return!(null===(t=this.config)||void 0===t||!t.enableChromeExtensionNav||"chrome"!==(null===u.T3||void 0===u.T3||null===(e=u.T3.CurrentRequestTargetScope)||void 0===e||null===(e=e.browser)||void 0===e?void 0:e.browserType)||this.columnArrangement===o.j1.c1)&&((null===(n=this.promoCardService)||void 0===n?void 0:n.showPromoCard)??!0)}shouldRenderRail(){var t;return this.columnArrangement&&(null===(t=this.config.showRailInLayouts)||void 0===t?void 0:t.length)&&this.config.showRailInLayouts.includes(this.columnArrangement)}initHeaderScrollEventHandler(){window.addEventListener("scroll",this.headerScrollEventHanlder)}async tryLoadFeedModuleBundle(){this.feedModuleImportPromise||(this.feedModuleImportPromise=(0,B.c)(this.config),await this.feedModuleImportPromise)}}(0,i.Cg)([A.sH],wt.prototype,"commonHeaderConfig",void 0),(0,i.Cg)([A.sH],wt.prototype,"topStickyHeight",void 0),(0,i.Cg)([A.sH],wt.prototype,"bannerManager",void 0),(0,i.Cg)([A.sH],wt.prototype,"nurturingBannerConfig",void 0),(0,i.Cg)([A.sH],wt.prototype,"childExperienceConfigInfo",void 0),(0,i.Cg)([A.sH],wt.prototype,"msnFeedCardTemplateMap",void 0),(0,i.Cg)([A.sH],wt.prototype,"renderChannelStoreEvent",void 0),(0,i.Cg)([A.sH],wt.prototype,"config",void 0),(0,i.Cg)([A.sH],wt.prototype,"initProps",void 0),(0,i.Cg)([A.sH],wt.prototype,"hpTtvrFired",void 0),(0,i.Cg)([A.sH],wt.prototype,"shouldHeaderShowShadow",void 0),(0,i.Cg)([A.sH],wt.prototype,"columnArrangement",void 0),(0,i.Cg)([A.sH],wt.prototype,"properties",void 0),(0,i.Cg)([A.sH],wt.prototype,"contentConfigInfo",void 0),(0,i.Cg)([A.sH],wt.prototype,"getFeedDependencyPromise",void 0),(0,i.Cg)([A.sH],wt.prototype,"isFeedReady",void 0),(0,i.Cg)([A.sH],wt.prototype,"stripeEndCardCount",void 0),(0,i.Cg)([A.sH],wt.prototype,"showChromeExtensionNav",void 0),(0,i.Cg)([A.sH],wt.prototype,"promoCardService",void 0),(0,i.Cg)([A.sH],wt.prototype,"displayAdsContainerRef",void 0),(0,i.Cg)([A.sH],wt.prototype,"enableWelcomeGreeting",void 0),(0,i.Cg)([A.sH],wt.prototype,"isInterestPage",void 0),(0,i.Cg)([A.sH],wt.prototype,"overriddenFeedConfig",void 0),(0,i.Cg)([A.sH],wt.prototype,"showHeroAboveNav",void 0),(0,i.Cg)([A.sH],wt.prototype,"isShowHero",void 0),(0,i.Cg)([A.sH],wt.prototype,"disableFeed",void 0),(0,i.Cg)([A.sH],wt.prototype,"widgetsRegionDependencyPromise",void 0),(0,i.Cg)([A.sH],wt.prototype,"feedConfig",void 0),(0,i.Cg)([A.Jg],wt.prototype,"headerOptions",null),(0,i.Cg)([A.Jg],wt.prototype,"shouldRenderChromeExtensionNav",null);const yt=t=>{let e=null;switch(t){case o.j1.c1:e="size1column";break;case o.j1.c2:e="size2column";break;case o.j1.c3:e="size3column";break;case o.j1.c4:e="size4column";break;case o.j1.c5:e="size5column"}return e};var bt=n(96950),St=n(91640),xt=n(39957),Ct=n(66591),kt=n(60402),Tt=n(43820);function $t(t){return t?bt.qy`<script nonce="${()=>window.NONCE_ID}">window.ssrLoadedExperience.publish(${bt.qy.partial(JSON.stringify(t))})</script>`:bt.qy``}var At=n(11622),It=n(79525),Pt=n(56046),_t=n(96302);It.i;const Mt=(0,Pt.C)("TTSR.HeaderTag",!0),Rt=(0,Pt.C)(`${m.wL}SearchBox`,!0),Et=(0,Pt.C)(`${m.wL}Complete`),Ft=bt.qy`<div id="heroInHeader" class="${()=>(0,_t.U)(it.base)}">${(0,St.z)(()=>window.isSSREnabled,bt.qy`${()=>bt.qy`${bt.qy.partial((0,L.H_)())}`}`)} ${(0,St.z)(t=>window.isSSREnabled,t=>$t(t.childExperienceConfigInfo.widgetsRegion))} ${t=>(0,At.yN)(t.childExperienceConfigInfo.widgetsRegion,{properties:{getFeedDependencyPromise:t.widgetsRegionDependencyPromise,styles:"padding: 16px; box-shadow: unset;",showHero:t.showHeroAboveNav},telemetryObject:t.headerHeroTelemetryObject,memoize:!1})}</div>`,Dt=()=>((async()=>{const{ViewsPromoCard:t}=await n.e("viewsPromoCard").then(n.bind(n,61924))})(),bt.qy`<views-promo-card :promoCardService=${t=>t.promoCardService} :updateChromeExtensionHelper=${t=>()=>t.updateChromeExtensionNav()} :componentType=${t=>"chrome"} :pageType=${t=>"hp"} :templateType=${t=>"nav"}></views-promo-card>`),Ot=bt.qy`
${t=>{if(t.childExperienceConfigInfo&&t.childExperienceConfigInfo.channelStore)return(0,At.yN)(t.childExperienceConfigInfo.channelStore,{properties:{enableFeedCustomization:!0,softLandingActive:!1,renderChannelStoreEvent:t.renderChannelStoreEvent,showPublishersTop:!0}})}}
`,Nt=bt.qy`<div id="entry-point-hp-wc-banner" class="banner-container ${()=>(0,_t.U)(rt.bannerContainer)} ${t=>t.config.wholePageGrayScaleMode?"gray-scale":""}" data-t="${t=>t.getBannersTelemetryTags()}">${(0,xt.ux)(t=>t.config.banners,bt.qy`<div id="entry-point-hp-wc-banner-${t=>t.childExperienceConfigInfo.instanceId}" class="${()=>(0,_t.U)(rt.homepageBanner)}">${(t,e)=>(0,At.yN)(t.childExperienceConfigInfo,{properties:{showBanner:e.parent.bannerManager.getShowBannerFunction(),hideBanner:e.parent.bannerManager.getHideBannerFunction()}})}</div>`)}</div>`,Ut=bt.qy`<div id="${b}" class="${t=>(0,Ct.x)("common-header",["feed-view",t.config.enableWaterfallViewFeed],["limited-width",!t.config.disableMaxWidth],oe(t),["header-shadow-box",t.shouldHeaderShowShadow])} "><msn-homepage-header :options="${t=>t.headerOptions}" :searchboxTTVRTemplate="${t=>Rt}"></msn-homepage-header></div>`,Lt=bt.qy`<div class="dummy-header-container ${t=>t.config.disableMaxWidth?"":"limited-width"}"></div><div id="${b}" class="header-outer-wrapper ${t=>t.config.wholePageGrayScaleMode?"gray-scale":""}"><div class="header-container ${t=>t.config.disableMaxWidth?"":"content-shadow-box limited-width"} ${oe} ${t=>t.shouldHeaderShowShadow?"header-shadow-box":""}"><div class="header-wrapper ${oe}">${t=>(0,At.yN)(t.childExperienceConfigInfo.homepageHeaderConfigInfo,{properties:{homepageViewSettings:t.getHomepageViewSettings()}})}</div></div></div>`,Bt=bt.qy`<div class="me-stripe-container">${t=>(0,At.yN)(t.childExperienceConfigInfo.meStripeConfigInfo)}</div>`,Wt=bt.qy`<div class="display-ads-container ${()=>(0,_t.U)(rt.displayAdsContainer)}" ${(0,kt.K)("displayAdsContainerRef")}>${(0,St.z)(t=>t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR,bt.qy`${t=>{const e={skipInitialRenderingVisibilityCheck:!0};if(t.config.enableWaterfallViewFeed){const t=(0,Tt.$q)(window.location.href),n=(0,Tt.AO)(t);e.batchCallAdCountOverride=2,e.shimmerIdOverride="rectangle1",e.pageTypeOverride=n?"winweb":"hp2"}return(0,At.yN)(t.config.childExperienceConfigInfo.bannerDisplayAdsConfigInfo,{properties:e})}}`)}</div>`,Ht=bt.qy`<div class="display-ads-container ${()=>(0,_t.U)(rt.displayAdsContainer)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.skinDisplayAdsConfigInfo)}</div>`,Vt=bt.qy`<div class="${()=>(0,_t.U)(rt.breakingNewsContainer)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.breakingNewsBannerConfigInfo)}</div>`,zt=bt.qy`<div class="recommended-sites-container">${t=>(0,At.yN)(t.childExperienceConfigInfo.recommendedSitesConfigInfo)}</div>`,jt=bt.qy`<div class="mail-signout-banner-container">${t=>(0,At.yN)(t.childExperienceConfigInfo.mailSignoutBannerConfigInfo)}</div>`,qt=bt.qy`<div class="footer-container ${()=>(0,_t.U)(rt.footerContainer)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.homepageFooterConfigInfo)}</div>`,Gt=bt.qy`<div class="ad-banner-wrapper" role="banner" style="${t=>t.isInterestPage?"display:none":""}">${Wt} ${(0,St.z)(t=>t.config.useShimmerPlaceholder&&!(t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR),bt.qy`<div class="ad-banner-placeholder shimmer"></div>`)}</div>`,Jt=bt.qy`
${(0,St.z)(t=>t.hasFeedSwitch()&&t.hpTtvrFired,bt.qy` ${t=>{var e,n;return(0,At.yN)(t.childExperienceConfigInfo.feedSwitchConfigInfo,{properties:{isFeedView:t.config.enableWaterfallViewFeed,initialClosed:null===(e=t.initProps)||void 0===e?void 0:e.feedView.initialClosed,feedSwitch:null===(n=t.initProps)||void 0===n?void 0:n.feedView.switch,onBannerToggle:t.onFeedSwitchBannerToggle}})}}
`)}`,Kt=bt.qy`<div class=${t=>(0,Ct.x)("super-nav-container",(0,_t.U)(rt.superNavContainer),["chrome-ext-container",t.showChromeExtensionNav&&!t.config.enableWaterfallViewFeed],["chrome-waterfall-container",t.showChromeExtensionNav&&t.config.enableWaterfallViewFeed])}>${t=>(0,At.yN)(t.childExperienceConfigInfo.superNavConfigInfo)} ${(0,St.z)(t=>t.showChromeExtensionNav&&!t.config.useShimmerPlaceholder&&!t.config.useRouter&&(0,$.S)(),Dt)}</div>`,Qt=bt.qy` ${(0,St.z)(t=>!t.config.useShimmerPlaceholder,bt.qy` ${(0,St.z)(t=>t.hpTtvrFired&&t.childExperienceConfigInfo.superNavConfigInfo,Kt)} `)} ${(0,St.z)(t=>t.config.useShimmerPlaceholder&&!t.config.useRouter&&t.childExperienceConfigInfo.superNavConfigInfo,bt.qy`<div class="${t=>(0,Ct.x)("topnav-placeholder",["supernav-placeholder",!!t.childExperienceConfigInfo.superNavConfigInfo],[`chrome-waterfall-box ${(0,_t.U)(rt.chromeWaterfallBox)}`,!!t.childExperienceConfigInfo.superNavConfigInfo&&t.showChromeExtensionNav])}">${(0,St.z)(t=>!t.hpTtvrFired,bt.qy`<div class="topnav-placeholder-container shimmer"></div>`)} ${(0,St.z)(t=>t.hpTtvrFired&&t.childExperienceConfigInfo.superNavConfigInfo,Kt)} ${(0,St.z)(t=>t.showChromeExtensionNav&&(0,$.S)(),Dt)}</div>`)} ${(0,St.z)(t=>t.config.useRouter,bt.qy`<div class="${t=>(0,Ct.x)("topnav-placeholder","supernav-placeholder",[`chrome-waterfall-box ${(0,_t.U)(rt.chromeWaterfallBox)}`,t.showChromeExtensionNav])}">${(0,St.z)(t=>t.childExperienceConfigInfo.superNavConfigInfo,Kt)} ${(0,St.z)(t=>t.showChromeExtensionNav&&(0,$.S)(),Dt)}</div>`)}
`,Xt=bt.qy`<div>${(0,St.z)(t=>t.childExperienceConfigInfo.bannerDisplayAdsConfigInfo&&!t.config.disableBanner,Gt)} ${(0,St.z)(t=>!t.isInterestPage&&(t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR)&&t.childExperienceConfigInfo.skinDisplayAdsConfigInfo&&!t.config.disableBanner,Ht)} ${(0,St.z)(t=>!t.isInterestPage&&!d.Rb.CurrentFlightSet.has("prg-hp-nofs"),Jt)} ${(0,St.z)(t=>t.showHeroAboveNav,Ft)} ${Qt} ${(0,St.z)(t=>!t.isInterestPage&&!t.config.childExperienceConfigInfo.superBreakingNews&&t.hpTtvrFired&&t.childExperienceConfigInfo.breakingNewsBannerConfigInfo&&!t.config.disableBanner,Vt)} ${(0,St.z)(t=>!t.isInterestPage&&t.hpTtvrFired&&t.childExperienceConfigInfo.recommendedSitesConfigInfo&&!t.config.disableRecommendedSites,zt)} ${(0,St.z)(t=>!t.isInterestPage&&t.hpTtvrFired&&t.childExperienceConfigInfo.mailSignoutBannerConfigInfo&&!t.config.disableBanner,jt)}</div>`,Yt=bt.qy` ${(0,St.z)(t=>!t.isInterestPage&&t.config.childExperienceConfigInfo.superBreakingNews,bt.qy`${t=>(0,At.yN)(t.config.childExperienceConfigInfo.superBreakingNews,{attributes:{style:"display: grid; justify-items: center;"}})}`)} ${(0,St.z)(()=>window.isSSREnabled,bt.qy`${()=>bt.qy`${bt.qy.partial((0,L.H_)())}`}`)} ${(0,St.z)(t=>window.isSSREnabled,t=>$t(t.contentConfigInfo))} ${(0,St.z)(t=>window.isSSREnabled,t=>$t(t.config.childExperienceConfigInfo.bannerDisplayAdsConfigInfo||t.config.displayAdPreloadConfig))} ${t=>(0,ht.$y)()&&!t.isFeedReady?null:(0,At.yN)(t.contentConfigInfo,{includeTelemetryTag:!1,properties:{...t.properties,getFeedDependencyPromise:t.getFeedDependencyPromise},memoize:!1})}`,Zt=(bt.qy`<div class="msn-feed">${t=>{var e,n;return(0,At.yN)(t.childExperienceConfigInfo.msnFeedConfigInfo,{properties:{...t.feedConfig,extraFeedDataArgs:t.extraFeedDataArgs,dataProvider:t.dataProvider,cardMappers:t.msnFeedCardTemplateMap,riverProviderConfigOverrides:null===(e=t.feedConfig)||void 0===e?void 0:e.riverProviderConfigOverrides,titleOverride:null===(n=t.feedConfig)||void 0===n?void 0:n.titleOverride}})}}</div>`,bt.qy`<div class="stripe-wc-container ${()=>(0,_t.U)(rt.stripeContainer)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.stripeWCConfigInfo,{properties:{enableRail:t.shouldRenderRail(),onFeedEndCb:t.onStripeFeedEndCb}})}</div>`),te=bt.qy`<div class="${t=>(0,Ct.x)(["content-with-rail",t.shouldRenderRail()])}">${t=>t.config.enableWaterfallViewFeed?Yt:Zt} ${(0,St.z)(t=>t.shouldRenderRail()&&t.childExperienceConfigInfo.railTopDisplayAdConfigInfo,bt.qy`<div class="rail-container"><div id="sticky-rail" class="${()=>(0,_t.U)(rt.stickyRail)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.railTopDisplayAdConfigInfo,{memoize:!1})} ${t=>t.hpTtvrFired&&t.config.railCard&&(0,At.yN)(t.config.railCard.configInfo,{memoize:!1,properties:t.config.railCard.properties})}</div></div>`)}</div>`,ee=bt.qy` ${(0,St.z)(t=>!t.config.useShimmerPlaceholder&&t.hpTtvrFired&&t.childExperienceConfigInfo.meStripeConfigInfo,Bt)} ${(0,St.z)(t=>t.config.useShimmerPlaceholder&&t.childExperienceConfigInfo.meStripeConfigInfo,bt.qy`<div class="me-stripe-placeholder ${t=>t.config.useCompactMeStripe?"compact":""}">${(0,St.z)(t=>!t.hpTtvrFired,bt.qy`<div class="placeholder-wrapper shimmer"></div>`)} ${(0,St.z)(t=>t.hpTtvrFired,Bt)}</div>`)}
`,ne=bt.qy`<div class="${t=>(0,_t.U)(t.config.enableTcfConsentExpireBanner?rt.nurturingBannerContainer:rt.homepageBanner)}">${t=>(0,At.yN)(t.childExperienceConfigInfo.nurturingBanner)}</div>`,ie=bt.qy`
${(0,St.z)(t=>t.hpTtvrFired&&t.bannerManager&&t.config.banners&&!t.config.disableBanner,Nt)}
${(0,St.z)(t=>t.nurturingBannerConfig&&t.hpTtvrFired,ne)}
${(0,St.z)(t=>t.childExperienceConfigInfo.commonHeaderWC&&t.headerOptions,Ut)}
${(0,St.z)(t=>!t.childExperienceConfigInfo.commonHeaderWC&&t.childExperienceConfigInfo.homepageHeaderConfigInfo,Lt)}
${Mt}<div id="entry-point-hp-wc-root-wrapper" class="${t=>(0,Ct.x)("wrapper",["feed-view",t.config.enableWaterfallViewFeed],["limited-width",!t.config.disableMaxWidth],oe(t),["ntp-feed",t.config.enableWaterfallViewFeed],["gray-scale-with-ofhidden",t.config.wholePageGrayScaleMode])} "><div class="${t=>(0,Ct.x)("content-container",oe(t),["ntp-feed",t.config.enableWaterfallViewFeed])}" data-t="${t=>t.getMainTelemetryTags()}">${(0,St.z)(t=>!t.isInterestPage,ee)} ${Xt} ${(0,St.z)(t=>(t.childExperienceConfigInfo.stripeWCConfigInfo||t.contentConfigInfo)&&!t.disableFeed,te)}</div>${(0,St.z)(t=>t.hpTtvrFired&&t.childExperienceConfigInfo.homepageFooterConfigInfo,qt)} ${(0,St.z)(t=>t.renderChannelStoreEvent&&t.childExperienceConfigInfo&&t.childExperienceConfigInfo.channelStore,Ot)}</div>${Et}`,re=bt.qy` ${ie}
`;function oe(t){return t.config.enableWaterfallViewFeed||t.config.enableFifthColumn||t.shouldRenderRail()?"fifth-column":""}const se={experienceConfigSchema:undefined}},69816:function(t,e,n){var i,r,o;n.d(e,{EY:function(){return i},Py:function(){return r}}),function(t){t[t.InvalidRequest=0]="InvalidRequest",t[t.Success=1]="Success",t[t.NoContent=2]="NoContent",t[t.Failed=3]="Failed"}(i||(i={})),function(t){t[t.FromSSR=0]="FromSSR",t[t.FromCache=1]="FromCache",t[t.FromWW=2]="FromWW",t[t.FromEarlyResponse=3]="FromEarlyResponse",t[t.FromServer=4]="FromServer"}(r||(r={})),function(t){t.river="river",t.rightRail="rightrail",t.Rail="Rail"}(o||(o={}))},70056:function(t,e,n){n.d(e,{HY:function(){return c},_Y:function(){return i},_p:function(){return s},ac:function(){return r},lP:function(){return a}});var i,r,o=n(83003);function s(t){switch(t){case o.pL.Article:return 13;case o.pL.Slideshow:return 14;case o.pL.Video:return 15;default:return null}}function a(t,e){return e?t.find(t=>e.includes(t.type)):null}function c(t,e){return e?t.find(n=>{if(!e.includes(n.type))return!1;if(n.type===r.EXPLORE){const e=new Set([r.EXPLICITLIKE,r.FOLLOWEDTOPIC,r.FOLLOWEDPUBLISHER]);return t.every(t=>!e.has(t.type))}return!0}):null}!function(t){t.TRENDING="trending",t.HOT="hot",t.VIEWS="views",t.OPINION="opinion",t.LOCAL="local",t.EXPLICITLIKE="explicitLike",t.FOLLOWEDTREATMENT="followed",t.FOLLOWEDTREATMENTTOPIC="followedTopic",t.FOLLOWEDTREATMENTPUBLISHER="followedPublisher"}(i||(i={})),function(t){t.FOLLOWEDTOPIC="followTopic",t.FOLLOWEDPUBLISHER="followPublisher",t.TRENDING="trending",t.LOCAL="local",t.EXPLICITLIKE="explicitLike",t.EXPLORE="explore"}(r||(r={}))},70177:function(t,e,n){n.d(e,{B1:function(){return m},G4:function(){return u},J8:function(){return y},Kh:function(){return k},Pj:function(){return l},XS:function(){return v},Y4:function(){return w},_Z:function(){return p},d1:function(){return A},gn:function(){return d},mb:function(){return h}});var i=n(30817),r=n(89151),o=n(79426),s=n(77246),a=n(17720);const c="defer-hydration",u="needs-hydration",l=window.location.search.includes("ssrhydrateperf"),d=new Map,f=t=>e=>{if(!e.hasAttribute(t))return Promise.resolve();const n=new o.e;return new MutationObserver((i,r)=>{e.hasAttribute(t)||(n.set(),r.disconnect())}).observe(e,{attributeFilter:[t]}),n.getResultAsync()},h=f(c),p=f(u),m=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,s.S)())return{start:()=>{},markEnd:()=>{}};const n=`${t}.start`;return{start:()=>{var t;return null===(t=performance)||void 0===t?void 0:t.mark(n)},markEnd:function(){var r,o;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const c=`${t}.${s}`;var u;(null===(r=performance)||void 0===r||r.mark(c),null===(o=performance)||void 0===o||o.measure(`${t}.${s}:duration`,n,c),a)&&((0,i.ZF)()[`${t}.${s}:duration`]=null===(u=performance)||void 0===u?void 0:u.getEntriesByName(`${t}.${s}:duration`)[0].duration)}}};let g=new Set;const v=t=>g=new Set(t.map(t=>t.toLocaleLowerCase())),w=t=>{d.clear(),t.forEach(t=>{d.set(t.toLocaleLowerCase(),{selfHydrationComplete:new o.e,topDownHydrateComplete:new o.e})})},y=t=>{t.forEach(t=>{var e,n;const i=t.toLocaleLowerCase();null===(e=d.get(i))||void 0===e||e.selfHydrationComplete.set(),null===(n=d.get(i))||void 0===n||n.topDownHydrateComplete.set()})};var b;!function(t){t[t.Immediate=0]="Immediate",t[t.Never=1]="Never",t[t.IdleAfterTtvr=2]="IdleAfterTtvr",t[t.OnInteraction=3]="OnInteraction",t[t.OnHover=4]="OnHover",t[t.OnPageResize=5]="OnPageResize"}(b||(b={}));const S=["click","keydown"],x=["mouseenter","focusin"],C=Symbol("topDownHydratingComponents"),k=()=>a.vv.get(C,()=>new Map),T=t=>{const e=k(),n=(e.get(t)??0)+1;e.set(t,n)},$=t=>{const e=k(),n=(e.get(t)??0)-1;n>0?e.set(t,n):e.delete(t)};async function A(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.hasAttribute("needs-recreation");i&&t.removeAttribute(u);const o=t.hasAttribute(c);if(o){var s;null==e||e.start(),t.removeAttribute(c);const i=t.tagName.toLocaleLowerCase();T(i),await p(t).then(()=>{var i;null===(i=n.onHydrationCallback)||void 0===i||i.call(n,t),null==e||e.markEnd("selfHydrationComplete")}),null===(s=d.get(i))||void 0===s||s.selfHydrationComplete.set()}let a;var f;i?a=[]:a=Array.from((null===(f=t.shadowRoot)||void 0===f?void 0:f.children)??[]).concat(Array.from(t.children));return Promise.all(a.map((e,i)=>{var o;let s;const a=e.tagName.toLocaleLowerCase(),c=new AbortController,u=()=>{if(!c.signal.aborted)return c.abort(),g.has(a)?s=m(`${a}:hydration`,!0):l&&(s=m(`${t.tagName.toLocaleLowerCase()}>${a}[${i}]`,!1)),A(e,s,n)},d={once:!0,passive:!0,capture:!0,signal:c.signal},f=null===(o=n.hydrationModes)||void 0===o?void 0:o[a];var h;if(1!==(null==f?void 0:f.mode)){if(!Array.isArray(null==f?void 0:f.mode))return u();var p;null==f||null===(p=f.markTtvr)||void 0===p||p.call(f,e);for(const t of f.mode)switch(t){case 2:(0,r.dT)().then(()=>requestIdleCallback(u));break;case 3:S.forEach(t=>{e.addEventListener(t,u,d)});break;case 4:x.forEach(t=>{e.addEventListener(t,u,d)});break;case 5:window.addEventListener("resize",u,d)}}else null==f||null===(h=f.markTtvr)||void 0===h||h.call(f,e)})).then(()=>{if(o){var n;null==e||e.markEnd("topDownHydrateComplete");const i=t.tagName.toLocaleLowerCase();$(i),null===(n=d.get(i))||void 0===n||n.topDownHydrateComplete.set()}})}},70487:function(t,e,n){n.d(e,{u:function(){return i}});const i={backgroundInnerHolder:"backgroundInnerHolder",backgroundOuterHolder:"backgroundOuterHolder",cardAction:"cardAction",complianceHyperlink:"complianceHyperlink",dailyStreaks:"dailyStreaks",feedToggle:"feedToggle",financeGreeting:"financeGreeting",myInterests:"myInterests",gaming:"gaming",gridViewFeed:"gridViewFeed",headerSpaceHolder:"headerSpaceHolder",locationGreeting:"locationGreeting",marketSelector:"marketSelector",myFeed:"myFeed",msnFeed:"msnFeed",navBar:"navBar",notificationBell:"notificationBell",nurturingCoachMark:"nurturingCoachMark",office365:"office365",overlayArticleReader:"overlayArticleReader",personalizeButton:"personalizeButton",pillWC:"pillWC",recommendedSites:"recommendedSites",rewardsIcon:"rewardsIcon",rewardsButton:"rewardsButton",rightRailSectionKey:"rightRailSectionKey",scrollableContainer:"scrollableContainer",searchBox:"search-box-edgenext",searchBoxInput:"searchBoxInput",searchBoxVoiceButton:"searchBoxVoiceButton",searchHistory:"searchHistoryEdgeNext",settingsButton:"SettingsButton",settingsCloseButton:"settingsCloseButton",settingsInformationalButton:"settingsInformationalButton",shoppingNav:"shoppingNav",signInButton:"signInButton",singleColumnFeedRoot:"singleColumnFeedRoot",superCoachMark:"superCoachMark",topSites:"topSites",unifiedMobileFeed:"unifiedMobileFeed",weatherNav:"weatherNav",waffle:"waffle",watchNav:"watchNav",waterfallViewFeed:"waterfallViewFeed",welcomeGreeting:"welcomeGreeting",navigationPage:"navigationPage",videoPlayButton:"videoPlayButton",imageEditButton:"imageEditButton",headerGrid:"headerGrid",floatButtonGroupWC:"floatButtonGroupWC",weatherHeroExperience:"weatherHeroExperience",pr2RefreshReminder:"pr2RefreshReminder",widgetsRegion:"widgetsRegion",rubyPage:"rubyPage",rubyContentConsumption:"rubyContentConsumption",casualGamesLandingV2:"casualGamesLandingV2",casualGamesLandingMainComponent:"casualGamesLandingMainComponent",rubyToggle:"rubyToggle"}},71200:function(t,e,n){n.d(e,{Fl:function(){return C},GJ:function(){return E},Go:function(){return _},JQ:function(){return D},O8:function(){return b},OA:function(){return T},Ok:function(){return g},Q_:function(){return S},R:function(){return f},S_:function(){return P},TN:function(){return k},U1:function(){return R},VU:function(){return m},Y5:function(){return w},_4:function(){return M},_E:function(){return A},ep:function(){return y},m8:function(){return v},nT:function(){return $},vf:function(){return x}});var i=n(17254),r=n(12870),o=n(63150),s=n(5044),a=n(39065),c=n(77246);const u=["edge_desktop_ntp_ruby","edge_desktop_dhp_ruby","edge_enterprise_desktop_ntp_ruby","edge_enterprise_desktop_dhp_ruby","msnruby","edgntpruby","edgdhpruby","edgentntpruby","edgentdhpruby","ma13x3"],l=["weather-copilot-card","weather-copilot-hp"],d=[...l,"copilot"];function f(t){if((0,c.S)()){return((null===r.Rb||void 0===r.Rb?void 0:r.Rb.CurrentFlights)||"").includes(t)}var e;if(((null===i.DF||void 0===i.DF||null===(e=i.DF.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some(e=>e.startsWith(t)))return!0;return!1}function h(t){try{var e;const n=(null==t?void 0:t.toLowerCase())||"";return((0,c.S)()?((null===r.Rb||void 0===r.Rb?void 0:r.Rb.CurrentFlights)||"").split(","):(null===i.DF||void 0===i.DF||null===(e=i.DF.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some(t=>t&&t.toLowerCase().trim()==n)}catch{return!1}}function p(t){try{var e;const n=t.map(t=>t.toLowerCase().trim())||[];return((0,c.S)()?((null===r.Rb||void 0===r.Rb?void 0:r.Rb.CurrentFlights)||"").split(","):(null===i.DF||void 0===i.DF||null===(e=i.DF.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some(t=>t&&n.includes(t.toLowerCase().trim()))}catch{return!1}}function m(){let t=[];var e;(0,c.S)()?t=((null===r.Rb||void 0===r.Rb?void 0:r.Rb.CurrentFlights)||"").split(","):t=(null===i.DF||void 0===i.DF||null===(e=i.DF.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[];return t=t.filter(g),t.join(",").toUpperCase()}function g(t){const e=(null==t?void 0:t.toLowerCase())??"";return e.startsWith("prg-1sw-wx")||e.startsWith("prg-1s-wx")||e.startsWith("1s-wx")||e.startsWith("prg-wea")}function v(){return f("prg-wx-seo")}function w(){return(0,a.HJ)()&&!i.T3.isMobile||E()&&(0,a.HJ)()||(0,a.Nf)()||(0,a.hV)()}function y(){return i.T3.isMobile&&((0,a.Ow)()||(0,a.HJ)())}function b(){return(0,a.HJ)()&&i.T3.isMobile}function S(){return(0,a.Ow)()&&i.T3.isMobile}function x(){return i.T3.isMobile&&(0,a.Ow)()}function C(){var t;return"zh-cn"!=(null===(t=r.Rb.Locale)||void 0===t?void 0:t.toLocaleLowerCase())&&i.T3.isMobile&&(0,a.Ow)()}function k(){return p(["prg-wx-nopti","prg-wx-nrank"])&&(0,a.HJ)()&&!i.T3.isMobile&&!0}function T(){var t;return((0,a.HJ)()&&!i.T3.isMobile||C()||E()&&i.T3.isMobile&&(0,a.HJ)())&&"zh-cn"!=(null===(t=r.Rb.Locale)||void 0===t?void 0:t.toLocaleLowerCase())}function $(){var t;return h("prg-1sw-wxaqifct")&&"zh-cn"==(null===(t=r.Rb.Locale)||void 0===t?void 0:t.toLocaleLowerCase())}function A(t){return!1}function I(t){try{var e;const n=new URL(decodeURIComponent(t||(null===i.T3||void 0===i.T3?void 0:i.T3.SourceUrl)||(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.href)||"").toLowerCase()),r=new URLSearchParams(n.searchParams);return(r.get("ocid")||(0,s.En)()||"").toLowerCase()}catch{return""}}function P(t){return d.includes(I(t))||_(t)}function _(t){return u.includes(I(t))||(0,o.ns)()}function M(){return(u.includes(I())||(0,o.ns)())&&(0,a.HJ)()}function R(t){try{return P(t)&&!i.T3.isMobile}catch{return!1}}function E(t){return P(t)&&f("prg-wx-c2cop2")||_(t)}const F=["stpromoshoreline","stpromoshorelineent"];function D(){const t=((0,s.En)()||"").toLowerCase();return F.includes(t)}},71266:function(t,e,n){n.d(e,{p:function(){return o}});var i=n(87346),r=n(77246);class o{constructor(){(0,r.S)()?(this.isDebugEnabled=((0,i.K)(window.location.href,"debug")||"").toLowerCase()in{1:1,true:1}||"vp"===((0,i.K)(window.location.href,"reqsrc")||"").toLowerCase(),this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):this.isDebugEnabled=!1}getLoggingService(){return null}isDebug(){return this.isDebugEnabled}setDebug(t){this.isDebugEnabled=t}setTags(t){}log(t,e){this.isDebug()&&console.info(t)}logError(t){console.error(t)}logCallback(t){this.isDebug()&&console.info(t())}logObjects(){this.isDebug()&&console.log(...arguments)}logSingleObject(t,e){this.isDebug()&&console.log(t)}}},71507:function(t,e,n){n.d(e,{x:function(){return a}});var i=n(12870),r=n(65022),o=n(93468);class s{constructor(){this.dedupeIdsAdLevel=[],this.cacheSize=0}get size(){return this.cacheSize}setCacheSize(t,e){for(this.cacheSize=t,this.excludedRegions=e;this.dedupeIdsAdLevel.length>t;)this.dedupeIdsAdLevel.shift()}clear(){this.dedupeIdsAdLevel=[]}addToAdLevelCache(t){const e=this.dedupeIdsAdLevel.findIndex(e=>e.length===t.length&&e.every((e,n)=>e===t[n]));e>-1?(this.dedupeIdsAdLevel.splice(e,1),this.dedupeIdsAdLevel.push(t)):(this.dedupeIdsAdLevel.length===this.cacheSize&&this.dedupeIdsAdLevel.shift(),this.dedupeIdsAdLevel.push(t))}addDedupeIds(t,e){var n;!this.cacheSize||!t||0==t.length||e&&null!=this&&null!==(n=this.excludedRegions)&&void 0!==n&&n.includes(e)||this.addToAdLevelCache(t)}getDedupeIds(t){var e,n;if(t&&null!==(e=this.excludedRegions)&&void 0!==e&&e.includes(t))return[];if(null!==i.Rb&&void 0!==i.Rb&&null!==(n=i.Rb.CurrentFlightSet)&&void 0!==n&&n.has("prg-ads-dupe-hit")){const t=this.dedupeIdsAdLevel.flat();return Array.from(new Set(t))}return this.dedupeIdsAdLevel.flat()}}const a=new class{constructor(){this.prefixOverride=[],this.overrideCaches=new Map,this.defaultCache=new s}initializeCache(t,e,n){this.defaultCache.setCacheSize(t,e),this.prefixOverride=n??[],this.overrideCaches.clear();for(const t of this.prefixOverride){const e=new s;e.setCacheSize(t.dedupeCacheSize,t.excludedRegions),this.overrideCaches.set(t.prefix,e)}}get isInitialized(){return this.defaultCache.size>0||this.overrideCaches.size>0}clearCache(){this.defaultCache.clear();for(const t of this.overrideCaches.values())t.clear();this.overrideCaches.clear(),this.prefixOverride=[]}addDedupeIds(t,e){if(!t||0===t.length)return;if(0===this.prefixOverride.length)return void this.defaultCache.addDedupeIds(t,e);const n=new Map;for(const e of t){const t=e.split("_");if(!t||t.length<2){(0,o.vV)(r.Y_s,"Unexpected dedupe crid prefix","Invalid dedupe crid entry format (too short)",e);continue}t.length>2&&(0,o.vV)(r.Y_s,"Unexpected dedupe crid prefix","Suspicious dedupe crid entry format (too long)",e);const i=t[0];let s=n.get(i);s||(s=[],n.set(i,s)),s.push(e)}for(const[t,i]of n.entries()){const n=this.overrideCaches.get(t);n&&n.addDedupeIds(i,e)}}getDedupeIds(t,e){var n;if(0===this.prefixOverride.length)return null!==i.Rb&&void 0!==i.Rb&&null!==(n=i.Rb.CurrentFlightSet)&&void 0!==n&&n.has("prg-ads-dupe-ck")&&(0,o.vV)(r.M6N,"Unexpected dedupe old path been used","Dedupe cache prefix override is empty",{region:t,pageType:e}),this.defaultCache.getDedupeIds(t);const s=[];for(const e of this.overrideCaches.values())s.push(...e.getDedupeIds(t));return s}}},71656:function(t,e,n){n.d(e,{y:function(){return o}});var i=n(65022),r=n(77246);function o(t){if((0,r.S)()){const e="storageTest";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){(t||"function"==typeof t)&&t({...i.E45,message:`Session Storage is not defined: ${e}`})}}return!1}},71967:function(t,e,n){n.d(e,{P:function(){return a}});var i,r=n(90905);const o=null===(i=n(12870).Rb.CurrentFlightSet)||void 0===i?void 0:i.has("prg-scrolldbc"),s=50;function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return o?!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?(0,r.A)(t,e):(0,r.A)(t,e,{leading:!0,trailing:!1}):t}},73691:function(t,e,n){n.d(e,{As:function(){return l},EA:function(){return a},Yk:function(){return o},a$:function(){return s},xS:function(){return d}});var i=n(77246);const r=(0,n(98763).Xe)(),o=r.get;function s(t){r.set(t)}const a="service",c=h().fetch;let u=c;function l(t){Object.defineProperty(h(),"fetch",{value:t?function(){return d()(...arguments)}:c})}function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{perfTimeline:e=o()}=t,n=t.fetchImpl||u;return e?f.bind(f,e,n):n}async function f(t,e,n,i){const r=(n.url||n).toString(),s={url:r};if(i){s.requestName=i.requestName,s.perfCritical=i.perfCritical,delete i.requestName,delete i.perfCritical;const{urlMapper:t}=i;t&&(s.mappedUrl=t(r),delete i.urlMapper)}const c=t===o()?r:a,u=t&&t.startMeasure(c).endMeasure;let l;try{const t=await e(n,i);return l=!t||!t.ok,t}catch(t){throw l=!0,t}finally{l&&(s.error=!0),u&&u({customData:s})}}function h(){return(0,i.S)()?window:globalThis}},74166:function(t,e,n){n.d(e,{Ux:function(){return o},XJ:function(){return s}});var i=n(97643);let r;function o(t,e){if(!t)return null;if(e)return s(t);if(!r){const t="undefined"!=typeof document&&document.cookie.split("; ");r={};const e=t&&t.length;for(let n=0;n<e;n++){const e=t[n].indexOf("=");r[t[n].slice(0,e).toLocaleLowerCase()]=(0,i.RC)(t[n].slice(e+1))}}const n=t.toLocaleLowerCase();return r[n]||null}function s(t){var e;const n=null===(e=document.cookie)||void 0===e?void 0:e.match(`\\b${t}=([^;]*)`);return n?(0,i.RC)(n[1]):null}},74195:function(t,e,n){n.d(e,{H$:function(){return g},Q6:function(){return v},TE:function(){return l},WD:function(){return u},pN:function(){return w},wJ:function(){return m}});var i=n(65022),r=n(7258),o=n(88294),s=n(33107),a=n(77246),c=n(17254);let u,l;const d=new Map;let f;const h=(0,s.S9)("WebWorkerUtility","WebWorkerUtility",!0),p=new Map,m=t=>{if(!t)return;const e=p.get(t);return e?(p.delete(t),e):void 0};function g(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s={id:t&&t.id||"",fetched:!1,payload:null};if(!t||!t.id)return Promise.resolve(s);if(!u&&(!l||l&&"appanoncookie"!==t.id))return Promise.resolve(s);const a=h&&h.startMeasure(t.id).endMeasure,c=p.get(t.id);if(c)return r&&p.delete(t.id),a&&a({customSuffix:"standbymessage"}),Promise.resolve(c);let m,g;e&&(g=new Promise(r=>{m=setTimeout(()=>{d.delete(t.id);const c=`Web worker request timed out after ${e}ms for request id: [${t.id}]`;n&&(f?f({...i.Xf,message:"Web worker request timed out",pb:{...i.Xf.pb,customMessage:c}}):o.v.logError(c)),a&&a({customSuffix:"timeout"}),r({...s,timeout:!0})},e)}));const v=new Promise(e=>{d.set(t.id,{type:t.type||"data",callback:t=>{m&&clearTimeout(m),a&&a(),e(t)}})});return window.webWorker.postMessage({id:t.id,type:t.type||"data",payload:t.payload}),e?Promise.race([v,g]):v}function v(t){u&&t&&t.id&&window.webWorker.postMessage({id:t.id,type:t.type||"command",payload:t.payload||null})}function w(t){if(!u||!t||"function"!=typeof t)return;f=function(e){try{t(e)}catch(t){o.v.logError(`Failed to log web worker AppError. Error: ${(0,r.M5)(t)}`)}},window.webWorker.onerror=y;var e,n;e={id:"WebWorkerError",type:"subscription"},n=t=>{if(t.payload&&"object"==typeof t.payload){const e=t.payload;e.pb={...e.pb,...(0,i.Ukt)()},f(e)}else f({...i.fo8,message:"Web worker error",pb:{...i.fo8.pb,customMessage:JSON.stringify(t.payload||"")}})},u&&e&&"subscription"===e.type&&n&&(d.set(e.id,{type:"subscription",callback:n}),window.webWorker.postMessage(e)),setTimeout(()=>{window.webWorkerErrors&&Array.isArray(window.webWorkerErrors)&&(window.webWorkerErrors.forEach(t=>{y(t)}),delete window.webWorkerErrors)})}function y(t){if(!t.filename)return u=!1,window._isWebWorkerPresent=u,window.webWorker.terminate(),void f({...i.uDq,message:"Web worker script not found",pb:{...i.uDq.pb,customMessage:JSON.stringify(b(t))}});f({...i.HxO,message:"Web worker runtime error",pb:{...i.HxO.pb,customMessage:JSON.stringify(b(t))}})}function b(t){return JSON.stringify({filename:t.filename,message:t.message,lineno:t.lineno})}var S;u=!1,l=!1,(0,a.S)()&&(u=void 0!==S?S:!!window.webWorker,window._isWebWorkerPresent=u,l=u),"edgeChromium"===c.T3.AppType&&(u=!1,c.T3.StaticDomain&&c.T3.StaticDomain.endsWith("cn")&&(l=!1)),(u||l)&&(window.webWorker.onmessage=t=>{const{data:e}=t,n=d.get(e.id);if(!n)return void p.set(e.id,e);"data"===n.type&&d.delete(e.id);const i=n.callback;i&&i(e)},setTimeout(()=>{window.webWorkerMessages&&Array.isArray(window.webWorkerMessages)&&(window.webWorkerMessages.forEach(t=>{t.id&&p.set(t.id,t)}),delete window.webWorkerMessages)}))},74326:function(t,e,n){n.d(e,{J7:function(){return f},OD:function(){return c},nI:function(){return d},pN:function(){return u}});var i=n(17254),r=n(12870),o=n(88294);let s,a;const c=new URL("","https://api.msn.com/");function u(){const t=(0,i.rA)();var e;return s||(e=t.ServiceUrlBase,s=new URL("",e),h(s)),s}function l(){const t=(0,i.rA)();var e;return a||(e=t.FeedServiceUrlBase,a=new URL("",e),h(a)),a}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return new URL(t+(null==e?void 0:e.search),e)}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return new URL(t+(null==e?void 0:e.search),e)}function h(t){let e=!1;"dev"!==t.searchParams.get("env.service")&&(0,r.Th)().UserIsSignedIn&&(e=!0),o.v.log("u-si: "+(0,i.rA)().UserId),o.v.log("a-si: "+e),o.v.log("ss-si: "+(0,r.Th)().UserIsSignedIn)}},74585:function(t,e,n){var i;n.d(e,{AO:function(){return a},En:function(){return o},IF:function(){return s}}),function(t){t.DesktopL1="weatherdesktopl1",t.DesktopL2="weatherdesktopl2",t.PWA="weatherpwa",t.EdgeFeatured="edgefeatured",t.WINAPP="weather-app-win",t.Weather_Mobile_App="weather-app-mobile",t.XIAOMI="xiaomi",t.OPPO="oppowx",t.XIAOMI_ANDROID_GO="xmweather-gominus1",t.XIAOMI_BROWSER="xmweather-browser",t.WINDOWS_HEADER_PREFIX="win",t.EDGE_ARTICLE_PREFIX="msnar",t.SuperApp="weather-super-app",t.WINDOWS_OCID_PREFIX="winp2"}(i||(i={}));new Set(["msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);const r=new Set(["entnewsdhp","entnewsntp","msedgdhp","msedgntp","msedgdhphdr","msedgntphdr"]);function o(t){let e;if(t instanceof URL)e=t.searchParams;else if(t instanceof URLSearchParams)e=t;else if("string"==typeof t)try{e=new URL(t).searchParams}catch(t){e=void 0}return s(e,"ocid")}function s(t,e,n){if(t&&e){const i={value:t.get(e)||void 0};if(!i.value&&n&&n.length>0)for(let e=0;e<n.length&&(i.value=t.get(n[e])||void 0,!i.value);++e);if(!i.value){const n=e.toLowerCase();t.forEach(function(t,e){!i.value&&e.toLowerCase()===n&&t&&(i.value=t)})}return i.value}}function a(t){return t.startsWith("winp")||r.has(t)}},74592:function(t,e,n){n.r(e),n.d(e,{GreetingMaxWidth:function(){return vt},GreetingMinWidth:function(){return gt},HomepageHeader:function(){return wt},HomepageHeaderMobileTemplate:function(){return re},HomepageHeaderStyles:function(){return j},HomepageHeaderTemplate:function(){return oe},MeControlLtrStyles:function(){return U},MeControlRtlStyles:function(){return L},MeControlStyles:function(){return N},MeControlStylesMobileView:function(){return B},SearchBoxLtrStyles:function(){return E},SearchBoxMobileStyles:function(){return D},SearchBoxRtlStyles:function(){return F},SearchBoxStyles:function(){return R},SearchHistoryStyles:function(){return M},ToolingInfo:function(){return se},dropdownStyles:function(){return O}});var i=n(98264),r=n(37180),o=n(4731);var s=n(56911),a=n(84855),c=n(89710),u=n(11971),l=n(73208),d=n(32286),f=n(17469),h=n(22683),p=n(48751),m=n(64003),g=n(36452),v=n(41123),w=n(48196),y=n(10735),b=n(37998),S=n(89580),x=n(86856),C=n(74849),k=n(4126),T=n(22131),$=n(59721),A=n(17254);const I=`${$.P.Dialog}`,P="5px",_="#fff",M=" @media (max-width:994px){below-searchbox-suggestion::part(suggestion-container){width:629px !important}}@media (min-width:995px){below-searchbox-suggestion::part(suggestion-container){width:470px !important}}@media (min-width:1325px){below-searchbox-suggestion::part(suggestion-container){width:700px !important}}",R=` .root{max-width:none !important;width:210px !important}:host{--accent-foreground-rest:#fff !important}fluent-button{background-color:rgb(51 147 223) !important;color:${_} !important}.end-slot{color:${_} !important}:host([isonimage]) .end-slot slot[name="end"] > svg{fill:${_} !important}@media screen and (max-width:994px){.root{width:559px !important}}@media (max-width:650px){.root{width:240px !important}}@media (min-width:995px) and (max-width:1325px){.root{width:400px !important}}@media (min-width:1325px){.root{width:630px !important}}`,E=` fluent-button{border-top-right-radius:${P} !important;\n    }\n`,F=` fluent-button{border-top-left-radius:${P} !important;\n    }\n`,D=" fluent-button{background-color:unset;color:#4464FF !important;padding-right:unset !important;padding-left:unset !important}fluent-button::part(control){width:0px}@media (prefers-color-scheme:dark){fluent-button{color:#FFFFFF !important}}",O=` .search-box msft-search-box{--search-box-radius:${P} !important}.search-box.autosuggestShown msft-search-box{--search-box-radius:${P} ${P} 0 0 !important}.search-box #sw_as .sa_as,.search-box #sw_as #sa_ul,.search-box #sw_as .sa_drw li:last-of-type{border-radius:0px 0px ${P} ${P} !important}#sw_as .sa_as{width :100% !important;background-color:white !important}@media (min-width:450px){#sw_as .sa_as{width:629px !important}}@media (min-width:995px){#sw_as .sa_as{width:470px !important}}@media (min-width:1325px){#sw_as .sa_as{width:700px !important}}`,N=" @media (max-width:926px){.mectrl_header_text{display:none !important}}.mectrl_topHeader .mectrl_profilepic{width:36px !important;height:36px !important}.mectrl_topHeader .mectrl_header_text{font-size:12px !important}.mectrl_theme_dark .mectrl_body,.c-uhfh > .theme-dark .c-me .mectrl_body{background-color:var(--neutral-layer-floating) !important}",U=" .mectrl_topHeader .mectrl_header_text{padding-right:0px !important}.mectrl_topHeader .mectrl_profilepic{margin-right:13px !important}",L=" .mectrl_topHeader .mectrl_header_text{padding-left:14px !important}",B=" #mectrl_main_body{inset:unset !important;right:50% !important;transform:translateX(50%)}",W=C.A` .logo{left:0}.user-pref-container{right:0}.settings-dialog-with-direction{right:0}.msn-navbar-mobile.mobile-navbar-active{animation:slideinleft 0.3s}.msn-sidebar{animation:slideinright 0.3s}.msn-mobile-logo{padding-left:12px}`,H=C.A` .logo{right:0}.user-pref-container{left:0}.settings-dialog-with-direction{left:0}.msn-navbar-mobile.mobile-navbar-active{animation:slideinright 0.3s}.msn-sidebar{animation:slideinleft 0.3s}.msn-mobile-logo{padding-right:12px}`,V=C.A` cs-homepage-view-settings.focus-switch::part(content){border:2px solid #0078d4;padding:0 8px}cs-homepage-view-settings::part(wrapper){margin:0;box-shadow:none;border:none;border-radius:0}cs-homepage-view-settings::part(content){padding:0}@media (prefers-color-scheme:dark){cs-homepage-view-settings::part(wrapper){background:var(--neutral-layer-floating)}}`,z=C.A`
@media (prefers-color-scheme:dark){:host{--flyout-background:rgba(17,17,17,0.85);--pri-text-color:#fff;--sec-text-color:#D2D2D2;--separator:#333;--active-background:#222}.msn-mobile-icon{filter:invert(100%) sepia(5%) saturate(7458%) hue-rotate(280deg) brightness(105%) contrast(109%)}weather-today-mini::part(label){color:#fff}.msn-sidebar-contents msn-market-selector::part(select){--neutral-fill-input-active:#282828;--neutral-fill-active:#444;--neutral-fill-hover:#444;--neutral-foreground-rest:#fff;background:#333 !important;border:calc(var(--stroke-width)* 1px) solid #444;color:var(--neutral-foreground-rest)}.msn-sidebar-contents msn-market-selector::part(control){background:#333}.msn-sidebar-contents msn-market-selector::part(listbox){background:#333;color:#fff}.NewMSNLogo,.NewMSNLogoMobile{background:var(--msn-alt-logo-dark) no-repeat center;background-size:contain}}`,j=C.A` :host{--flyout-background:rgba(245,245,245,0.85);--pri-text-color:#000;--sec-text-color:#4E4E4E;--separator:#ccc;--active-background:#F5F5F5;border-radius:6px;width:100%;--msn-alt-logo-light:url(${(0,A.rA)().StaticsUrl}latest/brand/new-msn-logo-color-black.svg);
        --msn-alt-logo-dark: url(${(0,A.rA)().StaticsUrl}latest/brand/new-msn-logo-color-white.svg)}.NewMSNLogo,.NewMSNLogoMobile{width:80px;height:30px;background:var(--msn-alt-logo-light) no-repeat center;background-size:contain}.title{height:48px;border-bottom:1px solid ${h.hb}}.root-container{width:100%;margin:auto}.setting-option{border-top:1px solid var(--separator);padding:18px 10px;display:flex;align-items:center;gap:8px;font-size:16px;font-family:Segoe UI,Segoe UI Midlevel,Segoe WP,Arial,sans-serif}.market-selector-mobile::part(select){height:44px}.market-selector-mobile::part(label){font-size:16px}.msn-navbar-mobile,.msn-sidebar{z-index:999;overflow:auto;top:0px;height:100%;width:100%;position:fixed !important;overflow:hidden;pointer-events:none;backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);background:var(--flyout-background);display:none}.msn-navbar-mobile{left:0px}.msn-navbar-mobile{right:0px}.menu-header-mobile{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:14px 14px 12px 14px}.msn-navbar-mobile.mobile-navbar-active,.msn-sidebar.mobile-sidebar-active{display:auto;pointer-events:unset;display:block}.navbar-items-mobile,.msn-sidebar-contents{color:var(--pri-text-color);display:flex;overflow:visible;height:100%;width:100%;position:fixed;top:0px;flex-flow:column}.hiddenfooter{display:none}.msn-navbar-mobile-footer{font-size:12px;display:flex;align-items:center;padding:18px 14px}.header-container{align-items:center;display:flex;justify-content:center;position:relative;padding:0px 15px}.emailIcon svg{height:20px;margin-top:3px;color:rgb(38,38,38)}.mobileIcon svg{height:20px;margin-top:3px;color:rgb(38,38,38)}.email-icon{direction:ltr;display:flex}.mobile-icon-container{z-index:100;margin-right:8px;display:block;position:relative}.mobile-icon-button{align-items:center;margin-right:8px;display:flex;justify-content:center;width:13px}.header-mobile-container{align-items:center;display:flex;place-content:center space-around;position:relative;flex-flow:column nowrap}.header-mobile-searchContainer{padding:14px 14px 12px 14px;display:flex;align-items:center;justify-content:space-between;height:40px}.header-mobile-search{position:absolute;left:50%;transform:translateX(-50%)}.header-mobile-setting{display:flex;align-items:center}.header-mobile-navBar{display:flex;align-items:center}.header-weather-container{padding-bottom:4px}.logo a{display:inline-flex;align-items:start;cursor:pointer;min-width:235px;text-decoration:none;color:#262626}.logo a:hover .logo-text,.logo a:focus .logo-text{color:#1679c3}.logo a:focus img,.logo a:hover img{filter:invert(36%) sepia(81%) saturate(691%) hue-rotate(169deg) brightness(96%) contrast(99%)}.logo-icon{direction:ltr;display:flex}.mobile-root-container .logo-icon{align-items:center;justify-content:center}.logo-text{font-weight:600;white-space:nowrap;margin:-3px 0 0 4px;display:none}.logo a:hover .logo-text-hover,.logo a:focus .logo-text-hover,.logo .logo-text-default{display:inline}.logo a:hover .logo-text-default,.logo a:focus .logo-text-default,.logo .logo-text-hover{display:none}.logo img{width:20px;height:28px;margin:0}.msn-mobile-logo{position:relative;bottom:4px}.msn-mobile-logo,.logoMobile img{height:30px}.search-container{height:55px;z-index:1;padding-top:6px}.search-container.search-container-mobile{width:100%;padding:0;height:55px;z-index:1;display:flex;align-items:flex-start;justify-content:center}msn-search-box{width:100%}.settings-container{z-index:100;display:block;position:relative}msn-settings.fluent-settings-icon{--hover-color:${p.l};
        --active-color: ${p.l}}.fluent-settings-icon svg{width:20px;height:20px;color:${m.c}}.user-pref-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-end:-8px;min-height:48px}.sign-in-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-right:4px}.sign-in-container-mobile{display:flex;flex-direction:row;align-items:center;justify-content:center;min-height:48px;margin-bottom:14px}.edit-icon{height:16px;width:14px}.settings-link{border:1px solid ${g.Ez};
        border-radius: 2px;
        padding: 0;
        margin: 0;
        margin-inline-start: 15px;
        font-size: ${v.K};
        line-height: ${v.Z};
        cursor: pointer;
        color: ${p.l};
        fill: ${p.l}}.responsive-btn .settings-link{margin-inline-start:10px}.settings-button{align-items:center;display:flex;height:calc(${w.D} * 1px);
        justify-content: center;
        width: calc(${w.D} * 1px)}.settings-button::part(control){height:calc(${w.D} * 1px);
        width: calc(${w.D} * 1px)}.settings-button::part(control):hover{fill:var(--hover-color)}.settings-button::part(control):active{fill:var(--active-color)}.settings-button::part(content){line-height:0}.settings-button-mobile{background:transparent;border-radius:0}.settings-button-mobile::part(content){height:24px;width:24px}.settings-button-mobile::part(control){padding:0}.settings-button-mobile,.icon.mobile,.icon.email{height:40px;width:40px;display:flex;align-items:center;justify-content:center}.emailIcon,.mobileIcon,.settings-container-mobile{height:40px;width:40px}.settings-close-button{height:calc(${w.D} * 1px);
        width: calc(${w.D} * 1px);
        background: ${y.T}}.settings-close-button svg{height:12px;width:12px;fill:${p.l}}.settings-dialog-background{display:block;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:${I}}.settings-dialog{position:absolute;z-index:${I};
        display: flex;
        flex-direction: column;
        width: 260px;
        top: 0;
        background: ${y.T};
        --elevation: 11;
        ${b.ET} padding:20px}.settings-dialog-header{display:flex;flex-direction:row}.settings-dialog-divider{margin:15px 0 0}.settings-menu-item{text-decoration:none;color:inherit;margin:10px 0 0;cursor:pointer;display:inline-block;width:100%;border:none;text-align:left;background:none;padding:0;font-size:inherit}.settings-menu-item-mobile{box-sizing:border-box;text-decoration:none;color:inherit;cursor:pointer;display:inline-block;width:100%;border:none;text-align:left;background:none;padding:0 14px;font-size:inherit}.settings-menu-item:hover{background:#ddd}.settings-dialog-title{margin:12px auto 8px;margin-inline-start:16px;font-size:${S.Y};
        line-height:${S.v};font-weight:600}.language-dropdown{font-size:${v.K};
        line-height: ${v.Z};width:100%}.language-dropdown-wrapper{margin:0 14px}msn-market-selector::part(select){margin-top:12px;margin-bottom:0}.end{margin-inline-start:15px;display:flex}.hidden{display:none}fluent-anchor::part(start){display:flex;margin-inline-end:11px}@media screen and (max-width:994px){.root-container{width:629px;grid-template-rows:repeat(3,auto);display:grid}.header-container{display:grid;align-items:center;justify-content:space-between;grid-column:1 / auto;grid-row:1 / auto;grid-template:repeat(2,auto) / repeat(3,auto);gap:10px;padding:10px 0px;width:inherit;height:104px}.search-container{grid-area:2 / 1 / auto / 4;justify-self:center}.logo{grid-area:1 / 1 / auto / auto;margin-inline-end:15px}.user-pref-container{justify-self:end;grid-area:1 / 3 / auto / auto}}@keyframes slideinleft{from{left:-100%}to{left:0}}@keyframes slideinright{from{right:-100%}to{right:0}}@media screen and (min-width:995px){.logo{position:absolute}.user-pref-container{position:absolute}}@media screen and (min-width:790px){.logo-text{font-size:24px}}@media screen and (max-width:789.9px){.logo-text{font-size:18px;margin:2px 0 0 4px}}@media (max-width:926px){.logo a{min-width:185px}.user-pref-container{min-width:100px}search-history-edgenext::part(below-searchbox-suggestion-container){display:none}}@media (max-width:650px){.root-container{width:100%}}search-history-edgenext::part(below-searchbox-suggestion-container){margin-top:-4px}search-history-edgenext::part(below-searchbox-suggestion){font-size:13px;font-family:"Segoe UI Semibold","Segoe WP Semibold","Segoe WP","Segoe UI",Arial,Sans-Serif}.icp-footer{margin:8px 0;color:rgb(117,117,117);font-size:10px}.footer-links a{text-decoration:none;color:rgb(117,117,117)}.msn-bar-block .msn-bar-item{text-decoration:none;color:black;display:block;text-align:left;border:none;white-space:normal;float:none;outline:0}.wrapper{display:flex;flex-flow:column;align-items:center;margin:0 auto;position:relative;background:"#F4F4F2";transition-duration:"0.3s";min-height:100vh}.feed-nav-container{display:flex;align-items:center;margin-bottom:3px;height:33px}.promo-feed-nav-container{display:grid;grid-template-columns:max-content;margin-left:-11px;padding-bottom:${"9"}px}.inline-language-toggle-container{display:flex;align-items:center;height:33px;padding-bottom:13px}.weather-today-mini-container{display:flex;width:max-content;padding-bottom:11px;margin-top:5px}.separator{margin-top:15px;display:block;height:20px;border-left:1px solid #d0d0ce}.left-separator{margin-left:5px;margin-right:5px}.inline-language-toggle-separator{margin-top:0px}.default-feed-nav-container{display:grid;grid-template-columns:minmax(0,1fr);padding-bottom:${"9"}px}.default-feed-nav-container-mobile{overflow:hidden auto;flex:1}.mobile-close-btn{cursor:pointer;display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:transparent;border:none;border-radius:50px}.header-bottom-section{max-width:665px;margin:0 auto;padding:0px 14px}.logo-desktop{height:28px;width:20px;filter:none}.logo,.logo a{color:var(--neutral-foreground-rest)}.logo:hover,.logo:hover a{color:var(--accent-fill-hover)}.logo a:hover .logo-text,.logo a:focus .logo-text{color:inherit}${z}
`.withBehaviors(new x.t(W,H),new k.o("useNewSettings",!1,V),(0,T.G2)(C.A` :host{--neutral-layer-floating:#4a4a4a}`));var q=n(98216),G=n(11372),J=n(29231),K=n(23429),Q=n(96950),X=n(60815),Y=n(90905);const Z=(t,e)=>new Promise(n=>{const i=(0,Y.A)(()=>{var i;const o=null===(i=e.querySelector)||void 0===i?void 0:i.call(e,t);o&&(n(o),r.disconnect())}),r=new MutationObserver(i);r.observe(e,{childList:!0,subtree:!0}),i()}),tt=(t,e)=>{var n;const i=document.createElement("style");i.innerHTML=e,null===(n=t.prepend)||void 0===n||n.call(t,i)};var et=n(56589),nt=n(36042),it=n(21481),rt=n(77246),ot=n(55230),st=n(89151),at=n(61204),ct=n(59545),ut=n(54030),lt=n(87518);var dt=n(45181),ft=n(99893),ht=n(12262);const pt=[".settings-container","notification-bell"],mt=["mobile-app-upsell","ms-rewards","welcome-greeting","welcome-greeting-light",".me-control-container","language-toggle"],gt=88,vt=243;class wt extends it.U{constructor(){super(...arguments),this.hasInitialized=!1,this.settingsWidth=-1,this.spaceForGreeting=0,this.compressedSignInButton=!1,this.useNewSettings=!1,this.telemetryContext={},this.logoText="msn",this.isSettingsDialogVisible=!1,this.isfeedbackDialogVisible=!1,this.isSearchHistoryLoaded=!1,this.inputElementHasInput=!1,this.feedbackButton=null,this.ttvrFired=!1,this.isSidebarVisible=!1,this.isNavbarVisible=!1,this.codexBingChatTelemetryTags="",this.weatherGreetingSpace=0,this.codexBingButtonInitialized=!1,this.settingsGearButton=null,this.greetingMinWidth=gt,this.greetingMaxWidth=vt,this.telemetryUserObject={},this.focusFeedSwitchSettings=()=>{this.homepageViewSettings&&(this.shouldFocusFeedSwitch=!0,this.showSettingsDialog())},this.handInputEvent=t=>{const e=t.target.value;this.inputElementHasInput=!!e},this.updateSettingsWidth=t=>{const e=Math.floor(t);e!==this.settingsWidth&&(this.settingsWidth=e,this.topSectionOnResize())},this.findFirstAssignedElement=t=>{let e=t;const n=t=>"SLOT"===(null==t?void 0:t.tagName);for(;n(e);){var i,r;const t=null===(i=(r=e).assignedElements)||void 0===i?void 0:i.call(r);e=null==t?void 0:t[0]}return e},this.findElementsBySelectors=(t,e)=>e.map(e=>t.find(t=>t.matches(e))).filter(t=>!!t),this.onMarketChange=async t=>{const{pdpServiceClient:e}=await n.e("RubyFeedbackCoachMark").then(n.bind(n,79122)),{trySetCookie:i}=await n.e("experiences_spotlight-card-wc_dist_ContentTemplates_DailyQuiz_DailyQuizCard_template_js-exper-6f1cab").then(n.bind(n,71670));if(!(0,A.rA)().CurrentMarket)throw new Error("Failed to retrieve current market from appEnv");q.YT.addOrUpdateTmplProperty("MarketLibraryUnification","1"),(0,at.lK)(t)},this.setMarketCookie=(t,e)=>{const n="marketPref",i=`.${A.T3.HostPage.topDomain}`;t(n,void 0,-1),t(n,e,182,i,"/")},this.handleClickOutside=t=>{t.defaultPrevented||this.isfeedbackDialogVisible||(this.isNavbarVisible?(this.isNavbarVisible=!this.isNavbarVisible,this.isSidebarVisible=!1):this.isSidebarVisible&&(this.isSidebarVisible=!this.isSidebarVisible,this.isNavbarVisible=!1))},this.onKeydown=t=>{t.key===ot.F9&&(this.hideSettingsDialog(),this.settingsGearButton&&K.L.enqueue(()=>this.settingsGearButton.focus()))},this.refreshPage=t=>{t.preventDefault(),window.location.reload()},this.clickMeControl=t=>{t.stopPropagation()},this.updateGreetingWidth=(t,e)=>{t&&this.greetingMinWidth!==Math.floor(t)&&(this.greetingMinWidth=Math.floor(t)),e&&this.greetingMaxWidth!==Math.ceil(e)&&(this.greetingMaxWidth=Math.ceil(e))}}homepageViewSettingsChanged(t){this.homepageViewSettings&&!t&&window.addEventListener("homepage-view-settings-focus",this.focusFeedSwitchSettings,{once:!0})}getCommonSearchBoxOptions(){return{...this.config.newSearchBoxConfig,localizedStrings:{buttonSearchMSN:this.config.localizedStrings.buttonSearchMSN,tabSearchMSN:this.config.localizedStrings.tabSearchMSN,placeholderWithMSN:this.config.localizedStrings.placeholderTextWithMSN,placeholderWithMSNv2:this.config.localizedStrings.placeholderTextWithMSNv2,placeholderText:this.config.localizedStrings.searchPlaceholderText,inputTitle:this.config.localizedStrings.searchTooltip,buttonText:this.config.localizedStrings.searchButtonTooltip,voiceButtonTitle:this.config.localizedStrings.searchVoiceButtonTitle,clearButtonTitle:this.config.localizedStrings.searchClearButtonTitle,imageButtonTitle:this.config.localizedStrings.searchImageButtonTitle,adLabel:this.config.localizedStrings.adLabel},additionalFormParamMap:this.getAdditionalFormParamMap(),enableClarity:this.config.newSearchBoxConfig.enableClarity}}getAdditionalFormParamMap(){const t=new URLSearchParams(location.search);return{refig:q.YT&&q.YT.getRequestId()||"",mkt:A.T3.CurrentMarket,ocid:t.get("ocid")}}configChanged(t){var e;if(t)return;this.config.localizedStrings=this.strings||this.config.localizedStrings;const n=(null===(e=this.config.searchBoxConfig)||void 0===e?void 0:e.showSearchBoxPlaceHolder)||this.showSearchBoxPlaceHolder||this.config.isMobileView;this.searchBoxOptions={...this.config.searchBoxConfig,childSearchBoxComponent:this.config.staticSearchBoxStyle?"msnhp-search-box":"msft-search-box",localizedStrings:{btnTooltip:this.config.localizedStrings.searchButtonTooltip,placeholder:n?this.config.localizedStrings.searchPlaceholderText:"",tooltip:this.config.localizedStrings.searchTooltip,adLabel:this.config.localizedStrings.adLabel},disableDarkMode:!1,enableMsnHpMobilePageStyle:this.config.isMobileView,trendingSearchConfig:this.config.trendingSearchConfig},this.config.newSearchBoxConfig&&(this.newSearchBoxOptions=this.getCommonSearchBoxOptions());const i=(0,ut.u)("header",{type:G.MJ.Module});this.setAttribute(J.i,i.getMetadataTag()),this.logoConfigs=this.getLogoConfigs(),this.meControlConfigs=this.getMeControlConfigs(),this.useNewSettings||(this.settingsConfigs=this.getSettingsConfigs()),this.addEventListener("close",this.handleCloseEvent,!1)}shadowDomPopulated(){this.setVisuallyReadyMarkers(),this.changeSearchBarStyle(),this.changeMeControlStyle(),document.addEventListener("click",this.handleClickOutside)}disconnectedCallback(){var t;super.disconnectedCallback(),document.removeEventListener("click",this.handleClickOutside),this.removeEventListener("close",this.handleCloseEvent,!1),null===(t=this.commonSearchBoxRef)||void 0===t||null===(t=t.inputElement)||void 0===t||t.removeEventListener("input",this.handInputEvent)}handleCloseEvent(){this.isfeedbackDialogVisible=!1,this.feedbackButton&&K.L.enqueue(()=>this.feedbackButton.focus())}setVisuallyReadyMarkers(){this.ttvrFired||(this.ttvrFired=!0,(0,st.m7)(a.NJc),this.markVisuallyReadyRaf())}defineMsnhpSearchBox(){let t;t=this.config.isMobileView?D:R+((0,c.zJ)(A.T3.CurrentMarket)?F:E);const e=C.A`
            ${u.eM}
            ${t}
        `;l.G.compose({name:"msnhp-search-box",template:(0,d.W)({endContent:Q.qy`
            <svg
                width="20"
                height="20"
                viewBox="3 3 14 14"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M8.5 3a5.5 5.5 0 014.23 9.02l4.12 4.13a.5.5 0 01-.63.76l-.07-.06-4.13-4.12A5.5 5.5 0 118.5 3zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"
                />
            </svg>
            `,clearContent:Q.qy`<svg width="18" height="18" viewBox="0 0 12 12"><path d="M6.85 6 12 11.15l-.85.85L6 6.85.85 12 0 11.15 5.15 6 0 .85.85 0 6 5.15 11.15 0l.85.85L6.85 6Z"></path></svg>`}),styles:e,shadowOptions:{delegatesFocus:!0}}).define(f.i.registry)}async changeSearchBarStyle(){var t;if(null!==(t=this.config)&&void 0!==t&&t.staticSearchBoxStyle)return;await customElements.whenDefined("msn-search-box");const e=await Z("msn-search-box",this.shadowRoot);if(e){var n,i;let t;tt(e.shadowRoot,O),t=this.config.isMobileView?D:R+((0,c.zJ)(A.T3.CurrentMarket)?F:E),tt(null===(n=(i=e.shadowRoot).querySelector)||void 0===n?void 0:n.call(i,"msft-search-box").shadowRoot,t)}}async changeMeControlStyle(){await customElements.whenDefined("msn-me-control");const t=await Z("msn-me-control",this.shadowRoot);if(t){let e=N;this.config.isMobileView&&(e+=B),tt(t.shadowRoot,e+((0,c.zJ)(A.T3.CurrentMarket)?L:U))}}async changeSearchHistoryStyle(){await customElements.whenDefined("search-history-edgenext");const t=await Z("search-history-edgenext",this.shadowRoot);t&&tt(t.shadowRoot,M)}beforeHydration(){return this.hpTtvrFired=!0,super.beforeHydration()}async experienceConnected(){var t;this.hasInitialized||(this.hasInitialized=!0,this.useNewSettings=!!this.config.useNewSettings,null!==(t=this.config)&&void 0!==t&&t.staticSearchBoxStyle&&this.defineMsnhpSearchBox(),this.telemetryUserObject={signInTelemetryObject:(0,ut.N)("header-signin",G.MS.Undefined,G.MJ.Module),settingsTelemetryObject:(0,lt.l)("settings",{type:G.b5.Settings},G.MS.Open,G.MJ.ActionButton),feedbackTelemetryObject:(0,ut.N)("feedback",G.MS.Open),helpTelemetryObject:(0,ut.N)("helpLink",G.MS.Navigate),recentSearchTelemetryObject:(0,lt.l)("recentsearch",{type:G.b5.Feed},G.MS.Navigate,G.EG.Click),weatherTelemetryObject:(0,lt.l)("weatherTodayMini",{type:G.b5.Feed},G.MS.Navigate,G.EG.Click,G.MJ.ActionButton),sidebarMenuTelemetryObject:(0,ut.N)("sidebarMenu",G.MS.Close,G.EG.Click,G.MJ.ActionButton),settingsMenuTelemetryObject:(0,ut.N)("settingsMenu",G.MS.Close,G.EG.Click,G.MJ.ActionButton),msnLogoTelemetryObject:(0,ut.N)("msnLogo",G.MS.Refresh,G.EG.Click,G.MJ.ActionButton),startAppTelemetryObject:(0,ut.N)("openInStartApp",G.MS.Launch,G.EG.Click,G.MJ.ActionButton),mailTelemertyObject:(0,ut.N)("ShareMail",G.MS.Open,G.EG.Click,G.MJ.ActionButton)},this.useNewSettings&&(this.settingsDialogOptions=await this.getSettingsOptions()),(0,ct.Qc)().then(()=>{var t;this.config.isMobileView&&(this.hpTtvrFired=!0);this.config.searchHistoryConfig&&!this.config.newSearchBoxConfig&&this.changeSearchHistoryStyle(),Promise.all([]).then(()=>{this.hpTtvrFired=!0}),null!==(t=this.config.childExperienceConfigInfo)&&void 0!==t&&t.greetingConfigRef&&window.setTimeout(()=>{this.setupResizeObserver()},0)}))}async getSettingsOptions(){const{localizedStrings:t}=this.config,e={localizedStrings:{dialogTitle:t.settingsDialogTitle,dialogButton:t.settingsButtonTooltip,closeButton:t.settingsCloseButtonTooltip}};if(A.T3.IsChinaCompliance)e.footer={displayChinaCompliance:!0};else{const n=c.N7.sort(c.Mf);e.marketSettings={marketSelectorId:"language-selector",title:t.newLanguageDropdownLabel,marketList:n,defaultMarketId:(0,A.rA)().CurrentMarket||"en-us",marketSelectorAriaLabel:t.newLanguageDropdownLabel,onMarketValueChange:t=>{this.settingsDialog&&this.settingsDialog.closeDialog(),this.onMarketChange(t)}}}if(this.config.enablePrivacyLinksInSettings){const t=this.config.verticalFooterMap&&(this.config.verticalFooterMap[A.T3.HostPage.verticalKey]||this.config.verticalFooterMap.default),n=(null==t?void 0:t.configRef)??{experienceType:"HomepageFooter",instanceSrc:"default",sharedNs:"msn-ns"},i=await et.L.getConfig(n),r=this.buildPrivacyLinks(i);e.footer={...e.footer,footerLinks:r.footerLinks,appStoreBadges:r.appStoreBadges}}return e.footer||e.marketSettings?e:null}needPrivacySettings(){var t;return dt.n.get(dt.Y.CookieConsentProvider)===ft.O.OneTrustBanner&&"function"==typeof(null===(t=window.OneTrust)||void 0===t?void 0:t.ToggleInfoDisplay)}buildPrivacyLinks(t){var e,n;const i=t.properties,r=[],o=[],s=this.needPrivacySettings();var a;s&&r.push({title:i.localizedStrings.privacySettings,url:"",onClick:null===(a=window.OneTrust)||void 0===a?void 0:a.ToggleInfoDisplay,telemetryTag:(0,ht.h)("PrivacySettings",G.MS.Open)});if(i&&Object.keys(i).forEach(t=>{const e=i[t];if(!e||!e.href||"footer_cookie_consent"===t&&!s)return;let n=e.displayKey&&i.localizedStrings?i.localizedStrings[e.displayKey]:e.display;n||(n=e.children),r.push({...e,url:e.href,title:n,iconName:"caPrivacy"===e.iconId?"CaPrivacy":"",telemetryTag:(0,ht.h)(n)})}),i&&i.footer_see_more&&Object.keys(i.footer_see_more).forEach(t=>{var e;const n=i.footer_see_more[t],s=n.displayKey&&i.localizedStrings?i.localizedStrings[n.displayKey]:n.children||(null===(e=n.content)||void 0===e?void 0:e.children);s?r.push({...n,url:n.link,title:s,telemetryTag:(0,ht.h)(s)}):n.storeLink&&o.push({...n})}),i&&null!==(e=i.seeMoreButton)&&void 0!==e&&e.links&&Object.keys(i.seeMoreButton.links).forEach(t=>{const e=i.seeMoreButton.links[t],n=e.displayKey&&i.localizedStrings?i.localizedStrings[e.displayKey]:e.display;r.push({...e,url:e.href,title:n,telemetryTag:(0,ht.h)(n)})}),i&&null!==(n=i.seeMoreButton)&&void 0!==n&&n.appStores){const t="zh-cn"===A.T3.CurrentMarket?"en-us":A.T3.CurrentMarket,e=t.split("-")[0],n=t.split("-")[1];Object.keys(i.seeMoreButton.appStores).forEach(r=>{const s=i.seeMoreButton.appStores[r];if("appleStore"==r&&i.seeMoreButton.appleMediaServicesUrls){if(A.T3.IsChinaCompliance)return;{const{imgUrl:e,url:r}=i.seeMoreButton.appleMediaServicesUrls;s.storeLink=r.replace("{next_market}",n),s.imageSrc=e.replace("{market}",t),s.fallbackImageSrc=e.replace("{market}","en-us")}}if("androidStore"==r){if(A.T3.IsChinaCompliance)return;if(i.seeMoreButton.androidMediaServicesUrls){const{imgUrl:n,url:r}=i.seeMoreButton.androidMediaServicesUrls;s.imageSrc=n.replace("{market}",t),s.imageSrc=s.imageSrc.replace("{pre_market}",e),s.storeLink=r.replace("{market}",t),s.fallbackImageSrc=n.replace("{market}","en-us"),s.fallbackImageSrc=s.fallbackImageSrc.replace("{pre_market}","en")}}if(!s.storeLink||!s.altText||!s.imageSrc)return;const a=i.localizedStrings&&i.localizedStrings[s.altText]||s.altText;o.push({...s,altText:a})})}return r.forEach((t,e)=>t.separator=!t.iconName&&e!==r.length-1),{footerLinks:r,appStoreBadges:o}}topSectionOnResize(){const t=this.commonSearchBoxRef||this.findFirstAssignedElement(this.contentSlotRef);if(!this.topContainer||!t||!this.userPref)return;const e=innerWidth<956?Math.floor(this.topContainer.offsetWidth-133-12):Math.floor((this.topContainer.offsetWidth-t.offsetWidth)/2-12),n=Array.from(this.userPref.children),i=this.findElementsBySelectors(n,pt),r=this.findElementsBySelectors(n,mt);let o=0;const s=[];i.forEach(t=>{const e=(s.length,0);t.classList.contains("settings-container")&&this.settingsWidth>0?o+=this.settingsWidth+e:o+=t.offsetWidth+e,s.push(t)}),r.reverse().forEach(t=>{const n=(s.length,0);t.classList.contains("me-control-container")&&(this.compressedSignInButton=e-o<100),"WELCOME-GREETING"===t.tagName||"WELCOME-GREETING-LIGHT"===t.tagName?(this.spaceForGreeting=Math.min(e-o-n,this.greetingMaxWidth),this.spaceForGreeting=Math.max(this.spaceForGreeting,this.greetingMinWidth),o+=this.spaceForGreeting+n):o+=t.offsetWidth+n,o<=e&&s.push(t)}),n.forEach(t=>{t.classList.toggle("overflow",!s.includes(t))})}openFeedback(){var t,e;const n=null===(t=(e=this.shadowRoot).querySelector)||void 0===t?void 0:t.call(e,"feedback-dialog-wc");n&&(this.isfeedbackDialogVisible=!0,n.visible=!0)}shouldShowMarketSelector(){return!A.T3.IsChinaCompliance}getLogoConfigs(){const t=(0,ut.N)("msnLogo",G.MS.Refresh,G.MJ.NavBar);return{logoImage:this.config.logoImage,telemetryMetadata:t.getMetadataTag(),altText:this.config.enableLogoAltText?this.config.localizedStrings.logoAltText:null,logoText:"msn",logoHoverText:this.config.localizedStrings.logoText}}getMeControlConfigs(){const{meControlConfig:t,localizedStrings:e}=this.config,{signedInWidePageDisplayMode:n,signedInNarrowPageDisplayMode:i,signedOutWidePageDisplayMode:r,signedOutNarrowPageDisplayMode:o}=t,s=(0,ut.N)("SignInNavigation",G.MS.Navigate,G.MJ.ActionButton);return{partnerId:t.partnerId,signInTooltipText:e.signInTooltip,signedInNarrowPageDisplayMode:i,signedOutNarrowPageDisplayMode:o,signedInWidePageDisplayMode:n,signedOutWidePageDisplayMode:r,telemetryTag:s.getMetadataTag(),telemetryDestinationUrl:"https://login.live.com/",disableDarkMode:!1}}getSettingsConfigs(){const{localizedStrings:t,settingsConfig:e}=this.config,n=c.N7.sort(c.Mf).map(t=>{const e=(0,lt.l)("MarketSelector",{type:G.b5.Settings,headline:t.displayString},G.MS.Customize,G.MJ.ActionButton);return{...t,marketSelectorConfigMetaTag:e.getMetadataTag()}}),i=(0,lt.l)("MarketSelector",{type:G.b5.Settings,headline:"MarketSelectorConfigs"},G.MS.Customize,G.MJ.ActionButton),r={id:"language-selector",onValueChange:this.onMarketChange,defaultMarketId:(0,A.rA)().CurrentMarket||"en-us",marketList:n,label:t.languageDropdownLabelClassic,marketSelectorMetaTag:i.getMetadataTag()};let o={localizedStrings:{languageDropdownLabel:t.languageDropdownLabelClassic,settingsButtonTooltip:t.settingsButtonTooltip,settingsFeedbackText:t.settingsFeedbackText,settingsHelpText:t.settingsHelpText},marketSelectorProps:r};if(e){const{feedbackLinkConfig:t,helpLinkConfig:n,icpLinkConfig:i}=e;o={feedbackLinkConfig:t,helpLinkConfig:n,icpLinkConfig:i,...o}}return o}getExperienceType(){return a.NJc}showSettingsDialog(){this.isSettingsDialogVisible=!0,document.addEventListener("keydown",this.onKeydown)}toggleSettingsDialog(){this.isSettingsDialogVisible?this.hideSettingsDialog():this.showSettingsDialog()}hideSettingsDialog(){this.isSettingsDialogVisible=!1,document.removeEventListener("keydown",this.onKeydown),this.shouldFocusFeedSwitch&&(this.shouldFocusFeedSwitch=!1)}toggleSideBar(){this.isSidebarVisible=!this.isSidebarVisible,this.isNavbarVisible=!1}toggleNavBar(){this.isNavbarVisible=!this.isNavbarVisible,this.isSidebarVisible=!1}isNavbarVisibleChanged(t,e){this.modifyBodyScrollStyle(t,e)}isSidebarVisibleChanged(t,e){this.modifyBodyScrollStyle(t,e)}modifyBodyScrollStyle(t,e){this.config&&this.config.enableScrollV2&&(0,rt.S)()&&(!1===t&&!0===e?document.body.classList.add("no-scroll"):!0===t&&!1===e&&document.body.classList.remove("no-scroll"))}headerOnResize(){const t=innerWidth<995?Math.floor(this.topContainerRef.offsetWidth-250-12):Math.floor((this.topContainerRef.offsetWidth-this.searchBoxRef.offsetWidth)/2-12);this.weatherGreetingSpace=Math.max(Math.min(t-144,this.greetingMaxWidth),this.greetingMinWidth)}setupResizeObserver(){if(!("ResizeObserver"in window))return;const t=new window.ResizeObserver((0,nt.A)(()=>{this.headerOnResize()},200));this.topContainerRef&&t.observe(this.topContainerRef)}}(0,s.Cg)([X.sH],wt.prototype,"options",void 0),(0,s.Cg)([X.sH],wt.prototype,"spaceForGreeting",void 0),(0,s.Cg)([X.sH],wt.prototype,"compressedSignInButton",void 0),(0,s.Cg)([X.sH],wt.prototype,"useNewSettings",void 0),(0,s.Cg)([X.sH],wt.prototype,"config",void 0),(0,s.Cg)([X.sH],wt.prototype,"searchBoxOptions",void 0),(0,s.Cg)([X.sH],wt.prototype,"newSearchBoxOptions",void 0),(0,s.Cg)([X.sH],wt.prototype,"settingsConfigs",void 0),(0,s.Cg)([X.sH],wt.prototype,"meControlConfigs",void 0),(0,s.Cg)([X.sH],wt.prototype,"logoConfigs",void 0),(0,s.Cg)([X.sH],wt.prototype,"settingsDialogOptions",void 0),(0,s.Cg)([X.sH],wt.prototype,"telemetryContext",void 0),(0,s.Cg)([X.sH],wt.prototype,"logoText",void 0),(0,s.Cg)([X.sH],wt.prototype,"selectedMarketId",void 0),(0,s.Cg)([X.sH],wt.prototype,"isSettingsDialogVisible",void 0),(0,s.Cg)([X.sH],wt.prototype,"isfeedbackDialogVisible",void 0),(0,s.Cg)([X.sH],wt.prototype,"isSearchHistoryLoaded",void 0),(0,s.Cg)([X.sH],wt.prototype,"hpTtvrFired",void 0),(0,s.Cg)([X.sH],wt.prototype,"inputElementHasInput",void 0),(0,s.Cg)([X.sH],wt.prototype,"homepageViewSettings",void 0),(0,s.Cg)([X.sH],wt.prototype,"shouldFocusFeedSwitch",void 0),(0,s.Cg)([X.sH],wt.prototype,"isSidebarVisible",void 0),(0,s.Cg)([X.sH],wt.prototype,"isNavbarVisible",void 0),(0,s.Cg)([X.sH],wt.prototype,"columnArrangement",void 0),(0,s.Cg)([X.sH],wt.prototype,"codexBingChatTelemetryTags",void 0),(0,s.Cg)([X.sH],wt.prototype,"weatherGreetingSpace",void 0);var yt=n(60402),bt=n(39957),St=n(91640),xt=n(43379),Ct=n(80678),kt=n(89620),Tt=n(1031),$t=n(11622),At=n(49084);xt.Nb,Ct.g,kt.w$,Tt.Q;const It=Q.qy`<div><button class="${t=>t.config.isMobileView?"settings-menu-item-mobile":"settings-menu-item"}" title="${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}" @click=${t=>t.openFeedback()} @keypress=${t=>t.openFeedback()} data-t="${t=>{var e;return null===(e=t.telemetryUserObject.feedbackTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.K)("feedbackButton")}>${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}</button>${t=>(0,$t.yN)(t.settingsConfigs.feedbackLinkConfig.feedbackDialogConfigInfo)}</div>`,Pt=Q.qy`<div><cs-homepage-view-settings class="${t=>t.shouldFocusFeedSwitch?"focus-switch":""}" :data=${t=>t.homepageViewSettings}></cs-homepage-view-settings></div>`,_t=Q.qy`<a href="${t=>t.settingsConfigs.helpLinkConfig.href}" target="_blank" rel="noopener" class= "${t=>t.config.isMobileView?"settings-menu-item-mobile":"settings-menu-item "}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" title="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.helpTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${t=>t.settingsConfigs.localizedStrings.settingsHelpText}</a>`,Mt=Q.qy`<div class="footer-links">${(0,bt.ux)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.links},Q.qy`<a href="${t=>t.link}" aria-label="${t=>t.displayText}" title="${t=>t.displayText}">${t=>t.displayText}</a>${(0,St.z)((t,e)=>!e.isLast,Q.qy` | `)} `,{positioning:!0})}</div>`,Rt=Q.qy`<fluent-divider class="settings-dialog-divider"></fluent-divider><div class="icp-footer">${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer},Q.qy`<div aria-label="${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}" title="${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}">${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}</div>`)} ${(0,St.z)(t=>{var e,n;return(null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.links)&&(null===(n=t.settingsConfigs)||void 0===n||null===(n=n.icpLinkConfig)||void 0===n?void 0:n.links.length)>0},Mt)}</div>`,Et=Q.qy`<div class="settings-dialog-background" @click=${t=>t.hideSettingsDialog()}></div><div class="settings-dialog settings-dialog-with-direction">${(0,St.z)(t=>t.shouldShowMarketSelector(),Q.qy`<div class="language-dropdown"><msn-market-selector :id="${t=>t.settingsConfigs.marketSelectorProps.id}" :onValueChange="${t=>t.settingsConfigs.marketSelectorProps.onValueChange}" :defaultMarketId="${t=>t.settingsConfigs.marketSelectorProps.defaultMarketId}" :selectedMarketId="${t=>t.selectedMarketId}" :marketList="${t=>t.settingsConfigs.marketSelectorProps.marketList}" :label="${t=>t.settingsConfigs.marketSelectorProps.label}" :marketSelectorMetaTag="${t=>t.settingsConfigs.marketSelectorProps.marketSelectorMetaTag}" @change=${t=>t.hideSettingsDialog()}></msn-market-selector></div>`)} ${(0,St.z)(t=>{var e,n;return((null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show)||(null===(n=t.settingsConfigs)||void 0===n||null===(n=n.helpLinkConfig)||void 0===n?void 0:n.show))&&t.shouldShowMarketSelector()},Q.qy`<fluent-divider class="settings-dialog-divider"></fluent-divider>`)} ${(0,St.z)(t=>t.homepageViewSettings,Pt)} ${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show},It)} ${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.helpLinkConfig)||void 0===e?void 0:e.show},_t)} ${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e?void 0:e.icpLinkConfig},Rt)}</div>`,Ft=Q.qy`<div class="me-control-container" @click="${(t,e)=>(t.clickMeControl(e.event),!0)}"><msn-me-control :meControlOptions="${t=>t.meControlConfigs}"></msn-me-control></div>`,Dt=Q.qy`<cs-market-settings :data=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.marketSettings}></cs-market-settings>`,Ot=Q.qy`<fluent-button class="settings-button" appearance="stealth" @click=${t=>t.toggleSettingsDialog()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isSettingsDialogVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.K)("settingsGearButton")}><slot name="glyph">${Q.qy.partial('<svg width="16" height="16" viewBox="0 0 16 16"><path d="M13.93 8.94a.25.25 0 0 0 .15.22l1.67.7c.07.03.13.07.17.13a.37.37 0 0 1 .06.21.68.68 0 0 1-.04.18 3.86 3.86 0 0 1-.11.32l-.16.36a11.13 11.13 0 0 1-.3.71l-.09.2a.33.33 0 0 1-.14.18.36.36 0 0 1-.2.06c-.1 0-.23-.04-.42-.12a23.5 23.5 0 0 1-.56-.25l-.55-.26c-.18-.08-.3-.12-.39-.12a.24.24 0 0 0-.2.1 9.67 9.67 0 0 1-.59.68 5.76 5.76 0 0 1-.67.59.34.34 0 0 0-.08.1.2.2 0 0 0-.03.1c0 .09.04.21.12.38a35.14 35.14 0 0 0 .52 1.12c.07.18.11.31.11.4a.34.34 0 0 1-.07.22.38.38 0 0 1-.17.14 7.75 7.75 0 0 0-.36.16 32.49 32.49 0 0 1-.55.24 17.56 17.56 0 0 1-.86.3.4.4 0 0 1-.2-.06.34.34 0 0 1-.14-.17l-.7-1.68a.25.25 0 0 0-.09-.1.23.23 0 0 0-.14-.05H8.9l-.44.05a6.26 6.26 0 0 1-.44.02 4.58 4.58 0 0 1-.46-.02l-.45-.05h-.04a.25.25 0 0 0-.23.15l-.69 1.67a.34.34 0 0 1-.13.17.37.37 0 0 1-.21.06.8.8 0 0 1-.18-.04 9.9 9.9 0 0 1-.32-.11 50.63 50.63 0 0 0-.36-.15 16.3 16.3 0 0 0-.71-.3 5.45 5.45 0 0 1-.2-.1.34.34 0 0 1-.18-.13.4.4 0 0 1-.06-.21c0-.1.04-.23.11-.4.08-.2.17-.38.26-.57l.26-.56c.08-.17.12-.3.12-.39a.24.24 0 0 0-.1-.2 9.68 9.68 0 0 1-.68-.59 5.76 5.76 0 0 1-.59-.67c-.06-.07-.12-.1-.2-.1-.09 0-.21.03-.39.11a35.14 35.14 0 0 0-1.11.52c-.18.07-.32.11-.4.11a.37.37 0 0 1-.22-.06.43.43 0 0 1-.14-.18 7.79 7.79 0 0 0-.16-.36 32.55 32.55 0 0 1-.24-.54 36.12 36.12 0 0 1-.2-.54c-.07-.16-.1-.27-.1-.32 0-.08.02-.14.06-.2a.33.33 0 0 1 .17-.15l1.68-.7a.25.25 0 0 0 .1-.09.23.23 0 0 0 .05-.14V8.9L2 8.45A6.25 6.25 0 0 1 2 8.01a4.4 4.4 0 0 1 .02-.46l.05-.45v-.04a.25.25 0 0 0-.15-.22l-1.67-.7a.34.34 0 0 1-.17-.13.37.37 0 0 1-.06-.21c0-.04 0-.1.04-.18a53.8 53.8 0 0 1 .26-.68 93.7 93.7 0 0 0 .4-.92.34.34 0 0 1 .13-.17.4.4 0 0 1 .21-.06c.1 0 .23.04.4.12.2.07.38.16.57.25l.56.26c.17.08.3.12.39.12a.24.24 0 0 0 .2-.1 8.08 8.08 0 0 1 1.26-1.27.24.24 0 0 0 .1-.2c0-.09-.03-.21-.11-.38a23.24 23.24 0 0 0-.26-.55l-.26-.56a1.18 1.18 0 0 1-.11-.42c0-.08.02-.15.06-.2A.43.43 0 0 1 4.04.7 7.67 7.67 0 0 0 4.4.55 14.18 14.18 0 0 1 5.8.01c.08 0 .15.02.2.06a.33.33 0 0 1 .15.17l.7 1.68a.31.31 0 0 0 .09.11.26.26 0 0 0 .14.04h.03a6.23 6.23 0 0 1 .44-.05 4.18 4.18 0 0 1 .9 0l.45.05h.04a.25.25 0 0 0 .22-.15l.7-1.67a.34.34 0 0 1 .13-.17.37.37 0 0 1 .21-.06 3.61 3.61 0 0 1 .48.16c.13.04.25.1.38.15a13.75 13.75 0 0 1 .7.3l.22.09c.07.02.13.07.17.14.04.06.06.13.06.2 0 .1-.04.23-.11.42a22.03 22.03 0 0 1-.52 1.11c-.08.18-.12.3-.12.39 0 .08.04.15.1.2a8.08 8.08 0 0 1 1.27 1.26.24.24 0 0 0 .2.1c.09 0 .21-.03.39-.11a22.1 22.1 0 0 0 1.1-.52c.19-.07.32-.11.42-.11.08 0 .15.02.2.07.07.04.12.1.15.17l.16.36a14.18 14.18 0 0 1 .54 1.4c0 .08-.02.15-.06.22a.34.34 0 0 1-.17.13l-1.68.7a.31.31 0 0 0-.11.09.26.26 0 0 0-.04.14v.03l.05.44a4.18 4.18 0 0 1 0 .9l-.05.45v.04ZM8 12c.55 0 1.07-.1 1.55-.31a4.04 4.04 0 0 0 2.14-2.14A3.9 3.9 0 0 0 12 8c0-.55-.1-1.07-.32-1.55a3.92 3.92 0 0 0-.86-1.28A3.95 3.95 0 0 0 8 4a3.83 3.83 0 0 0-1.56.32A4.01 4.01 0 0 0 4.3 6.45 3.9 3.9 0 0 0 4 8a3.9 3.9 0 0 0 1.17 2.84c.37.36.8.64 1.27.85A3.9 3.9 0 0 0 8 12Z" fill-opacity=".83"/></svg>')}</slot></fluent-button>${(0,St.z)(t=>t.isSettingsDialogVisible,Et)}
`,Nt=Q.qy`<cs-common-settings-dialog :localizedStrings=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.localizedStrings} :enableCleanSettings=${!0} :disableHover=${!0} :useKumo=${!1} :updateButtonWidth=${t=>t.updateSettingsWidth} :darkBackground=${!1} class="layout-no-border ${t=>t.settingsDialogOptions&&t.settingsDialogOptions.marketSettings&&"layout-padding"} ${(0,yt.K)("settingsDialog")}>${Dt}<cs-win-settings-footer :data=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.footer} slot="footer"></cs-win-settings-footer>${(0,St.z)(t=>t.homepageViewSettings,Pt)}</cs-common-settings-dialog>`,Ut=Q.qy`<div class="settings-container">${(0,St.z)(t=>t.config.useNewSettings,Nt,Ot)}</div>`,Lt=Q.qy`<div class="logo" title="${t=>t.logoConfigs.altText}"><a aria-label="${t=>t.logoConfigs.logoHoverText}" title="${t=>t.logoConfigs.altText}" @click="${(t,e)=>t.refreshPage(e.event)}" role="link" href="/" data-t="${t=>t.logoConfigs.telemetryMetadata}"><span class="NewMSNLogo"></span></a></div>`,Bt=Q.qy` ${t=>(0,$t.yN)(t.config.searchHistoryConfig,{properties:{recentSearchTelemetryObject:t.telemetryUserObject.recentSearchTelemetryObject}})}
`,Wt=Q.qy`<div slot="${t=>{var e;return null!==(e=t.config.newSearchBoxConfig)&&void 0!==e&&e.showCodexButtonInBox?"search-options":"codex-bing-chat"}}" data-t="${t=>t.codexBingChatTelemetryTags}">${t=>{var e,n,i;return(null===(e=t.newSearchBoxOptions)||void 0===e||null===(e=e.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(0,$t.yN)(null===(n=t.newSearchBoxOptions)||void 0===n?void 0:n.childExperienceReferencesWC.CodexBingChat,{properties:{showCodexButtonInBox:null===(i=t.newSearchBoxOptions)||void 0===i?void 0:i.showCodexButtonInBox}})}}</div>`,Ht=Q.qy`<div class="search-container" role="search"><cs-common-search-box ${(0,yt.K)("commonSearchBoxRef")} :options=${t=>t.newSearchBoxOptions} :enableAutoSuggestion=${t=>!0}>${(0,St.z)(t=>{var e,n;return(null===(e=t.newSearchBoxOptions)||void 0===e||null===(e=e.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(!(null!==(n=t.newSearchBoxOptions)&&void 0!==n&&n.showCodexButtonInBox)||!t.inputElementHasInput)},Wt)}</cs-common-search-box>${(0,St.z)(t=>t.config.searchHistoryConfig&&t.hpTtvrFired,Bt)}</div>`,Vt=Q.qy`<div class="search-container ${t=>t.config.isMobileView?"search-container-mobile":""}" role="search" ${(0,yt.K)("searchBoxRef")}>${(0,St.z)(t=>t.config.searchBoxConfig&&!t.config.yandexSearchBoxWCConfig,Q.qy`<msn-search-box :options="${t=>t.searchBoxOptions}" :hoverFocusOutlineStyle=${t=>t.searchBoxOptions.hoverFocusOutlineStyle} ?msnhp=${t=>t.config.staticSearchBoxStyle}></msn-search-box>`)} ${(0,St.z)(t=>!t.config.searchBoxConfig&&t.config.yandexSearchBoxWCConfig,Q.qy` ${t=>(0,$t.yN)(t.config.yandexSearchBoxWCConfig)}`)} ${(0,St.z)(t=>t.config.searchHistoryConfig,Bt)}</div>`,zt=Q.qy`<div class="user-pref-container"><div class="sign-in-container" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.signInTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${(0,St.z)(t=>{var e;return t.hpTtvrFired&&(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.greetingConfigRef)},t=>{var e;return(0,$t.yN)(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.greetingConfigRef,{properties:{rootMaxWidth:t.weatherGreetingSpace,updateGreetingWidth:t.updateGreetingWidth}})})} ${(0,St.z)(t=>t.config.msRewardsConfig&&t.config.showMsRewards&&t.hpTtvrFired,t=>(0,$t.yN)(t.config.msRewardsConfig))} ${(0,St.z)(t=>t.config.showMeControl&&(0,At.OI)(),Ft)} ${Ut}</div></div>`,jt=Q.qy`<div class="root-container" role="banner" ${(0,yt.K)("topContainerRef")}><div class="header-container ${t=>t.config.isMobileView?"dismiss-mobile":"dismiss"}">${Lt} ${t=>t.config.newSearchBoxConfig?Ht:Vt} ${(0,St.z)(t=>t.hpTtvrFired,zt)}</div></div>`,qt=Q.qy`<a href="${t=>t.settingsConfigs.helpLinkConfig.href}" target="_blank" rel="noopener" role="menuitem" class= "settings-menu-item-mobile" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" title="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.helpTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><div class="setting-option"><img part="icon" class="msn-mobile-icon" alt="Help" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/chat_help_20_regular.svg'>${t=>t.settingsConfigs.localizedStrings.settingsHelpText}</div></a>`,Gt=Q.qy`<button role="menuitem" class="settings-menu-item-mobile" title="${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}" @click=${t=>t.openFeedback()} @keypress=${t=>t.openFeedback()} data-t="${t=>{var e;return null===(e=t.telemetryUserObject.feedbackTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.K)("feedbackButton")}><div class="setting-option"><img part="icon" class="msn-mobile-icon" alt="Feedback" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/person_feedback_20_regular.svg'>${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}</div></button>${t=>(0,$t.yN)(t.settingsConfigs.feedbackLinkConfig.feedbackDialogConfigInfo)}
`,Jt=Q.qy`<span class="msn-mobile-logo NewMSNLogoMobile"></span>`,Kt=Q.qy`<div class="msn-sidebar msn-bar-block ${t=>t.isSidebarVisible?"mobile-sidebar-active":"mobile-flyout-hidden"}"><div class="msn-sidebar-contents"><div class="menu-header-mobile">${Jt}<button type="submit" @click="${t=>t.toggleSideBar()}" class="mobile-close-btn" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsMenuTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Close" src='${A.T3.StaticsUrl}latest/fluent-icons/dismiss_24_regular.svg' /></button></div><div class="sign-in-container-mobile" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.signInTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${(0,St.z)(t=>t.config.showMeControl&&(0,At.OI)(),Ft)}</div>${(0,St.z)(t=>t.shouldShowMarketSelector(),Q.qy`<div class="setting-option language-dropdown-wrapper"><div class="language-dropdown"><msn-market-selector class="market-selector-mobile" :id="${t=>t.settingsConfigs.marketSelectorProps.id}" :onValueChange="${t=>t.settingsConfigs.marketSelectorProps.onValueChange}" :defaultMarketId="${t=>t.settingsConfigs.marketSelectorProps.defaultMarketId}" :selectedMarketId="${t=>t.selectedMarketId}" :marketList="${t=>t.settingsConfigs.marketSelectorProps.marketList}" :label="${t=>t.settingsConfigs.marketSelectorProps.label}" :marketSelectorMetaTag="${t=>t.settingsConfigs.marketSelectorProps.marketSelectorMetaTag}" @change=${t=>t.hideSettingsDialog()}></msn-market-selector></div></div>`)} ${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show},Gt)} ${(0,St.z)(t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.helpLinkConfig)||void 0===e?void 0:e.show},qt)}</div></div>`,Qt=Q.qy`<div class="footer-container">${t=>(0,$t.yN)(t.config.homepageFooterConfigInfo)}</div>`,Xt=Q.qy`<div class="msn-navbar-mobile ${t=>t.isNavbarVisible?"mobile-navbar-active":"mobile-flyout-hidden"}"><div class="navbar-items-mobile"><div class="menu-header-mobile">${Jt}<button type="submit" @click="${t=>t.toggleNavBar()}" class="mobile-close-btn" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.sidebarMenuTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Close" src='${A.T3.StaticsUrl}latest/fluent-icons/dismiss_24_regular.svg' /></button></div>${(0,St.z)(t=>t.config.feedNavigationHpConfigInfo,Q.qy`<div class="default-feed-nav-container-mobile">${t=>(0,$t.yN)(t.config.feedNavigationHpConfigInfo,{properties:{itemClassName:"mobile-navigation-item"}})}<div class="msn-navbar-mobile-footer ${t=>t.isNavbarVisible?"":"hiddenfooter"}">${(0,St.z)(t=>t.config.homepageFooterConfigInfo,Qt)}</div></div>`)}</div></div>`,Yt=Q.qy`<div class="settings-container settings-container-mobile"><fluent-button class="settings-button-mobile" @click=${t=>t.toggleNavBar()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isNavbarVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.K)("settingsGearButton")}><img part="icon" class="msn-mobile-icon" alt="Navigation" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/navigation_24_regular.svg'></fluent-button>${(0,St.z)(t=>t.isSettingsDialogVisible,Et)}</div>`,Zt=Q.qy`<div class="header-weather-container" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.weatherTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${t=>(0,$t.yN)(t.config.childExperienceConfigInfo.weatherTodayMiniConfigInfo)}</div>`,te=Q.qy`<div class="logoMobile" title="${t=>t.logoConfigs.altText}">${(0,St.z)(t=>t.config.useNativeLinkForLogo,Q.qy`<a aria-label="${t=>t.logoConfigs.logoHoverText}" @click="${(t,e)=>t.refreshPage(e.event)}" role="link" href="${t=>window.location.href}" data-t="${t=>t.logoConfigs.telemetryMetadata}"><div class="logo-icon">${Jt}</div></a>`,Q.qy`<div class="logo-icon" @click="${(t,e)=>t.refreshPage(e.event)}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.msnLogoTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${Jt}</div>`)}</div>`,ee=Q.qy`<div class="mobileIcon"><a href="${t=>t.config.mobileIconHref}" class="icon mobile" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.startAppTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Download MSN App" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/phone_24_regular.svg'></a></div>`,ne=Q.qy`<div class="emailIcon"><a href="https://aka.ms/msnoutlook" target="${t=>t.config.openInNewTab?"_blank":"_self"}" class="icon email"  data-t="${t=>{var e;return null===(e=t.telemetryUserObject.mailTelemertyObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Open Outlook" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/mail_read_24_regular.svg'></a></div>`,ie=Q.qy`<div class="settings-container settings-container-mobile"><fluent-button class="settings-button-mobile" @click=${t=>t.toggleSideBar()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isSidebarVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.K)("settingsGearButton")}><img part="icon" class="msn-mobile-icon" alt="Settings" src='${t=>A.T3.StaticsUrl}latest/fluent-icons/settings_24_regular.svg'></fluent-button>${(0,St.z)(t=>t.isSettingsDialogVisible,Et)}</div>`,re=Q.qy`<div class="mobile-root-container" role="banner"><div class="header-top-section"><div class="header-mobile-searchContainer"><div class="header-mobile-navBar">${(0,St.z)(t=>t.hpTtvrFired,Yt)} ${(0,St.z)(t=>{var e;return t.hpTtvrFired&&(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.weatherTodayMiniConfigInfo)},Zt)}</div><div class="header-mobile-search">${(0,St.z)(t=>t.hpTtvrFired,te)}</div><div class="header-mobile-setting">${(0,St.z)(t=>t.hpTtvrFired&&t.config.mobileIconHref,ee)} ${(0,St.z)(t=>t.hpTtvrFired,ne)} ${(0,St.z)(t=>t.hpTtvrFired,ie)}</div></div>${(0,St.z)(t=>t.hpTtvrFired&&t.isSidebarVisible,Kt)} ${(0,St.z)(t=>t.hpTtvrFired,Xt)}</div><div class="header-bottom-section">${Vt}</div></div></div>`,oe=Q.qy` ${t=>t.config.isMobileView?re:jt}
`,se={experienceConfigSchema:undefined};i.m.define(r.c.registry),o.m.define(r.c.registry)},74959:function(t,e,n){n.d(e,{d:function(){return o},n:function(){return s}});var i=n(12870),r=n(33918);const o=()=>{var t;return null!==i.Rb&&void 0!==i.Rb&&null!==(t=i.Rb.CurrentFlightSet)&&void 0!==t&&t.has(r.L2)?"https://irtb.msn.com":"https://ib.msn.com"},s=()=>`${o()}/ut/v3`},75096:function(t,e,n){n.d(e,{X:function(){return a}});var i=n(56911),r=n(60815),o=n(65022),s=n(44449);class a{constructor(t,e){this.props=t,this.cb=e}connectedCallback(t){const{source:e}=t;this.props.forEach(t=>{r.cP.getNotifier(e).subscribe(this,t)}),this.handleChange(e)}disconnectedCallback(t){const{source:e}=t;this.props.forEach(t=>{r.cP.getNotifier(e).unsubscribe(this,t)}),e.$fastController.removeStyles(this.styles)}handleChange(t){this.styles=this.cb(t),t.$fastController.addStyles(this.styles)}}(0,i.Cg)([(0,s.sx)(o.SuG,"CssInjectionBehavior.Bind")],a.prototype,"connectedCallback",null),(0,i.Cg)([(0,s.sx)(o.SuG,"CssInjectionBehavior.Unbind")],a.prototype,"disconnectedCallback",null),(0,i.Cg)([(0,s.sx)(o.SuG,"CssInjectionBehaviorHandleChange")],a.prototype,"handleChange",null)},75322:function(t,e,n){n.d(e,{EE:function(){return r},U9:function(){return o},aU:function(){return i},g4:function(){return s},uk:function(){return a},vd:function(){return c}});const i="2px",r="4px",o="6px",s="8px",a="10000px",c="2px"},75344:function(t,e,n){n.d(e,{MD:function(){return s}});const i={neutralForegroundRestColor:"--neutral-foreground-rest",neutralFillHoverColor:"--neutral-fill-hover",neutralFillActiveColor:"--neutral-fill-active",adBackgroundColor:"--ad-background-color",gradientMidColor:"--gradient-mid-color",gradientEndColor:"--gradient-end-color"},r={"font-weight":"","z-index":"",flex:"","flex-grow":"","flex-shrink":"",order:""},o=t=>null!=r[t]?r[t]:"px";function s(t,e){return null==e||"undefined"===e?"":(t=null!=i[n=t]?i[n]:n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),isNaN(Number(e))?`${t}:${e}`:`${t}:${e}${o(t)}`);var n}},75391:function(t,e,n){n.d(e,{Ks:function(){return g},fL:function(){return m},qx:function(){return v}});var i,r=n(65022),o=n(7258),s=n(93468),a=n(33107),c=n(17254),u=n(67387),l=n(49084),d=n(4865),f=n(8597),h=n(2462),p=n(23572);function m(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,a.m0)(()=>w("Acquire",t,e),"tryAcquire1SWorkIdCookies",(0,p.aK)())}function g(){return(0,a.m0)(()=>w("Delete"),"tryDelete1SWorkIdCookies",(0,p.aK)())}async function v(){return(0,a.m0)(()=>w("Reset"),"tryReset1SWidCookies",(0,p.aK)())}async function w(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i="Reset"===t,a="Acquire"===t||i,p=a?"GET":"DELETE",m=(0,d.p)(),g=`https://api.msn.${c.T3.IsChinaCompliance?"cn":"com"}/auth/cookie/${i?"wid":"AAD"}`;let v=null,w=null;try{const r=new URL(g);r.searchParams.append("apikey",c.T3.OneServiceApiKey),r.searchParams.append("ocid",f.Mq),r.searchParams.append("activityId",c.T3.ActivityId),r.searchParams.append("it",m),i&&r.searchParams.append("reset","true");const o={method:p,credentials:"include",headers:(0,l.LK)(e)||void 0};v=await fetch(r.toString(),o);const s=m===d.j.Web?u.E1:u.j$;if(n){const e=!!(0,h.Ri)(s);(a&&!e||!a&&e)&&(w=new Error(`${a?"Expected":"Unexpected"} cookie ${s} is ${a?"missing":"still present"} after ${t} 1S call to ${g} with status ${v.status}`))}}catch(t){w=t}var y;return!w&&v&&v.ok?200===v.status:((0,s.vV)(r.HpO,`Error in ${t} mode for API call ${g}. ${(null===(y=w)||void 0===y?void 0:y.message)||""}`,w?(0,o.M5)(w):void 0),!1)}!function(t){t.Acquire="Acquire",t.Delete="Delete",t.Reset="Reset"}(i||(i={}))},75538:function(t,e,n){n.d(e,{Au:function(){return $},CH:function(){return b},Fn:function(){return A},MD:function(){return S},Pn:function(){return C},Sx:function(){return l},au:function(){return I},eE:function(){return k},g1:function(){return w},ib:function(){return x},lc:function(){return m},mQ:function(){return T},nY:function(){return p},qv:function(){return y},uM:function(){return g}});var i=n(30817),r=n(9192),o=n(89151),s=n(45083),a=n(83003),c=n(63456),u=n(12870);const l=1,d=["river","resriver","river_cms","rightrail"],f=t=>e=>{var n;const i={...e,adLabelText:t.adLabelText,isGreyAdsLabelEnabled:t.isGreyAdsLabelEnabled,isWhiteSlug:t.isWhiteSlug,isTransparentSlug:t.isTransparentSlug,isNarrowTitleFooterGap:t.isNarrowTitleFooterGap,isTransparentAdSlugWithBorder:t.isTransparentAdSlugWithBorder,enableAdsColorBleed:t.enableAdsColorBleed,isAdSlugV4NonDr:t.isAdSlugV4NonDr};return"rightrail"===e.region&&null!==(n=t.rightrail)&&void 0!==n&&n.useTransparentAdCard&&(i.shouldUseWhiteGradient=!0),d.includes(e.region)?(i.isProviderInFooter=t.isProviderInFooter,i.isProviderInHeader=t.isProviderInHeader,((t,e)=>{var n;if(null!==(n=e.items)&&void 0!==n&&n.length){if(t.useArticleCardTemplate){const n=Number(e.items[0].imageWidth)||(0,c.A)(t.adTemplateConfig,"imageSizeConfig.river.w"),i=Number(e.items[0].imageHeight)||(0,c.A)(t.adTemplateConfig,"imageSizeConfig.river.h");return e.items[0].imageWidth=(225*n/i).toFixed().toString(),e.items[0].imageHeight="225",e.imageWidth=e.items[0].imageWidth,void(e.imageHeight=e.items[0].imageHeight)}e.items[0].imageWidth="300",e.items[0].imageHeight="156"}})(t,i),i):i},h=(t,e)=>{const n=t[e.region]??[];return{...t,[e.region]:n.concat(e)}},p=(t,e)=>e.map(f(t)).reduce(h,{}),m=t=>t.reduce((t,e)=>{let{region:n,index:i}=e;const r=t.get(n)||[];return r.push(i),t.set(n,r),t},new Map),g=(t,e)=>t.reduce((t,n)=>(e(n)?t[0].push(n):t[1].push(n),t),[[],[]]),v=()=>{const t=(0,i.ZF)()[o.wL+"Complete"];(0,r.cE)("NativeAd.RenderReady",t),(0,r.cE)("NAdRender",1),(0,r.cE)("TTVR.NativeAd",t),(0,o.tD)("TTVR.NativeAd",t)},w=function(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=(0,i.ZF)().isSSRCompleted&&(null===(t=window.ssrAdData)||void 0===t?void 0:t.length);n&&v(),window.requestAnimationFrame(()=>{setTimeout(()=>{const t=(0,r.tZ)(u.Rb.IsPrerender&&!e),a=(0,o.yE)("NativeAd.RenderReady");a>-1&&a&&(0,o.tD)("NAdRender",t-a);const c=(0,o.yE)("TTNativeAd.Response");c>-1&&(0,o.IJ)("NAdProcess",c,t);const l=(0,o.yE)(e?"TTNativeAd.Background.Serve":"TTNativeAd.Serve");l>-1&&(0,o.tD)("NAdRespToCallback",l-c),e?(0,s.GP)().then(()=>{const t=(0,i.ZF)();(0,o.IJ)("TTVR.NativeAd",0,t.TTPR),(0,o.IJ)("TTNativeAd.Request",0,1)}):n||(0,o.IJ)("TTVR.NativeAd",0,t)},0)});const a=(0,r.tZ)(u.Rb.IsPrerender&&!e);(0,o.tD)("NativeAd.RenderReady",a);const c=(0,o.yE)(e?"TTNativeAd.Background.Serve":"TTNativeAd.Serve");c>-1&&(0,o.tD)("NAdCallbackProcess",a-c)};const y=()=>{var t;if((0,i.ZF)().isSSRCompleted&&(null===(t=window.ssrAdData)||void 0===t?void 0:t.length))v();else{const t=(0,r.tZ)(u.Rb.IsPrerender);(0,o.IJ)("TTVR.NativeAd",0,t)}},b=t=>{var e;return 0===(null===(e=t.placement)||void 0===e||null===(e=e.items)||void 0===e?void 0:e.length)},S=t=>!(t.type!==a.pL.Infopane||!t),x=t=>!(t.type!==a.pL.TabbedInfopaneCard||!t),C=t=>t.type===a.pL.ChannelCarousel||t.type===a.pL.ChannelFilterCard||t.type===a.pL.DynamicFilteredChannel,k=t=>t.type===a.pL.NativeAd||t.type===a.pL.NativeTopAd||t.type===a.pL.FirstPartyAd,T=t=>t.type===a.pL.CmsAd,$=t=>t.type===a.pL.Dense,A=t=>t.type===a.pL.TabbedInfopaneCardTab||t.type===a.pL.TopicFeed,I=t=>t.type===a.pL.BuyDirectAd},75575:function(t,e,n){n.d(e,{S:function(){return r},p:function(){return o}});let i=!1;const r={purgeCacheAsync:async function(t){if(this.isServiceWorkerActive()){const e=(await caches.keys()).filter(e=>e.includes(t));await Promise.all(e.map(t=>caches.delete(t)))}},purgeEntryInCache:async function(t,e,n){if(this.isServiceWorkerActive()){const i=await caches.open(t),r=(await i.keys()).filter(t=>t.url.startsWith(e)&&t.method===n);await Promise.all(r.map(t=>i.delete(t)))}},isServiceWorkerActive:function(){const{navigator:t}=window,e=t&&t.serviceWorker&&t.serviceWorker.controller;return e&&"activated"===e.state},getIsServiceWorkerEnabled:function(){return i},setIsServiceWorkerEnabled:function(t){i=t}};var o;!function(t){t.base="base",t.followedTopics="followedTopics",t.publishersProfile="publishersProfile",t.river="river",t.subscribedPublishers="subscribedPublishers",t.financeGraphAction="financeGraphAction"}(o||(o={}))},75776:function(t,e,n){n.d(e,{MI:function(){return a}});var i=n(28828),r=n(77246),o=n(67387),s=n(10160);function a(){var t;return(0,r.S)()?(window._clientSettings=window._clientSettings||(0,i.B)(document.head.dataset.clientSettings||(null===(t=document.getElementsByClassName(s.V3)[0])||void 0===t?void 0:t.getAttribute(o.Ah))),window._clientSettings):null}},76166:function(t,e,n){n.d(e,{hv:function(){return f},GC:function(){return p},MV:function(){return h}});var i=n(37423);function r(t){const e=(0,i.cn)();return function(n,i){if(i||(i={}),!o(i,"Referer")){const t="string"==typeof n?n:n.url;!function(t,e,n,i){const r=(a[i]||a[s])(t,e);if(delete n.referrerPolicy,!r)return;n.headers=n.headers||{},n.headers.Referer=r}(e.url,t,i,i.referrerPolicy)}return o(i,"User-Agent")||function(t,e){t.headers=t.headers||{},t.headers["User-Agent"]=`${e} (via node-fetch)`}(i,e.userAgent),t(n,i)}}function o(t,e){return t.headers&&void 0!==t.headers[e]}const s="strict-origin-when-cross-origin",a={"no-referrer":(t,e)=>{},"no-referrer-when-downgrade":(t,e)=>c(t,e)?void 0:t.href,origin:(t,e)=>t.origin+"/","origin-when-cross-origin":(t,e)=>u(t,e)?t.href:t.origin+"/","same-origin":(t,e)=>u(t,e)?t.href:void 0,"strict-origin":(t,e)=>c(t,e)?void 0:t.origin+"/","strict-origin-when-cross-origin":(t,e)=>u(t,e)?t.href:a["strict-origin"](t,e),"unsafe-url":(t,e)=>t.href};function c(t,e){return"https:"===t.protocol&&e.startsWith("http:")}function u(t,e){return e.startsWith(t.origin+"/")}n(72494);let l;class d{constructor(){"undefined"!=typeof AbortController&&(this.controller=new AbortController)}abort(){return!!this.controller&&(this.controller.abort(),!0)}setAbortSignal(t){this.controller&&(t.signal=this.controller.signal)}}async function f(t,e,n,i,r,o){r||(r=fetch);const s=()=>async function(t,e,n,i,r,o){r||(r=fetch),i||(i=new d),o=!1;let s=null,a=null;void 0===e?e=l:l>0&&(e=Math.min(e,l)),e>0&&(s=1e4,s=setTimeout(()=>{a=setTimeout(()=>{if(!i.abort())throw new Error(`Fetch for ${t} aborted due to timeout of ${e} ms. AbortController is not supported.`)},0)},e)),n||(n={method:"GET"}),n.signal||i.setAbortSignal(n),performance.now();let c,u=0;const f={};let h;const p=()=>{s&&clearTimeout(s),a&&clearTimeout(a)};return r(t,n).then(t=>{var e,n;return u=t.status,h=null===(e=t.headers)||void 0===e?void 0:e.get("onewebservicelatency"),o&&(f.cluster=t.headers.get("x-fabric-cluster")||(null===(n=t.headers.get("ddd-debugid"))||void 0===n||null===(n=n.split("|"))||void 0===n?void 0:n[3]),f.afd=t.headers.get("x-msedge-ref"),f.dddDebugId=t.headers.get("ddd-debugid"),f.wpoId=t.headers.get("x-wpo-activityid")),t}).catch(n=>{if(c=n,"AbortError"===n.name)throw new Error(`Fetch for ${t} aborted due to timeout of ${e} ms.`);throw new Error(n)}).then(t=>(p(),t),t=>{throw p(),t})}(t,e,n,i,r,o);return s()}function h(){return{abortToken:null,timeoutMs:900,fetchImpl:r(fetch)}}async function p(t,e,n){return n||(n=h()),f(t,n.timeoutMs,e,n.abortToken,n.fetchImpl,n.trackApiClusterInServer)}},76920:function(t,e,n){n.d(e,{Ld:function(){return m}});var i=n(65022),r=n(93468),o=n(89151),s=n(17254),a=n(67387),c=n(49084),u=n(85766),l=n(2462),d=n(86948),f=n(38796),h=n(5518),p=n(75391);function m(t){s.T3.AuthCookieName=function(t){let e=s.T3.AuthCookieName;if(t&&!(0,c.wQ)())e=t.isAAD?"al_app_anon":"app_anon";else if((0,c.FS)()||(0,c.wQ)())e="AAD"===(0,d.NP)()||null!=t&&t.isAAD?"al_anon":"anon";else if((0,c.lp)()){e="AAD"===(0,u.eM)().accountType?"al_app_anon":"app_anon"}else e="anon";return e}(t),(0,f.eC)(s.T3.AuthCookieName),!(0,c.wQ)()&&(0,c.lp)()&&"AAD"===(0,u.eM)().accountType&&async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const c=s?(0,l.Ri)(a.j$):void 0,u=n?1e4:0;let d;if(!c||!e)Promise.race([(0,o.dT)(),(0,h.Y_)(u).then(()=>d=!0)]).then(async e=>{d&&u>0&&(0,r.vV)(i.QlG,"Work Id call was made before TTVR marker was set"),(0,p.fL)(t,s)})}()}},76980:function(t,e,n){n.d(e,{HN:function(){return S},U8:function(){return m},Is:function(){return v},sd:function(){return w},Dl:function(){return y},g1:function(){return b},tW:function(){return x},BL:function(){return p},We:function(){return g}});var i=n(59983),r=n(17254),o=n(49084),s=n(74166),a=n(28828);const c=()=>{const t=(0,s.Ux)("lh",!0),e=t&&(0,a.B)(t),{login_hint:n}=e||{};return n&&e};var u=n(67387),l=n(31653),d=n(92261),f=n(18287),h=n(2462);function p(t){const e=encodeURIComponent(JSON.stringify(t||{}));(0,h.Ub)(i.qM,e,i.o8,r.T3.HostPage.topDomain,"/",!1,d.a.Strict),(0,o.g_)()}function m(t){if(t)return function(t){return t&&t.tenantId===l.nt}(t)?"MSA":"AAD"}async function g(t){let e;if(t){e=(await v()).find(e=>e.username===t)}else{const t=y();if(t){e=(await v()).find(e=>w(e)===t)}}return e}async function v(){const t=await(0,f.B3)();return await t.handleRedirectPromise(),t.getAllAccounts()}function w(t){return t&&t.idTokenClaims&&t.idTokenClaims[l.uP]}function y(){const t=(0,i.Dm)();return t&&t.login_hint}function b(){const t=c();return t&&t.login_hint}function S(){(0,h.Ub)(u.Zc,null,-1,r.T3.HostPage.topDomain,"/")}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=0;for(let e=0,i=t&&t.length;e<i;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n<0&&(n+=2147483647),n%e}},77195:function(t,e,n){n.d(e,{X4:function(){return s},ie:function(){return o},u5:function(){return a}});var i=n(17720),r=n(19330);const o=(0,i.$U)({[r.W.Publisher]:"pub",[r.W.Language]:"lang",[r.W.Market]:"market",[r.W.PageType]:"sales_page_type",[r.W.DeviceType]:"device_type",[r.W.ContentCategory]:"cat",[r.W.ContentSubcategory]:"subcat",[r.W.ContentTopic]:"cont_topic",[r.W.ProviderId]:"sales_provider_id",[r.W.GameTitle]:"game_title",[r.W.GameGenre]:"game_genre"});var s;!function(t){t.PlacementRegion="PlacementRegion",t.PlacementPosition="PlacementPosition"}(s||(s={}));const a=(0,i.$U)({[s.PlacementRegion]:"plcmnt_region",[s.PlacementPosition]:"sales_pos"})},77206:function(t,e,n){n.d(e,{Cf:function(){return a},Hc:function(){return f},II:function(){return l},bC:function(){return d},p:function(){return h}});var i=n(83003),r=n(65022),o=n(98216),s=n(45794);function a(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(!t)return t;if(Array.isArray(t)){if(!t.length)return t;t=t[0]}if(!t||!t.subCards||!Array.isArray(t.subCards))return t;const s=t.subCards.map(t=>c(t,e,n,i));return!t.subCards.length||s&&s.length&&t.subCards.length===s.length||o.YT.sendAppErrorEvent({...r.EeC,message:"Mapper returned invalid data",pb:{...r.EeC.pb,customMessage:`Count mismatch - expected count [${t.subCards.length}] - actual count [${s.length}]`}}),{feedItems:s,nextPageUrl:t.nextPageUrl}}function c(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;if(!t)return{};if(t.type===i.pL.BingHealthFitnessCard||t.type===i.pL.BoostAd||t.type===i.pL.CashbackAds||t.type===i.pL.CommunityCard||t.type===i.pL.DonationNpoCard||t.type===i.pL.Elections||t.type===i.pL.EntertainmentPremierCard||t.type===i.pL.EsportsCasualGames||t.type===i.pL.EsportsHighlight||t.type===i.pL.EsportsLiveStream||t.type===i.pL.EventSDCardAmplifyAds||t.type===i.pL.EventSDCardShopping||t.type===i.pL.EventSDCardSportsMIT1||t.type===i.pL.EventSDCardSportsMIT2||t.type===i.pL.EventSDCardSportsMIT3||t.type===i.pL.EventSDCardWorldCup||t.type===i.pL.EventSDCardWorldCup2||t.type===i.pL.GroupedContent||t.type===i.pL.HealthRiverCard||t.type===i.pL.HealthTipCard||t.type===i.pL.LinkedInCard||t.type===i.pL.LocalGuide||t.type===i.pL.LocalNews||t.type===i.pL.LocalNewsFeed||t.type===i.pL.MyBriefRiverCard||t.type===i.pL.TrendingSearchCard||t.type===i.pL.RichCalendarCard||t.type===i.pL.DailyGreetingCard||t.type===i.pL.Promotion||t.type===i.pL.SageGroupedFeed||t.type===i.pL.ShoppingFeedCard||t.type===i.pL.ShoppingMerchantCategoryDeals||t.type===i.pL.ShoppingProngCardResponse||t.type===i.pL.ShoppingProngTracking||t.type===i.pL.SportsMatch||t.type===i.pL.SportsOlympics||t.type===i.pL.StockQuote||t.type===i.pL.StockQuote_spotlight||t.type===i.pL.TopStories||t.type===i.pL.TrafficDelays||t.type===i.pL.TrafficInfo||t.type===i.pL.Transit||t.type===i.pL.TravelDestinationCard||t.type===i.pL.Upsell||t.type===i.pL.UserInterestNTPProvider||t.type===i.pL.UserInterestTopic||t.type===i.pL.UserInterestProvider||t.type===i.pL.UserInterestTopicAndProvider||t.type===i.pL.TopicSuggestionforConsumptionPage||t.type===i.pL.ProviderSuggestionForConsumptionPage||t.type===i.pL.WatchVideoCard||t.type===i.pL.WeatherSummary||t.type===i.pL.WeatherSummary_spotlight||t.type===i.pL.WorkHeadlines||t.type===i.pL.ColdStartArticleFreCard||t.type===i.pL.MoneyInfo||t.type===i.pL.MoneyMoreForYouCard||t.type===i.pL.WindowsShellMorningDigest||t.type===i.pL.TopCommentsCard)return t;const o=(t.type||"").toLowerCase();if(o.startsWith("gold")||o.startsWith("combo:"))return t;if(t.type===i.pL.TopicFeed)return function(t){t.feed&&"linkedinnews"===t.feed.canonicalName?t.type=i.pL.LinkedInCard:(t.feed&&(t.feed.canonicalName===i.pL.TopicFeedWeekends||t.feed.canonicalName===i.pL.TopicFeedMomentInTime1)||t.feed.canonicalName===i.pL.TopicFeedShopping||t.feed.canonicalName===i.pL.TopicFeedWeather)&&(t.type=i.pL.TopicFeedMomentInTime1);return t}(t);const a=t.wpoMetadata&&t.wpoMetadata.contentType,u=a===i.pL.NewsGroups||a===i.pL.NewsAnswerModule;if(n&&t.type===i.pL.Infopane&&!u)return t;if(t.type===i.pL.ComboCard)return function(t){const{subCards:e}=t||{},n=e&&e.map(t=>c(t));return{...t,subItems:n,subCards:null}}(t);if(t.subCards)return e||t.type===i.pL.NewsPromotionCard?{subItems:t.subCards.map(t=>c(t)),type:t.type||"tabbedInfopane"}:function(t,e){const{type:n,title:i,wpoMetadata:r,subType:o,rotPos:s,position:a,cardId:u}=t,l=t.subCards.map(t=>c(t)),d={cardId:u,metadata:{title:i},position:a,subItems:l,subType:o,type:n,rotPos:s,traceIdIndex:e};r&&(d.wpoMetadata=r);return d}(t,r);if(t.type===i.pL.ExternalLink)return function(t){const{type:e,category:n,images:i,id:r,url:o,abstract:s="",title:a="",provider:c={},feed:u={},cardId:h,position:p,rotPos:m}=t,g=f(i)||{},v=d(o),{uiHint:w,actionText:y}=t.uiMetadata||{};let b=l(c.logoUrl);!b&&c.logo&&c.logo.url&&(b=l(c.logo.url));return{id:r,cardId:h,position:p,rotPos:m,type:e,metadata:{abstractLength:s.length,title:a,titleLength:a.length,category:n||v[4],subCategory:"other",primaryImage:{height:g.height,width:g.width,url:g.url},locale:v[3],url:o,abstract:s,uiHint:w,actionText:y,feed:{id:u.id},kicker:[{feedName:u.feedName}]},cardContent:{id:r,type:e,title:a,abstract:s,category:{product:n,label:void 0},provider:{id:c.id,name:c.name,logo:{id:b},logoUrl:c.logoUrl||c.logo&&c.logo.url,subscribable:!1},images:[{id:l(g.url),height:g.height,width:g.width,caption:g.title,focalRegion:g.focalRegion,attribution:g.attribution,url:g.url,colorSamples:g.colorSamples}],kicker:a,destinationUrl:o}}}(t);if(t.type===i.pL.WebContent&&!n)return function(t){const{id:e,cardId:n,type:i,images:r,url:o,category:s,locale:a,reactionStatus:c,commentStatus:u,reactionSummary:p,commentSummary:m,tag:g,abstract:v="",feed:w={},title:y="",provider:b={},actions:S=[],isBreaking:x=0,externalVideoFiles:C={},publishedDateTime:k,colorSamples:T,dataUrl:$,sourceId:A,financeMetadata:I,isLocalContent:P,position:_,rotPos:M,videoMetadata:R={},source:E,reasons:F}=t,D=f(r)||{},O=d(o);return{id:e,cardId:n,position:_,rotPos:M,type:i,metadata:{abstract:v,abstractLength:v.length,titleLength:y.length,category:s||O[4],subCategory:O[5],publishedDateTime:k,externalVideoFiles:C,locale:a,feed:{id:w.id},kicker:[w],actions:S.map(t=>h[t]||t),reactionStatus:c,commentStatus:u,reactionSummary:p,commentSummary:m,primaryImage:{height:D.height,width:D.width,url:D.url},url:o,title:y,provider:{name:b.name,logo:{url:b.logoUrl}},videoMetadata:R,viewCount:R.viewCount,source:E},cardContent:{id:e,type:i,title:y,abstract:v,isBreaking:x,tags:[g||{}],provider:{id:b.id,name:b.name,logoUrl:b.logoUrl,image:{alt:b.name,src:b.logoUrl}},category:{product:s,label:void 0},locale:a,images:[{id:l(D.url),height:D.height,width:D.width,caption:D.title,focalRegion:D.focalRegion,attribution:D.attribution,url:D.url,colorSamples:D.colorSamples}],colorSamples:T,videoFiles:C,publishedDateTime:k,kicker:y,sourceHref:$,destinationUrl:o,sourceId:A,financeMetadata:I,isLocalContent:P,reasons:F}}}(t);const{abstract:p="",actions:m=[],aiComments:g,badges:v,cardId:w,category:y,colorSamples:b,commentStatus:S,commentSummary:x,dataUrl:C,engagementSummary:k,externalVideoFiles:T,feed:$={},financeMetadata:A,id:I,images:P,isBreaking:_,isFeatured:M,isLocalContent:R,isLocalNews:E,locale:F,placement:D,position:O,provider:N={},publishedDateTime:U,reactionStatus:L,reactionSummary:B,notificationMetadata:W,reasons:H,source:V,recoId:z,relatedCards:j,ri:q,rotPos:G,sourceId:J,spotlightStamp:K,title:Q="",topComments:X,topics:Y=[],traceIdIndex:Z,type:tt,url:et,videoMetadata:nt}=t,it=f(P)||{},rt=T||[],ot=Y.find(t=>t.feedId===$.id&&t.locale===F),st=d(et);let at=l(N.logoUrl);!at&&N.logo&&N.logo.url&&(at=l(N.logo.url));const ct=m.map(t=>h[t]||t);return v&&v.some(t=>"followedPublisher"===t.type)&&ct.push("followedPublisher"),{id:I,cardId:w,cardContent:{abstract:p,aiComments:g,badges:v,colorSamples:b,category:{product:y,label:void 0},destinationUrl:et,financeMetadata:A,id:I,isLocalContent:R,isLocalNews:E,isBreaking:_||0,isFeatured:M||!1,images:[{id:l(it.url),height:it.height,width:it.width,caption:it.title,focalRegion:it.focalRegion,attribution:it.attribution,source:it.source,url:it.url,colorSamples:it.colorSamples}],kicker:Q,locale:F,provider:{id:N.id,name:N.name,logo:{id:at},logoUrl:N.logoUrl||N.logo&&N.logo.url,profileId:N.profileId,subscribable:!1},publishedDateTime:U,reasons:H,source:V,sourceHref:C,sourceId:J,notificationMetadata:W,type:(0,s.i)(tt),title:Q,topics:Y,tags:[ot||{}],uriTitle:st[6],videoFiles:rt},metadata:{abstractLength:p.length,titleLength:Q.length,category:y||st[4],subCategory:st[5],primaryImage:{height:it.height,width:it.width},locale:F,feed:{id:$.id},kicker:[$],actions:ct,reactionStatus:L,commentStatus:S,reactionSummary:B,commentSummary:x,engagementSummary:k,reasons:H,source:V,topComments:X,recoId:z,relatedCards:j,ri:q,videoMetadata:nt},reasons:H,source:V,placement:D,position:O,rotPos:G,spotlightStamp:K,type:tt,traceIdIndex:Z||r}}const u=new RegExp(/bing.(com|net)\/th/);function l(t){if(!t)return"";if(u.test(t))return;const e=t.split("/");return f(e)&&e[e.length-1].replace(".img","")}function d(t){return t?t.split("/"):[]}function f(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}const h={liked:"like",unliked:"unlike",saved:"save"}},77216:function(t,e,n){n.d(e,{X:function(){return i},x:function(){return o}});var i,r=n(88294);function o(t){try{const e=new URL(t).searchParams,n=e.get("expPerf"),r=e.get("expPerfSkip");if("all"==r)return{enablePerfTimeline:!1};if(!r&&!n)return{};const o={enablePerfTimeline:!0,uploadTrace:!1,sampleRate:1,uploadCriteria:{minimumTTVR:0}};if("all"===n)o.trackAllExp=!0,o.experiencesExcludedForPerf={};else if(n){const t=o.experiencesForPerf={};n.split(",").forEach(e=>t[e]=!0)}if(r){const t=o.experiencesExcludedForPerf={};r.split(",").forEach(e=>t[e]=!0)}"true"===e.get("expPerfMarks")&&(o.addPerformanceMarks=!0),"true"===e.get("expPerfTimings")&&(o.addPageTimings=!0);const s=parseInt(e.get("expPerfLevel"));return o.traceLevel=null!=i[s]?s:i.default,o}catch(t){return r.v.logError("Error parsing URL for detecting experience diagnostic switches: "+t),{}}}!function(t){t[t.default=0]="default",t[t.medium=1]="medium",t[t.high=2]="high"}(i||(i={}))},77246:function(t,e,n){function i(){return!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv)}n.d(e,{S:function(){return i}})},77255:function(t,e,n){n.d(e,{J:function(){return r}});var i=n(6727);class r{createPageViewPayload(t){if(!t)return;let e=t&&t.page&&t.page.url;try{const n=new URL(e),i=t&&t.page&&t.page.config;(8&i||2048&i)&&(n.searchParams.set("content","1"),e=n.href),t.locale&&t.locale.mkt&&(n.searchParams.set("mkt",t.locale.mkt),e=n.href)}catch{}return{rn:(0,i.Ln)(),c1:2,c2:3000001,cs_ucfr:1,c7:e,c8:t&&t.page&&t.page.content&&t.page.content.title,c9:t&&t.page&&t.page.referral,cs_fpid:t&&t.browser&&t.browser.muid,cs_fpit:"o",cs_fpdm:"*null",cs_fpdt:"*null"}}}},77454:function(t,e,n){n.d(e,{BS:function(){return h},oW:function(){return p}});var i=n(46117),r=n(77246),o=n(65022),s=n(93468),a=n(2462),c=n(89980);const u="OptanonConsent",l="OptanonAlertBoxClosed",d="TcfConsentCheckResult";function f(t){const e=function(t){try{const e=t.split(".")[0];let n;if("function"==typeof atob){const t=e.replace(/_/g,"/").replace(/-/g,"+");n=atob(t)}else{if("function"!=typeof Buffer)return null;n=Buffer.from(e,"base64").toString("binary")}let i="";for(let t=0;t<n.length;t++){const e=n.charCodeAt(t).toString(2);i+="00000000".slice(0,8-e.length)+e}return i}catch(t){return null}}(t);if(!e)return null;if(2!==parseInt(e.slice(0,6),2))return null;if(e.length<176)return null;return"1111111111"===e.slice(152,162)}function h(){if(!(0,r.S)())return;const t=(0,c.Lg)(),e=t.getItem(d);if(e){return JSON.parse(e)}const n=(0,a.Ti)();if(n)try{if(!f(n)){const e=new Date(0).toUTCString();document.cookie=`${i.Ii}=;Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${e}`;(0,a.Ri)(u)&&(document.cookie=`${u}=;Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${e}`);(0,a.Ri)(l)&&(document.cookie=`${l}=;Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${e}`);const n={wasCleared:!0,shouldShowBanner:!0,cleanDate:Date.now()};return t.setItem(d,JSON.stringify(n)),n}return}catch(t){return void(0,s.vV)(o.AnY,"Failed to check and clear OneTrust cookie",t.message)}}function p(){if(!(0,r.S)())return;const t=(0,a.Ti)();if(!t)return;const e="ConsentCookieExpInUSLocaleFix",n=(0,c.Lg)();if(!(n.getItem(e)===t))try{const r=function(){const t=(0,a.Ti)();if(!t)return null;let e;try{const n=t.split(".")[0];if("function"==typeof atob){const t=n.replace(/_/g,"/").replace(/-/g,"+");e=atob(t)}else{if("function"!=typeof Buffer)return null;e=Buffer.from(n,"base64").toString("binary")}}catch(t){return null}let n="";for(let t=0;t<e.length;t++){const i=e.charCodeAt(t).toString(2);n+="00000000".slice(0,8-i.length)+i}if(2!==parseInt(n.slice(0,6),2))return null;const i=n.slice(6,42),r=100*parseInt(i,2);return new Date(r)}();if(r){const o=r.getTime(),s=new Date("2025-07-10T21:09:00-07:00").getTime(),c=new Date("2025-07-15T13:33:00-07:00").getTime();if(o>=s&&o<=c){const r=Math.floor(5*Math.random())+1,o=new Date(Date.now()+60*(24+r)*60*1e3);document.cookie=`${i.Ii}=${t};Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${o.toUTCString()}`;const s=(0,a.Ri)(u),c=(0,a.Ri)(l);s&&(document.cookie=`${u}=${s};Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${o.toUTCString()}`),c&&(document.cookie=`${l}=${c};Domain=.msn.com;Path=/;Secure=true;SameSite=None;Expires=${o.toUTCString()}`),n.setItem(e,t)}}}catch(t){(0,s.vV)(o.AnY,"Failed to fix TCF string in US locale",t.message)}}},77479:function(t,e,n){n.d(e,{p:function(){return r}});var i=n(68480);class r{}r.signedInStatus=new i.P("SignedInStatus"),r.signedInStatusConfirmed=new i.P("SignedInStatusConfirmed"),r.useEnterpriseCompliance=new i.P("UseEnterpriseCompliance"),r.updateLocation=new i.P("UpdateLocation")},78169:function(t,e,n){n.d(e,{Q:function(){return r},i:function(){return i}});const i="sso_completed",r="sso_failed"},78393:function(t,e,n){var i;n.d(e,{J:function(){return i}}),function(t){t[t.notStarted=0]="notStarted",t[t.initialized=1]="initialized",t[t.rendered=2]="rendered",t[t.unmounted=3]="unmounted"}(i||(i={}))},78606:function(t,e,n){n.d(e,{f:function(){return i}});const i=[0,656,980,1304]},78629:function(t,e,n){var i;n.d(e,{C1:function(){return s},IW:function(){return o},L2:function(){return r},Wb:function(){return a},rK:function(){return i}}),function(t){t.GLOBAL="GLOBAL",t.GCC_MODERATE="GCC_MODERATE"}(i||(i={}));const r="d7b530a4-7680-4c23-a8bf-c52c121d2e87",o="https://enterprisenews.microsoft.com",s="EnterpriseOneService",a=87},78890:function(t,e,n){n.d(e,{$q:function(){return c},Er:function(){return l},_f:function(){return u},cp:function(){return d}});var i=n(12870),r=n(46151),o=n(74585);const s=new Set(["wind_spot_2","wind_spot_desktop","widgetonlockscreen","widgetonlockscreenwin10","winp2fpwidgetboard"]),a=new Set(["wind_spot_2","wind_spot_desktop"]);function c(t){var e;return(0,r.En)(t)||(null===i.Rb||void 0===i.Rb||null===(e=i.Rb.ClientSettings)||void 0===e?void 0:e.ocid)||"hpmsn"}function u(t){return s.has(t)}function l(t){return a.has(t)}function d(t){const e=c(t);return(0,o.AO)(e)?{pageProduct:"windows",pageType:"dhp"}:{}}},78927:function(t,e,n){n.d(e,{n:function(){return s}});var i=n(24678),r=n(65444),o=n(45083);class s{reduce(t,e){if(!t)return{visuallyReadyDependencies:new Map};if(!e)return t;let n=!1;const s={...t};return n=n||i.n.handleAction(e,r.y.addVisuallyReadyDependencies,t=>{t&&t.forEach(t=>{t&&!s.visuallyReadyDependencies.has(t)&&s.visuallyReadyDependencies.set(t,{experienceType:t,visuallyReady:!1})})}),n=n||i.n.handleAction(e,r.y.markVisuallyReadyComplete,(t,e)=>{if(t){const e=s.visuallyReadyDependencies.get(t);e&&(e.visuallyReady=!0,"GridViewFeed"!==t&&"WaterfallViewFeed"!==t||(0,o.OM)())}}),n?s:t}}},78981:function(t,e,n){n.d(e,{P:function(){return r}});var i=n(23429);function r(){return new Promise(t=>i.L.enqueue(()=>t()))}},79001:function(t,e,n){n.d(e,{Pf:function(){return d},rL:function(){return l}});var i=n(75575),r=n(17254),o=n(74195),s=n(2462);const a=10/1440,c="cbypass";let u=parseInt((0,s.Ri)(c))||0;function l(){return Promise.all([i.S.purgeCacheAsync(i.p.base),i.S.purgeCacheAsync(i.p.followedTopics)])}async function d(){u=Date.now(),(0,s.Ub)(c,u.toString(),a,r.T3.HostPage.topDomain,"/"),await i.S.purgeCacheAsync(i.p.river),(0,o.Q6)({id:"updatemyfeed",payload:u})}},79426:function(t,e,n){n.d(e,{e:function(){return i}});class i{constructor(t){this.promise=new Promise((t,e)=>{this.resolver=t,this.reject=e}),t&&setTimeout(()=>this.set(void 0),t)}set(t){this.resolver(t),this.valueSet=!0}setError(t){this.reject(t)}wasSet(){return this.valueSet}getResultAsync(){return this.promise}}},79742:function(t,e,n){var i;n.d(e,{z:function(){return i}}),function(t){t[t.Unknown=0]="Unknown",t[t.Required=1]="Required",t[t.NotRequired=2]="NotRequired"}(i||(i={}))},80004:function(t,e,n){n.d(e,{IZ:function(){return c},Sv:function(){return i},V1:function(){return a},mt:function(){return s}});var i,r,o=n(17254);function s(t){return t?[{isDarkMode:!0,hexColor:r.imgDark},{isDarkMode:!1,hexColor:r.imgLight}]:[{isDarkMode:!0,hexColor:r.noImgDark},{isDarkMode:!1,hexColor:r.noImgLight}]}function a(t){return t.enableAnimatedShowMoreBtn?"animated":t.enableFilledIconOnHover?"fillediconhover":t.noBackPlateOnRest?"nobackplate":"default"}function c(t){return`https://www.msn.com/${o.T3.CurrentMarket}/community/channel/${t}`}!function(t){t.default="default",t.condensed="condensed",t.infoPane="infoPane",t.infoPane1x3y="infoPane1x3y",t.infoPaneSplitVertical="infoPaneSplitVertical",t.infoPaneSplitHorizontal="infoPaneSplitHorizontal"}(i||(i={})),function(t){t.imgLight="#F5F5F5",t.imgDark="#2E2E2E",t.noImgLight="#DEDEDE",t.noImgDark="#222"}(r||(r={}))},80247:function(t,e,n){n.d(e,{HB:function(){return $},Kz:function(){return T},kP:function(){return k},U1:function(){return I},i8:function(){return P}});var i=n(15098),r=n(51673),o=n(98763),s=n(77246),a=n(14012);const c=/^winp(\d)/i;function u(t){if(!(0,s.S)())return;const{referrer:e}=document;if(e){if(e===location.href)return"self";const t=function(t){try{return new URL(t)}catch{return}}(e);if(t){const{host:e,pathname:n}=t,{host:i,pathname:r}=window.location;let o,s;if(s=e.match(/^([a-z]+)\.msn\.(com|cn)$/)){const[,t]=s;if("ntp"===t)return"edge-hp";if("www"===t){let t;if(!n||"/"===n)return"msn-hp";if(t=n.match(/^\/[a-z]{2}-[a-z]{2}(\/feed)?\/?$/i))return t[1]?"win-hp":"msn-hp";if(n.match(/\/(ar|ss|vi)-[A-Za-z0-9]+$/))return"msn-views"}return e===i&&l(n)===l(r)?"same-seg1-seg2":"msn-other"}if(o=e.match(/\.(bing|google|yahoo)\.com$/))return"search-engine"}}else{const{ocid:e}=t;let n;if(e&&(n=e.match(c)))return`prong-${n[1]}`}return"unknown"}function l(t){const e=t&&t.match(/^\/([^/]+(\/[^/]+)?)?/);return e&&e[0]}var d=n(63608),f=n(65022),h=n(30817),p=n(93468),m=n(51518);const g=(0,o.MV)(),v=(0,o.MV)(),w=(0,o.MV)(),y=(0,o.QW)(),b=null,S=(0,o.Xe)(),x=(0,o.bP)(),C=(0,o.pV)(()=>new Promise(t=>x.set(t)));function k(t,e,n){const{pivots:o,manualPivots:s}=t||{},l={pivotsFinalized:C.get()};if(!(t&&(o&&o.length||s&&s.length)&&e&&n))return l;const d=(0,h.Tm)()||{},f=function(t){if(t){const{cpu:e}=t;if(e>=1&&e<=4)return"1-4";if(e>=6&&e<=8)return"6-8";if(e>=10)return"10+"}}(d),p=(0,i.L)(()=>u(n)),g=(0,i.L)(()=>function(t){const{ocid:e}=t;return e&&("windirect"===e||e.match(c))?"winfeed":"default"}(n)),v=(0,i.L)(()=>function(){let t,e=0,n=0;const i=/\/(vendors|microsoft|experience|common)\./,r=performance.getEntriesByType("resource");for(const o of r)if("script"===o.initiatorType&&(t=o.name.match(i))&&((0,a.Lx)(o)?e++:n++,e+n>=4))break;return 4===e?"warm":4===n?"cold":n+e===4?"partial":void 0}());D("audienceMode",t=>(0,r.eG)({audienceMode:t},n)),D("browser",t=>(0,r.Bu)({browser:t},n)),D("deviceFormFactor",t=>(0,r.xW)({deviceFormFactor:t},n)),D("displayLocale",t=>(0,r.vk)({locale:t},n,!0)),D("domain",t=>(0,r.Hy)({domain:t},n)),D("experimentId",t=>(0,r.SN)({experimentId:t},n)),D("locale",t=>(0,r.vk)({locale:t},n,!1)),D("ocid",t=>(0,r.Ui)({ocid:t},n)),D("os",t=>(0,r.HB)({os:t},n)),D("platform",t=>(0,r.QQ)({platform:t},n)),D("referrer",t=>t===p()),D("ocidGroup",t=>t===g()),D("network",t=>t===d.networkSpeed),D("cpu",t=>t===d.cpu),D("cpuGroup",t=>t===f),D("memory",t=>t===d.memory),D("coreJSCache",t=>t===v());const{pcsInfo:w,bundleInfo:y}=e.ClientSettings;return D("env",t=>(0,r.c$)(t,w&&w.env)),D("buildAlias",t=>(0,r.c$)(t,y&&y.alias)),F("pageType",(t,e)=>(0,r._P)({pageType:e},{pageType:t})),F("pageProduct",r.c$),F("pageName",r.c$),P("preRender",!!e.IsPrerender),S.set(function(t){const e=[],n=[],{pivots:i,manualPivots:r,_sampleRate:o}=t,s=(t,e)=>{t&&t.forEach(t=>{t&&(0,m.E)(t._sampleRate||o)&&e(t)})},a=t=>{for(const{key:e,matcher:n}of R(t))n||O(e)};return s(i,t=>{a(t);const n={config:t},i=A(n);(i||i===b)&&e.push(n)}),s(r,t=>{a(t),n.push(t)}),{defaultPivots:e,manualPivotConfigs:n}}(t)),M(),l}function T(){var t;return!(null===(t=S.get())||void 0===t||!t.defaultPivots.some(t=>t.success||t.success===b))}function $(){const t=S.get();if(!t)return[];const e=[];for(const n of t.defaultPivots)A(n)&&e.push(E(n.config));return y.size&&(0,p.vV)(f.Bgb,"Missing pivot field values",[...y.getObj()].toString()),e}function A(t){let{success:e}=t;if(null!=e)return e;e=!0;for(const{key:n,value:i,matcher:r}of R(t.config)){const t=r&&r.matchFn(i);if(t===b)e=b,y.add(n);else if(!t){e=!1;break}}return t.success=e}function I(t,e){w.set(t,e),_(t)}function P(t,e){null!=e&&(v.set(t,e),_(t))}function _(t){S.get()&&y.delete(t)&&M()}function M(){const t=S.get();if(t&&y.size<=0){for(const e of t.defaultPivots)A(e);x.call()}}function*R(t){for(const e in t)if((0,d.Y)(e)){const n=g.get(e);yield{key:e,value:t[e],matcher:n}}}function E(t){const e=(0,d.y)(t);return{key:e,key64:btoa(e)}}function F(t,e){D(t,n=>{const i=w.get(t);return i==b?b:e(i,n)})}function D(t,e){N(t,()=>e)}function O(t){N(t,()=>function(t){return e=>{const n=v.get(t);return n==b?b:n===e}}(t))}function N(t,e){g.get(t)||g.set(t,{matchFn:e()})}},80607:function(t,e,n){n.d(e,{K:function(){return i}});const i=["prg-wpo-ss","prg-dr-infopanec","prg-title-2","prg-trending","prg-trendingc","prg-ad-ctav2","prg-ad-sh-v1","prg-ad-sh-v1-c","prg-ad-sh-v3","prg-ad-sh-v4","prg-ad-sh-v3v4-c","prg-ad-hover","prg-ad-hover-c","prg-ad-combo","prg-ad-combo2","prg-ad-combo-c","prg-ad-shortg","prg-ad-shortgc"]},81618:function(t,e,n){n.d(e,{K:function(){return h},b:function(){return f}});var i=n(16822),r=n(65022),o=n(93468),s=n(89151),a=n(84080),c=n(98216),u=n(29231),l=n(79426),d=n(77246);function f(t,e){let n,i=e,r=(0,a.C)(performance.now());const o=()=>{const e=(0,a.C)(performance.now());i-=e-r,i<=0?t():(r=e,requestAnimationFrame(()=>{n=window.setTimeout(o,i)}))};return requestAnimationFrame(()=>{n=window.setTimeout(o,i)}),()=>{clearTimeout(n)}}async function h(t){if(!(0,d.S)())return;const e=new l.e;t=t||{};let n=!1;async function a(n){var s,a;null===(s=f)||void 0===s||s(),t.skipContentViewInit||(c.YT.config.autoCaptureContentView=!0,c.YT.observeElementTree(document));const l=!!t.pageLoadEventsAvailableCallback&&!t.pageLoadEventsAvailableCallback();l||t.skipContentViewInit||c.YT.scheduleContentViewEvent(u.ym.Load);const{contentViewTimeoutOverride:d,onBeforeNotifyCallback:h,reportEntityMetrics:p,maxValidTTVR:m}=t;d&&c.YT.setContentViewTimeout(d);const g=null===(a=window.performance)||void 0===a?void 0:a.getEntriesByType("visibility-state").find(t=>"hidden"===t.name);if(m&&!g){const t=n.find(t=>"TTVR"===t[0]),e=null==t?void 0:t[1];null!=e&&("number"!=typeof e||isNaN(e)||e<0||e>m)&&(t[1]=void 0,(0,o.vV)(r.m6M,`Invalid TTVR: ${e}. Expected a number between 0 and ${m}.`,void 0,{ttvr:e}))}(0,i.nX)(n,{onAfterPageTimingsUpdated:h&&(()=>{h(n)}),disableLoadTimeEvent:l,reportEntityMetrics:p}),e.set()}let f;const h=window.setTimeout(()=>{n=!0,(0,i.je)(t=>a(t),s.Ci.Primary,t.incompleteVisualDependencyCallback)},t.timeoutOverride||2e4);return f=()=>window.clearTimeout(h),(0,s.kJ)().then(t=>{n||a(t)}),await e.getResultAsync()}},81760:function(t,e,n){n.d(e,{t:function(){return s}});var i=n(16091),r=n(17720);class o{constructor(){this.metadataStore={}}static getInstance(){return r.vv.get("__AdPageMetadataHubInstance__",()=>new o)}setMetadata(t,e){this.metadataStore[t]=e}setMetadatas(t){for(const e in t)this.metadataStore[e]=t[e]}getMetadata(t){return this.metadataStore[t]}setRulesOverride(t){this.rulesOverride=t}getRulesOverride(){return this.rulesOverride}}const s=(0,i.G)(o)},82134:function(t,e,n){n.d(e,{o:function(){return o}});var i=n(17254),r=n(19330);const o=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{isMobile:e}=i.T3;return t?e?r.y.MobileApp:r.y.DesktopApp:e?r.y.MobileWeb:r.y.DesktopWeb}},82286:function(t,e,n){n.d(e,{A:function(){return l}});const i=["/ads-prebid.js","/istripper.js","/javascript/fropo.js","/nb/f_ls.js","/prebid-add.js","/prebid-ads/adsensebase.js","/prebid-article-ad-ad-300x250.js","/reclama/ads.js","/safu/safu.js","/wp-content/plugins/wp-banners/js/wp-banners.js","/zlk/zlk.js"],r=["/adex.js","/adgpt.js","/ados.js","/ads/stickyLb.js","/ane-popup-banner/ane-popup-banner.js","/ane-preroll/preroll.js","/arcads.js","/awe2.js","/clever_ads.js","/cnads.js","/dfp/dc.js","/doublepimp2.js","/eureka/eureka.js","/exopopunderdesktop.js","/expop.js","/fload.js","/fro_lo.js","/frontend_loader.js","/gpt.min.js","/invoke-2.js","/js/m/i-def.js","/js/youmuffpu.js","/js3caf.js","/kampyle.js","/keyade.js","/lib/ad.js","/markpop.js","/moatsdk.min.js","/nugg.min.js","/nwm-fcn.min.js","/nwm-pw2.min.js","/p8network.js","/popu.js","/popup2.js","/popup3.js","/punder.js","/pustrck.js","/scripts/chatur.js","/soralink.js","/suv4.js","/taboola_ads.js","/tardisrocinante/austin.js","/utep_ad.js","/weborama.js","/wp-content/plugins/bhcb/lock.js","/xpopup.js","/_adverts.js","/_rebid.js","/cmbdv2.js","/push-skin/skin.min.js","/pop2.js","/banger.js","/detroitchicago/anaheim.js","/detroitchicago/boise.js","/detroitchicago/houston.js","/detroitchicago/memphis.js","/detroitchicago/minneapolis.js","/detroitchicago/raleigh.js","/detroitchicago/rochester.js","/detroitchicago/tampa.js","/_js/prbd_6.19.0.js","/prebid14.js","/prebid_ver.js","/pubfig.js","/pubfig.min.js","/_prebid.js","/~Prebid.js","/datomata.widget.js","/abtest_ab.js","/adb.min.js","/adblock-relief.js","/blockblock/blockblock.jquery.js","/fuckadb.js"],o=["/ane-popup-banner/ane-popup-banner.js","/arcads.js","/fro_lo.js","/nwm-pw2.min.js","/popup2.js","/popup3.js","/tardisrocinante/austin.js","/push-skin/skin.min.js","/detroitchicago/anaheim.js","/detroitchicago/boise.js","/detroitchicago/houston.js","/detroitchicago/memphis.js","/detroitchicago/minneapolis.js","/detroitchicago/raleigh.js","/detroitchicago/rochester.js","/detroitchicago/tampa.js","/_prebid.js","/blockblock/blockblock.jquery.js"];var s=n(94831),a=n(17254),c=n(12870);class u{Impacts(){const t=this.GetConfig();return new Promise(function(e,n){const i=[this.CheckLoadStatus(t.EasyList),this.CheckLoadStatus(t.UboSpecial),this.CheckLoadStatus(t.Param)];Promise.all(i).then(t=>{e(t[0]||t[1]||t[2])}).catch(t=>{n(t)})}.bind(this))}CheckLoadStatus(t){const e=document.createElement("script");e.src=t.urls,document.body.appendChild(e);return(async(t,e)=>{const n=new Promise((e,n)=>{setTimeout(e,t,!1)});return Promise.race([e,n])})(500,new Promise(function(n,i){e.onload=function(){document.getElementById(t.id)?n(!1):n(!0)},e.onerror=function(){n(!0)}}))}GetConfig(){const t=`${(0,a.rA)().StaticsUrl}latest/adboxes`,e=c.Rb.CurrentFlightSet.has("prg-ad-dispadb-t")?this.Sample(o):this.Sample(r),n=this.Sample(i),s=this.Sample(r);return{UboSpecial:{urls:t+"/ubo"+n,id:btoa(n)},EasyList:{urls:t+"/egb"+e,id:btoa(e)},Param:{urls:t+"/general.js?"+s,id:btoa(s)}}}Sample(t){return t[Math.floor(Math.random()*t.length)]}}var l=new class{constructor(){this.adbTime=0,this.getAdbStatus=()=>(this.hasAdbStatus||(this.adbStatus=this.checkAdbStatus(),this.hasAdbStatus=!0),this.adbStatus),this.getAdbLoggedTime=()=>{const t=s.A.get("AlgoRes");return t&&"ABD=V=0"!=t&&(this.adbTime=Number(t.split("=")[2])),this.adbTime},this.executeDetector=async()=>{const t=new u,e=await t.Impacts();this.setCookie(e)},this.appendAdbStatusToUrl=t=>{if(!t||0===t.length||!this.getAdbStatus())return t;const e=new URL(t),n=e.searchParams.get("rlink");if(!n)return t;const i=decodeURIComponent(n);if(!(i.includes("www.bing.com/aclick?ld=")||i.includes("www.bing.com/ac?ld=")||i.includes("www.bing.com/ck?ld=")||i.includes("www.bing.com/ack?ld=")||i.includes("www.bing.com/clk?ld=")||i.includes("www.bing.com/aclk?ld=")||i.includes("www.bing.com/click?ld=")))return t;const r=n.concat("&adb=1");return e.searchParams.set("rlink",r),e.toString()},this.checkAdbStatus=()=>{const t=s.A.get("AlgoRes");return!(!t||"ABD=V=0"===t)},this.setCookie=t=>{if(t){const t=(new Date).getTime();s.A.set("AlgoRes",`ABD=V=${t}`,{expires:30})}else s.A.set("AlgoRes","ABD=V=0",{expires:30})}}}},83003:function(t,e,n){n.d(e,{N5:function(){return c},Qf:function(){return i},hs:function(){return s},pL:function(){return r},y9:function(){return a}});var i,r,o=n(11372);function s(t){switch(t){case"ArticlePreview":case"article":return o.b5.Article;case"SlideshowPreview":case"slideshow":return o.b5.Gallery;case"video":case"VideoPreview":return o.b5.Video;case"WebContentPreview":return o.b5.WebContent;case"WebContentExternal":return o.b5.ExternalLink;default:return null}}!function(t){t.DGGTypePrefix="News_DGG",t.NicheTopicTypePrefix="News_NicheTopic"}(i||(i={})),function(t){t.PublisherSpotlightCard="PublisherSpotlightSDCard",t.FollowedPublishersCard="FollowedPublishersSDCard",t.DailyMomentsCard="DailyMomentsSDCard",t.NewsDailyWonderCard="News_DailyWonder",t.DailyWonderCard="DailyWonder",t.DailyWonderCopilotCard="DailyWonderHeroPrompts",t.DailyWonderHeroVideo="DailyWonderHeroVideo",t.DailyWonderQuoteCard="DailyWonderHeroQuote",t.DailyWonderVideoListCard="DailyWonderHeroRecommended",t.DailyQuizSdCard="DailyQuizSdCard",t.ShoppingBannerSdCard="ShoppingBannerSdCard",t.DailyBriefCard="DailyBrief",t.MobileTrendingSearchCard="mobile-trending-search-card",t.WidgetsNotificationsCard="widgetsNotificationsCard",t.DonationNpoCard="DonationNpoCard",t.EntertainmentPremierCard="premier-sd-card",t.EventSDCardOscarsPrm="EventSDCardOscarsPrm",t.BingDailyQuizCard="bing-daily-quiz-card",t.RichCalendarCard="RichCalendarSD",t.DailyGreetingCard="DailyGreeting",t.EventSDCardElectionMIT1="EventSDCardElectionMIT1",t.EventSDCardElectionMIT2="EventSDCardElectionMIT2",t.EventSDCardElectionMIT3="EventSDCardElectionMIT3",t.EventContentCardENIN1="eventcontentcardenin1",t.CommunityCard="CommunityInfo",t.HotListCard="hotlist",t.TabbedInfopaneCard="tabbedinfopane",t.TabbedInfopaneCardTab="tabbed-infopane-tab",t.MangaCard="MangaCard",t.MangaCarousel="MangaCarousel",t.MangaParentPageCarousel="MangaParentPageCarousel",t.MangaReadMoreCarousel="MangaReadMoreCarousel",t.MangaTrendingCarousel="MangaTrendingCarousel",t.MobileVideoSdCard="MobileVideoSdCard",t.VideoShoppingCarouselCard="VideoShoppingCarousel",t.RealEstateCard="real-estate-card",t.RealEstateCarousel="RealEstateCarousel",t.RealEstateCardReact="RealEstateCardReact",t.PrismCarouselCard="PrismFeedCarousel",t.TrendingSearchCard="TrendingSearchCard",t.CommuteCard="CommuteMetadata",t.DigestCard="digest-card",t.Article="article",t.Slideshow="slideshow",t.Video="video",t.Spotlight="content360",t.Infopane="infopane",t.TabbedInfopane="tabbedInfopane",t.GemCard="GemCard",t.GemRiverCard="GemRiverCard",t.GemGreeting="GemGreeting",t.GemInsight="GemInsight",t.GemPrompts="GemPrompts",t.GemShopping="GemShopping",t.GemArticle="GemArticle",t.Gem_Article_RelatedArticles="Gem_Article_RelatedArticles",t.Gem_Finance_GetCharts="Gem_Finance_GetCharts",t.Gem_GenAIContent_InsightSummary="Gem_GenAIContent_InsightSummary",t.Gem_LargeSummary="GemLargeSummary",t.Gem_Media_Image="Gem_Media_Image",t.Gem_Prompts="Gem_Prompts",t.HeroGem="HeroGem",t.RiverGem="RiverGem",t.TopSectionNews="TopSectionNews",t.HalfPane="HalfPane",t.HeadToHead="HeadToHead",t.Mosaic="Mosaic",t.Triptych="Triptych",t.TabbedInfopaneTab="tabbedInfopaneTab",t.WebContent="webcontent",t.ExternalLink="link",t.ChannelCarousel="followCarousel",t.ChannelFilterCard="filteredChannels",t.DynamicFilteredChannel="dynamicfilteredchannels",t.InterestManagementCard="InterestManager",t.GamingInterestGroup="GamingInterestGroup",t.DenseList="DenseList",t.BackFillContent="BackfillContent",t.MyBriefRiverCard="toppicks",t.panoCard="panocard",t.NativeAd="nativead",t.NativeTopAd="nativetopad",t.CmsAd="cmsad",t.BuyDirectAd="directbuyad",t.AmplifyAd="amplifyad",t.BoostAd="BoostAd",t.EventSDCardAmplifyAds="EventSDCardAmplifyAds",t.FirstPartyAd="firstpartyad",t.IntraNativeAd="intra-nativead",t.ShoppingCard="ShoppingCard",t.ShoppingBWMCard="BuyWithMicrosoftCard",t.ShoppingBWMCarousel="BuyWithMicrosoftCarousel",t.EdgeShoppingCard="EdgeShoppingCard",t.ShoppingCarousel="ShoppingCarousel",t.ShoppingCarousel2="ShoppingCarousel2",t.ShoppingRiver="ShoppingRiver",t.ShoppingRiver1="ShoppingRiver1",t.ShoppingRiver2="ShoppingRiver2",t.ShoppingRiver3="ShoppingRiver3",t.EventSDCardShopping="EventSDCardShopping",t.EventInfopaneShoppingAI="EventInfopaneShoppingAI",t.ShoppingInfopaneAd1="ShoppingInfopane1",t.ShoppingInfopaneAd2="ShoppingInfopane2",t.ShoppingInfopaneAd3="ShoppingInfopane3",t.ShoppingInfopaneAd4="ShoppingInfopane4",t.Shopping1688Carousel="Shopping1688Carousel",t.ShoppingTopSectionCard="ShoppingTopSectionCard",t.ComicsCarousel="ComicsCarousel",t.EditorsPickCarousel="EditorsPickCarousel",t.SelectCarousel="SelectCarousel",t.DailyFixGamesCarousel="DailyFixGamesCarousel",t.SubscriptionCarousel="SubscriptionCarousel",t.BeaconProviderUpsell="BeaconProviderUpsell",t.MoneyTopicStripe="MoneyTopicStripe",t.SportsTopicStripe="SportsTopicStripe",t.LinkedInCard="linkedInNewsCard",t.SectionHeader="GreetingsUpsell",t.TopStories="topStories",t.TopStoriesV2="cgtopStories",t.TopStoriesRuby="TopStories",t.NewsTopStories="News_TopStories",t.TrendingNowRuby="TrendingNow",t.NewsTrendingNow="News_TrendingNow",t.LittleKnownFactsCard="LittleKnownFacts",t.NewsLittleKnownFactsCard="News_LittleKnownFacts",t.NewsGroups="newsGroups",t.NewsAnswerModule="NewsAnswerModule",t.TrendingNowCarousel="TrendingNowCarousel",t.TopStoriesCarousel="TopStoriesCarousel",t.WorkHeadlines="workNews",t.Trending="trendingnow",t.TrendingTopics="TrendingTopicsUpsellAnaheim",t.LocalNews="XfeedUpsell",t.LocalNewsFeed="LocalNewsFeed",t.SageGroupedFeed="SageGroupedFeed",t.TrendingInTenMinutes="trendingInTenMinutes",t.Horoscope="Horoscope",t.Elections="EventSDCardElection",t.OnThisDay="OnThisDay",t.OnThisDaySDCard="OnThisDaySDCard",t.LocalEventsSDCard="LocalEventsSDCard",t.PartnerUpsell="PartnerUpsell",t.Qna="qnacard",t.quizcard="quizcard",t.Recipes="recipecard",t.Inspiration="PrismFeedCard",t.Rewards="rewardscard",t.TravelDestinationCard="TravelDestinationCard",t.TravelDestinationCarouselCard="TravelDestinationCarouselCard",t.TravelInspirationCard="TravelInspirationCard",t.BingHealthCovid19StatsCard="Covid19Stats",t.BingHealthFitnessCard="healthcard",t.HealthTipCard="healthtipcard",t.HealthRiverCard="healthrivercard",t.PollsCard="pollscard",t.PlaceholderCard="placeholder",t.WinAppAds="WinAppAds",t.CashbackAds="CashbackAds",t.Promotion="Promotion",t.PromotedAd="PromotedAd",t.BingVideo="BingVideo",t.BingVideoCarousel="BingVideoCarousel",t.BreakingNewsNotification="BreakingNewsNotification",t.CasualGamesCarousel="CasualGamesCarousel",t.CasualGamesCarouselSubItem="CasualGamesCarouselSubItem",t.CasualGamesGroup="CasualGamesGroup",t.CasualGamesGroupSubItem="CasualGamesGroupSubItem",t.CasualGamesProng2Carousel="CasualGamesProng2Carousel",t.CasualGamesStripeCarousel="CasualGamesStripeCarousel",t.EsportsCasualGames="esportsCasualGames",t.EsportsCasualGamesMiniWidget="EsportsCasualGamesMiniWidget",t.EsportsHighlight="esportsHighlight",t.EsportsLiveStream="esportsLiveStream",t.EsportsMatch="esportsMatch",t.EsportsTournament="esportsTournament",t.EventSDCardWorldCup="EventSDCardWorldCup",t.EventSDCardWorldCup2="EventSDCardWorldCup2",t.ShoppingFeedCard="ShoppingFeedCard",t.WeatherHero="WeatherHero",t.WeatherCurrent="WeatherCurrent",t.WeatherForecast="WeatherForecast",t.WeatherMap="WeatherMap",t.WeatherSummary="WeatherSummary",t.WeatherSummaryMiniWidget="WeatherSummaryMiniWidget",t.WeatherSummary_spotlight="WeatherSummary_spotlight",t.SavedContent="SavedContent",t.StockQuote="StockQuote",t.StockQuote_spotlight="StockQuote_spotlight",t.MoneyInfo="MoneyInfo",t.MoneyInfoMiniWidget="MoneyInfoMiniWidget",t.MoneyPreWL="MoneyPreWL",t.MoneyCrypto="CryptoCard",t.MoneyMarketBrief="MarketBrief",t.MoneyMoreForYouCard="MoneyMoreForYouCard",t.FinanceSpotlightHeroPrice="FinanceSpotlightHeroPrice",t.FinanceSpotlightHeroMarket="FinanceSpotlightHeroMarket",t.FinanceSpotlightHeroRadarGraph="FinanceSpotlightHeroRadarGraph",t.FinanceHeroMarket="FinanceHeroMarket",t.FinanceHeroMarketChart="FinanceHeroMarketChart",t.FinanceHeroNews="FinanceHeroNews",t.FinanceHeroMovers="FinanceHeroMovers",t.FinanceHerowlsummary="FinanceHerowlsummary",t.FinanceHeroSuggested="FinanceHeroSuggested",t.FinanceHeroWatchlistIdeas="FinanceHeroWatchlistIdeas",t.FinanceHeroUpcomingEarnings="FinanceHeroUpcomingEarnings",t.FinanceHeroCurrencies="FinanceHeroCurrencies",t.FinanceHeroCrypto="FinanceHeroCrypto",t.ForYouNotification="ForYouNotification",t.SportsMatch="SportsMatch",t.SportsMatchMiniWidget="SportsMatchMiniWidget",t.SportsOlympics="SportsOlympics",t.SportsHeroFre="SportsHeroFre",t.SportsHeroMatchCard="SportsHeroMatchCard",t.SportsHeroLeagueTodaysEvents="SportsHeroLeagueTodaysEvents",t.SportsHeroMatch1SeasonStats="SportsHeroMatch1SeasonStats",t.SportsHeroMatch1Stats="SportsHeroMatch1Stats",t.SportsHeroMatch2SeasonStats="SportsHeroMatch2SeasonStats",t.SportsHeroMatch2Stats="SportsHeroMatch2Stats",t.SportsHeroMatch3SeasonStats="SportsHeroMatch3SeasonStats",t.SportsHeroMatch3Stats="SportsHeroMatch3Stats",t.SportsHeroMatchStatistics="SportsHeroMatchStatistics",t.SportsSpotlight2Match1="SportsSpotlight2Match1",t.SportsSpotlight2Match2="SportsSpotlight2Match2",t.SportsHeroNews="SportsHeroNews",t.SportsHeroOneVsManyEventResult="SportsHeroOneVsManyEventResult",t.SportsHeroOneVsOneEventResult="SportsHeroOneVsOneEventResult",t.SportsHeroSeasonStatistics="SportsHeroSeasonStatistics",t.SportsHeroStandingsRankings="SportsHeroStandingsRankings",t.SportsHeroTeamStandings="SportsHeroTeamStandings",t.SportsHeroTeamStandingWithEvents="SportsHeroTeamStandingWithEvents",t.SportsHeroTeamStandingWithMedals="SportsHeroTeamStandingWithMedals",t.SportsHeroTeamVsTeam="SportsHeroTeamVsTeam",t.SportsHeroTeamVsTeamEventResult="SportsHeroTeamVsTeamEventResult",t.SportsHeroVideo="SportsHeroVideo",t.SportsStackCard="SportsStackCard",t.SpotlightStackCard="SpotlightStackCard",t.PersonalFinanceStackCard="PersonalFinanceStackCard",t.TrafficDelays="TrafficDelays",t.TrafficInfo="TrafficInfo",t.Transit="Transit",t.TrafficIncidents="TrafficIncidents",t.TrafficCameras="TrafficCameras",t.TrafficCamerasWithSummary="TrafficCamerasWithSummary",t.TravelTimes="TravelTimes",t.TravelTimesWithSummary="TravelTimesWithSummary",t.TrafficMap="TrafficMap",t.TrafficNews="TrafficNews",t.TrafficTransit="TrafficTransit",t.TrafficSummary="TrafficSummary",t.ShoppingProng2c="ShoppingProng2c",t.ShoppingProngCardResponse="ShoppingProngCardResponse",t.ShoppingOfferCardResponse="ShoppingOfferCardResponse",t.ShoppingProngCarousel="ShoppingProngCarousel",t.ShoppingProngTracking="ShoppingProngTracking",t.ShoppingMerchantCategoryDeals="ShoppingMerchantCategoryDeals",t.ShoppingVideoCarousel="ShoppingVideoCarousel",t.WatchVideoCard="WatchVideoCard",t.Group="group",t.Upsell="FreUpsell",t.Dense="densetab",t.LocalGuide="localdaycard",t.Marketplace="MarketPlace",t.MarketplaceEvent="EventSDCardMarketplace",t.MoreFromProvider="morefromprovider",t.MoreForYou="MoreForYou",t.MiniWidgets="MiniWidgets",t.GamingNews="gaming",t.GamingRecentlyPlayed="GamingRecentlyPlayed",t.RecommendedInterests="RecommendedInterests",t.WindowsShellRecommendedInterests="WindowsShellRecommendedInterests",t.AutosEntityList="AutosEntityList",t.AutosCarousel="AutosCarousel",t.ContainerizedHalfu="containerizedHalfu",t.ComboCard="Combo",t.TopicFeed="TopicFeed",t.RelatedNewsCard="RelatedNewsCard",t.TopicFeedLearnSomethingNew="learnsomethingnew",t.TopicFeedDiversity="diversitycard",t.TopicFeedWeekends="eventcontentcardweekend",t.TopicFeedMomentInTime1="eventcontentcardmit1",t.TopicFeedSports="eventcontentcardsports",t.TopicFeedTrendingNow="trending now",t.TopicFeedTopStories="topstories",t.TopicFeedShopping="eventcontentcardshopping",t.TopicFeedWeather="eventdynamiccontentcardweather",t.Calendar="Calendar",t.Entertainment="Entertainment",t.Family="Family",t.M365="M365",t.Photos="Photos",t.ThirdPartyWidget="3pwidget",t.Tips="Tips",t.ToDo="ToDo",t.XboxGamePass="xboxgamepass",t.Tombstone="tombstone",t.GroupedContent="GroupedContentFeed",t.UserInterestTopic="UserInterestTopic",t.UserInterestNTPProvider="UserInterestNTPProvider",t.SuggestedInterest="SuggestedInterest",t.TopicSuggestionforConsumptionPage="TopicSuggestionforConsumptionPage",t.ProviderSuggestionForConsumptionPage="ProviderSuggestionForConsumptionPage",t.InterestFeed="InterestFeed",t.ProviderFeed="ProviderFeed",t.InterestChannel="InterestChannel",t.ProviderChannel="ProviderChannel",t.UserInterestTopicAndProvider="UserInterestTopicAndProvider",t.NewsFlipper="NewsFlipper",t.ColdStartArticleFreCard="ArticleFre",t.NewsPromotionCard="PromotionFre",t.WindowsShellTopicsCard="WindowsShellTopicsCard",t.WindowsShellNotificationBanner="genericbadge",t.RewardsDailySet="RewardsDailySet",t.BoostAdsBanner="BoostAdsBanner",t.BoostAdsCoachmark="BoostAdsCoachmark",t.EventSDCardSportsMIT1="EventSDCardSportsMIT1",t.EventSDCardSportsMIT2="EventSDCardSportsMIT2",t.EventSDCardSportsMIT3="EventSDCardSportsMIT3",t.UserInterestProvider="UserInterestProvider",t.WindowsShellMorningDigest="NewsDigest",t.TopicsAndProviders="TopicsAndProviders",t.NotificationCard="NotificationCard",t.NTPMorningDigest="MorningDigest",t.MiTHeroSpotlight="MiTHeroSpotlight",t.MiTHeroContent="MiTHeroContent",t.MiTHeroAction="MiTHeroAction",t.MiTHeroFollow="MiTHeroFollow",t.DailyMomentsCard1="DailyMomentsCard1",t.DailyMomentsCard2="DailyMomentsCard2",t.DailyMomentsCard3="DailyMomentsCard3",t.DisplayAdBanner="DisplayAdBanner",t.DisplayAdCard="DisplayAdCard",t.DisplayAd="displayad",t.CatchUpStack="CatchUpStack",t.SimilarRiver="SimilarRiver",t.GemRail="GemRail",t.TopCommentsCard="topcomments",t.CopilotCard="CopilotCard",t.CreatorSpotlight="CreatorSpotlight",t.NewsCreatorSpotlight="News_CreatorSpotlight",t.EntertainmentTakeover="EntertainmentTakeover",t.WatchGoldShorts="News_WatchGoldShorts",t.NewsWatchShorts="News_WatchShorts",t.WatchNewsShorts="News_WatchNewsShorts",t.NewsWatchVideo="News_WatchVideo",t.WatchVideoHeavy="News_WatchVideoHeavy",t.DigestCardRuby="DigestCard",t.News_DigestDaily="News_DigestDaily",t.News_DigestGem="News_DigestGem",t.News_DigestInfopane="News_DigestInfopane",t.News_DigestTopics="News_DigestTopics",t.News_DigestTopics_InfoPane="News_DigestTopics_InfoPane",t.News_DigestTopStories="News_DigestTopStories",t.News_DigestTopics_TrendingNow="News_DigestTopics_TrendingNow",t.DigestGem="DigestGem",t.DigestNews="DigestNews"}(r||(r={}));const a=Object.freeze([r.MoneyInfo,r.MoneyInfoMiniWidget,r.SportsStackCard,r.PersonalFinanceStackCard,r.CopilotCard,r.DailyBriefCard,r.DailyWonderCard,r.NewsDailyWonderCard,r.News_DigestDaily,r.News_DigestGem,r.News_DigestInfopane,r.News_DigestTopics,r.News_DigestTopStories,r.News_DigestTopics_TrendingNow,r.DailyMomentsCard,r.DigestCardRuby,r.GemCard,r.GemArticle,r.LittleKnownFactsCard,r.NewsLittleKnownFactsCard,r.SportsMatch,r.SportsMatchMiniWidget,r.SpotlightStackCard,r.EsportsCasualGames,r.EsportsCasualGamesMiniWidget,r.WeatherSummary,r.WeatherSummaryMiniWidget,r.CatchUpStack,r.TopicFeed,r.TopStoriesRuby,r.NewsTopStories,r.TrendingNowRuby,r.NewsTrendingNow,r.UserInterestNTPProvider,r.ShoppingTopSectionCard,r.ShoppingCard,r.BreakingNewsNotification,r.TopSectionNews,r.SavedContent,r.ForYouNotification,r.CreatorSpotlight,r.NewsCreatorSpotlight]),c=[r.NativeAd,r.CmsAd,r.AmplifyAd,r.EventSDCardAmplifyAds,r.BoostAd,r.BoostAdsBanner,r.BoostAdsCoachmark,r.BuyDirectAd,r.NativeTopAd,r.FirstPartyAd,r.ShoppingInfopaneAd1,r.ShoppingInfopaneAd2,r.ShoppingInfopaneAd3,r.ShoppingInfopaneAd4,r.IntraNativeAd]},83078:function(t,e,n){n.d(e,{M:function(){return s}});var i=n(88294);const r="-start";class o{constructor(){this.endMarkSuffix="-end","undefined"!=typeof window&&this.initialize(window.performance)}static getInstance(){return o.instance||(o.instance=new o),o.instance}initialize(t){this.performance=t}startMark(t){this.singleMark(t+r)}endMark(t){this.singleMark(t+this.endMarkSuffix),this.measureStartEnd(t)}singleMark(t){const e=this.performance;e&&e.mark&&(e.mark(t),i.v.log(`[PerfMarker] ${t}`))}clearMark(t){const e=this.performance;e&&e.clearMarks&&e.clearMarks(t)}clearMeasures(t){const e=this.performance;e&&e.clearMeasures&&e.clearMeasures(t)}async measurePromise(t,e){this.startMark(t);const n=await e();return this.endMark(t),n}measurePerfMarker(t){if(!this.performance)return;const e={},n=this.performance.getEntriesByType("mark");if(!n)return e;for(let i=0;i<n.length;i++){let r=n[i].name;if(!r||null==n[i].startTime)continue;if(r=r.replace(/-(end|start)$/i,""),!r.startsWith(t))continue;const o=e[r]||new a(r);o.processPerfEntry(n[i]),o.isValid&&(e[r]=o)}return e}measureStartEnd(t){const e=this.performance;if(e&&e.measure)try{e.measure(t,t+r,t+this.endMarkSuffix)}catch(e){i.v.logError(`Error while attempting to measure start/end of '${t}'. Error: ${e}`)}}}const s=o.getInstance();class a{constructor(t){this.duration=0,this.markerName=t}get isValid(){return null!=this.startTime}processPerfEntry(t){t.name.endsWith(r)?(this.firstStartTime||(this.firstStartTime=t.startTime),this.startTime=t.startTime):null!=this.startTime&&(this.duration+=t.startTime-this.startTime,this.startTime=null)}}},83542:function(t,e,n){n.d(e,{i:function(){return l}});var i=n(99382),r=n(27597),o=n(73691),s=n(33107),a=n(47475),c=n(80164),u=n(35849);(0,r.C1)(u.zP);class l{get store(){return this._subspace}get fullNamespace(){return this._fullNamespace}get configHref(){return this._configHref}set configHref(t){this._configHref=t}constructor(t,e,n,i,r,s,c){let u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.namespace=t,this.parentNamespace=e,this.rootReducer=n,this.reducer=i,this.config=s,this.requestContext=c,this.isGlobal=u,this._fullNamespace=void 0!==e&&""!==e?e+"."+t:t,this.selectState=this.selectState.bind(this),this._subspace=(0,a.Vi)(this.selectState,this.namespace)(r);const l=this.perfTimeline=this.tryGetPerfTimeline(t);this.fetch=(0,o.xS)({perfTimeline:l}),n.addSubReducerForConnector(this)}getCurrentState(){const t=this.store.getState()[i.j.connectorStateKey];if(!this.isGlobal){const e=this.rootReducer.globalConnectors();0!==e.length&&e.forEach(e=>{(0,c.A)(t,e.namespace,e.getCurrentState())})}return t}onApplicationStart(){}selectState(t){return t[this.namespace]}tryGetPerfTimeline(t){const e=t.split("_"),[n]=e,i=e[e.length-1];return(0,s.S9)(n,i)}}},84080:function(t,e,n){function i(t){const e=performance.getEntriesByType("visibility-state").filter(e=>e.startTime<t);if(0===e.length)return t;let n=0;for(let r=0;r<e.length;r++){const o=e[r];var i;if("visible"===o.name)n+=((null===(i=e[r+1])||void 0===i?void 0:i.startTime)??t)-o.startTime}return n}n.d(e,{C:function(){return i}})},84397:function(t,e,n){n.d(e,{B3:function(){return a},Dn:function(){return v},F3:function(){return l},GD:function(){return c},J8:function(){return h},LQ:function(){return p},QR:function(){return i},TR:function(){return f},XD:function(){return g},Y$:function(){return y},_D:function(){return o},cR:function(){return m},ct:function(){return w},hO:function(){return d},oi:function(){return r},wf:function(){return u}});const i={PrivacyUrl:"https://go.microsoft.com/fwlink/?LinkID=286759",SamDomain:"https://srtb.msn.com/",SamEndpoint:"auction",SamOpenRtbEndpoint:"auctionopenrtb",LeadgenEndpoint:"leadgenads",AppId:"msnappid",PublisherId:"msn",Ecasession:"init",RiverRegion:"river",RiverDoubleWide:"river-dbl",RiverHalfTextOnly:"river-half-textonly",RiverHalf:"river-half",ReservedRiver:"resriver",UserOptOut:"userOptOut",UserOptOutOptions:"userOptOutOptions",DefaultPartnerCookieSyncTimeout:500,BulkCookieSyncTimeout:1e3,WaitForAdResponseAfterWPOResponseTimeout:1500,DefaultContentServiceBaseUrl:"https://assets.msn.com/content/",SamOpenRTBMinTimeout:800,LeadgenAdServiceTimeout:3e3},r={river:"oneriver.main",infopane:"oneriver.spartan.infopane","infopane-tab":"oneriver.spartan.tabinfopane",rivert:"oneriver.maint"},o={BeaconFormatDecoded:"decoded",BeaconFormatEncoded:"encoded",BeaconTypeAdServed:"adserved",BeaconTypeClick:"click",BeaconTypeJsTracker:"jsTracker",BeaconTypeVisibility:"visibility",BeaconTypeVideoProgress:"videoProgress",StartEvent:"start",FirstQuartileEvent:"firstquartile",ThirdQuartileEvent:"thirdquartile",MidPointEvent:"midpoint",CompleteEvent:"complete",ProgressEvent:"progress",UserActionEvent:"userAction"};var s;!function(t){t.Click="click",t.Ready="ready",t.Play="play",t.Pause="pause",t.Ended="ended",t.Telemetry="telemetry",t.VolumeChange="volumechange",t.TimeUpdate="timeupdate",t.Error="error",t.CanPlay="canplay",t.CanPlayThrough="canplaythrough"}(s||(s={}));const a={CMSListServiceUrl:"v1/cms/api/amp/Document/",CMSContentServiceURl:"view/v1/Preview/",DefaultProviderName:"Microsoft"},c={ContentType:"application/json",Method:"POST",CacheControl:"no-cache",Skipsessioncall:"false",ContentTypeKey:"Content-Type",FlightIdKey:"x-ms-flightId",CacheControlKey:"Cache-Control",ClientIdKey:"X-MSEdge-ClientID",MarketKey:"X-MSEdge-Market",AuthCookieNameKey:"x-ms-authCookieName",Timeout:3e3,BCPCookieKey:"BCP",UserAgent:"User-Agent",AdsNumberLineKey:"X-ms-numberline"},u={MSAOptOut:"msaoptout",BrowserOptOut:"TOptOut",AppAnonCookieExist:"aace",TaboolaSessionCookieName:"ecasession",CookieDomain:"msn.com",AnonCookieName:"ANON",LiverampEnvelopeId:"adslrid"},l={"de-de":"BBGgbuP","en-gb":"BBI4NMr","en-us":"BBI4MeJ","it-it":"BBH0fea","de-at":"BBIbKRf","de-ch":"BBH6mkD","pl-pl":"BBGgsgw","tr-tr":"BBH3vBx","es-es":"BBGdmuQ","en-au":"BBGfT6j","es-ar":"BBH69zf","es-cl":"BBH6qTU","es-co":"BBH3TQV","es-pe":"BBIbVzn","es-mx":"BBGg7xs","pt-br":"BBI4jJ6","en-ca":"BBI4FN9","he-il":"BBIbHNd","fr-ch":"BBIfDNl","nl-be":"BBH6zcN","fr-be":"BBIclrE","fr-fr":"BBI4XBF","nl-nl":"BBGgoUg","pt-pt":"BBH3qlj","zh-cn":"BBPRWnl","ja-jp":"AAvs5xw","ko-kr":"AAvrTXp","en-xl":"AAxzSQi","es-us":"AAuAfA8","fr-ca":"BBH6Awm","es-xl":"BBIfH5i","cs-cz":"BBPwecC","da-dk":"BBGKGmb","el-gr":"BBIc8WA","fi-fi":"BBH6Cse","hu-hu":"BBPw6XX","nb-no":"BBI4EVt","ru-ru":"BBH3gvW","sv-se":"BBH3vHp","ar-ae":"BBIf1cG","ar-eg":"BBIcggw","ar-sa":"BBIc6wN","en-ae":"BBIbBRO","en-ie":"BBIclgh","en-za":"BBIc5NR","en-in":"BBGeThK","en-sg":"BBIfqX9","en-nz":"BBIc483","zh-hk":"BBIbPBb","hi-in":"BBH85g2","mr-in":"BBU7J93","te-in":"BBU7JcP","bn-in":"BBU7Qw4","id-id":"BBIc9Ls","th-th":"BBIbPH4","vi-vn":"BBIcbQS","es-ve":"BBIcaTp","fr-xl":"AAD4nFo","en-my":"BBIclH7","en-ph":"BBIcbaP","zh-tw":"BBH3qpv"},d={"de-de":"Gesponsert","en-gb":"Sponsored","en-us":"Sponsored","it-it":"Sponsorizzato","de-at":"Gesponsert","de-ch":"Gesponsert","pl-pl":"Sponsorowane","tr-tr":"Sponsorlu","es-es":"Patrocinado","en-au":"Sponsored","es-ar":"Patrocinado","es-cl":"Patrocinado","es-co":"Patrocinado","es-pe":"Patrocinado","es-mx":"Patrocinado","pt-br":"Patrocinado","en-ca":"Sponsored","he-il":"","fr-ch":"Sponsoroitu","nl-be":"Gesponsord","fr-be":"Sponsoroitu","fr-fr":"Sponsoroitu","nl-nl":"Gesponsord","pt-pt":"Patrocinado","zh-cn":"","ja-jp":"","ko-kr":"","en-xl":"Sponsored","es-us":"Patrocinado","fr-ca":"Sponsoroitu","es-xl":"Patrocinado","cs-cz":"Sponzorovno","da-dk":"Sponsoreret","el-gr":" ","fi-fi":"Sponsoroitu","hu-hu":"Hirdets","nb-no":"Sponset","ru-ru":" ","sv-se":"Sponsrad","ar-ae":"","ar-eg":"","ar-sa":"","en-ae":"Sponsored","en-ie":"Sponsored","en-za":"Sponsored","en-in":"Sponsored","en-sg":"Sponsored","en-nz":"Sponsored","zh-hk":"","hi-in":" ","mr-in":" ","te-in":"","bn-in":" ","id-id":"Disponsori","th-th":"","vi-vn":"c tai tr","es-ve":"Patrocinado","fr-xl":"Sponsoroitu","en-my":"Sponsored","en-ph":"Sponsored","zh-tw":""},f={"de-de":"Anzeige","en-gb":"Ad","en-us":"Ad","it-it":"Ann.","de-at":"Anzeige","de-ch":"Anzeige","pl-pl":"Reklama","tr-tr":"R","es-es":"Publicidad","en-au":"Ad","es-ar":"Patrocinado","es-cl":"Patrocinado","es-co":"Patrocinado","es-pe":"Patrocinado","es-mx":"Patrocinado","pt-br":"Publicidade","en-ca":"Ad","he-il":"","fr-ch":"Sponsoris","nl-be":"Advertentie","fr-be":"Sponsoris","fr-fr":"Sponsoris","nl-nl":"Advertentie","pt-pt":"Pub","zh-cn":"","ja-jp":"PR","ko-kr":"AD","en-xl":"Ad","es-us":"Patrocinado","fr-ca":"Pub","es-xl":"Patrocinado","cs-cz":"Reklama","da-dk":"Annonce","el-gr":"Ad","fi-fi":"Mainos","hu-hu":"Hird.","nb-no":"Annonse","ru-ru":"","sv-se":"Annons","ar-ae":"","ar-eg":"","ar-sa":"","en-ae":"Ad","en-ie":"Ad","en-za":"Ad","en-in":"Ad","en-sg":"Ad","en-nz":"Ad","zh-hk":"","hi-in":"","mr-in":"","te-in":"","bn-in":"","id-id":"Ad","th-th":"Ad","vi-vn":"Ad","es-ve":"Patrocinado","fr-xl":"Sponsoris","en-my":"Ad","en-ph":"Ad","zh-tw":""},h=["ja-jp","ko-kr","zh-cn"],p={MyFeedPivotId:"oneriver.myfeed",StripeMyFeedPivotId:"stripe.myfeed",EditInterestPivotId:"oneriver.editinterests"};var m;!function(t){t[t.AdBuffering=1]="AdBuffering",t[t.ContentBuffering=2]="ContentBuffering",t[t.AdError=10]="AdError",t[t.AdPlayStarted=11]="AdPlayStarted",t[t.AdPlayCompleted=13]="AdPlayCompleted",t[t.AdSkipped=15]="AdSkipped",t[t.AdTimeout=16]="AdTimeout",t[t.AdPause=17]="AdPause",t[t.AdResume=18]="AdResume",t[t.ContentError=20]="ContentError",t[t.ContentStart=21]="ContentStart",t[t.ContentContinue=22]="ContentContinue",t[t.ContentComplete=23]="ContentComplete",t[t.CC=30]="CC",t[t.Pause=31]="Pause",t[t.Seek=32]="Seek",t[t.Mute=33]="Mute",t[t.FullScreenEnter=34]="FullScreenEnter",t[t.Info=35]="Info",t[t.VideoQuality=36]="VideoQuality",t[t.Resume=37]="Resume",t[t.FullScreenExit=38]="FullScreenExit",t[t.Replay=39]="Replay",t[t.Unmute=40]="Unmute",t[t.ContentImpression3PP=41]="ContentImpression3PP",t[t.Facebook=51]="Facebook",t[t.Twitter=52]="Twitter",t[t.Email=53]="Email",t[t.CommonPlayerImpression=61]="CommonPlayerImpression",t[t.EndslateVideos=64]="EndslateVideos",t[t.EndslateContinuous=65]="EndslateContinuous",t[t.EndslateCancelCountdown=66]="EndslateCancelCountdown",t[t.EndslateShown=67]="EndslateShown",t[t.PlayerStarting=90]="PlayerStarting",t[t.AdLoading=91]="AdLoading",t[t.AdLoaded=92]="AdLoaded",t[t.VideoLoading=93]="VideoLoading",t[t.ContentOpen=101]="ContentOpen",t[t.Content25Percent=102]="Content25Percent",t[t.Content50Percent=103]="Content50Percent",t[t.Content75Percent=104]="Content75Percent",t[t.Canplay=105]="Canplay",t[t.Canplaythrough=106]="Canplaythrough"}(m||(m={}));const g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","CN","GB","BR","CH","TR","CA","QA","OM","SA","JO","NG","KE","ZA"],v=["en-us","es-us"],w=20,y=280},84751:function(t,e,n){n.d(e,{a:function(){return o},fw:function(){return r},lJ:function(){return s}});var i=n(96950);const r=i.qy`<svg class="button-glyph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048" width="16" height="16">
 <path d="M1169 1024l879 879-145 145-879-879-879 879L0 1903l879-879L0 145 145 0l879 879L1903 0l145 145-879 879z" />
</svg>`,o=i.qy`<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" class="expand-collapse-glyph">
<path d="M4.47 2.22c-.3.3-.3.77 0 1.06L7.19 6 4.47 8.72a.75.75 0 001.06 1.06l3.25-3.25c.3-.3.3-.77 0-1.06L5.53 2.22a.75.75 0 00-1.06 0z"></path>
</svg>`,s=i.qy`<svg class="button-glyph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048" width="16" height="16" part="hamburgerSvg">
 <path d="M2048 640H0V512h2048v128zm0 1024H0v-128h2048v128zm0-513H0v-127h2048v127z" />
</svg>`},84855:function(t,e,n){n.d(e,{$1A:function(){return U},$1s:function(){return Ma},$AT:function(){return il},$B1:function(){return Go},$K6:function(){return vi},$LH:function(){return La},$PL:function(){return os},$U7:function(){return Vs},$YM:function(){return Tt},$cA:function(){return yu},$i6:function(){return $r},$mD:function(){return Ga},$mu:function(){return ya},$on:function(){return No},$q6:function(){return ii},$v:function(){return en},A$l:function(){return we},ABl:function(){return Ws},AN5:function(){return ft},AOC:function(){return qi},AUK:function(){return ia},AUU:function(){return ho},Acs:function(){return X},Adx:function(){return oa},Ae$:function(){return du},AeL:function(){return _a},AfX:function(){return D},An8:function(){return kt},Aqo:function(){return Nt},ArF:function(){return vr},AxF:function(){return ps},B$w:function(){return Vt},B34:function(){return Pi},B7V:function(){return Eu},B7r:function(){return Re},BCq:function(){return so},BDB:function(){return us},BJK:function(){return Ht},BKu:function(){return Ys},BPC:function(){return Ou},BV_:function(){return et},B_E:function(){return Ne},Ben:function(){return Ae},Bkj:function(){return Gu},BsJ:function(){return Kn},Btw:function(){return tc},Bvk:function(){return q},C$X:function(){return Me},C25:function(){return N},C3j:function(){return _s},CAb:function(){return S},CAk:function(){return Ji},CJU:function(){return de},CKw:function(){return rs},CN:function(){return $c},CNr:function(){return _},CVt:function(){return We},Cbw:function(){return zt},CfA:function(){return kc},Cfl:function(){return go},Cfy:function(){return wn},Ch2:function(){return fs},Cj7:function(){return ru},CnP:function(){return cs},Cvt:function(){return Ho},CzP:function(){return _e},D$Z:function(){return Uu},D19:function(){return Qr},D69:function(){return Ke},DKz:function(){return Pe},DQH:function(){return tl},DSN:function(){return oe},DXU:function(){return Bn},DZv:function(){return rc},DfK:function(){return f},Dj6:function(){return xt},Dl_:function(){return Xu},E2:function(){return Et},ED:function(){return Lr},EHb:function(){return uu},EJM:function(){return xs},EUj:function(){return A},Ej:function(){return o},Erl:function(){return dr},Ew1:function(){return xc},F$I:function(){return fc},F0b:function(){return m},F2:function(){return br},F5C:function(){return io},F9m:function(){return lc},FC5:function(){return vs},FD:function(){return Xc},FEr:function(){return nt},FM9:function(){return $n},FOf:function(){return Ku},FOs:function(){return au},FSw:function(){return Fr},FYv:function(){return Qe},FcC:function(){return xi},Fep:function(){return xe},FjG:function(){return h},G2r:function(){return At},G2t:function(){return ke},GFw:function(){return ko},GIn:function(){return jn},GjX:function(){return To},HOb:function(){return Rr},HPc:function(){return Zc},HTg:function(){return j},HXk:function(){return Jo},HYZ:function(){return Zi},HfM:function(){return Os},Hwy:function(){return Ia},I7z:function(){return ts},IMn:function(){return hr},IR9:function(){return mc},IRE:function(){return tu},IUg:function(){return Ha},IUs:function(){return hs},IWO:function(){return gn},IbX:function(){return ws},Igw:function(){return le},Iju:function(){return Ba},Ir6:function(){return Dn},Isg:function(){return Ja},IxT:function(){return Co},J9$:function(){return Li},JCB:function(){return $t},JCG:function(){return Kr},JCv:function(){return Fu},JID:function(){return b},JMd:function(){return _o},JOJ:function(){return L},JY9:function(){return Ln},JYX:function(){return Qn},JdX:function(){return ar},Jqf:function(){return Bc},JxY:function(){return zi},K8q:function(){return s},K9G:function(){return Fn},KB5:function(){return ma},KHV:function(){return Be},KJl:function(){return Ao},KTI:function(){return re},KaV:function(){return Lt},Kag:function(){return oc},KdP:function(){return tn},KsV:function(){return Zo},Kt8:function(){return bi},Kvq:function(){return Jc},LFC:function(){return ku},LGh:function(){return z},LLs:function(){return Mo},LSw:function(){return Ue},LVx:function(){return Mu},LjG:function(){return ys},LkC:function(){return $o},Lph:function(){return ks},Lwu:function(){return cn},LxF:function(){return Ye},Lz8:function(){return wr},M4f:function(){return yt},M8j:function(){return gu},MAn:function(){return yi},MEK:function(){return Ge},MFN:function(){return Wa},MIc:function(){return k},Mc6:function(){return rn},Mf4:function(){return nn},N0q:function(){return bo},N34:function(){return So},N6u:function(){return Z},NE7:function(){return Bs},NJc:function(){return pn},Nbo:function(){return Vc},Nip:function(){return Kc},NjZ:function(){return Io},NuQ:function(){return gi},O0R:function(){return nu},OBg:function(){return ce},OTF:function(){return J},OVJ:function(){return Ko},O_p:function(){return qt},Oc7:function(){return cc},Ohn:function(){return po},Op9:function(){return x},OuL:function(){return sn},Ouq:function(){return a},P$f:function(){return _t},P4y:function(){return Ui},P5d:function(){return Wc},P6d:function(){return ee},P6g:function(){return Xn},P83:function(){return uo},PEi:function(){return Ts},PGA:function(){return Tr},PIH:function(){return Xi},PMX:function(){return Pt},PP4:function(){return Ei},PRP:function(){return sa},PSy:function(){return En},PbL:function(){return wi},Pfk:function(){return hc},Pju:function(){return rr},Pq7:function(){return bu},PsK:function(){return ka},PvQ:function(){return xn},PyO:function(){return Bo},PyZ:function(){return Ii},QCU:function(){return Yn},QJZ:function(){return Vo},QO_:function(){return Ut},QSA:function(){return kr},QYe:function(){return Qi},Qb0:function(){return er},QcA:function(){return R},Qj3:function(){return pe},QmR:function(){return it},Qoi:function(){return Q},QpX:function(){return Mi},Qs5:function(){return Ic},QtQ:function(){return Ci},R6D:function(){return Eo},R7J:function(){return mu},RFF:function(){return rl},RLX:function(){return nl},RMd:function(){return lt},RSF:function(){return aa},RVI:function(){return qc},Rh6:function(){return Hc},Rpm:function(){return fo},Ruc:function(){return De},S1l:function(){return be},S6:function(){return _c},S6v:function(){return Wi},SAI:function(){return Zt},SAb:function(){return c},SJ2:function(){return qa},SLF:function(){return qu},SLN:function(){return Vi},SNY:function(){return C},SSD:function(){return $s},SU9:function(){return Ta},SWl:function(){return si},SbE:function(){return ao},Sdo:function(){return pr},Sld:function(){return O},Srt:function(){return Nc},Sxv:function(){return Qu},T3B:function(){return As},T3T:function(){return Pu},T7e:function(){return hu},TAx:function(){return $e},TOK:function(){return Dr},TlD:function(){return wo},TzA:function(){return lu},U72:function(){return p},U8S:function(){return ir},UET:function(){return Fo},UZs:function(){return gc},Ujv:function(){return Ni},UlU:function(){return at},UoA:function(){return ou},Uom:function(){return Tc},Urf:function(){return u},V9h:function(){return jr},VLS:function(){return Ro},VMF:function(){return Hi},VPW:function(){return vu},VjU:function(){return Za},Vzq:function(){return vn},W1Y:function(){return Au},W1i:function(){return Ps},W2:function(){return W},W34:function(){return Fi},W9P:function(){return yc},WG6:function(){return l},WNH:function(){return vc},WO6:function(){return fe},WgF:function(){return ln},Wi9:function(){return Xt},WlQ:function(){return qs},X0z:function(){return Wn},X2D:function(){return Is},XEv:function(){return Vn},XRH:function(){return Ki},XSf:function(){return Hr},XTG:function(){return ut},XTS:function(){return Fa},XvT:function(){return bs},Y7O:function(){return y},Y95:function(){return hi},YCb:function(){return xa},YFx:function(){return is},YPW:function(){return ui},YPZ:function(){return na},Y_V:function(){return ve},Yac:function(){return lo},Yeu:function(){return no},Yhc:function(){return Zu},Yw8:function(){return tt},Z6M:function(){return jo},Z9n:function(){return fu},ZC1:function(){return fa},ZL8:function(){return Fe},ZPV:function(){return vt},Zgg:function(){return Y},Zhi:function(){return fn},Zj5:function(){return Un},Zt2:function(){return ua},ZtX:function(){return ha},Zyh:function(){return Ls},_07:function(){return Xo},_1F:function(){return oi},_1i:function(){return eu},_5A:function(){return mt},_C5:function(){return ze},_E8:function(){return Si},_Jh:function(){return Ur},_PY:function(){return Aa},_bP:function(){return cu},_ge:function(){return Wr},_iH:function(){return ye},_wQ:function(){return ge},a0f:function(){return ro},a0r:function(){return Se},aAb:function(){return qo},aC:function(){return ri},aI7:function(){return On},aJM:function(){return Cu},aJb:function(){return Pc},aR4:function(){return Jr},aT3:function(){return Ca},aVt:function(){return Gn},aYj:function(){return Da},adn:function(){return Sr},ahW:function(){return ai},apg:function(){return Ua},asX:function(){return He},avx:function(){return Ft},b8g:function(){return Ie},bBp:function(){return i},bN8:function(){return te},bNy:function(){return $i},bQD:function(){return Jt},bVF:function(){return Rs},bpE:function(){return Ju},c$z:function(){return Oo},c5_:function(){return Vu},c8z:function(){return ic},c9U:function(){return Sn},cEj:function(){return _n},chB:function(){return li},cif:function(){return wa},cpF:function(){return Kt},ct7:function(){return w},d3:function(){return An},dHl:function(){return zo},dIv:function(){return tr},dVA:function(){return Fs},dXe:function(){return Ru},dZV:function(){return sr},dnH:function(){return Ec},dnU:function(){return nc},dxc:function(){return ti},e19:function(){return mi},e1E:function(){return oo},e1W:function(){return Qt},eGH:function(){return wc},eHh:function(){return Gc},eVF:function(){return K},eYr:function(){return T},ehF:function(){return pu},elO:function(){return ec},em2:function(){return ea},enh:function(){return Ai},ep3:function(){return Wu},eww:function(){return st},exF:function(){return Lc},eyY:function(){return ra},ezG:function(){return Ms},f2c:function(){return $u},fBZ:function(){return ac},fCz:function(){return $a},fQG:function(){return ji},fVD:function(){return el},fgP:function(){return ca},g$M:function(){return lr},g3L:function(){return an},g4B:function(){return Qo},g4M:function(){return Sc},gIA:function(){return Ac},gIT:function(){return Ve},gJ$:function(){return yr},gNr:function(){return Us},gQ$:function(){return Bu},ggT:function(){return ur},gqj:function(){return Qc},grb:function(){return ds},gvE:function(){return Le},h1:function(){return Pn},h7w:function(){return qn},hBV:function(){return ga},hCA:function(){return iu},hEo:function(){return ie},hLd:function(){return Ds},hkb:function(){return Rn},hqD:function(){return Xa},hwV:function(){return Lu},hxV:function(){return H},hzk:function(){return Yi},i:function(){return Mr},i1_:function(){return bc},iEy:function(){return G},iIw:function(){return Ti},iNz:function(){return Xs},iR_:function(){return Ot},iRp:function(){return ot},i_T:function(){return r},iej:function(){return v},ikz:function(){return pi},j$N:function(){return Oi},j2b:function(){return nr},j90:function(){return Dt},jCw:function(){return qe},jHn:function(){return Zn},jRe:function(){return ki},jeg:function(){return Es},jh7:function(){return pt},jkJ:function(){return Na},jz6:function(){return Gi},k29:function(){return ct},k2X:function(){return Mn},kW8:function(){return zn},kXx:function(){return pc},k_X:function(){return Po},ke2:function(){return Ya},khk:function(){return Ns},krc:function(){return ta},ktl:function(){return Bi},l$J:function(){return Zs},lDi:function(){return Cs},lHB:function(){return yo},lJH:function(){return Hn},lQk:function(){return Hu},lr:function(){return Di},lwF:function(){return Wt},m$j:function(){return wt},mLJ:function(){return fi},mVK:function(){return da},mhC:function(){return _r},mkF:function(){return zs},mny:function(){return vo},moo:function(){return mn},mrt:function(){return or},nDd:function(){return Gs},nDg:function(){return Er},nFz:function(){return Nu},nQd:function(){return ns},nR3:function(){return Du},nZy:function(){return Sa},n_I:function(){return F},nau:function(){return Rt},nlv:function(){return B},nnw:function(){return Oc},nwD:function(){return se},o$H:function(){return Gt},oC8:function(){return E},oCI:function(){return es},oHo:function(){return Qa},oJ5:function(){return Nr},oMs:function(){return je},oOo:function(){return V},oWn:function(){return ls},oXp:function(){return Ar},of8:function(){return Qs},ohD:function(){return Br},ojW:function(){return St},ote:function(){return I},owB:function(){return Ze},oz5:function(){return ms},ozo:function(){return on},pH:function(){return ae},pQI:function(){return Yc},pSY:function(){return Va},p_1:function(){return ja},pfG:function(){return dc},pkK:function(){return Ea},pqA:function(){return M},pqd:function(){return Ee},psk:function(){return zr},pt1:function(){return Oe},ptP:function(){return la},ptQ:function(){return fr},puY:function(){return hn},q8j:function(){return Dc},q8z:function(){return In},qIz:function(){return Mt},qMv:function(){return kn},qNJ:function(){return bt},qb$:function(){return za},qfU:function(){return xo},qgh:function(){return jc},qkr:function(){return Js},r3n:function(){return It},r4q:function(){return qr},r87:function(){return Vr},rAl:function(){return co},rK_:function(){return un},rV4:function(){return _i},rWZ:function(){return Tu},rh2:function(){return Cn},rl5:function(){return zu},rmE:function(){return Bt},s$b:function(){return Cc},s$e:function(){return va},s1n:function(){return Or},s4M:function(){return gt},s7z:function(){return me},sUJ:function(){return Xe},sZo:function(){return yn},s_6:function(){return zc},shR:function(){return ni},sji:function(){return to},skl:function(){return ei},skx:function(){return ue},smC:function(){return ne},spA:function(){return ht},spT:function(){return Zr},swS:function(){return Nn},sz2:function(){return mo},tKm:function(){return Fc},tN3:function(){return wu},tX4:function(){return gs},ty6:function(){return dt},u1j:function(){return Uc},u2C:function(){return gr},uBV:function(){return as},uGz:function(){return Iu},uKL:function(){return cr},uM1:function(){return $},uWu:function(){return Ct},uY0:function(){return Uo},uby:function(){return rt},uy5:function(){return Lo},v$w:function(){return sc},v7O:function(){return Ce},vAe:function(){return Jn},vAv:function(){return Rc},vOM:function(){return Pa},vRr:function(){return Ks},vXx:function(){return Gr},ve9:function(){return Tn},vjl:function(){return d},vq4:function(){return Te},vqF:function(){return Ir},w0E:function(){return g},wHA:function(){return Hs},wNB:function(){return Cr},wTj:function(){return Do},wcr:function(){return Ri},wxC:function(){return Su},xQX:function(){return Yt},xYf:function(){return xr},xdy:function(){return Xr},xiF:function(){return Yu},xm:function(){return uc},xmJ:function(){return Ka},xsS:function(){return Ss},xye:function(){return Pr},y55:function(){return Wo},y7p:function(){return Ra},yFF:function(){return ba},yFt:function(){return eo},ySl:function(){return bn},ySv:function(){return jt},yT:function(){return xu},yVO:function(){return Yo},yXx:function(){return Yr},yl:function(){return ci},ymm:function(){return P},yrn:function(){return su},yy7:function(){return Je},z3c:function(){return dn},zCf:function(){return Oa},zHB:function(){return mr},zOi:function(){return _u},zV7:function(){return he},zXW:function(){return js},zeO:function(){return di},zhA:function(){return pa},znK:function(){return ju},znl:function(){return Mc},ztc:function(){return ss}});const i="ShoppingCategoryPage",r="AboveRiverBlock",o="ActionTray",s="ArticleCloseButton",a="ArticleRelatedStories",c="ArticleTopComment",u="AutosCard",l="AutosCarousel",d="AutosEntityCardWC",f="AutosEntitySpan",h="BackToTopButton",p="BackgroundGallery",m="BackgroundImageWC",g="BingDailyQuizCard",v="BingHealthCard",w="BingHealthFitnessCard",y="BingHomepageFeed",b="BingWebSSO",S="BoostAd",x="BoostAdCard",C="BreakingNewsWC",k="CalendarCard",T="CardActionWC",$="CashbackCarousel",A="CashbackCarouselCard",I="CasualGamesBanner",P="CasualGamesCard",_="CasualGamesCarouselCard",M="CasualGamesEntertainmentTakeover",R="CasualGamesZhCarousel",E="CasualGamesFeed",F="CasualGamesFrame",D="CasualGamesGameCardCarousel",O="CasualGamesGameplay",N="CasualGamesGameplayRightRail",U="CasualGamesHub",L="CasualGamesLandingV2",B="CasualGamesPill",W="CasualGamesProng2CarouselCard",H="CasualGamesStripeCarouselCard",V="CasualGamesUserProfilePreview",z="ChannelEntryPoint",j="ChannelFilterCard",q="ChannelInterestsManager",G="ChannelMobileContent",J="ChannelPage",K="ChannelStore",Q="ChromeExtensionPage",X="TrackerCreate",Y="TrackerPage",Z="TrackerTopic",tt="CmsBaseExperience",et="CmsExperience",nt="CodexBingChat",it="ColdStartWC",rt="CommonAutoSuggest",ot="CommonHeader",st="CommonHeaderWC",at="CommonSearchBoxEdgeNext",ct="CommonSettingsEdgeNext",ut="CommunityCard",lt="CommunityComposeCopilotWC",dt="CommunityInfoCard",ft="CommuteCard",ht="CompanionWidget",pt="ComplexContentPreview",mt="ConditionalBannerHpWC",gt="ConditionalBannerWC",vt="ConsumptionFeedWC",wt="ConsumptionPage",yt="ContentFlexInfoPane",bt="ContentGroup",St="ContentGroupCard",xt="ContentPreview",Ct="ContentTts",kt="ContextualFeedbackWC",Tt="CopilotConsumptionLandingPage",$t="CopilotFeedViewWC",At="CopilotRubyCard",It="CopilotSuggestionPrompts",Pt="CopilotPromptsCardForWork",_t="CpcMonetizationDashboard",Mt="CreatorSpotlightCard",Rt="DailyBriefCard",Et="DailyBriefFullPagePlayer",Ft="DailyGreetingCard",Dt="DailyGreetingWindowsShell",Ot="DailyMomentsCard",Nt="DailyWonderCard",Ut="DailyWonderCopilotCard",Lt="DashboardFallback",Bt="DashboardSettings",Wt="DebugButton",Ht="DenseCard",Vt="DesktopFeedHubWC",zt="DesktopFeedViewsWC",jt="DesktopFeedWC",qt="DevTools",Gt="DidYouKnowImageWCExperience",Jt="DidYouKnowWCExperience",Kt="DigestCard",Qt="DisplayAds",Xt="DisplayAdsWC",Yt="DisplayAdsWithContentFallback",Zt="DistributionFeed",te="DistributionHeader",ee="DistributionPage",ne="DistributionPivotsNav",ie="DonationNpoCard",re="EdgeChromiumPageWC",oe="EdgeShopping",se="ElectionCard",ae="EmmxEntrypoint",ce="EntertainmentCard",ue="EntertainmentPremierCard",le="EntryPointHpMobile",de="EntryPointHpWC",fe="EntryPointHpRuby",he="EntryPointMobileHub",pe="EntryPointViewsWC",me="EsportsCard",ge="EsportsCasualGamesCard",ve="ExamPage",we="ExampleOfferCard",ye="ExperiencePreviewCta",be="ExternalContentPreview",Se="FamilyCard",xe="FeedContainer",Ce="FeedLevelFeedbackWC",ke="FeedNavigationHp",Te="FeedbackCard",$e="FeedbackDialogWC",Ae="FeedbackLink",Ie="FeedbackLinkWC",Pe="FeedOffDialog",_e="ProactiveFeedbackWC",Me="FinanceCarousel",Re="FinanceIndicesCard",Ee="FloatButtonGroupWC",Fe="FlyoutCard",De="FollowingFreConfirmation",Oe="FollowingFreFullWidth",Ne="FoodSimilarItems",Ue="FreEntrypoint",Le="FrequentSitesCardWC",Be="GamingChannel",We="GamingDiscoverStrip",He="GamingPage",Ve="GamingRecentlyPlayedCard",ze="GemCardWCE",je="GeneralElections",qe="GridViewFeed",Ge="HeaderNavigationLogo",Je="HeaderWindowsShellWC",Ke="HealthArticlesCardWC",Qe="HealthAugmentCard",Xe="HealthDietPlanScheduleWC",Ye="HealthFeedbackWC",Ze="HealthFitnessCarousel",tn="HealthFoodHealtheffectsWC",en="HealthFoodRecipesWC",nn="HealthHubHealthapp",rn="HealthInterestsManager",on="HealthQnAWCExperience",sn="HealthRiverWC",an="HealthTipReact",cn="HealthTipWC",un="HealthTopSpan",ln="HealthTopicFlyout",dn="HealthTranslationWC",fn="HeroContainerWC",hn="HomepageFooter",pn="HomepageHeader",mn="HomepagePwaMobile",gn="HoroscopeAnswerCardWC",vn="HotListCard",wn="HpFeedSwitch",yn="ImmersiveFullscreen",bn="Infopane",Sn="InspirationCard",xn="InterestFreCard",Cn="InterestManagementCard",kn="InterestsManager",Tn="InterestsWC",$n="IosPwaInstallInstructions",An="IssueReportingWC",In="KaSocialBuzz",Pn="KeyTakeawaysWC",_n="LanguageToggleWC",Mn="LinkedInCard",Rn="LocalHubHeader",En="LocalizeStringsTempExperience",Fn="MailSignoutBanner",Dn="MangaCard",On="MangaCarousel",Nn="MarketLanguageToggleWC",Un="MarketSelector",Ln="MarketplaceCardWC",Bn="MeControl",Wn="MeControlWC",Hn="MeStripeWC",Vn="MicrosoftEdgeWidget",zn="MobileAppUpsell",jn="MobileConsumptionPage",qn="MobileFeedHub",Gn="MobileFeedWC",Jn="MobileFooter",Kn="MobileHeader",Qn="MobileMarketSelector",Xn="MobileNotification",Yn="MobilePopupWindow",Zn="MobileTip",ti="MobileTrendingSearchCard",ei="MobileVideoSdCard",ni="MomentInTimeHero",ii="MoneyAugmentCard",ri="MoneyCopilotWC",oi="MoneyInfo",si="MoneyInfoCard",ai="MoneyInfoCardWC",ci="MoneyInfoSpan",ui="MsRewardsWC",li="MsnFeed",di="MsnSettingMenu",fi="MsnStudio",hi="MyBriefRiverCard",pi="NativeAd",mi="NativeAdWC",gi="NativeTopAd",vi="NavigationPageExperience",wi="NewsletterSignup",yi="NewsletterSignupPage",bi="NotificationBellWC",Si="NotificationMiniCard",xi="NudgeSpotlightCard",Ci="NurturingBanner",ki="NurturingCoachMark",Ti="OfficeAppsWC",$i="OfficeCoachmark",Ai="OfficeDocumentsTableWC",Ii="OfficeLeftRail",Pi="OnThisDayCardWC",_i="OneFooter",Mi="PageRefresh",Ri="PageRefreshWC",Ei="PanoPage",Fi="PersonalFinanceExpenseDistribution",Di="PersonalFinanceTransactionsCard",Oi="PersonalizeNavButton",Ni="PhotoCard",Ui="PillWC",Li="PivotsMobileWC",Bi="PollsCardWC",Wi="PoweredbyLegendWC",Hi="PremiumProfilePromoCard",Vi="PrideEventCard",zi="PrismCarouselCard",ji="PrismFeed",qi="PrismSdCard",Gi="ProductivityHub",Ji="ProfileArticles",Ki="PromotedAdWC",Qi="PublisherList",Xi="PublisherSubscribeFollowButton",Yi="PullToRefresh",Zi="PulseEdgenext",tr="PulseProng",er="Qna",nr="QnaFeed404Page",ir="QnaFeedCard",rr="QnaFeedCardMenu",or="QnaFeedCarousel",sr="QnaFeedCategoriesMenu",ar="QnaFeedExploreTopics",cr="QnaFeedList",ur="QnaFeedMyTopics",lr="QnaFeedRelatedQuestions",dr="QnaFeedReportCard",fr="QnaFeedSuggestedTopics",hr="QnaFeedTopicDetail",pr="QnaFeedTrendingQuestions",mr="QuizCard",gr="ReactionBreakdownDialog",vr="RealEstateCard",wr="RecipesSdCard",yr="RecommendedInterests",br="RecommendedSitesWC",Sr="RewardsCardWC",xr="RewardsFlyout",Cr="RichCalendarCard",kr="RichCalendarLandingPage",Tr="RichCalendarWindowsShell",$r="RightRailProviderCarousel",Ar="RubyComposer",Ir="RubyComposerAutosuggest",Pr="RubyPage",_r="RubyBoardHomePage",Mr="RubyBoardNotificationsCard",Rr="ScrollDownButton",Er="SdCardMaskWC",Fr="SearchBoxWC",Dr="SearchHistoryCommon",Or="SearchHistoryEdgeNextWC",Nr="SelectCarousel",Ur="SharedHeroNewsCard",Lr="SharedLinks",Br="SharepointNewsCard",Wr="ShoppingAllStoresPage",Hr="ShoppingArticlePage",Vr="ShoppingAugmentCard",zr="ShoppingBannerSdCard",jr="ShoppingBingProductDetails",qr="ShoppingBlackjackDealPage",Gr="ShoppingBlackjackPage",Jr="ShoppingBuyingGuide",Kr="ShoppingBuyingGuidePremiumCard",Qr="ShoppingBuyingGuidesCard",Xr="ShoppingCardActions",Yr="ShoppingCardWC",Zr="ShoppingCarousel",to="ShoppingCarouselOfferCard",eo="ShoppingCarouselProngWC",no="ShoppingCarouselWC",io="ShoppingCheckoutModal",ro="ShoppingColdStart",oo="ShoppingCouponsPage",so="ShoppingDealsHomePage",ao="ShoppingDebugPage",co="ShoppingEntryBaseExperience",uo="ShoppingEventsDealCard",lo="ShoppingFashionCarouselWC",fo="ShoppingGemHeroCard",ho="ShoppingGrid",po="ShoppingGroupedCarousel",mo="ShoppingGuidesPage",go="ShoppingHomepage",vo="ShoppingInspiration",wo="ShoppingLeaderboard",yo="ShoppingModal",bo="ShoppingModelOverlay",So="ShoppingMomentInTimePage",xo="ShoppingOfferCard",Co="ShoppingPageBase",ko="ShoppingPageContent",To="ShoppingPivotFeed",$o="ShoppingProductDetailPage",Ao="ShoppingRiverCard",Io="ShoppingSdCard",Po="ShoppingSearch",_o="ShoppingShopTheLookPage",Mo="ShoppingTopSpan",Ro="SignInControlWC",Eo="SignInFlyoutWC",Fo="SignalOverlay",Do="SocialAvatar",Oo="SocialBarWC",No="SocialCommentBox",Uo="SocialCommentWC",Lo="SocialEndorsements",Bo="SocialEntrypoint",Wo="SocialLeadGenInArticle",Ho="SocialNotification",Vo="SocialPostEditorWC",zo="SocialProfileActionMenu",jo="SocialProfileAppeal",qo="SocialProfileCard",Go="SocialProfilePromotion",Jo="SocialProfileRejectionDetails",Ko="SocialProfileTopics",Qo="SocialRelatedSources",Xo="SocialReportMenu",Yo="SocialRewardsMedal",Zo="SocialRewardsPromotion",ts="SocialStarRating",es="SocialSubscriptionBanner",ns="SocialSubscriptionNotification",is="SocialSubscriptionOverlay",rs="SocialSubscriptionOverlaySummary",os="SocialSubscriptionUpsell",ss="SocialSupportResult",as="SocialTipHistory",cs="SocialTipIntroduction",us="SocialTipPromotion",ls="SocialTipPromotionInArticle",ds="SocialTipSelection",fs="SportsAroundTheLeague",hs="SportsAugmentCard",ps="SportsBackgroundUx",ms="SportsBrackets",gs="SportsCard",vs="SportsCardWC",ws="SportsCommentary",ys="SportsCopilotNavigation",bs="SportsCountdownTimer",Ss="SportsCricketLayoutManager",xs="SportsCricketLeagueStats",Cs="SportsCricketMatchRow",ks="SportsCricketPartnerships",Ts="SportsCricketRankings",$s="SportsCricketScorecard",As="SportsCricketScoresAndSchedule",Is="SportsEntityHeader",Ps="SportsFeaturedMatchesCard",_s="SportsFeaturedTeamList",Ms="SportsFrePanel",Rs="SportsFullStandings",Es="SportsFullStats",Fs="SportsGameInformation",Ds="SportsGameScore",Os="SportsGameSummary",Ns="SportsGameSummaryFull",Us="SportsGameTimeline",Ls="SportsGcPlayerStats",Bs="SportsGcTeamStats",Ws="SportsGenUiPage",Hs="SportsGptAnalysis",Vs="SportsHeadlinesHeader",zs="SportsHeadlinesMainStory",js="SportsHeadlinesStoryCarousel",qs="SportsHeadlinesTimelines",Gs="SportsInfo",Js="StackCard",Ks="SportsInfoSpan",Qs="SportsLayoutRenderer",Xs="SportsMatchRow",Ys="SportsMatchupCard",Zs="SportsMedalCountList",ta="SportsMedalSummaryList",ea="SportsMedalTrackerList",na="SportsMobileTabPanel",ia="SportsOlympicCard",ra="SportsOlympicCardWC",oa="SportsOlympicsHeaderRow",sa="SportsOlympicsResultFull",aa="SportsOlympicsScheduleFull",ca="SportsPersonMatchRow",ua="SportsPersonalizationStrip",la="SportsPickWinner",da="SportsPlayerBio",fa="SportsPlayerInsights",ha="SportsPopularCardWx",pa="SportsPreviousMatchups",ma="SportsPromoCard",ga="SportsRankingsFull",va="SportsRetentionFull",wa="SportsScoresAndSchedule",ya="SportsScoresAndScheduleFull",ba="SportsScoringSummary",Sa="SportsSquad",xa="SportsStandings",Ca="SportsStandingsList",ka="SportsStatLeaders",Ta="SportsStats",$a="SportsStoryPlayer",Aa="SportsTabLayout",Ia="SportsTeamFormation",Pa="SportsTeamProbability",_a="SportsTennisScoresAndScheduleFull",Ma="SportsTennisTournamentInfo",Ra="SportsTournamentInfo",Ea="SportsTournamentLeaderboard",Fa="SportsTournamentMatchRow",Da="SportsTournamentResultsAndSchedule",Oa="SportsTournamentSchedule",Na="SportsTournamentStandings",Ua="SportsTrendingCarousel",La="SportsUnavailablePlayers",Ba="SportsVideoList",Wa="SpotlightCard",Ha="SpotlightCardWC",Va="StarterKitWC",za="StreaksBadgeWC",ja="StripeWC",qa="SummaryCardWC",Ga="SuperBreakingNews",Ja="SuperNav",Ka="SuperNavCoachMark",Qa="SuperappBannerWC",Xa="SuperappUpsellCardWC",Ya="TabbedInfopane",Za="TabbedInfopaneTabPreview",tc="ThemePickerWC",ec="TipsCard",nc="ToastWC",ic="TodoCardWC",rc="TopCommentsCard",oc="TopSitesBookmarks",sc="TopSitesEdgeNextWC",ac="TopSitesNewsbar",cc="TopicTags",uc="TrafficCard",lc="TrafficCardWC",dc="TrafficHero",fc="TranslateTemporary",hc="TravelArticlePageCard",pc="TravelCard",mc="TravelCarousel",gc="TravelCollectionCard",vc="TravelDestination",wc="TravelDestinationBanner",yc="TravelDestinationDetailsBanner",bc="TravelFeed",Sc="TravelFlightCarousel",xc="TravelHotelCarousel",Cc="TravelInspirationCard",kc="TravelInspirationCardWC",Tc="TravelLandingPage",$c="TravelMsnHpCard",Ac="TravelSdCarrentalsCard",Ic="TravelSdDestinationsCard",Pc="TravelSdFlightsCard",_c="TravelSdHotelsCard",Mc="TravelSdThemesCard",Rc="TravelTourActivityCard",Ec="TrendingNowWC",Fc="TrendingSearchCard",Dc="TripleCard",Oc="UgcCreatorHomepage",Nc="UnifiedComposerPersonalization",Uc="UnifiedMobileFeed",Lc="VerticalLeftNav",Bc="VideoCardWC",Wc="VideoDetails",Hc="VideoDetailsKit",Vc="ViewsCoachmark",zc="ViewsNativeAd",jc="ViewsRail",qc="WaffleWC",Gc="WalletPersonalizedOfferSdCardWC",Jc="WatchFilterChannel",Kc="WatchTakeABreakHeader",Qc="WatchVideoCard",Xc="WatchWC",Yc="WaterTrackerCard",Zc="WaterfallViewFeed",tu="WeatherCard",eu="WeatherCardWC",nu="WeatherFeedWC",iu="WeatherForecastDayWC",ru="WeatherForecastPerHourWC",ou="WeatherHeroExperience",su="WeatherHistoricalTemperatureWC",au="WeatherHourlyHistogramWC",cu="WeatherImmersiveForecastWC",uu="WeatherInfoCard",lu="WeatherLocationCardWC",du="WeatherMapGroupSwitcherButtonWC",fu="WeatherMapLegendWC",hu="WeatherMapTimelineWC",pu="WeatherMapWC",mu="WeatherMinimapWC",gu="WeatherOneLiner",vu="WeatherOverviewWC",wu="WeatherPageWC",yu="WeatherReportIssueDialog",bu="WeatherTodayHistoryWC",Su="WeatherTodayMini",xu="WeatherTodayMiniWC",Cu="WeatherTopSectionCard",ku="WeatherVideoEntryWC",Tu="WelcomeGreetingLight",$u="WelcomeGreetingWC",Au="WidgetPickerWC",Iu="WidgetsDynamicFeed",Pu="WidgetsConsumptionPage",_u="WidgetsHomePage",Mu="WidgetsPrivacy",Ru="WidgetsRegion",Eu="WidgetsNotificationsCard",Fu="WidgetsStartFeed",Du="WinAppWC",Ou="WindowsOfficeFeed",Nu="WindowsShellBannersManager",Uu="WindowsShellColdStartCard",Lu="WindowsShellEntry",Bu="WindowsShellHeader",Wu="WindowsShellHotList",Hu="WindowsShellInfopane",Vu="WindowsShellLocationDialog",zu="WindowsShellMorningDigest",ju="WindowsShellNewsPromoCard",qu="WindowsShellNotificationCard",Gu="WindowsShellNotificationSettings",Ju="WindowsShellRecommendedInterests",Ku="WindowsShellSettingsMenu",Qu="WindowsShellSoftLanding",Xu="WindowsShellTopicsCard",Yu="XboxFeedWC",Zu="XfeedWC",tl="ConsumptionLandingPage",el="MsnRouter",nl="MsnUxAiStarterKitWCE",il="UnifiedConsumption",rl="GemConsumptionPage"},84910:function(t,e,n){n.d(e,{U:function(){return r}});var i=n(2462);function r(t,e,n,r){if(!t||0===t.length)return;const o=t.includes(n),s=e?".msn.cn":".msn.com";t.includes(r)?(0,i.Ub)("afdprotocol",void 0,-1,s,"/"):o&&(0,i.Ub)("afdprotocol","h3",14,s,"/")}},85159:function(t,e,n){n.d(e,{J:function(){return c},d:function(){return a}});var i=n(65022),r=n(77246),o=n(89980),s=n(56018);function a(t){if((0,r.S)()){const e="storageTest";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){(t||"function"==typeof t)&&t({...i.JWS,message:`Local Storage is not defined ${e}`})}}return!1}function c(t,e,n){const i=(0,o.Lg)();return null!=i&&i.supported?()=>{let r;const o=i.getObject(t,null);let a=null;return o&&o.version===e&&null!==o.value?(a=o.value,r=n):(a=n(),r=()=>a),(0,s.E)(()=>i.setObject(t,{version:e,value:r()})),a}:n}},85503:function(t,e,n){n.d(e,{TV:function(){return w}});var i=n(96592),r=n(19548),o=n(17254),s=n(12870),a=n(77246),c=n(27261);const u="//assets.msn.com",l="//assets.msn.cn",d=t=>"localhost.msn.com"===t.split(":",1)[0];function f(t){if(/^\/[\w.-]+(\/[\w.-]+)*$/.test(t))return!(t.includes("/../")||t.includes("/./")||t.endsWith("/..")||t.endsWith("/."))}function h(t){return t&&!t.startsWith("/")?"/"+t:t}function p(t){return t.endsWith("/")?t:t+"/"}function m(t){return f(h(t))?(e=t).startsWith("/")?e.slice(1):e:null;var e}function g(t){return t?t.split("/")[0]:null}const v=(t,e,n,c)=>{const v=new URLSearchParams(t),w="true"===v.get("renderWidget"),y="true"===v.get("useDeployedBundles");let b=((t,e,n)=>{if(!e){if(n)return u;if(d(t))return`//${t}`}return o.T3.IsChinaCompliance?l:u})(e,w,y);if(c){b=(window.location.protocol||"https:")+b}if(v.has("entry")){const t=h(v.get("entry").split("/").slice(0,-1).join("/"));return b&&f(t)&&(d(e)||t.startsWith("/bundles"))?p(b+t):p(b)}if(b&&d(e)&&!y){if(!(0,a.S)()){return b+__WEBPACK_LOCAL_STATICS_PATH__}if(n)return b+n}else if(b){var S;const e=(t||"").substring(1),o=decodeURIComponent(e);let a;const c=r._3.getParamsWithItems(o).find(t=>"spalink"===t.key),u=c&&c.value,l=s.Rb.ClientSettings||{},d=null===(S=l.bundleInfo)||void 0===S?void 0:S.alias;if("true"===l.static_page&&d)a=g(d);else if(u)a=g(m(u));else{const t=new i.m(o).get("bundles");t?a=m(t):d&&(a=g(d))}if(n){const t=n.split("/");return t[4]=a||"latest",b+t.join("/")}}return n},w=t=>{n.p=v((0,c.iA)(),(0,c.ou)(),n.p,t)}},85593:function(t,e,n){n.r(e),n.d(e,{addSite:function(){return S},deleteSite:function(){return b},getCurated:function(){return v},getDeletedDomainLookup:function(){return w},getDeletedUrlLookup:function(){return y},getFaviconId:function(){return $},getImageUrl:function(){return T},initTopSitesManager:function(){return g},initializeCuratedSitesFromConfig:function(){return k}});var i=n(50091),r=n(89980),o=n(17254),s=n(55593),a=n(26560);const c="//img-s-msn-com.akamaized.net/tenant/amp/entityid/",u="//img-s.msn.cn/tenant/amp/entityid/",l="removedTopSiteUrls",d={};let f,h,p,m;function g(){m=(0,r.Lg)(),p=m.getObject(l)||{},h={}}function v(){return f}function w(){return h}function y(){return p}function b(t){t&&(p[t]=!0,m.setObject(l,p))}function S(t){t&&(delete p[t],m.setObject(l,p))}g();const x=["aka.ms","bing.com","ww55.affinity.net","sovrn.co","clkde.tradedoubler.com","clk.tradedoubler.com","awin1.com","ad.soicos.com"],C=["bing.com/alink/link"];function k(t,e){if(e&&e.forEach(t=>{const e=d[t.url]??new a.u(t.url);x.includes(e.domain)||(h[e.domain]=!0),p[t.url]=!0,!d[t.url]&&(d[t.url]=e)}),f=[],!t.curatedSites)return;const n={};for(const t in h)A(n,t);for(const t in p){if(!t||n[t])return;const e=d[t]??new a.u(t);!d[t]&&(d[t]=e),C.includes(e.domainAndPath)||A(n,e.domainAndPath),n[t]=!0}f=new Array;const i=!("0"===(0,s.a)().get("dsp"));t.curatedSites.forEach(r=>{const o=r.faviconId||$(r.faviconUrl),s={...r,faviconUrl:o?T(o):r.faviconUrl},c=new a.u(s.url);if(!n[c.domain]&&!n[c.domainAndPath]&&!n[s.url]){if(t.addBingForNonBingSearchEngine&&"Bing"===s.title&&i)return;f.push(s)}s.isSponsored&&e.forEach(t=>{if(t.url===s.url&&0==t.tileSource){const e=s.faviconId||$(s.faviconUrl);t.title=s.title,t.faviconUrl=e?T(e):s.faviconUrl}})})}function T(t){if(t){return null!=o.T3&&o.T3.IsChinaCompliance?`${u}${t}.img`:`${c}${t}.img`}return i.Jx}function $(t){if(t){return(t&&t.match(/cms\/api\/amp\/image\/([a-z0-9]+)$/i)||{})[1]}return null}function A(t,e){e&&!t[e]&&(t[e]=!0)}},85766:function(t,e,n){n.d(e,{dl:function(){return d},eM:function(){return l},wj:function(){return u}});var i=n(74166),r=n(28828);const o=()=>{const t=(()=>{const t=(0,i.Ux)("els",!0),e=t&&(0,r.B)(t);return e&&Object.prototype.hasOwnProperty.call(e,"account_type")&&e})();if(t){if("MSA"===t.account_type)return"MSA";if("AAD"===t.account_type)return"AAD"}};var s=n(48608),a=n(15098),c=n(67387);const u="lt",l=(0,a.L)(()=>{let t,e;return(0,s.Ki)()?(t=2,e=(0,s.ZW)()):(0,i.Ux)("els")?(e=o(),t=e?2:1):(0,i.Ux)(u)||(0,i.Ux)("aace")?(e="MSA",t=2):(0,i.Ux)(c.j$)?(e="AAD",t=2):t=1,{isSignedIn:t,accountType:e}});function d(){l.cache.clear()}},85889:function(t,e,n){n.d(e,{AQ:function(){return H},Iv:function(){return V},J5:function(){return _},JK:function(){return z},LT:function(){return L},NP:function(){return $},R$:function(){return U},RH:function(){return F},V8:function(){return W},_t:function(){return M},_v:function(){return O},aD:function(){return T},cg:function(){return E},l2:function(){return R},m1:function(){return P},mJ:function(){return I},tl:function(){return B},vM:function(){return A},vb:function(){return D},zs:function(){return k}});var i=n(77246),r=n(17720),o=n(15098);const s="OnOOutlookMobile",a="OnOStartApp",c="emmxFre",u="xmweather-",l="launcherntp",d="launcherInterests",f="swiftKey",h="superappdhp",p="cp_msn_cmc",m="oppowx",g="_ocidIsomorphicKey",v=()=>(r.vv.get(g)||r.vv.set(g,j("ocid").toLowerCase()),r.vv.get(g)),w="_platformFlagKey",y="_hostAppNameKey",b="_clientTypeKey",S=()=>(r.vv.get(w)||r.vv.set(w,j("chpltfm")),r.vv.get(w)),x=()=>{if(!r.vv.get(y)){const t=S();r.vv.set(y,t.toLowerCase().split("-")[0])}return r.vv.get(y)},C=()=>{if(!r.vv.get(b)){const t=S();r.vv.set(b,t.toLowerCase().split("-")[1])}return r.vv.get(b)};function k(){if(!(0,i.S)()||B())return!1;const t=window.sapphireWebViewBridge,e=window.webkit,n=t&&t.send,r=e&&e.messageHandlers&&e.messageHandlers.send&&e.messageHandlers.send.postMessage;return!(!n&&!r)}function T(){return!!(0,i.S)()&&v()===p}function $(){return!!(0,i.S)()&&(v()===p&&"true"===j("hasBridge"))}function A(){return window&&!!window._isCopilotBridge||"copilot"===j("MBApp")}function I(){var t;return"localhost.msn.com"===(null===(t=window.location)||void 0===t?void 0:t.hostname)}function P(){const t=S()&&"outlook"===x()&&["ios","android","ipados"].includes(C()),e=v()===s.toLowerCase();return t||e}function _(){return v()===m}function M(){return P()}function R(){return"true"===j("is2ndWV")}function E(){return v()===c.toLowerCase()}function F(){return!(!(0,i.S)()||B())&&(k()||v()===a.toLowerCase()||v()===h.toLowerCase())}function D(){return"mmx"===v()}function O(){const t=j("edge");return("emmx"===x()||"1"===t)&&F()||D()}function N(){return"3rdp"===x()||v().startsWith(u)||B()}function U(){return"vivo"===v()&&N()}function L(){return[l.toLowerCase(),d.toLowerCase()].includes(v())&&F()}function B(){return v().toLowerCase()===f.toLowerCase()||"swiftkey"==x().toLowerCase()}function W(){var t;if(!(0,i.S)())return!1;if("bingHomepageMobile"===(null===(t=window._clientSettings)||void 0===t?void 0:t.pagetype))return!0;{var e;const t=null===(e=document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===e?void 0:e.getAttribute("data-client-settings");if(t){const e=JSON.parse(t);return e&&e.pagetype&&"bingHomepageMobile"===e.pagetype}return!1}}function H(){return-1!==window.location.href.indexOf("metaos=true")}function V(){return F()&&!("emmxinterests"===v())&&!(v()===d.toLowerCase())&&!N()&&!O()}const z=(0,o.L)(()=>k()||P()||F()||v()==="weather-app-win".toLowerCase()||v()==="finance-app-win".toLowerCase()||O()||N()||L()||B()||H()||A()||$());function j(t){try{return new URL(location.href).searchParams.get(t)||""}catch(t){return""}}},86020:function(t,e,n){n.d(e,{h:function(){return p}});var i=n(20431),r=n(94061),o=n(68399),s=n(16418),a=n(73691),c=n(33107);var u=n(77216),l=n(13053),d=n(47554),f=n(77246),h=n(53470);function p(t,e,n,p,g){(0,i.Cp)(t,e),(0,r.LW)(),function(t,e,n,i,r){var u;null!=n&&null!==(u=n.CurrentFlightSet)&&void 0!==u&&u.has("disableepm")||((0,s.ZQ)(t,n,e,i,r),(0,a.a$)((0,c.S9)("fetch","fetch",!0)),(0,o.Pp)((0,c.S9)("custom-em","custom-em",!0)))}(g,p,n,()=>(0,i.$y)(!0),()=>(0,i.$y)(!1)),(0,i.wR)().traceLevel>=u.X.high&&(m("RAF",requestAnimationFrame),m("RAFTimer",l.D)),(0,f.S)()&&((0,h.k)(),window._getAppPerfTrace=d.C)}function m(t,e){const n=(0,c.S9)(t,t);n&&function t(){const{endMeasure:i}=n.startMeasure("frame");e(()=>{i(),t()})}()}},86418:function(t,e,n){n.d(e,{Sy:function(){return d},vV:function(){return f}});var i=n(23360),r=n(997),o=n(17732),s=n(74166),a=n(9209),c=n(7258);let u;var l;!function(t){t[t.Alert=0]="Alert",t[t.Deprecated=1]="Deprecated",t[t.HighImpact=2]="HighImpact",t[t.Critical=3]="Critical"}(l||(l={}));const d=new o.vk;function f(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.Alert,f=arguments.length>4?arguments[4]:void 0,h=arguments.length>5?arguments[5]:void 0,p=arguments.length>6?arguments[6]:void 0;try{const m=(0,i.pE)();if(!(0,c.Lk)(e))return;const g=(0,i.$q)(),v=function(t){if(t){const{pcsInfo:e,pageGenTime:n}=t,i=new Date(n).getTime(),r=!e||["prod","prod-ssr","prod-ssrntp"].includes(e.env);u=r?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:r?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":i,w:"0",anoncknm:"app_anon"}}return null}(m);let w="";v&&v.apikey&&""!==v.apikey&&(w=function(t){if(t){const e=t.indexOf("-");if(e>0)return t.substring(0,e)}return""}(v.apikey));const y=function(t,e,n,i,o,c){let u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l.Alert,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";if(n){o=o||{};const{aid:l,apptype:h,audienceMode:p,pagetype:m,pageGenTime:g,bundleInfo:v,deviceFormFactor:w="",fd_muid:y,os:b,static_page:S}=n;o.pageGenTime=g,o.build=v&&v.v,o.appType=h,o.pageVisible=document.visibilityState;const x=(0,r.VG)(h,p,w),C=x||h,k=document.getElementsByTagName("html")[0].getAttribute("lang");let T,$="",A="muid";try{if("edgeChromium"===h&&"object"==typeof window&&window.location&&window.location.search){const t=new URLSearchParams(window.location.search);T=t.has("startpage")?"msedgdhp":"msedgntp","enterprise"===p?T="entnewsntp":"xbox"===b&&(T="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||($=(0,a.Ib)()||(0,s.Ux)("muid"))}catch{}$||($=n.aid,A="aid");const I={name:"MS.News.Web.AppError",time:g,ver:"4.0",iKey:`o:${i}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{appType:null==h?void 0:h.toLowerCase(),name:(0,r.T8)()||"default",product:C,type:(0,r.u7)(m),content:r.D7[h]??{category:"standaloneError"},ocid:T,url:location.href,isStatic:S},browser:{clientId:$,clientIdType:A},flight:{id:c,tmpl:d},request:{activityId:l,requestId:l,afdMuid:y},locale:{mkt:k},extSchema:{id:t,severity:u,pb:o,message:e}}};var f;if($&&"muid"===A)I.ext={...null==I?void 0:I.ext,user:{...null==I||null===(f=I.ext)||void 0===f?void 0:f.user,localId:`t:${$}`}};return"object"==typeof window&&(window.isSSREnabled&&(I.data.flight.tmpl+=";ssr-enabled:1"),window.isSSRCompleted&&(I.data.flight.tmpl+=";ssr-completed:1")),I?JSON.stringify(I):null}return null}(e,t,m,w,n,g,o,p);if(h&&!function(t){if(null==t)return!1;return t.startsWith("1")||t.startsWith("2")||t.startsWith("3")||t.startsWith("4")}(null==m?void 0:m.aid))return console.error(y),void console.error(`This App error Id: ${e} will not be sent due to app error sampling!`);if(v&&y){console.error(y),d.push(y);const t="https://"+u+"/OneCollector/1.0"+function(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}(v);if(f&&!performance.getEntriesByType("visibility-state").some(t=>"visible"===t.name)){const e=()=>{"visible"===document.visibilityState&&navigator.sendBeacon(t,y)};document.addEventListener("visibilitychange",e,{once:!0})}else navigator.sendBeacon(t,y)}}catch{}}},86676:function(t,e,n){n.d(e,{Q:function(){return i}});class i{constructor(t){this.onSubscriptionCallbackError=t,this.eventLookup={}}publish(t,e){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let i=n.length;for(;i-- >0;)try{n[i](e)}catch(n){this.onSubscriptionCallbackError&&this.onSubscriptionCallbackError(n,t,i,e)}}}subscribe(t,e){void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]);const n=this.eventLookup[t];return n.push(e),{dispose(){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,function(t){n.dispose(),e(t)});return n}}},86926:function(t,e,n){n.d(e,{$V:function(){return u},C6:function(){return o},GS:function(){return y},HR:function(){return i},HY:function(){return p},Ie:function(){return w},Lj:function(){return d},Mq:function(){return l},Pf:function(){return s},Yc:function(){return r},du:function(){return c},gK:function(){return g},hB:function(){return v},hq:function(){return h},j9:function(){return a},nQ:function(){return b},qC:function(){return m},yq:function(){return f}});const i=16,r=176,o=344,s=368,a=344,c=336,u=378,l=2*c+i,d=3*c+2*i,f=4*c+3*i,h=272,p=360,m=300,g=360,v=300,w=308,y=368,b=24},86948:function(t,e,n){n.d(e,{_r:function(){return v},NP:function(){return k},rj:function(){return S},XK:function(){return y},Fo:function(){return w},e9:function(){return b}});var i=n(44369),r=n(49084),o=n(12870),s=n(85766),a=n(30158),c=n(28868),u=n(56639);var l=n(23572),d=n(17720),f=n(8353);const h="__SignInStateIsValid__",p="__SignInStatePromiseResolver__",m=()=>{d.vv.set(h,new Promise(t=>{d.vv.set(p,t)}))};m();const g=()=>d.vv.get(h);function v(){const t=d.vv.get(p);t&&t()}function w(){return 2===(0,i.l)().getSignInState()}function y(){return x("getUserSignInState",(0,r.nf)())}function b(){return x("waitForSignInState",!0)}async function S(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e={signedInStatus:1,accountType:null};if((0,c.RH)()&&t){await async function(){let t=0;return new Promise((e,n)=>{if((0,u.vk)())e();else{const i=setInterval(async function(){(0,u.vk)()?(clearInterval(i),e()):t>30?(clearInterval(i),n()):t++},50)}})}();const t=(0,u.cE)();t&&(e.signedInStatus=t.isSignedIn?2:1,e.accountType=C(t.accountType))}else if((0,a.$O)()){const t=await(0,a.f7)();e.accountType=C(t.accountType),e.signedInStatus=t.tokenValue?2:1}else e.signedInStatus=await b(),e.accountType=k();return e}async function x(t,e){const n=(0,o.Th)().UserIsSignedIn;if(null!=n)return n?2:1;const r=(0,l.aK)(),s=r&&r.startMeasure(t).endMeasure;let a;e&&(a=(0,l.Kq)("GetSignInStateAsync"),(0,i.l)().initOverrides(),await g());const c=(0,i.l)().getSignInState();return s&&s(),a&&a(),c}function C(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"MSA"===t?"MSA":"AAD"===t?"AAD":void 0}function k(){if((0,r.lp)()){const t=(0,s.eM)();return 2===t.isSignedIn&&t.accountType}if((0,r.FS)())return(0,f.mL)()}},87032:function(t,e,n){var i;n.d(e,{Wj:function(){return o},bH:function(){return r},ov:function(){return i}}),function(t){t[t.Immediately=0]="Immediately",t[t.OnPageLoad=1]="OnPageLoad",t[t.OnUserInteraction=2]="OnUserInteraction",t[t.OnBusinessSearchResultsReady=3]="OnBusinessSearchResultsReady"}(i||(i={}));const r="Search-AutoSuggest",o="q"},87346:function(t,e,n){function i(t,e){const n=e.replace(/[[\]]/g,"\\$&"),i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(t);if(!i)return null;const r=i[2];return decodeURIComponent(r.replace(/\+/g," "))||""}n.d(e,{K:function(){return i}})},87405:function(t,e,n){n.d(e,{KO:function(){return a},TW:function(){return u},pr:function(){return c}});var i=n(79426),r=n(17720);const o=()=>r.vv.get("__global-element-map_elementMap__",()=>new Map),s=()=>r.vv.get("__global-element-map_waitForElementMap__",()=>new Map);function a(t,e){if(!e)return;o().set(t,e);const n=s().get(t);n&&n.set(e)}function c(t){return t?o().get(t):null}function u(t){if(!t)return Promise.reject(null);const e=c(t);if(c(t))return Promise.resolve(e);const n=s();if(n.has(t))return n.get(t).getResultAsync();const r=new i.e;return n.set(t,r),r.getResultAsync()}},87518:function(t,e,n){n.d(e,{g:function(){return a},l:function(){return s}});var i=n(47149),r=n(61522),o=n(94706);function s(){return new i.$((0,o.J)(...arguments))}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<3||!(0,r.P5)(e[e.length-1]))throw new Error("Invalid arguments");const s=e.pop(),a=(0,o.J)(...e),c=Object.assign(a,s);return new i.$(c)}},87832:function(t,e,n){n(74585)},88206:function(t,e,n){n.d(e,{T:function(){return o}});var i=n(96271),r=n(98216);class o{constructor(){this.getSpanId=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.traceCtrxObj&&!t)return o.traceCtrxObj.getSpanId();const e=(0,i.cL)().substring(0,16);return(0,r.RO)().then(()=>{o.setSpanIdFunc(e)},()=>{}),e},this.getTraceId=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.traceCtrxObj&&!t)return o.traceCtrxObj.getTraceId();const e=(0,i.cL)();return(0,r.RO)().then(()=>{o.setTraceIdFunc(e)},()=>{}),e}}setTraceObj(t){o.traceCtrxObj=t&&t.getTraceCtx()}}o.getTraceInstance=()=>(o.traceInstance||(o.traceInstance=new o),o.traceInstance),o.setSpanIdFunc=t=>{const e=t||(0,i.cL)().substring(0,16);try{o.traceCtrxObj.setSpanId(e)}catch(t){}},o.setTraceIdFunc=t=>{const e=t||(0,i.cL)();try{o.traceCtrxObj.setTraceId(e)}catch(t){}}},88294:function(t,e,n){function i(t){r=t}n.d(e,{B:function(){return i},v:function(){return r}});let r=new(n(71266).p)},88296:function(t,e,n){n.d(e,{TU:function(){return d}});var i=n(27942),r=n(71804),o=n(75084),s=n(18731),a=n(77246),c=n(17720);const u="__FastBreakpointManager__";class l{get currentColumnArrangement(){return this.indexToStandardConverter(this.breakpointTracker.currentBreakpoint())}constructor(t){this.useRequestIsolatedTracker=!1,this.callbackMap=new Map,this.refreshBreakpoints(t)}refreshBreakpoints(t){const e=[0],n=(0,i.VD)();(0,i.mO)();for(let t=1;t<n.length;t++){var r;e.push(null===(r=n[t])||void 0===r?void 0:r.minViewportWidthPx)}this.breakpointTracker.breakpoints=e,this.breakpointTracker.defaultBreakpoint=void 0!==t?(0,s.KP)(t.data.breakpoint,"breakpoint"):0}set breakpoints(t){if(this.breakpointTracker.breakpoints=t,o.KL&&Array.isArray(o.KL)){const e=o.KL.length;for(let t=0;t<e;t++)o.KL.pop();t.forEach(t=>o.KL.push(t))}}get breakpoints(){return this.breakpointTracker.breakpoints}updateBreakpointsBasedFromContainerWidth(t){const e=(0,i.VD)();if(t>=e[3].contentSizePx)return;const n=[];for(let i=0;i<this.breakpoints.length;i++)(0===i||t>=e[i].contentSizePx)&&n.push(e[i].contentSizePx);this.breakpoints=n}subscribe(t){const e=e=>{t(this.indexToStandardConverter(e))};this.callbackMap.set(t,e),this.breakpointTracker.subscribe(e)}unsubscribe(t){this.breakpointTracker.unsubscribe(this.callbackMap.get(t)),this.callbackMap.delete(t)}unsubscribeAll(){this.callbackMap.forEach(t=>{this.breakpointTracker.unsubscribe(t)}),this.callbackMap.clear()}indexToStandardConverter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=(0,i.VD)();return e&&t>=e.length&&e[e.length-1]?e[e.length-1].arrangement:e[t].arrangement}get breakpointTracker(){return!(0,a.S)()&&this.useRequestIsolatedTracker?c.vv.get("__FastBreakpointManager_breakpointTracker__",()=>new r.A.constructor):r.A}}const d=(t,e)=>(e&&c.vv.set(u,new l(t)),c.vv.get(u,()=>new l(t)))},89064:function(t,e,n){n.d(e,{p:function(){return L}});var i=n(56911),r=n(943),o=n(24035),s=n(45181),a=n(2462),c=n(92011),u=n(60815),l=n(38493),d=n(93468),f=n(65022),h=n(78169),p=n(8353),m=n(8440),g=n(14391),v=n(68288),w=n(11372),y=n(98216),b=n(79742),S=n(63456);function x(t){if(!t||t.ssoStatus!==h.i)return;return{type:"MSA"===t.accountType?"msa":"aad",authenticatedState:"signedIn",memberName:t.memberName,firstName:t.firstName,lastName:t.lastName,cid:t.cid,pictureUrl:t.profilePictureUrl}}async function C(){(0,p.iD)()}async function k(){const t=(0,S.A)(window,"MeControl.WebInline.getOptions",void 0);let e=null;t&&(e=(0,S.A)(t(),"currentAccount.memberName","")),(0,p.ri)(e)}var T=n(49084),$=n(54030);class A extends c.L{constructor(){super(),this.telemetryTag=(0,$.u)("MeControl",{type:w.MJ.ActionButton}).getMetadataTag(),this.meControlScriptIsLoaded=new Promise(t=>{this.meControlScriptLoadedResolver=t}),this.optionsReady=new Promise(t=>this.optionsReadyResolver=t),this.connectedReady=new Promise(t=>this.connectedReadyResolver=t),this.onDisplayThemeChange=t=>{window&&window.MeControl&&window.MeControl.API&&window.MeControl.API.setTheme({type:t?"dark":"light"})},this.onMeControlLoad=()=>{window.MeControl&&window.MeControl.API.addEventListener("beforesignoutfromapp",this.onBeforeSignOut,{once:!0}),this.meControlScriptLoadedResolver()},Promise.all([this.optionsReady,this.connectedReady]).then(()=>{this.loadMeControl()})}meControlOptionsChanged(t,e){e&&this.optionsReadyResolver()}connectedCallback(){super.connectedCallback(),this.connectedReadyResolver()}async loadMeControl(){if(s.n.get(s.Y.CookieConsentStatus)===b.z.Required)this.userIsSignedIn=!1,this.generateMeControl({ssoStatus:h.Q});else{if(!(0,T.FS)())return y.YT.addOrUpdateTmplString("auth-MeCtrl-Error"),void(0,d.vV)(f.kjR,"The Me Control Loader failed to load the Me Control because dual auth was not enabled");{const t=await(0,p.PE)(),e=await(0,m.GG)(t),n=(0,g.nf)(e);(0,v.OV)(n),y.YT.addOrUpdateTmplString(`auth-MeCtrl-DA-${n}`),this.userIsSignedIn=!!e&&e.ssoStatus===h.i,this.generateMeControl(e)}}this.loadMeControlScript()}logTelemetry(t){return y.YT.sendActionEvent(t.currentTarget,w.EG.Click,w.MS.Undefined),!0}loadMeControlScript(){const t=document.createElement("script");t.id="me-control-script",t.type="text/javascript",t.src=`https://mem.gfx.ms/meversion?partner=${this.meControlOptions.partnerId}&market=${(0,r.e)().market}`,t.async=!0,t.crossOrigin="anonymous",t.addEventListener("load",this.onMeControlLoad,{once:!0}),document.body.appendChild(t)}async generateMeControl(t){const e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{apiGeneration:"GEN2",containerId:e.id,shadowDOMContainerElement:e,authProviderConfig:{type:"msalJsWithMsa",signIn:C,signOutFromApp:k,switch:C},currentAccount:x(t),primaryUXConfig:{theme:{type:n?"dark":"light"},displayModes:["compressed"]}}}(t,this.container,!this.meControlOptions.disableDarkMode&&o.X.get(o.t.IsDarkMode));return this.generateMeControlCore(e)}async generateMeControlCore(t){this.currentAccount=t.currentAccount,await this.meControlScriptIsLoaded,!1===this.userIsSignedIn?this.setDisplayMode("standard"):this.setDisplayMode("compressed"),this.setMeControlThemeOverride(),this.disableMeControlGraphCall();window.MeControl.Loader.load(t)||y.YT.sendAppErrorEvent({...f.Lln,message:"The Me Control Loader failed to load the Me Control"})}setMeControlThemeOverride(){window.MeControl&&(this.meControlOptions.disableDarkMode||o.X.subscribe(o.t.IsDarkMode,this.onDisplayThemeChange))}setDisplayMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"compressed";window.MeControl&&window.MeControl.API&&window.MeControl.API.setDisplayMode(t)}onBeforeSignOut(){(0,a.Ub)("bwssoc","0",-1)}disableMeControlGraphCall(){const t=window.MeControl;t&&t.Config&&(t.Config.graphv2=!1)}getTitle(){return this.userIsSignedIn?this.currentAccount&&this.currentAccount.firstName:this.meControlOptions&&this.meControlOptions.signInTooltipText}}(0,i.Cg)([u.sH],A.prototype,"meControlOptions",void 0),(0,i.Cg)([u.sH],A.prototype,"userIsSignedIn",void 0),(0,i.Cg)([(0,l.CF)({attribute:"kumo",mode:"boolean"})],A.prototype,"kumo",void 0),(0,i.Cg)([u.sH],A.prototype,"currentAccount",void 0);var I=n(74849),P=n(22131),_=n(4126),M=n(14996);const R=I.A`
@-moz-document url-prefix(){.signed-out button#mectrl_main_trigger{border:none}.signed-out .mectrl_topHeader #mectrl_headerPicture{filter:brightness(2)}}`,E=I.A`
.signed-out button#mectrl_main_trigger{width:59px;height:32px;border-radius:var(--CornerControl);background:transparent;border:none}.signed-out button#mectrl_main_trigger:hover{background:var(--Background-Control-Subtle-Hover,#EDF2F9);border-radius:var(--CornerControl);border:none}.signed-out button#mectrl_main_trigger:active{background:var(--Background-Control-Subtle-Pressed,#DADEE5);border-radius:var(--CornerControl);border:none}`,F=I.A`
.sign-in-button-avatar{margin-inline-start:8px}.signed-out.sign-in-button-avatar{background-color:transparent;border:0px;border-radius:0px;height:auto;position:relative;min-width:80px;display:flex;justify-content:center;align-items:center;overflow:hidden}.signed-out.sign-in-button-avatar:hover{background:transparent}.mectrl_topHeader{height:100%;display:flex;justify-content:center;align-items:center}.signed-out .mectrl_topHeader .mectrl_header_text{line-height:normal;font-size:14px;padding-inline:0px}.signed-out .mectrl_topHeader .mectrl_signIn_circle_glyph{display:none}button#mectrl_main_trigger{height:40px;min-width:36px;border-radius:4px}.signed-out button#mectrl_main_trigger{border:1px solid rgba(0,0,0,0.18);height:38px;box-sizing:border-box;padding-top:8px;padding-bottom:8px;min-width:80px;overflow:hidden;background:rgba(255,255,255,0.7);color:rgba(0,0,0,0.74);-webkit-text-fill-color:rgba(0,0,0,0.74)}.signed-out button#mectrl_main_trigger:hover{background:rgba(0,0,0,0.04);border:1px solid rgba(0,0,0,0.22);color:rgba(0,0,0,0.86);-webkit-text-fill-color:rgba(0,0,0,0.86)}.signed-out button#mectrl_main_trigger:active{background:rgba(0,0,0,0.12);border:1px solid rgba(0,0,0,0.30);color:rgba(0,0,0,0.86);-webkit-text-fill-color:rgba(0,0,0,0.86)}#sign-in-button-profile button#mectrl_main_trigger:focus-visible,.signed-out button#mectrl_main_trigger:focus-visible{box-shadow:none;border:2px solid ${M.WN};outline:unset !important}.mectrl_topHeader .mectrl_profilepic{width:32px;height:32px;margin:0}@media (prefers-color-scheme:dark){.signed-out button#mectrl_main_trigger{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.28);color:rgba(255,255,255,0.84);-webkit-text-fill-color:rgba(255,255,255,0.84)}.signed-out button#mectrl_main_trigger:hover{background:rgba(255,255,255,0.14);border:1px solid rgba(255,255,255,0.46);color:#FFF;-webkit-text-fill-color:#FFF}.signed-out button#mectrl_main_trigger:active{background:rgba(255,255,255,0);border:1px solid rgba(255,255,255,0.42);color:#FFF;-webkit-text-fill-color:#FFF}}`.withBehaviors((0,P.mr)(R),new _.o("kumo",!0,E));var D=n(96950),O=n(60402);const N=D.qy`<div id="me-control" ${(0,O.K)("container")} class="me-control" title="${t=>t.getTitle()}" aria-label="${t=>t.getTitle()}" data-t="${t=>t.telemetryTag}" @click=${(t,e)=>t.logTelemetry(e.event)}></div>`,U=D.qy`<div id="sign-in-button-profile" class="sign-in-button-avatar ${t=>!1===t.userIsSignedIn?"signed-out":""}" part="me-control-button">${N}</div>`;let L=class extends A{};L=(0,i.Cg)([(0,c.E)({name:"ms-start-me-control",template:U,styles:F,shadowOptions:{delegatesFocus:!0}})],L)},89151:function(t,e,n){n.d(e,{$y:function(){return z},AG:function(){return at},CG:function(){return Ct},Ci:function(){return i},HL:function(){return E},IJ:function(){return X},Iw:function(){return ct},VK:function(){return nt},W4:function(){return vt},XO:function(){return et},Y0:function(){return J},Yq:function(){return tt},Yy:function(){return lt},bu:function(){return st},dT:function(){return ot},eD:function(){return kt},kJ:function(){return it},m7:function(){return j},oO:function(){return bt},pE:function(){return Q},qG:function(){return G},tD:function(){return Y},tt:function(){return St},uR:function(){return rt},vj:function(){return xt},wI:function(){return dt},wL:function(){return O},xY:function(){return yt},yE:function(){return wt},yi:function(){return q},z1:function(){return ut}});var i,r=n(53685),o=n(77246),s=n(68399),a=n(30817),c=n(83078),u=n(13053),l=n(84080);let d,f,h,p,m,g,v;!function(t){t.Primary="primary",t.Secondary="secondary"}(i||(i={}));const w=new Map,y=new Map,b=new Map;let S,x,C,k,T,$,A,I,P=new Map,_=new Map,M=[];const R="TTF.",E="TTVR.",F="TTVS.",D="TTPR.",O="TTSR.";let N="",U=!1,L=!1,B="",W=!1;const H={};let V;function z(){return H}function j(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;(0,o.S)()&&(n=n||performance.now(),Z(R,t,e,W?(0,l.C)(n):n))}function q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,o.S)()){if(n=n||performance.now(),i&&W&&n>0){const i=(0,l.C)(n);return Z(E,t,e,i),K(t),i}return Z(E,t,e,n),K(t),n}}function G(t){M.push(t)}function J(t){M=M.filter(e=>e!==t)}function K(t){if(M.length)try{M.map(e=>e(t))}catch(t){}}function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;(0,u.D)(()=>q(t,e,n))}function X(t,e,n){Y(t,n-e)&&(0,s.Ww)({name:t,startTime:e,endTime:n})}function Y(t,e){if(_.get(t))return!1;const n=performance.getEntriesByName&&performance.getEntriesByName(t);let i;return Boolean(n&&n.length)?_.has(t)||(_.set(t,Math.round(n[0].startTime)),i=!0):(c.M.singleMark(t),_.set(t,isNaN(e)?-1:Math.round(e)),i=!0),f&&f.delete(t)&&0===f.size&&$&&$(lt()),i}function Z(t,e,n,i){if(!e||!e.length)return;if(!t||!t.length)return;const o=t+e;if(o.startsWith(E)&&(!m||!m.has(o))&&g&&g.has(o))return void Y(o,n?-1:i);if(b.has(o)&&b.get(o)(o),P.get(o))return;const s=performance.getEntriesByName&&performance.getEntriesByName(o);Boolean(s&&s.length)?P.set(o,Math.round(s[0].startTime)):(c.M.singleMark(o),n?P.set(o,-1):P.set(o,Math.round(i))),o.startsWith(E)&&(H.marker=o,H.value=P.get(o)),h&&h.delete(o)&&0===h.size&&x&&x(pt()),d&&d.delete(o)&&0===d.size&&k&&k(ct()),t===F&&(Y("TTVS",n?-1:i),I&&I(mt(F,r.m6)))}function tt(t){d=ft(t),h=ft(t,"TTVR"),p=ft(t,"TTPR"),m=new Set(gt(t,"TTVR")),x&&0===h.size&&k(pt()),k&&0===d.size&&k(ct()),U=!0}function et(t){f||(f=new Set,g=new Set,t.forEach(t=>{_.get(t)||f.add(t),t.startsWith(E)&&g.add(t)}),0===f.size&&$&&$(lt()))}function nt(t){v||(v=t)}function it(){return(0,o.S)()?function(){if(!(0,o.S)())return null;if(C)return C;if(d&&0===d.size)return Promise.resolve(ct());return C=new Promise(t=>{k=t}),C}():null}function rt(){return(0,o.S)()?T||(f&&0!==f.size?(T=new Promise(t=>{$=t}),T):Promise.resolve(lt())):null}function ot(){return(0,o.S)()?S||(h&&0===h.size?Promise.resolve(pt()):(S=new Promise(t=>{x=t}),S)):Promise.resolve([])}function st(){return(0,o.S)()?A||(A=new Promise(t=>{I=t}),A):null}function at(t){return(pt().find(e=>e[0]===t)||[])[1]}function ct(){return[...pt(),...ht()]}function ut(){return[...pt(!1),...ht()]}function lt(){return[..._]}function dt(t){return t===i.Primary?Array.from(d||[]):Array.from(f||[])}function ft(t,e){const n=new Set;for(const i of gt(t,e))P.get(i)||n.add(i);return n}function ht(){return mt(R)}function pt(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&!1!==V?mt(E,r.xA,!0):mt(E)}function mt(t,e,n){const i=[];let o=0;if(P.forEach((e,n)=>{if(n.startsWith(t)){var r,s;i.push([n,e]);const t=n.startsWith("TTVR");e>o&&(!t||null!==(r=m)&&void 0!==r&&null!==(s=r.has)&&void 0!==s&&s.call(r,n))&&(o=e,t&&(N=n));const a=w.get(n);null!=a&&a.name&&(y.get(a.name)<e&&y.set(a.name,e),a.preserve||i.pop())}}),y.forEach((e,n)=>{n.startsWith(t)&&i.push([n,e])}),e&&i.push([e,o]),n&&e===r.xA){const t=(0,a.ZF)().refreshDelay||0;i.push(["TTVR.WithRefreshDelay",o+t])}return i}function gt(t,e){let n=[],i=[],r=[];return!t||!t.TTVR||e&&"TTVR"!==e||(n=t.TTVR.map(t=>E+t)),!t||!t.TTF||e&&"TTF"!==e||(r=t.TTF.map(t=>R+t)),t&&t.TTPR&&"TTPR"===e&&(i=t.TTPR.map(t=>D+t)),[...n,...r,...i]}function vt(t){const e=performance.getEntriesByName(t);return e&&e[0]&&e[0].startTime?e[0].startTime:-1}function wt(t){const e=_.get(t);return null!=e?e:-1}function yt(){return v}function bt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=t;r.startsWith(E)||(r=E+t),U&&(m.has(r)||L)&&""!==t?q(t,e,n,i):K(t)}function St(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=t;i.startsWith(E)||(i=E+t),U&&(m.has(i)||L)&&""!==t?Q(t,e,n):K(t)}function xt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=t,o=e;var s;U&&""!==t&&""!==e&&(L||e!==B)&&(r.startsWith(E)||(r=E+t),o.startsWith(E)||(o=E+e),d.has(r)||P.has(r)||m.has(r)||((s=r)&&U&&d&&h&&(s.startsWith(E)||(s=E+s),P.has(s)||(d.add(s),h.add(s)),m.add(s)),w.set(r,{name:o,preserve:n}),y.set(o,-1),i&&b.set(r,i)))}function Ct(){return W}function kt(){return N}},89284:function(t,e,n){n.d(e,{eE:function(){return m}});var i=n(12870),r=n(2462),o=n(84397),s=n(98216);const a="prg-ad-rv-frmkt-t",c="prg-ad-rv-frmkt-c";var u;function l(){return"fr-fr"===i.Rb.Locale}function d(){var t;return"fr"===(null===(t=i.Rb.ClientSettings)||void 0===t||null===(t=t.geo_country)||void 0===t?void 0:t.toLowerCase())}function f(){const t=(0,r.Ti)();if(!t)return!1;try{var e;const n=null===(e=window.otIabModule)||void 0===e?void 0:e.tcfSdkRef.tcString().decode(t),i=null==n?void 0:n.vendorConsents.set_.has(32),r=null==n?void 0:n.vendorConsents.set_.has(1126);return!(!i&&!r)}catch(t){return s.YT.sendClientLogEvent({message:`Error parsing consent cookie for targeting vendor, error: ${t}`,type:"warning"}),!1}}function h(){return!(!i.Rb.CurrentFlightSet||!i.Rb.CurrentFlightSet.has(a)&&!i.Rb.CurrentFlightSet.has(c))}function p(){h()&&(s.YT.addOrUpdateTmplProperty("isFrMarket",l()?"1":"0"),s.YT.addOrUpdateTmplProperty("isFrIp",d()?"1":"0"));const t=!(0,r.Ti)()||function(){const t=(0,r.Ri)(o.wf.BrowserOptOut);return!(!t||"1"!==t)}();return!(null===(e=i.Rb.CurrentFlightSet)||void 0===e?void 0:e.has(a))&&l()?t?{shouldMask:!0,reason:"fr-fr market: pre-consent or browser opted out"}:f()?{shouldMask:!1,reason:"fr-fr market: vendor consent accepted"}:{shouldMask:!0,reason:"fr-fr market: vendor consent rejected"}:d()?t?{shouldMask:!0,reason:"French IP: pre-consent or browser opted out"}:window.__tcfapi&&"function"==typeof window.__tcfapi?f()?{shouldMask:!1,reason:"French IP: GDPR market: vendor consent accepted"}:{shouldMask:!0,reason:"French IP: GDPR market: vendor consent rejected"}:{shouldMask:!1,reason:"French IP: Non-GDPR market"}:{shouldMask:!1,reason:"Not subject to French or GDPR consent restrictions"};var e}!function(t){t.FLIGHT_DISABLED="Current flight set allows passing identifiers",t.FR_MARKET_PRE_CONSENT="fr-fr market: pre-consent or browser opted out",t.FR_MARKET_VENDOR_ACCEPTED="fr-fr market: vendor consent accepted",t.FR_MARKET_VENDOR_REJECTED="fr-fr market: vendor consent rejected",t.FR_IP_PRE_CONSENT="French IP: pre-consent or browser opted out",t.FR_IP_GDPR_VENDOR_ACCEPTED="French IP: GDPR market: vendor consent accepted",t.FR_IP_GDPR_VENDOR_REJECTED="French IP: GDPR market: vendor consent rejected",t.FR_IP_NON_GDPR="French IP: Non-GDPR market",t.NON_RESTRICTED="Not subject to French or GDPR consent restrictions"}(u||(u={}));const m={validateIdentifierUsage:p,maskIdentifiers:function(t){const e=p();if(h()){const t=i.Rb.CurrentFlightSet.has(a)?"1":"0",n=i.Rb.CurrentFlightSet.has(c)?"1":"0",r=e.shouldMask?"1":"0";s.YT.addOrUpdateTmplProperty("maskValue",`${t}_${n}_${r}`)}return e.shouldMask?void 0:t}}},89388:function(t,e,n){n.d(e,{r:function(){return o}});var i=n(94444);let r={};function o(t,e){return null!=e?r[t]=e:r[t]}(0,i.x)(()=>{r={}})},89710:function(t,e,n){n.d(e,{Mf:function(){return s},N7:function(){return i},wl:function(){return o},zJ:function(){return a}});const i=[{id:"ar-ae",value:"ar-ae",displayString:"   ()",direction:"rtl"},{id:"ar-eg",value:"ar-eg",displayString:" ()",direction:"rtl"},{id:"ar-sa",value:"ar-sa",displayString:"   ()",direction:"rtl"},{id:"bn-in",value:"bn-in",displayString:"India ()",direction:"ltr"},{id:"cs-cz",value:"cs-cz",displayString:"esk republika (etina)",direction:"ltr"},{id:"da-dk",value:"da-dk",displayString:"Danmark (Dansk)",direction:"ltr"},{id:"de-at",value:"de-at",displayString:"sterreich (Deutsch)",direction:"ltr"},{id:"de-ch",value:"de-ch",displayString:"Schweiz (Deutsch)",direction:"ltr"},{id:"de-de",value:"de-de",displayString:"Deutschland (Deutsch)",direction:"ltr"},{id:"el-gr",value:"el-gr",displayString:" ()",direction:"ltr"},{id:"en-ae",value:"en-ae",displayString:"United Arab Emirates (English)",direction:"ltr"},{id:"en-au",value:"en-au",displayString:"Australia (English)",direction:"ltr"},{id:"en-ca",value:"en-ca",displayString:"Canada (English)",direction:"ltr"},{id:"en-gb",value:"en-gb",displayString:"United Kingdom (English)",direction:"ltr"},{id:"en-ie",value:"en-ie",displayString:"Ireland (English)",direction:"ltr"},{id:"en-in",value:"en-in",displayString:"India (English)",direction:"ltr"},{id:"en-my",value:"en-my",displayString:"Malaysia (English)",direction:"ltr"},{id:"en-nz",value:"en-nz",displayString:"New Zealand (English)",direction:"ltr"},{id:"en-ph",value:"en-ph",displayString:"Philippines (English)",direction:"ltr"},{id:"en-sg",value:"en-sg",displayString:"Singapore (English)",direction:"ltr"},{id:"en-us",value:"en-us",displayString:"United States (English)",direction:"ltr"},{id:"en-xl",value:"en-xl",displayString:"International Edition (English)",direction:"ltr"},{id:"en-za",value:"en-za",displayString:"South Africa (English)",direction:"ltr"},{id:"es-ar",value:"es-ar",displayString:"Argentina (espaol)",direction:"ltr"},{id:"es-cl",value:"es-cl",displayString:"Chile (espaol)",direction:"ltr"},{id:"es-co",value:"es-co",displayString:"Colombia (espaol)",direction:"ltr"},{id:"es-es",value:"es-es",displayString:"Espaa (espaol)",direction:"ltr"},{id:"es-mx",value:"es-mx",displayString:"Mxico (espaol)",direction:"ltr"},{id:"es-pe",value:"es-pe",displayString:"Per (espaol)",direction:"ltr"},{id:"es-us",value:"es-us",displayString:"United States (espaol)",direction:"ltr"},{id:"es-ve",value:"es-ve",displayString:"Venezuela (espaol)",direction:"ltr"},{id:"es-xl",value:"es-xl",displayString:"Amrica Latina (espaol)",direction:"ltr"},{id:"fi-fi",value:"fi-fi",displayString:"Suomi (suomi)",direction:"ltr"},{id:"fr-be",value:"fr-be",displayString:"Belgique (franais)",direction:"ltr"},{id:"fr-ca",value:"fr-ca",displayString:"Canada (franais)",direction:"ltr"},{id:"fr-ch",value:"fr-ch",displayString:"Suisse (franais)",direction:"ltr"},{id:"fr-fr",value:"fr-fr",displayString:"France (franais)",direction:"ltr"},{id:"fr-xl",value:"fr-xl",displayString:"Afrique francophone (franais)",direction:"ltr"},{id:"he-il",value:"he-il",displayString:" ()",direction:"rtl"},{id:"hi-in",value:"hi-in",displayString:"India ()",direction:"ltr"},{id:"hu-hu",value:"hu-hu",displayString:"Magyarorszg (magyar)",direction:"ltr"},{id:"id-id",value:"id-id",displayString:"Indonesia (Bahasa Indonesia)",direction:"ltr"},{id:"it-it",value:"it-it",displayString:"Italia (italiano)",direction:"ltr"},{id:"ja-jp",value:"ja-jp",displayString:" ()",direction:"ltr"},{id:"ko-kr",value:"ko-kr",displayString:" ()",direction:"ltr"},{id:"mr-in",value:"mr-in",displayString:"India ()",direction:"ltr"},{id:"nb-no",value:"nb-no",displayString:"Norge (norsk, bokml)",direction:"ltr"},{id:"nl-be",value:"nl-be",displayString:"Belgi (Nederlands)",direction:"ltr"},{id:"nl-nl",value:"nl-nl",displayString:"Nederland (Nederlands)",direction:"ltr"},{id:"pl-pl",value:"pl-pl",displayString:"Polska (polski)",direction:"ltr"},{id:"pt-br",value:"pt-br",displayString:"Brasil (portugus)",direction:"ltr"},{id:"pt-pt",value:"pt-pt",displayString:"Portugal (Portugus)",direction:"ltr"},{id:"ru-xl",value:"ru-xl",displayString:"  (P)",direction:"ltr"},{id:"ru-ru",value:"ru-ru",displayString:" (P)",direction:"ltr"},{id:"sv-se",value:"sv-se",displayString:"Sverige (svenska)",direction:"ltr"},{id:"te-in",value:"te-in",displayString:"India ()",direction:"ltr"},{id:"th-th",value:"th-th",displayString:" ()",direction:"ltr"},{id:"tr-tr",value:"tr-tr",displayString:"Trkiye (Trke)",direction:"ltr"},{id:"vi-vn",value:"vi-vn",displayString:"Vit Nam (Ting Vit)",direction:"ltr"},{id:"zh-cn",value:"zh-cn",displayString:" ()",direction:"ltr"},{id:"zh-hk",value:"zh-hk",displayString:" ()",direction:"ltr"},{id:"zh-tw",value:"zh-tw",displayString:" ()",direction:"ltr"}],r=Object.freeze(["en-au","en-ca","en-gb","en-in","en-us","ja-jp","ko-kr","de-de","fr-fr","es-es","it-it","pt-br","zh-cn"]);function o(t){const e=(null==t?void 0:t.toLowerCase())||"",n=r.find(t=>t===e);return Boolean(n)}function s(t,e){return t.displayString<e.displayString?-1:t.displayString>e.displayString?1:0}function a(t){if(""!==document.dir)return"rtl"===document.dir;const e=i.find(e=>e.id===t);return e&&"rtl"===e.direction}},89980:function(t,e,n){n.d(e,{Lg:function(){return s}});var i=n(19575),r=n(77246);class o extends i.g{constructor(){let t=null;if((0,r.S)())try{t=localStorage}catch(t){}super(t)}}function s(){return a}let a=new o},90210:function(t,e){e.A='<svg width="30" height="14" viewBox="0 0 30 14" fill="none"><g clip-path="url(#clip0_20_99477)"><path class="outer" fill-rule="evenodd" clip-rule="evenodd" d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7Zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4A5.8 5.8 0 0 1 1.6 7Z" fill="#06F"/><path class="uncheck" d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0a.6.6 0 0 1 0-.8L20.8 7l-2.2-2.2a.6.6 0 0 1 0-.8c.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0Z" fill="#fff"/><path class="check" d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7a.6.6 0 0 1 0-.8c.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0Z" fill="#06F"/></g><defs><clipPath id="clip0_20_99477"><path fill="#fff" d="M0 0h30v14H0z"/></clipPath></defs></svg>'},90316:function(t,e,n){n.d(e,{V:function(){return s}});var i=n(24678),r=n(78393),o=n(34947);class s{reduce(t,e){if(!t)return{smartLists:new Map};if(!e)return t;let n=!1;const s={...t};return n=n||i.n.handleAction(e,o._.disableSmartList,t=>{if(t){const e=s.smartLists.get(t);e&&(e.currentState=r.J.notStarted)}}),n=n||i.n.handleAction(e,o._.registerSmartList,t=>{t&&(s.smartLists.has(t.experienceType)||s.smartLists.set(t.experienceType,{badgeProps:void 0,currentState:r.J.notStarted,focusCallback:t.focusShouldMove,initCallback:t.initShouldFire.bind(t),isUserSignedIn:!1,renderCallback:t.renderShouldFire,shouldPersist:void 0,unmountCallback:t.unmountShouldFire,updateSignInStatusCallback:t.updateSignInStatus}))}),n=n||i.n.handleAction(e,o._.persistSmartList,t=>{if(t){const e=s.smartLists.get(t);e&&(e.shouldPersist=!0)}}),n=n||i.n.handleAction(e,o._.updateSmartListState,(t,e)=>{if(t){const n=s.smartLists.get(t);n&&(n.currentState=e)}}),n=n||i.n.handleAction(e,o._.updateSmartListBadgeProps,(t,e)=>{if(t){const n=s.smartLists.get(t);n&&e&&(n.badgeProps=e)}}),n=n||i.n.handleAction(e,o._.userSignInSignature,t=>{if(t){const e=s.smartLists.get(t);e&&(e.isUserSignedIn=!0)}}),n=n||i.n.handleAction(e,o._.userSignOutSignature,t=>{if(t){const e=s.smartLists.get(t);e&&(e.badgeProps=null,e.isUserSignedIn=!1)}}),n?s:t}}},90454:function(t,e,n){n.d(e,{Rl:function(){return o},ZM:function(){return r}});var i=n(28868);function r(t){return new Promise((e,n)=>{!function(t,e){(0,i.lA)("logEvent",t,e)}(t,t=>{e(t)})})}function o(t){return new Promise((e,n)=>{!function(t,e){(0,i.lA)("logError",t,e)}(t,t=>{e(t)})})}},90565:function(t,e,n){var i,r,o,s;n.d(e,{m2:function(){return s}}),function(t){t.Modal="modal",t.CookieBanner="cookieBanner"}(i||(i={})),function(t){t.Personalize="personalize",t.MarketAndLocation="marketAndLocation"}(r||(r={})),function(t){t.OnUCCookieBannerModeEntered="onUCCookieBannerModeEntered",t.OnUCPageDownKeyPress="onUCPageDownKeyPress",t.OnUCPageUpKeyPress="onUCPageUpKeyPress",t.OnUCHeightChanged="onUCHeightChanged",t.OnUCWheel="onUCWheel",t.OnUCTouchMove="onUCTouchMove",t.OnUCUpKeyPress="onUCUpKeyPress",t.OnUCDownKeyPress="onUCDownKeyPress",t.OnUCSpaceKeyPress="onUCSpaceKeyPress",t.OnUCShiftSpaceKeyPress="onUCShiftSpaceKeyPress",t.OnUCImmersiveModeEntered="onUCImmersiveModeEntered",t.OnUCImmersiveModeExited="onUCImmersiveModeExited",t.OnUCImmersiveModeHeightChanged="onUCImmersiveModeHeightChanged",t.OnDialogOpening="onDialogOpening"}(o||(o={})),function(t){t.OnCookieBannerModeEntering="onCookieBannerModeEntering",t.OnCookieBannerModeExited="onCookieBannerModeExited",t.OnImmersiveModeEntering="onImmersiveModeEntering",t.OnImmersiveModeExiting="onImmersiveModeExiting",t.OnImmersiveModeEntered="onImmersiveModeEntered",t.OnImmersiveModeExited="onImmersiveModeExited",t.OnFeedPageScrolled="onFeedPageScrolled",t.OnFeedReadyToDisplay="onFeedReadyToDisplay",t.OnCriticalErrorEncountered="onCriticalErrorEncountered",t.OnTTVRMarked="onTTVRMarked",t.OnContentReload="onContentReload",t.OnFeedHeightChanged="onFeedHeightChanged",t.OnFeedRepositioned="onFeedRepositioned",t.OnFeedListenersReady="onFeedListenersReady",t.OnFeedNavigation="onFeedNavigation",t.OnLocationDataReady="onLocationDataReady"}(s||(s={}))},90589:function(t,e,n){n.d(e,{A:function(){return c}});var i=n(28006),r=n(93005),o=n(96241),s=n(12870);const a={didPreload:!1,timeTakenForRevealInMs:0,pageRevealed:!0};function c(){const t=r.V.getInstance().rootReducer.connector(i._N);if(!t||!s.Rb.IsPreload)return Promise.resolve(a);const e=t.getCurrentState();if(e&&e.pageRevealedData){const t=e.pageRevealedData;return Promise.resolve(t)}return new Promise(t=>{o.$.pageVisibilityChange.registerObserver(e=>{const n=e.params[0];t(n)})})}},90831:function(t,e,n){n.d(e,{M:function(){return i},t:function(){return r}});const i="consent.onetrust",r="widgetHost.cookieConsent"},90879:function(t,e,n){n.d(e,{_:function(){return a}});var i=n(78393),r=n(83542),o=n(84855),s=n(34947);class a extends r.i{initSmartList(t,e){if(!t)return;const n=this.getSmartList(t);n&&n.initCallback&&n.currentState===i.J.notStarted&&(t===o.DSN?e&&(n.initCallback(e),s._.updateSmartListState.getActionSender(this).send(t,i.J.initialized)):(n.initCallback(),s._.updateSmartListState.getActionSender(this).send(t,i.J.initialized)))}moveFocusToSmartList(t,e){const n=this.getSmartList(t);return!!(n&&n.focusCallback&&n.renderCallback&&n.currentState===i.J.rendered)&&(n.focusCallback(e),!0)}renderSmartList(t,e){if(!t||!e)return;const n=this.getSmartList(t);n&&n.renderCallback&&(n.renderCallback(e),s._.updateSmartListState.getActionSender(this).send(t,i.J.rendered))}unmountSmartList(t,e){if(!t||!e)return;const n=this.getSmartList(t);n&&n.unmountCallback&&n.currentState===i.J.rendered&&(n.unmountCallback(e),s._.updateSmartListState.getActionSender(this).send(t,i.J.unmounted))}updateSignInStatus(t,e){const n=this.getSmartList(t);return!(!n||!n.updateSignInStatusCallback)&&(n.updateSignInStatusCallback(e),!0)}getSmartList(t){if(!t)return;const e=this.getCurrentState().smartLists;return e&&0!==e.size?e.get(t):void 0}}},90906:function(t,e,n){n.d(e,{lt:function(){return s},zF:function(){return o}});var i=n(63150),r=n(85889);const o="prg-ctbr-t1";function s(){return("localhost.msn.com"===window.location.hostname||(0,i.oh)())&&(0,i.ns)()||(0,r.vM)()||(0,r.aD)()}},91218:function(t,e,n){var i,r,o,s,a;n.d(e,{y2:function(){return c}}),function(t){t[t.none=0]="none",t[t.consoleValidation=1]="consoleValidation",t[t.wholePageValidation=2]="wholePageValidation",t[t.uxValidation=3]="uxValidation",t[t.uxToolValidation=4]="uxToolValidation"}(i||(i={})),function(t){t.telemetryValidationResults="telemetryValidationResults",t.telemetryValidationInitStatus="telemetryValidationInitStatus"}(r||(r={})),function(t){t.default="default",t.low="low",t.high="high",t.ignore="ignore"}(o||(o={})),function(t){t.NA="NA",t.Common="Common",t.HomepageRanker="HomepageRanker",t.DataTRules="DataTRules"}(s||(s={})),function(t){t.Passed="pass",t.Failed="fail",t.Aborted="aborted"}(a||(a={}));const c={other:{displayKey:"Other Error"},schema:{getDisplayKey:t=>`${t} (Schema)`},markup:{targetName:"markup",displayKey:"Markup"}}},91494:function(t,e,n){n.d(e,{BQ:function(){return u},Co:function(){return p},EV:function(){return m},P9:function(){return d},RX:function(){return s},ZM:function(){return a},_F:function(){return l},aO:function(){return h},mQ:function(){return f},yy:function(){return c}});var i=n(36417);const r=i.A.Alert,o={build:""};function s(t){Object.assign(o,t)}const a={id:22012,severity:r,pb:o},c={id:22014,severity:i.A.Critical,pb:o},u=(i.A.Deprecated,i.A.Deprecated,i.A.Deprecated,i.A.Deprecated,i.A.Deprecated,i.A.Deprecated,{id:22027,severity:i.A.Critical,pb:o}),l=(i.A.Critical,i.A.Critical,{id:22031,severity:r,pb:o}),d={id:22032,severity:r,pb:o},f={id:22033,severity:r,pb:o},h={id:22034,severity:r,pb:o},p={id:22050,severity:r,pb:o},m={id:22051,severity:i.A.Deprecated,pb:o};i.A.Deprecated,i.A.Deprecated,i.A.HighImpact},91532:function(t,e,n){var i;n.d(e,{C:function(){return i}}),function(t){t.TopicFeedCard="topic-feed-card",t.articleFreCard="article-fre-card",t.autosCarouselCard="autos-carousel-card",t.bingDailyQuizCard="bing-daily-quiz-card",t.bingVideoCarousel="bing-video-carousel",t.boostAdCard="boost-ad-card",t.cashbackCarouselCard="cashback-carousel-card",t.casualGamesCard="casual-games-card",t.casualGamesCarouselCard="casual-games-carousel-card",t.casualGamesProng2CarouselCard="casual-games-prong2-carousel-card",t.casualGamesStripeCarouselCard="casual-games-stripe-carousel-card",t.channelFilterCard="channel-filter-card",t.coldStartCard="cold-start-card",t.comicsCarouselCard="comics-carousel-card",t.communityCard="community-card",t.commuteCard="commute-card",t.contentCard="content-card",t.contentCardPreview1x="content-card-preview-1x",t.contentGroup="content-group",t.contentGroupCard="content-group-card",t.creatorSpotlightCard="creator-spotlight-card",t.dailyBriefCard="daily-brief-card",t.dailyFixGamesCarouselCard="daily-fix-games-carousel-card",t.dailyGreetingCard="daily-greeting-card",t.dailyGreetingWindowsShell="daily-greeting-windows-shell",t.dailyMomentsCard="daily-moments-card",t.dailyWonderCard="daily-wonder-card",t.dailyWonderCopilotCard="daily-wonder-copilot-card",t.dailyWonderHeroVideo="daily-wonder-hero-video",t.dailyWonderQuoteCard="daily-wonder-quote-card",t.dailyWonderVideoListCard="daily-wonder-video-list-card",t.denseCard="dense-card",t.digestCard="digest-card",t.displayAdCard="display-ad-card",t.donationNpoCard="donation-npo-card",t.edgeShoppingCard="edge-shopping-card",t.editorsPickCarouselCard="editors-pick-carousel-card",t.electionCard="election-card",t.electionsCard="elections-card",t.entertainmentPremierCard="entertainment-premier-card",t.esportsCard="esports-card",t.flexArticleCard="flex-article-card",t.followingFREInlineCard="following-fre-inline-card",t.gamingRecentlyPlayedCard="gaming-recentlyplayed-card",t.gemGreetingCard="gem-greeting-card",t.healthArticlesCard="health-articles-card",t.healthCard="health-card",t.healthFitnessCard="health-fitness-card",t.healthRiverCard="health-river-card",t.healthTipCard="health-tip-card",t.hideStoryCard="hide-story-card",t.horoscopeAnswerCard="horoscope-card",t.hotListCard="hot-list-card",t.infopaneCard="infopane-card",t.infopaneSlideCard="infopane-slide-card",t.interestManagementCard="interest-management-card",t.linkedInCard="linked-in-card",t.localNewsCarCard="local-news-carousel-card",t.mangaCard="manga-card",t.mangaCarousel="manga-carousel",t.marketplaceCard="marketplace-card",t.mobileTrendingSearchCard="mobile-trending-search-card",t.momentInTimeHero="moment-in-time-hero",t.moneyAddWatchlistCard="money-add-watchlist-card",t.moneyCard="money-card",t.moneyEdgeCard="money-edge-card",t.moneyInfoCardWC="money-info-card",t.moneyTopicStripeCarouselCard="money-topic-stripe-carousel-card",t.nativeAdCard="native-ad-card",t.nativeTopAdCard="native-top-ad-card",t.onThisDayCard="on-this-day-card",t.panoCard="pano-card",t.perspectiveCard="perspective-card",t.placeholderCard="placeholder-card",t.pollsCard="polls-card",t.prismCard="prism-card",t.prismCarouselCard="prism-carousel-card",t.profileCarouselCard="profile-carousel-card",t.promotedAdCard="promoted-ad-card",t.publisherListCard="publisher-list-card",t.qnaCard="qna-card",t.quizCard="quiz-card",t.realEstateCard="real-estate-card",t.recipesCard="recipes-card",t.recommendedInterestsCard="recommended-interests-card",t.relatedNewsCard="related-news-card",t.responsiveAdCard="responsive-ad-card",t.responsiveCard="responsive-card",t.responsiveInfopaneCard="responsive-infopane",t.rewardsCard="rewards-card",t.richCalendarCard="rich-calendar-card",t.richCalendarWindowsShell="rich-calendar-windows-shell",t.sectionHeaderCard="section-header-card",t.selectCarouselCard="select-carousel-card",t.serendipityCard="serendipity-card",t.sharedHeroNewsCard="shared-hero-news-card",t.shoppingBannerSdCard="shopping-banner-sd-card",t.shoppingBuyingGuidePremiumCard="shopping-buying-guide-premium-card",t.shoppingCard="shopping-card",t.shoppingCarouselCard="shopping-carousel-card",t.shoppingCarouselProngWC="shopping-carousel-prong-wc",t.shoppingEventsDealCard="shopping-events-deal-card",t.shoppingFashionCarouselWC="shopping-fashion-carousel-wc",t.shoppingRiverCard="shopping-river-card",t.shoppingSdCard="shopping-sd-card",t.shoppingVideoCarouselCard="shopping-video-carousel-card",t.shoppingTopSectionCard="shopping-gem-hero-card",t.shortsGrouping="shorts-grouping",t.sportsCard="sports-card",t.sportsOlympicCard="sports-olympic-card",t.sportsTopicStripeCarouselCard="sports-topic-stripe-carousel-card",t.spotlightCard="spotlight-card",t.superappUpsellCard="superapp-upsell-card",t.tabbedInfopaneCard="tabbed-infopane-card",t.topCommentsCard="top-comments-card",t.topPicksCard="top-picks-card",t.topSitesCard="top-sites-card",t.topStoriesCard="top-stories-card",t.trafficCard="traffic-card",t.trafficHero="traffic-hero",t.travelDestinationCard="travel-destination-card",t.travelDestinationCarouselCard="travel-destination-carousel-card",t.trendingNowCard="trending-now-card",t.trendingSearchCard="trending-search-card",t.videoCard="video-card",t.videoGrouping="video-grouping",t.weatherCard="weather-card",t.weatherHeroExperience="weather-hero-experience",t.weatherHeroExperienceCarouselCard="weather-hero-experience-carousel-card",t.webContentCard="web-content-card",t.widgetPlaceholderCard="widget-placeholder-card",t.widgetsNotificationsCard="widgets-notifications-card",t.winAppCard="win-app-card"}(i||(i={}))},91771:function(t,e){e.A='<svg width="14" height="14" viewBox="0 0 14 14"><path d="M8.5 0A5.42 5.42 0 0 1 14 5.5a5.5 5.5 0 0 1-9.02 4.23L.85 13.85c-.1.1-.2.15-.35.15a.46.46 0 0 1-.35-.15.52.52 0 0 1-.15-.35c0-.14.05-.25.15-.35l4.12-4.13a5.52 5.52 0 0 1-.54-6.28A5.48 5.48 0 0 1 8.5 0Zm0 10a4.4 4.4 0 0 0 3.9-2.24c.4-.7.6-1.45.6-2.26a4.45 4.45 0 0 0-2.25-3.9C10.06 1.2 9.31 1 8.5 1a4.5 4.5 0 1 0 0 9Z" fill-opacity=".8"/></svg>'},92248:function(t,e,n){n.d(e,{G:function(){return a}});var i=n(98216),r=n(45083),o=n(53626),s=n(77246);async function a(t,e,a,c,u){if(!(0,s.S)())return;const l=await n.e("diagnostic-web-vitals").then(n.bind(n,67118));(0,r.GP)().then(()=>{const n=a?{timeToPageReveal:t[o.fn],timeToPageVisible:t[o.aW]}:void 0;l.initDiagnosticsWebVitals(t=>{c?c({markers:t}):i.YT.sendLoadTimeEvent({markers:t}),Object.entries(t).forEach(t=>{let[n,i]=t;e[n]=i})},t&&t[o.$w]||-1,n,u)})}},92261:function(t,e,n){var i;n.d(e,{a:function(){return i}}),function(t){t.Lax="lax",t.Strict="strict",t.None="none"}(i||(i={}))},92328:function(t,e,n){n.d(e,{Q_:function(){return r}});function i(){window.standbyClickEventsHandler&&(window.removeEventListener("click",window.standbyClickEventsHandler),window.removeEventListener("auxclick",window.standbyClickEventsHandler),window.removeEventListener("contextmenu",window.standbyClickEventsHandler),delete window.standbyClickEventsHandler)}function r(t){window.standbyClickEventsHandler&&(t&&t instanceof Promise?t.then(()=>{i()}):i())}},92979:function(t,e){e.A='<svg width="10" height="10" viewBox="0 0 10 10"><path d="M10 0 0 5l4.66.34L5 10l5-10Z"/></svg>'},93005:function(t,e,n){n.d(e,{V:function(){return b}});var i=n(8782),r=n(99382),o=n(98847),s=n(63456),a=n(80164),c=n(87440),u=n(77246);const l=new Map;function d(t){return t+"."+r.j.connectorStateKey}const f={registerInjection:function(t,e){let n=l.get(e);n||(n=new Set,l.set(e,n)),n.add(d(t))},initializeExperience:function(t,e,n){const i=d(e),r=(0,s.A)(t,i,void 0),o=(0,s.A)(t,d(n),void 0),c={...r,[n]:o};(0,a.A)(t,i,c)},reportStateChange:function(t,e,n){const i=l.get(e);if(i)for(const r of i){const i=(0,s.A)(t,r,void 0);i&&(0,a.A)(t,r,{...i,[e]:n})}}};var h=n(7187),p=n(27597);class m{constructor(){this._connectorMap={},this._globalConnectors=[],this._allConnectors=[],this._getDataConnectorPendingPromises=new Map,this.reduce=this.reduce.bind(this)}connectors(){return this._allConnectors}connector(t){return this._connectorMap[t]}globalConnectors(){return this._globalConnectors}getDataConnector(t){const e=this.connector(t);if(e)return Promise.resolve(e);const n=this._getDataConnectorPendingPromises.get(t);if(n)return n.promise;let i,r;const o=new Promise((t,e)=>{i=t,r=e});return this._getDataConnectorPendingPromises.set(t,{promise:o,resolve:i,reject:r}),o}reduce(t,e){(0,h.isNullOrUndefined)(t)&&(t={});let n={...t},i=!1;const l=e.key;if(void 0!==e&&void 0!==l){const d="string"==typeof e.type;if(d&&e.type.endsWith(r.j.renderAction)){const e=l+"."+r.j.connectorStateKey,c=(0,o.A)({},(0,s.A)(t,e,void 0));(0,a.A)(n,e,c),i=!0}else if(d&&e.type.endsWith(r.j.dataConnectorMergeInitAction)){const t=l,r=e.params[0];r&&(f.initializeExperience(n,t,r),i=!0)}else{const t=this._connectorMap[l];if(t){t.isGlobal&&(n=(0,c.A)({},n));const r=this.computeNextStateForConnector(n,l,e);i=r.stateChanged,i&&(f.reportStateChange(n,l,r.newState),(0,u.S)()&&(0,p.Jl)(l,r.newState))}else if(!(0,u.S)())throw new Error("Reducer for: "+l+" must not return undefined.")}}else Object.keys(this._connectorMap).forEach(t=>{this.computeNextStateForConnector(n,t,e).stateChanged&&(i=!0)});return i?n:t}addSubReducerForConnector(t){if(!t)throw new Error("The parameter 'connector' cannot be null.");this.addConnectorToCollection(t),t.store.dispatch({key:t.fullNamespace,type:"@@connector-view/INIT"})}addConnectorToCollection(t){if(this._connectorMap[t.fullNamespace]=t,this._allConnectors.push(t),t.isGlobal&&this._globalConnectors.push(t),this._getDataConnectorPendingPromises.has(t.namespace)){const e=this._getDataConnectorPendingPromises.get(t.namespace);try{e.resolve(t)}catch(t){e.reject(t)}this._getDataConnectorPendingPromises.delete(t.namespace)}}computeNextStateForConnector(t,e,n){const i=this._connectorMap[e];if(!i.reducer)return{stateChanged:!1,newState:null};const o=e+"."+r.j.connectorStateKey,c=(0,s.A)(t,o,void 0),u=this.subReduce(i.reducer,c,n);if(void 0===u)throw new Error("Reducer for: "+e+" must not return undefined.");const l=u!==c;return l&&(0,a.A)(t,o,u),{newState:u,stateChanged:l}}subReduce(t,e,n){const i=t.reduce(e,n);return i!==e?i:e}}var g=n(47475),v=n(88294),w=n(17720);const y="__PageBaseInstance__";class b{constructor(t){let e;const n=[];if(void 0!==v.v&&v.v&&v.v.isDebug()){e=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||i.Zz)((0,g.Tw)(...n))}else e=(0,g.Tw)(...n);this._rootReducer=new m,this._store=(0,i.y$)(this.rootReducer.reduce,t,e)}static resetPageBaseInstance(t){w.vv.set(y,new b(t))}static deletePageBaseInstance(){w.vv.delete(y)}get store(){return this._store}get rootReducer(){return this._rootReducer}static getInstance(t){return w.vv.get(y,()=>new b(t))}start(){this.rootReducer.connectors().forEach(t=>t.onApplicationStart())}}},93468:function(t,e,n){n.d(e,{$5:function(){return c},c_:function(){return s},vV:function(){return a}});var i=n(98216),r=n(65022),o=n(7258);function s(t,e,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5?arguments[5]:void 0;const u=c(e,n,r||(0,o.M5)(t),s,a);u.pb.stack=t&&t.stack||void 0,i.YT&&i.YT.sendAppErrorEvent(u)}function a(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0;i.YT&&i.YT.sendAppErrorEvent(c(t,e,n,r,s),o)}function c(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;const s=(0,r.Ukt)();"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("appError",{detail:{errorId:t.id}}));const a=n?{...s,...t.pb,customMessage:n,...i,w:1}:{...s,...t.pb,...i,w:1};return"number"==typeof o&&o>0&&o<100&&(a.samplePct=o),{...t,message:e||t.message,pb:a}}},93530:function(t,e,n){n.r(e),n.d(e,{ExperienceTrackerHomePageDataConnector:function(){return i.a},ToolingInfo:function(){return r}});var i=n(56598);const r={experienceConfigSchema:{}}},93532:function(t,e,n){n.d(e,{m:function(){return r}});var i=n(12870);const r=()=>{const t=i.Rb&&i.Rb.ClientSettings||{},{geo_citycf:e,geo_countrycf:n}=t;return t&&{citycf:e,countrycf:n}}},93891:function(t,e,n){n.d(e,{F:function(){return s}});var i=n(90905),r=n(65022),o=n(93468);class s{constructor(t){this.bannerHeight=0,this.handleViewportRequest=()=>{this.notifyPageContentViewport()},this.debouncedViewportRequest=(0,i.A)(this.handleViewportRequest,100),this.queryParent=t.queryParent,this.handleHeader(t.headerSelector,t.isHeaderHeightDynamic),document.addEventListener("requestPageContentViewport",this.debouncedViewportRequest)}updatePageContentViewport(t){this.bannerHeight=t.bannerHeight,this.notifyPageContentViewport()}dispose(){this.headerResizeObserver&&this.headerResizeObserver.disconnect(),document.removeEventListener("requestPageContentViewport",this.debouncedViewportRequest)}notifyPageContentViewport(){if(this.headerElement){const t=this.bannerHeight,e=this.headerElement.offsetHeight||0;document.dispatchEvent(new CustomEvent("pageContentViewportUpdated",{detail:{rootMargin:`-${t+e}px 0px 0px 0px`}}))}}handleHeader(t,e){var n;if(this.headerElement=null===(n=this.queryParent)||void 0===n?void 0:n.querySelector(t),!this.headerElement)return void(0,o.vV)(r.Aw8,"Unable to find header element",`Shadow root available: ${!!this.queryParent}, Header selector: ${t}`);this.headerElement&&e&&"ResizeObserver"in window?(this.headerResizeObserver=new ResizeObserver(()=>{this.notifyPageContentViewport()}),this.headerResizeObserver.observe(this.headerElement)):this.notifyPageContentViewport()}}},93914:function(t,e,n){function i(){try{return localStorage}catch(t){return null}}function r(){try{return sessionStorage}catch(t){return null}}n.d(e,{Y:function(){return i},j:function(){return r}})},94020:function(t,e,n){n.d(e,{O:function(){return o}});var i=n(84397),r=n(2462);class o{updateMsaOptOutCookie(t){if(!this.getMsaOptoutCookieData()&&t&&t.optout){const e=!0===t.optout.msaOptOut?"1":"0";this.setMsaOptoutCookie(e)}}getMsaOptoutCookieData(){const t=(0,r.Ri)(i.wf.MSAOptOut);return t&&t.length>0?t:null}setMsaOptoutCookie(t){t&&t.length>0&&(0,r.Ub)(i.wf.MSAOptOut,t,1,null,"/")}getBrowserOptoutStatus(){const t=(0,r.Ri)(i.wf.BrowserOptOut);return!(!t||"1"!==t)}setUserOptOutSettings(){const t=this.getBrowserOptoutStatus(),e=this.getMsaOptoutCookieData(),n=!(!e||"1"!==e),r=(t||n).toString().toLowerCase();let o="";t&&(o="b|"),n&&(o+="m");const s=i.QR.UserOptOut+":"+r+";"+i.QR.UserOptOutOptions+":"+o;if(document.head.attributes["data-info"]){const t=document.head.attributes["data-info"].value.split(";");t.find(t=>t.indexOf(i.QR.UserOptOut)>-1)?t.find(t=>t.indexOf(i.QR.UserOptOut)>-1)!==i.QR.UserOptOut+":"+r&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.QR.UserOptOut+":false",i.QR.UserOptOut+":"+r).replace(i.QR.UserOptOut+":true",i.QR.UserOptOut+":"+r)):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+i.QR.UserOptOut+":"+r,t.find(t=>t.indexOf(i.QR.UserOptOutOptions)>-1)?t.find(t=>t.indexOf(i.QR.UserOptOutOptions)>-1)!==i.QR.UserOptOutOptions+":"+o&&(t.includes(i.QR.UserOptOutOptions+":")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.QR.UserOptOutOptions+":",i.QR.UserOptOutOptions+":"+o):t.includes(i.QR.UserOptOutOptions+":b|")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.QR.UserOptOutOptions+":b|",i.QR.UserOptOutOptions+":"+o):t.includes(i.QR.UserOptOutOptions+":b|m")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.QR.UserOptOutOptions+":b|m",i.QR.UserOptOutOptions+":"+o):t.includes(i.QR.UserOptOutOptions+":m")&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.QR.UserOptOutOptions+":m",i.QR.UserOptOutOptions+":"+o))):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+i.QR.UserOptOutOptions+":"+o}else document.head.setAttribute("data-info",s)}}},94061:function(t,e,n){n.d(e,{HA:function(){return m},LW:function(){return h},hB:function(){return p}});var i=n(33107),r=n(77246),o=n(98763),s=n(13053),a=n(77216),c=n(20431),u=n(30817),l=n(29468);const d=(0,o.pV)(()=>({})),f=new WeakMap;function h(){if(!(0,r.S)())return;const{enablePerfTimeline:t,traceLevel:e}=(0,c.wR)();if(!t||"undefined"==typeof customElements||e<a.X.high)return;const n=customElements.define;customElements.define=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[r,o]=e,s="connectedCallback",a=o.prototype[s];return"function"!=typeof a||"getExperienceType"in o.prototype||(o.prototype[s]=function(){const t=p(this.localName,this.instanceId),e=t&&t.startMeasure("init").endMeasure;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];const o=a.apply(this,i);return e&&e(),m(this,t),(0,u._P)("WC.Count"),o}),n.apply(customElements,e)}}function p(t,e){const n=d.get(),r=1===(n[t]=(n[t]||0)+1)?e:(0,l.A)(e);return(0,i.S9)(t,r)}function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.b;if(!t||!t.shadowRoot||!e)return;const i=new g("update",e);i.tryStartMeasure(),n().then(()=>i.tryEndMeasure());const{traceLevel:r}=(0,c.wR)();r&&function(t,e,n){let i=f.get(t);if(i)return;let r=0;i=new MutationObserver(t=>{e.tryStartMeasure();const i=t.reduce((t,e)=>(e.addedNodes.forEach(e=>t.added.push(e.nodeName)),e.removedNodes.forEach(e=>t.removed.push(e.nodeName)),e.attributeName&&t.attrs.push(e.attributeName),t),{added:[],removed:[],attrs:[]}),o={added:i.added.length?i.added.join(","):void 0,removed:i.removed.length?i.removed.join(","):void 0,attrs:i.attrs.length?i.attrs.join(","):void 0};e.addCustomData("mutation"+ ++r,o),n().then(()=>e.tryEndMeasure())}),i.observe(t.shadowRoot,{childList:!0,subtree:!0,attributes:!0}),i.observe(t,{attributes:!0}),f.set(t,i)}(t,i,n||w)}class g{constructor(t,e){this.measureName=t,this.perfTimeline=e,this.customData={}}tryStartMeasure(){if(!this.coreEndMeasure){const t=this.perfTimeline.startMeasure(this.measureName).endMeasure;this.coreEndMeasure=()=>t({customData:this.customData})}}addCustomData(t,e){this.customData[t]=e}tryEndMeasure(){this.coreEndMeasure&&(this.coreEndMeasure(),this.customData={},this.coreEndMeasure=null)}}let v;function w(){return v||(v=new Promise(t=>(0,s.D)(()=>{v=null,t()})))}},94354:function(t,e,n){n.d(e,{Oq:function(){return Kt},fb:function(){return Jt},km:function(){return qt}});var i=n(93468),r=n(65022),o=n(30817),s=n(36417),a=n(68399),c=n(98216),u=n(14586),l=n(97852),d=n(96048),f=n(14383),h=n(3304),p=n(41820),m=n(48172),g=n(12870);let v=null;async function w(){const t=await m.f.getPreferenceSetting(p.bJ.recentlyViewedContent);if(!t||!t.value)return null;const e=t.value,n=Date.now()-18e4;if(!e.lastUpdateTimestamp||e.lastUpdateTimestamp<n)return null;const i=[];for(let t=0;t<e.batches.length;t++){const r=e.batches[t];if(!(r.timestamp>=n))break;i.push(r)}return 0===i.length?null:{lastUpdateTimestamp:e.lastUpdateTimestamp,batches:i}}async function y(){if(["ruby-ntp","ruby-ntp-ctrl2","prg-untgt-ar-c","prg-untgt-ar-t"].some(t=>g.Rb.CurrentFlightSet.has(t)))return;const t=await w();if(!t||!t.batches)return;const e=function(t,e){const n=new Set,i=new Set;for(let r=0;r<t.length;r++){const o=t[r];if(n.size<e&&o.newsIds)for(const t of o.newsIds){if(n.size>=e)break;n.add(t)}if(i.size<e&&o.segmentIds)for(const t of o.segmentIds){if(i.size>=e)break;i.add(t)}if(n.size>=e&&i.size>=e)break}return{NewsImpressedDocIds:Array.from(n),SegmentImpressedDocIds:Array.from(i)}}(t.batches,100);if(e.NewsImpressedDocIds.length||e.SegmentImpressedDocIds.length){if(!v){const e=t.batches.map(t=>t.timestamp);v={minTimestamp:Math.min(...e),maxTimestamp:Math.max(...e)}}return e}}var b=n(97643),S=n(93532),x=n(59545),C=n(45083);const k=[];function T(){const t=g.Rb&&g.Rb.Diagnostics||{};return t&&(0,b.RC)(JSON.stringify(t))}function $(){const t=$;return new Promise(e=>{void 0!==t.cache&&e(t.cache);const n=i=>{i>3&&(t.cache=null,e(null));const r=document.getElementById("ntp-diagnostics");r&&r.innerText?(t.cache=r,e(r)):(i++,setTimeout(()=>n(++i),3e3))};n(0)})}async function A(t,e,n,o){try{(t||e)&&k.push({id:t,debug:e}),await Promise.all([(0,x.Qc)(),(0,C.GP)()]);const i=await $();if(i&&i.innerText){const t=JSON.parse(i.innerText);Object.assign(t,{traceInfo:k}),Object.assign(t,{prgDiagnostics:T()}),Object.assign(t,{authTrail:n}),Object.assign(t,{countryConfidenceFactor:(0,S.m)()}),o&&Object.assign(t,{ocvSource:o}),i.innerText=JSON.stringify(t)}}catch(t){(0,i.c_)(t,r.YTQ,"Error throwed during update idxid into diagnostic element")}}var I=n(1732),P=n(77246),_=n(17720),M=n(27261),R=n(69189),E=n(19993),F=n(57759),D=n(17128),O=n(69816),N=n(40160),U=n(64065),L=n(55593);var B=n(17254),W=n(74195),H=n(19548),V=n(96592),z=n(67387),j=n(76166),q=n(89980),G=n(83003),J=n(43820);const K=Symbol("__debugIdList__"),Q=Symbol("__renderedCardIds__"),X=t=>{var e,n,o,s;const{jsonResponse:a,heroSection:c,segment:u}=t,l=a.sections.find(t=>"cardData_hero"===t.region),d=(null==l||null===(e=l.cards)||void 0===e?void 0:e.length)??0;if(!d)return void(0,i.vV)(r.yK8,`Missing Card Data Hero Region - ${u}`,void 0,{...r.yK8.pb,segment:u,customMessage:`debugId: ${a.debugId}`});const f=it[u].cardCounts.includes(d);let h=!0,p=!1;const m=tt.get(u);if(null==l||null===(n=l.cards)||void 0===n||n.forEach(t=>{m.has(t.type)||(et.includes(t.type)?p=!0:h=!1)}),p&&(0,i.vV)(r.qQs,`Hero card backfilled - ${u}`,void 0,{...r.qQs.pb,segment:u,receivedCardCount:d,cardsInResponse:JSON.stringify(((null==l?void 0:l.cards)||[]).map(t=>t.type)),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:f,isValidCardTypes:h}),!f||!h)return void(0,i.vV)(r.yK8,`Invalid Card Data Hero Region - ${u}`,void 0,{...r.yK8.pb,segment:u,receivedCardCount:d,cardsInResponse:JSON.stringify(((null==l?void 0:l.cards)||[]).map(t=>t.type)),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:f,isValidCardTypes:h,hasBackfilled:p});const g=(null===(o=((null==c?void 0:c.subSections)||[]).find(t=>5===(null==t?void 0:t.requestedColumnCount)))||void 0===o?void 0:o.subSections)||[],v=g.filter(t=>{var e;return"placeholder"!==(null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)}),w=v.length===d;let y=!0;const b=null==l||null===(s=l.cards)||void 0===s?void 0:s.map(t=>t.id);v.forEach(t=>{var e;b.includes(null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id)||(y=!1)}),w&&y||(0,i.vV)(r.yK8,`Invalid Hero Waterfall Region - ${u}`,void 0,{...r.yK8.pb,segment:u,cardsInResponse:JSON.stringify(g.map(t=>{var e,n;return`${null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id}|${null==t||null===(n=t.cards)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type}`})),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:w,isValidCardIds:y})},Y=t=>{switch(t){case"weather":return r.wDb;case"sports":return r.rQn;case"finance":return r.UsN;case"traffic":return r.tnj;case"cegrowth":return r.WlW;default:return r.tDC}};var Z;!function(t){t.weather="weather",t.traffic="traffic",t.finance="finance",t.sports="sports",t.cegrowth="cegrowth",t.videos="videos"}(Z||(Z={}));const tt=new Map([["weather",new Set([G.pL.WeatherHero,G.pL.WeatherCurrent,G.pL.WeatherForecast,G.pL.WeatherMap])],["traffic",new Set([G.pL.TrafficIncidents,G.pL.TrafficCamerasWithSummary,G.pL.TrafficMap,G.pL.TrafficNews,G.pL.TravelTimes,G.pL.TravelTimesWithSummary,G.pL.TrafficCameras,G.pL.TrafficTransit,G.pL.TrafficSummary,G.pL.TopicFeed])],["cegrowth",new Set([G.pL.DailyMomentsCard1,G.pL.MiTHeroAction,G.pL.MiTHeroContent,G.pL.DailyMomentsCard2,G.pL.DailyMomentsCard3,G.pL.MiTHeroFollow,G.pL.MiTHeroSpotlight])],["sports",new Set([G.pL.SportsHeroFre,G.pL.SportsHeroLeagueTodaysEvents,G.pL.SportsHeroMatch1SeasonStats,G.pL.SportsHeroMatch1Stats,G.pL.SportsHeroMatch2SeasonStats,G.pL.SportsHeroMatch2Stats,G.pL.SportsHeroMatch3SeasonStats,G.pL.SportsHeroMatch3Stats,G.pL.SportsHeroMatchStatistics,G.pL.SportsHeroMatchCard,G.pL.SportsHeroNews,G.pL.SportsHeroOneVsManyEventResult,G.pL.SportsHeroOneVsOneEventResult,G.pL.SportsHeroSeasonStatistics,G.pL.SportsHeroStandingsRankings,G.pL.SportsHeroTeamStandings,G.pL.SportsHeroTeamStandingWithEvents,G.pL.SportsHeroTeamStandingWithMedals,G.pL.SportsHeroTeamVsTeam,G.pL.SportsHeroTeamVsTeamEventResult,G.pL.SportsHeroVideo,G.pL.SportsSpotlight2Match1,G.pL.SportsSpotlight2Match2])],["finance",new Set([G.pL.FinanceHeroMarket,G.pL.FinanceHeroMovers,G.pL.FinanceHeroSuggested,G.pL.FinanceHeroCrypto,G.pL.FinanceHeroCurrencies,G.pL.FinanceHeroUpcomingEarnings,G.pL.FinanceHeroNews,G.pL.FinanceHeroWatchlistIdeas,G.pL.FinanceHerowlsummary,G.pL.FinanceHeroMarketChart])],["videos",new Set([G.pL.DailyWonderQuoteCard,G.pL.DailyWonderHeroVideo,G.pL.DailyWonderVideoListCard,G.pL.DailyWonderCopilotCard])]]),et=[G.pL.Article,G.pL.Video,G.pL.Slideshow],nt=new Map([["hero-section-one-row-1211",{cardCount:4,supportedSegments:["traffic","sports","finance"]}],["hero-section-one-row-11111",{cardCount:5,supportedSegments:["traffic","sports","finance"]}],["hero-section-one-row-122",{cardCount:3,supportedSegments:["weather","videos"]}],["hero-section-one-row-2111-b",{cardCount:4,supportedSegments:["cegrowth","videos"]}],["msft-full-wide-one-card-five-col",{cardCount:1,supportedSegments:["weather"]}]]),it={weather:{cardCounts:[3,1]},traffic:{cardCounts:[4,5]},sports:{cardCounts:[4,5]},finance:{cardCounts:[4,5]},cegrowth:{cardCounts:[]},videos:{cardCounts:[]}},rt=(t,e)=>{var n,i;const r=null==t||null===(n=t.sections)||void 0===n?void 0:n.find(t=>"widgets"===t.region);if(!r||null===(i=r.subSections)||void 0===i||!i.length)return e&&c.YT.addOrUpdateTmplProperty("widgetsCards",""),void((0,P.S)()?window.dispatchEvent(new CustomEvent("noWidgetsData",{detail:!0})):window.noWidgetsData=!0);window.noWidgetsData&&(window.noWidgetsData=!1)};const ot=(t,e,n)=>{const o=_.vv.get(K,()=>[]),s=_.vv.get(Q,()=>new Map);if(0!==n&&2!==n||(o.length=0,s.clear()),!t||!t.length)return;const a=[],u=[];o.push(e),null==t||t.forEach(t=>{var e;"river"===(null==t?void 0:t.region)&&(null==t||null===(e=t.sections)||void 0===e||e.forEach(t=>{var e;const n=function(t){const e={};if(!Array.isArray(t))return e;for(const n of t)if(Array.isArray(n))for(const t of n)if(null!=t&&t.cards&&Array.isArray(t.cards))for(const n of t.cards)null!=n&&n.wpoId&&(e[n.wpoId]=!0);return e}(null==t?void 0:t.columnLayoutList);null==t||null===(e=t.cards)||void 0===e||e.forEach(t=>{if(null!=t&&t.wpoId&&n[t.wpoId]){const{id:e,type:n}=t;e&&s.has(e)?(a.push(e),u.push(n)):s.set(e,n)}})}))}),a.length&&(c.YT.addOrUpdateTmplProperty("dupecards",String(a.length)),(0,i.vV)(r.PWH,"Duplicate cards found in feed response",void 0,{cardIdList:a,cardTypeList:u,debugIdList:o}))};function st(t,e,i,r,o,s){const a=!t;!(r||(0,B.Lo)())||e||i||a||"undefined"!=typeof window&&"requestIdleCallback"in window&&setTimeout(()=>{window.requestIdleCallback(()=>function(t,e,i){(async()=>{const{tryCreateRubyFeedApiResponse:r}=await n.e("libs_feed-api-contracts_dist_index_js").then(n.bind(n,43342));r(t,e,i)})()}(t,o,s))},3e3)}var at,ct=JSON.parse('{"nextPageUrl":"","sections":[{"region":"river","subSections":[{"dataTemplate":"msft-full-wide-one-card-five-col","layoutTemplate":"msft-full-wide-one-card-five-col","cards":[{"type":"filteredChannels","isLocalContent":false,"galleryItemCount":0,"subCards":[],"subscriptionProductType":"undefined","position":0,"notificationState":"undefined","isWorkNewsContent":false,"isShowSelectMoreMessage":false}]},{"dataTemplate":"msft-full-wide-one-card-five-col","layoutTemplate":"msft-full-wide-one-card-five-col","cards":[{"type":"InterestManager","isLocalContent":false,"galleryItemCount":0,"subscriptionProductType":"undefined","position":0,"notificationState":"undefined","isWorkNewsContent":false}]}]}],"isPartial":false}'),ut=n(79426),lt=n(41625);!function(t){t.News_BreakingNews="News_BreakingNews",t.News_ForYouNews="News_ForYouNews"}(at||(at={}));var dt=n(98288),ft=n(20392);const ht=new Set([G.pL.Article,G.pL.Slideshow,G.pL.Video]);function pt(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.subCards)for(const e of t.subCards)pt(e,n);if(!n&&!ht.has(t.type)||!t.url)return t;try{e=new URL(t.url)}catch(e){return(0,i.c_)(e,r.tRb,"Invalid Consumption Card Url",void 0,{url:t.url}),t}return e.searchParams.has(l.cs)||"www.msn.com"!==e.hostname&&"www.msn.cn"!==e.hostname||(e.searchParams.append(l.cs,"ruby"),t.url=e.toString()),t}var mt=n(11367),gt=n(29736),vt=n(63150);const wt="https://account.microsoft.com/privacy/ad-settings";function yt(t){return"river"===t?"cardData":`cardData_${t}`}class bt{constructor(t){this.adRiverRegion=B.T3.IsHeroNTP?"riverlock":"river",this.adInfopaneRegion=B.T3.IsHeroNTP?"infopanelock":"infopane",this.infoPaneCardCount=0,this.riverCardCount=0,this.heroCardCount=0,this.rightrailCardCount=0,this.railCardCount=0,this.denseRiverCardCount=0,this.widgetsCardCount=0,this.riverNativeAdRelativeCount=0,this.riverCmsAdRelativeCount=0,this.riverIntraNativeAdRelativeCount=0,this.infopaneCmsAdCount=0,this.sectionIndex=0,this.wpoIdResponseIndex=0,this.shoppingInfopaneAdV1=!1,this.isRubySelected=!1,this.userIsEligibleForRuby=!1,this.isFirstAdLogged=!1,this.mapRegionBasedWpoResponseForSuperFeed=(t,e,n,o,s,a,c,u,l,d)=>{if(!t||!t.sections||!t.sections.length)return{rawAdRegionTupleMap:St()};this.rawAdRegionTupleMap=St();const f={rawAdRegionTupleMap:this.rawAdRegionTupleMap},h=t.serviceContext?t.serviceContext.debugId:t.debugId,p=xt(t),{nextPageUrl:m,sections:g,pageContext:v,previews:w}=p;let y,b,S=this.riverCardCount;const x=[];let C=!1;const k=g.findIndex(t=>"cardData"===t.region),T=g.findIndex(t=>"widgets"===t.region),$=g.findIndex(t=>"subLayouts"===t.region);let A=g;if(k>-1){y=g[k].cards,u&&(this.wpoIdResponseIndex=0),S=100*this.wpoIdResponseIndex;const e=g.find(t=>"river"===t.region).subSections,n=Ct(e,S);if(b=n.subSections,C=n.rowRendering,$>-1){var I;const e=null==t||null===(I=t.sections)||void 0===I?void 0:I[$].subSections;for(const t of e)t.wpoContainerId+=S,x.push({subSections:Ct(t.subSections,S).subSections,wpoContainerId:t.wpoContainerId})}this.wpoIdResponseIndex++,null!=c&&c.get("river")&&(this.riverNativeAdRelativeCount=c.get("river")),null!=c&&c.get("resriver")&&(this.riverCmsAdRelativeCount=c.get("resriver")),null!=c&&c.get("intranative")&&(this.riverIntraNativeAdRelativeCount=c.get("intranative"))}(k>-1||T>-1)&&(A=g.filter(t=>["cardData","subLayouts"].indexOf(t.region)<0));const P=A.findIndex(t=>"hero"===t.region),_=A.findIndex(t=>"widgets"===t.region);var M,R,E;return P>-1&&a&&((null==(M=A[P])||null===(R=M.subSections)||void 0===R||null===(R=R[0])||void 0===R?void 0:R.dataTemplate)||(null==M||null===(E=M.subSections)||void 0===E||null===(E=E[0])||void 0===E?void 0:E.layoutTemplate))&&A.splice(P,1),f.nextPageUrl=m,f.pageContext=v,f.previews=w,f.regions=A.map(c=>{const{subSections:u,region:f,requestedColumnCount:p}=c,v=void 0,w=void 0;let T;if(k>-1&&("river"===f||"hero"===f&&a)){if("river"===f){T=[{dataTemplate:v,layoutTemplate:w,cards:y.map(t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,S,l,d)),column:p,columnLayoutList:b,containerLayoutList:x}]}else if("hero"===f){var $;const a=(null===($=g.find(t=>t.region===yt("hero")))||void 0===$?void 0:$.cards)||[];if(a.length){var A;const i=this.heroCardCount;T=[{dataTemplate:v,layoutTemplate:w,cards:a.map(t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,i)),column:p,columnLayoutList:Ct(null==t||null===(A=t.sections)||void 0===A?void 0:A[P].subSections,i).subSections}]}else(0,i.vV)(r.yK8,"Empty hero card data list",void 0,{...r.yK8.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}`}),T=[]}}else if("widgets"===f){var I;const a=(null===(I=g.find(t=>t.region===yt("widgets")))||void 0===I?void 0:I.cards)||[];if(a.length){var M;const i=this.widgetsCardCount;T=[{dataTemplate:v,layoutTemplate:w,cards:a.map(t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,i)),column:p,columnLayoutList:Ct(null==t||null===(M=t.sections)||void 0===M?void 0:M[_].subSections,i).subSections}]}else(0,i.vV)(r.DYU,"Empty widgets card data list",void 0,{...r.DYU.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}`}),T=[]}else T="notification"===f?u:null==u?void 0:u.map(t=>{let{dataTemplate:a,layoutTemplate:c,cards:u,column:p,isTopSection:g}=t;if(u){const t={dataTemplate:a,layoutTemplate:c,cards:u.map(t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,S,l,d)),column:p,isTopSection:g};return this.sectionIndex++,t}"river"===f&&(0,i.vV)(r.qSe,"No cards were sent from WPO in river",void 0,{...r.qSe.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}, column: ${p}, dataTemplate: ${a}, layoutTemplate: ${c}`})}).filter(t=>void 0!==t);return{region:f,requestedColumnCount:p,rowRendering:C,sections:T}}),f.raw1sAdRegionTupleMap=this._raw1sAdRegionTupleMap,f.debugId=h,f},this.mapRegionBasedWpoResponseForWidgets=(t,e)=>{const n=t.serviceContext?t.serviceContext.debugId:t.debugId,i=xt(t),{nextPageUrl:r,sections:o,pageContext:s,previews:a}=i;return{nextPageUrl:r,pageContext:s,regions:o.filter(t=>t.region===e).map(t=>{const{subSections:e,region:i,requestedColumnCount:r}=t,o=null==e?void 0:e.map(t=>{let{dataTemplate:e,layoutTemplate:r,cards:o,column:s,isTopSection:a}=t;if(o){const t={dataTemplate:e,layoutTemplate:r,cards:o.map(t=>this.convertCardForSuperFeed({...t,placement:void 0},i,n)),column:s,isTopSection:a};return this.sectionIndex++,t}}).filter(t=>void 0!==t);return{region:i,requestedColumnCount:r,rowRendering:false,sections:o}}),previews:a,debugId:n}},this.backfill1SAdWithNews=t=>{var e,n,o;if(null===(e=t.sections)||void 0===e||!e.length)return;const s=null===(n=t.sections.find(t=>"backup"===t.region))||void 0===n||null===(n=n.subSections)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.cards,a=null===(o=t.sections.find(t=>"river"===t.region))||void 0===o||null===(o=o.subSections)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.cards;null==a||a.forEach((t,e)=>{(t.type===G.pL.NativeAd&&H._3.getQueryParameterByName("mockNo1SNative",window.location.href)||t.type===G.pL.CmsAd&&H._3.getQueryParameterByName("mockNo1SCms",window.location.href))&&(t.data=null),t.type!==G.pL.NativeAd&&t.type!==G.pL.CmsAd||t.data||((0,i.c_)(null,r.MtZ,`Ad for ${t.type} not found in feed response.`,`cardData: ${JSON.stringify(t)}`),null!=s&&s.length?a[e]=s.shift():(0,i.c_)(null,r.q9J,"Empty backup region"))})},this.shoppingInfopaneAdV1=t}setRubyEverSelected(t){this.isRubySelected=t}get raw1sAdRegionTupleMap(){return this._raw1sAdRegionTupleMap||(this._raw1sAdRegionTupleMap=St()),this._raw1sAdRegionTupleMap}convertCardForSuperFeed(t,e,n,o,s){var a,c;let u,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;if((mt.gR.isRuby||this.checkIfUserIsEligibleForRuby())&&pt(t,mt.gR.isRuby),"river"===e?(this.riverCardCount++,u=this.riverCardCount):"rightrail"===e?(this.rightrailCardCount++,u=this.rightrailCardCount):"Rail"===e?(this.railCardCount++,u=this.railCardCount):"hero"===e?(this.heroCardCount++,u=this.heroCardCount):"widgets"===e&&this.widgetsCardCount++,(mt.gR.isRuby||(0,vt.oh)())&&function(t){(t.type===G.pL.Article||t.type===G.pL.Video||t.type===G.pL.Slideshow)&&t.newsNotificationType&&[at.News_BreakingNews,at.News_ForYouNews].includes(t.newsNotificationType)&&(t.type=t.newsNotificationType===at.News_BreakingNews?G.pL.BreakingNewsNotification:G.pL.ForYouNotification)}(t),void 0!==t.wpoRank&&(t.wpoRank+=f),void 0!==t.wpoId&&(t.wpoId+=f),void 0!==t.backupRelatedWpoId&&(t.backupRelatedWpoId+=f),t.type===G.pL.MiTHeroFollow&&0===(null===(a=t.subCards)||void 0===a?void 0:a.length)&&(t=>{try{const e=JSON.parse(t.data);if(!e||!e.followList||!e.followList.length)return void(0,i.vV)(r.Sjf,"MiT Hero Parse Error");e.followList.forEach(e=>{t.subCards.push({id:e.topicId,images:[{title:e.title,url:e.imageUrl}],title:e.title,url:e.clickThroughUrl,type:G.pL.SuggestedInterest,provider:"provider"===e.type&&{profileId:e.topicId},isFollowed:e.isFollowed})})}catch(t){(0,i.vV)(r.Sjf,"MiT Hero Parse Error",JSON.stringify(t.errorMessage))}})(t),Object.values(G.pL).includes(t.type)||Object.values(G.Qf).some(e=>{var n;return null===(n=t.type)||void 0===n?void 0:n.startsWith(e)})||(0,i.c_)(null,r.SdJ,`Region: ${e}, Type: ${t.type}, Id: ${t.id}, WpoId: ${t.wpoId}, WpoRank: ${t.wpoRank}. undefined error, it is not in OneServiceMetadataType`),t.wpoMetadata&&t.wpoMetadata.isGA&&(t.wpoMetadata.cFMetadataType=t.type),t.subCards){let e=lt.sm.NotDenseCard;if(t.type===G.pL.Dense&&o===G.pL.Infopane?e=lt.sm.IsInfopaneDenseCard:t.type===G.pL.Dense&&o!==G.pL.Infopane&&(e=lt.sm.IsRiverDenseCard),t.type===G.pL.Infopane||t.type===G.pL.GroupedContent||t.type===G.pL.ColdStartArticleFreCard||t.type===G.pL.RewardsDailySet||t.type===G.pL.TabbedInfopaneCard||t.type===G.pL.CasualGamesCarousel&&t.subCards.length>0||t.type===G.pL.MiniWidgets&&t.subCards.length>0||t.type===G.pL.TopicFeed&&t.subCards.length>0&&t.id===lt.G6||It(t)||e!==lt.sm.NotDenseCard)return this.convertComplexCardForSuperFeed(t,e,n,s,d);if(t.type===G.pL.WatchVideoHeavy)return this.convertVideoHeavyCardForSuperFeed(t);if(t.type===G.pL.NewsAnswerModule)return this.convertNewsGroupsCard(t)}if(null!==lt.es&&void 0!==lt.es&&null!==(c=lt.es.current)&&void 0!==c&&c.includes(t.type))return t;if(G.N5.includes(t.type)){let n=u;return"river"===e&&(t.type===G.pL.NativeAd?(this.riverNativeAdRelativeCount++,void 0!==t.wpoAdRank&&(h?h&&this.wpoIdResponseIndex>1&&null!=p&&p.get(this.wpoIdResponseIndex-1)&&(t.wpoAdRank=t.wpoAdRank+(null==p?void 0:p.get(this.wpoIdResponseIndex-1))):t.wpoAdRank=this.riverNativeAdRelativeCount)):t.type===G.pL.CmsAd?this.riverCmsAdRelativeCount>=l?(t.type=G.pL.NativeAd,this.riverNativeAdRelativeCount++,void 0!==t.wpoAdRank&&(t.wpoAdRank=this.riverNativeAdRelativeCount)):(this.riverCmsAdRelativeCount++,void 0!==t.wpoAdRank&&(t.wpoAdRank=this.riverCmsAdRelativeCount)):t.type===G.pL.IntraNativeAd&&(this.riverIntraNativeAdRelativeCount++,void 0===t.wpoAdRank&&h||(t.wpoAdRank=this.riverIntraNativeAdRelativeCount)),s&&(t.type===G.pL.FirstPartyAd?n=1:h?h&&(n=t.wpoAdRank):(n=t.type===G.pL.NativeAd?this.riverNativeAdRelativeCount:this.riverCmsAdRelativeCount,t.type===G.pL.IntraNativeAd&&(n=t.wpoAdRank)))),this.convertCardForAds(t,e,n)}try{const{augments:e,type:i,isBreaking:r,locale:o,cardSize:s,category:a,images:c,topics:u=[],dataUrl:l,publishedDateTime:d,id:f,url:h,abstract:p="",title:m="",provider:g={},reasons:v,source:w,feed:y={},actions:b=[],externalVideoFiles:S=[],reactionStatus:x,commentStatus:C,reactionSummary:k,commentSummary:T,sourceId:$,topComments:A,topQuestions:I,highlights:P,colorSamples:_,isLocalContent:M,badges:R,relatedCards:E,recoDocMetadata:F,recoId:D,ri:O,offer:N,subType:U,videoMetadata:L,isWorkNewsContent:B,wpoMetadata:W,panoCaption:H,aiComments:V,height:z,wpoRank:j,wpoId:q,recoReasonTag:J,slides:K,customTransitionSpeed:Q,cardId:X,displayAttributes:Y,conversationStarters:Z,consumptionSummary:tt,backupRelatedWpoId:et,template:nt,teraTopics:it,keyTakeawaysLatest:rt,CmsBrandId:ot,dedupeIds:st}=t,at=$t(c)||{},ct=u.find(t=>t.feedId===y.id&&t.locale===o),ut=i===G.pL.EventInfopaneShoppingAI?Tt(h,/[/?]/):Tt(h);let dt=kt(g.logoUrl);!dt&&g.logo&&g.logo.url&&(dt=kt(g.logo.url));const ft=b.map(t=>{var e;return(null===lt.p||void 0===lt.p||null===(e=lt.p.current)||void 0===e?void 0:e[t])||t});return R&&R.some(t=>"followedPublisher"===t.type)&&ft.push("followedPublisher"),{augments:e,id:f,type:i,height:z,wpoRank:j,wpoId:q,cardId:X,backupRelatedWpoId:et,template:nt,metadata:{abstract:p,abstractLength:p.length,titleLength:m.length,category:a||ut[4],subCategory:ut[5],primaryImage:{height:at.height,width:at.width},locale:o,feed:{id:y.id},kicker:[y],actions:ft,reactionStatus:x,commentStatus:C,reactionSummary:k,commentSummary:T,topComments:A,topQuestions:I,highlights:P,reasons:v,source:w,relatedCards:E,panoCaption:H,topics:u,recoDocMetadata:F,recoId:D,ri:O,debugId:n,videoFiles:S,videoMetadata:L,wpoMetadata:W,recoReasonTag:J,slides:K,displayAttributes:Y,conversationStarters:Z,consumptionSummary:tt,teraTopics:it,keyTakeawaysLatest:rt,dedupeIds:st},cardContent:{id:f,type:At(i),title:m,aiComments:V,uriTitle:ut[6],abstract:p,isBreaking:r||0,tags:[ct||{}],provider:{id:g.id,name:g.name,logo:{id:dt},profileId:g.profileId,logoUrl:g.logoUrl,subscribable:!1,lightThemeSVGLogo:g.lightThemeSVGLogo,darkThemeSVGLogo:g.darkThemeSVGLogo},category:{product:a,label:void 0},locale:o,images:[{id:kt(at.url),height:at.height,width:at.width,caption:at.title,focalRegion:at.focalRegion,attribution:at.attribution,url:at.url,colorSamples:at.colorSamples}],panoCaption:H,videoFiles:S,publishedDateTime:d,kicker:m,sourceHref:l,destinationUrl:h,sourceId:$,colorSamples:_,isLocalContent:M,isWorkNewsContent:B,badges:R,topics:u,customTransitionSpeed:Q,CmsBrandId:ot},dynamicCardSize:s}}catch(e){return t}}convertCardForAds(t,e,n){if(t.type===G.pL.NativeAd){if("river"===e){if(void 0!==t.wpoAdRank&&t.wpoAdRank<=2){const e=t.data?"1sAds":"not1sAds";c.YT.addOrUpdateTmplProperty(`${e}-${t.wpoAdRank}`,"1")}else this.isFirstAdLogged||(c.YT.addOrUpdateTmplProperty("adIdx",`wpoAdRank:${t.wpoAdRank}-cardCount:${n}`),this.isFirstAdLogged=!0);t.data?this.raw1sAdRegionTupleMap.get(this.adRiverRegion).push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get(this.adRiverRegion).push(t.wpoAdRank||n)}else"rightrail"===e?this.rawAdRegionTupleMap.get("rightrail").push(n):"Rail"===e&&this.rawAdRegionTupleMap.get("Rail").push(n);return t.data?{type:G.pL.NativeAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:G.pL.NativeAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}}if(t.type===G.pL.CmsAd){if("river"===e){let e=this.adRiverRegion;"peekriver"===this.adRiverRegion&&(e="river"),t.data?this.raw1sAdRegionTupleMap.get(`res${e}`).push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get(`res${e}`).push(t.wpoAdRank||n)}return t.data?{type:G.pL.CmsAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:G.pL.CmsAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}}if(t.type===G.pL.IntraNativeAd){if("river"===e){const e="intranative";this.rawAdRegionTupleMap.get(`${e}`).push(t.wpoAdRank||n)}return{type:G.pL.IntraNativeAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}}return t.type===G.pL.FirstPartyAd?("river"===e&&(t.data?this.raw1sAdRegionTupleMap.get("triver").push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get("triver").push(t.wpoAdRank||n)),t.data?{type:G.pL.FirstPartyAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:G.pL.FirstPartyAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}):t.type===G.pL.AmplifyAd||t.type===G.pL.BoostAdsBanner||t.type===G.pL.BoostAdsCoachmark||t.type===G.pL.EventSDCardAmplifyAds||t.type===G.pL.BoostAd?{type:t.type,regionIndex:t.wpoAdRank||n,data:t.data,id:`${t.type}-${t.section}-${n}`,wpoMetadata:t.wpoMetadata,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:void 0}convertComplexCardForSuperFeed(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const{id:o,type:s,title:a,wpoMetadata:c}=t;let u,l;try{u=t.subCards.map(t=>{if(e===lt.sm.IsInfopaneDenseCard){if(t.type===G.pL.NativeAd)return this.rawAdRegionTupleMap.get("infopane-tab").push(this.infoPaneCardCount),{type:G.pL.NativeAd,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}else if(e===lt.sm.IsRiverDenseCard){if(this.denseRiverCardCount++,t.type===G.pL.NativeAd)return this.rawAdRegionTupleMap.get("dense-river").push(this.denseRiverCardCount),{type:G.pL.NativeAd,regionIndex:this.denseRiverCardCount,placement:{items:[]}}}else{if(this.infoPaneCardCount++,t.type===G.pL.NativeAd)return this.rawAdRegionTupleMap.get(this.adInfopaneRegion).push(this.infoPaneCardCount),{type:G.pL.NativeAd,regionIndex:this.infoPaneCardCount,placement:{items:[]}};if(t.type===G.pL.CmsAd){let e=`res${this.adInfopaneRegion}`;return"peekinfopane"===this.adInfopaneRegion&&(e="resinfopane"),this.infopaneCmsAdCount>=r&&(t.type=G.pL.NativeAd,e=this.adInfopaneRegion),this.rawAdRegionTupleMap.get(e).push(this.infoPaneCardCount),{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}if(t.type===G.pL.BuyDirectAd){const e="infopane";return this.rawAdRegionTupleMap.get(e).push(this.infoPaneCardCount),{type:t.type,regionIndex:this.infoPaneCardCount,placement:{isBuyDirect:!0,items:[]}}}if(t.type===G.pL.ShoppingInfopaneAd1||t.type===G.pL.ShoppingInfopaneAd2||t.type===G.pL.ShoppingInfopaneAd3||t.type===G.pL.ShoppingInfopaneAd4)return this.getShoppingInfopaneAd(t);if(t.type===G.pL.EventInfopaneShoppingAI)try{const e=JSON.parse(t.data),n=(0,ft.A)(e);delete t.data,t={...n,...t}}catch(t){return}}if(t.type===G.pL.Dense||t.type===G.pL.TopicFeed||t.type===G.pL.TabbedInfopaneCardTab){let e=lt.sm.IsInfopaneDenseCard;return s!==G.pL.Infopane&&s!==G.pL.TabbedInfopaneCard&&(e=lt.sm.IsRiverDenseCard),this.convertComplexCardForSuperFeed(t,e,n,i)}return t.type||s!==G.pL.CasualGamesCarousel||(t.type=`${s}SubItem`),this.convertCardForSuperFeed(t,"none",n,s,i)})}finally{var d;u=(null===(d=u)||void 0===d?void 0:d.filter(t=>!!t))||[],l={id:o,type:s,subItems:u,metadata:{title:a},wpoMetadata:c,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId},(t.type===G.pL.TopicFeed||It(t))&&(l={card:t,id:o,type:s,subItems:u,metadata:{title:a},wpoMetadata:c,feed:t.feed?t.feed:null,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId})}return l}convertVideoHeavyCardForSuperFeed(t){const{id:e,type:n,title:i,wpoMetadata:r}=t;return{id:e,type:n,subItems:[t],metadata:{title:i},wpoMetadata:r,feed:t.feed??null,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId}}convertNestedCard(t){return t.subCards[0].type=t.type,t.subCards[0].subType=t.subType,t=t.subCards[0]}convertNewsGroupsCard(t){return{id:t.id,type:t.type,subType:t.subType,subCards:t.subCards||[],wpoMetadata:t.wpoMetadata,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId}}checkIfUserIsEligibleForRuby(){return!!this.userIsEligibleForRuby||!(!(this.isRubySelected&&(0,gt.O_)()&&(0,gt.aw)())||(0,gt.cz)()||mt.gR.isUserOptedOut||!mt.gR.isRubyEligible||mt.gR.isRejectedByEdgeExpIsolation)&&(this.userIsEligibleForRuby=!0,!0)}resetCardCountForSuperFeed(){this.infoPaneCardCount=0,this.riverCardCount=0,this.heroCardCount=0,this.rightrailCardCount=0,this.railCardCount=0,this.denseRiverCardCount=0,this.riverNativeAdRelativeCount=0,this.riverCmsAdRelativeCount=0,this.riverIntraNativeAdRelativeCount=0,this.widgetsCardCount=0}getShoppingInfopaneAd(t){if(!this.shoppingInfopaneAdV1)return{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[],shoppingInfopaneAdData:t.data}};try{var e;const n=JSON.parse(t.data),i=(0,ft.A)(n.shoppingEntities),r=i.clickPingUrl+`&PageId=${c.YT.getRequestId()}&ct=ShoppingNTPInfopane`,o={title:i.title,destinationUrl:r,imageUrl:null===(e=i.imageInfo)||void 0===e?void 0:e.sourceImageUrl,providerName:i.seller,adChoiceIconUrl:wt};return{id:i.id??(0,dt.G)(),type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[o],privacyUrl:wt,isBackfill:!1,showAdLabel:!0,adLabelText:"",isShoppingInfopaneAd:!0}}}catch(e){return{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}}updateAdRegionToPeek(t){t?(this.adRiverRegion="peekriver",this.adInfopaneRegion="peekinfopane"):(this.adRiverRegion=B.T3.IsHeroNTP?"riverlock":"river",this.adInfopaneRegion=B.T3.IsHeroNTP?"infopanelock":"infopane")}updateWpoIdResponseIndex(t){this.wpoIdResponseIndex=t}}function St(){return new Map([["rightrail",[]],["Rail",[]],["infopane",[]],["infopanelock",[]],["intranative",[]],["peekinfopane",[]],["river",[]],["riverlock",[]],["peekriver",[]],["resinfopane",[]],["resinfopanelock",[]],["respeekinfopane",[]],["resriver",[]],["resriverlock",[]],["respeekriver",[]],["infopane-tab",[]],["dense-river",[]],["triver",[]]])}function xt(t){var e;return null!=t&&null!==(e=t.sections)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.region?t:{nextPageUrl:t.nextPageUrl,sections:[{region:"river",subSections:t.sections}],previews:t.previews,pageContext:t.pageContext}}const Ct=(t,e)=>{t||(t=[]);const n=[];let i=!1;for(const o of t){var r;if(null!=o&&o.requestedColumnCount)null==o||null===(r=o.subSections)||void 0===r||r.forEach(t=>{t.cards||(t.cards=[]),t.cards.forEach(t=>{if("placeholder"===t.type)return t.placeholderId+=e,void(i=!0);t.wpoId+=e,t.wpoRank+=e})}),n[o.requestedColumnCount-1]=null==o?void 0:o.subSections}return{subSections:n,rowRendering:i}};function kt(t){if(!t)return"";const e=t.split("/");return $t(e)&&e[e.length-1].replace(".img","")}function Tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return t?t.split(e):[]}function $t(t){if(t)return t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}function At(t){switch(t){case G.pL.Article:return"ArticlePreview";case G.pL.Video:return"VideoPreview";case G.pL.Slideshow:return"SlideshowPreview";case G.pL.WebContent:return"WebContentPreview";default:return""}}function It(t){return t.type===G.pL.NewsWatchShorts||t.type===G.pL.NewsWatchVideo||t.type===G.pL.WatchNewsShorts}var Pt=n(29252),_t=n(53064),Mt=n(57226),Rt=n(7187),Et=n(34713),Ft=n(87432),Dt=n(2509),Ot=n(10117),Nt=n(48114);const Ut=1e4,Lt="gaming",Bt="following",Wt="filteredChannels",Ht="dynamicfilteredchannels",Vt=["activityId","adminDisabled","adppc","apikey","backgroundImageIsSet","caller","cbypass","clientTimeStamp","column","copilotApiSupported","dhp","dprValue","edgExpMask","inEdgeFeatures","infopaneCount","memory","newDevFreTime","newProfFreTime","overlay","pgc","pgname","pgtype","prerender","promotion","retryAttempt","revertTimes","selection","skipRetry","timeOut","vpSize"];function zt(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==t||!t.serviceContext)return;const o=n.filter(t=>g.Rb.CurrentFlightSet.has(t)),s=(null===(e=t.serviceContext.fdHead)||void 0===e||null===(e=e.split(","))||void 0===e?void 0:e.map(t=>t.trim()))??[],a=o.filter(t=>!s.includes(t));a.length>0&&(0,i.vV)(r.mky,"",void 0,{...r.mky.pb,cetoRef:t.cetoRef,msEdgeRef:t.msEdgeRef,message:`Flight ids ${a.join(",")} missing in wpo fdhead.`})}function jt(t,e){t.method="POST",t.body=JSON.stringify(e),t.headers||(t.headers={}),t.headers["Content-Type"]="application/json"}function qt(){if(!(0,P.S)()||!window.ssrWpoData)return;if(window.staleSSRFeed)return void delete window.ssrWpoData;const t=window.ssrWpoData;zt(t,["prg-wpo-bkpncbig","prg-wpo-ntpscssr"]);const{debugId:e,serviceContext:n,dddTmpl:o,userType:s,authFeatures:a}=t;if((0,Pt.Ig)(e,!0),null!=n&&n.serviceActivityId){c.YT.addOrUpdateIdxId(n.serviceActivityId,!0);try{const t=(0,_t.U5)();A(n.serviceActivityId,e,t)}catch{(0,i.vV)(r.ptZ,"Error throwed when getCompressedRecords doesn't return anything for NTP")}}return c.YT.addOrUpdateTmplString(o),c.YT.addOrUpdateTmplProperty("1s-usertype",s),c.YT.addOrUpdateTmplProperty("1s-authFeatures",a),e&&c.YT.addOrUpdateCustomProperty("debugId",e),delete window.ssrWpoData,t}function Gt(t){const e=(0,o.ZF)();e[t]=e[t]??(0,o.gU)()}class Jt extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(t),this.silentExit=e}}class Kt{static get preloadedResponses(){return _.vv.get(this.preloadedResponsesKey,()=>({}))}static set preloadedResponses(t){_.vv.set(this.preloadedResponsesKey,t)}static get renderedSegments(){return _.vv.get(this.renderedSegmentsKey,()=>"")}static set renderedSegments(t){_.vv.set(this.renderedSegmentsKey,t)}static get fetchingLock(){return _.vv.get(this.fetchingLockKey)}static set fetchingLock(t){_.vv.set(this.fetchingLockKey,t)}static get isPrerenderDsiabled(){return _.vv.get(this.isPrerenderDsiabledKey,()=>!1)}static set isPrerenderDsiabled(t){_.vv.set(this.isPrerenderDsiabledKey,t)}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;this.shouldRetryInOtherDomain=!1,this.traceInfo=[],this.shouldResetRightRailPromise=!1,this.wpoRightRailPromise=new ut.e,this.shouldResetRailPromise=!1,this.wpoRailPromise=new ut.e,this.noContentRetryCount=0,this.maxContentRetryCount=5,this.isPartialResponse=t=>!!(t&&t.serviceContext&&t.serviceContext.preRenderDisabled),this.getAuthTrail=()=>{try{return(0,_t.U5)()}catch{(0,i.vV)(r.ptZ,"Error throwed when getCompressedRecords doesn't return anything for NTP")}},this.updateQSParam=(t,e)=>{const n=new RegExp("([?&])"+e+"=.*?(&|$)","i");return t.match(n)?t.replace(n,"&"):t},this.mapperHelper=new bt(t.shoppingInfopaneAdV1),this.config=t,this.initializeRequest(),this.isXFeed=e,this.maxContentRetryCount=n,window.isSSREnabled&&window.ssrRenderedSegments&&(Kt.renderedSegments=window.ssrRenderedSegments,delete window.ssrRenderedSegments),this.config.feedCacheEnabled&&!window.isSSREnabled&&(this.feedResponseCache=(0,R.s)({cacheName:"wpo-feed",getCacheKey:t=>this.normalizeUrl(t.serviceUrl),maxAgeInMs:this.config.feedCacheMaxAgeInMs}))}static async ensureLock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;for(;Kt.fetchingLock&&!Kt.fetchingLock.wasSet();)await Kt.fetchingLock.getResultAsync();_.vv.get("ssrRequestClosed")||(Kt.fetchingLock=new ut.e(t))}static releaseLock(){Kt.fetchingLock&&Kt.fetchingLock.set()}async fetch(t,e,n,o,s,a,c,u){var l;let d,f=this.config.initialRequest;if(this.shouldResetRightRailPromise&&(this.wpoRightRailPromise=new ut.e,this.shouldResetRightRailPromise=!1),this.shouldResetRailPromise&&(this.wpoRailPromise=new ut.e,this.shouldResetRailPromise=!1),t&&(t.feedId||t.nextPageUrl||!f||(t.feedId=f.feedId),f={...f,...t}),!f)return(0,i.vV)(r.TwZ,"default WpoService fetch configuration was invalid"),this.responseStatus=O.EY.InvalidRequest,{status:this.responseStatus,isStatic:this.isStatic,regions:void 0,rawAdRegionTupleMap:new Map([["rightRail",[]],["Rail",[]],["infopane",[]],["river",[]],["resinfopane",[]],["resriver",[]],["infopane-tab",[]]])};await Kt.ensureLock();try{d=await this.fetchRiverSectionFeedLayoutData(f,e,n)}finally{Kt.releaseLock()}u&&d&&!d.isStatic&&u(d,d.sections,!1);const h=!(f.useNextPageUrl&&f.nextPageUrl);this.config.feedCacheEnabled&&h&&(this.isFeedFirstPageFromCache=(0,R.D)(d)),0===e&&d&&d.serviceContext&&((0,N.Z)(d.serviceContext),(0,U.g)(d.serviceContext),g.Rb.CurrentFlightSet.has("1s-ads-ntpriver")&&zt(d,["1s-ads-ntpriver","prg-ad-ridoverride"])),0!==e||(0,P.S)()||(d?Ot.V_.saveSSRPartResponse(d,"feed"):(0,i.vV)(r.OLu,"",void 0,{...r.OLu.pb,requestId:f.requestId})),function(t){if("object"==typeof t&&null!==t){var e;const n=null===(e=(0,L.a)())||void 0===e?void 0:e.get("testRubyVersion");null!=n&&(t.serviceContext||(t.serviceContext={}),"dynamic"===n?t.serviceContext.rubyEverSelected=!0:t.serviceContext.rubyTargetedVersion=n,t.serviceContext.isTestRubyVersion=!0)}}(d);const p=null===(l=d)||void 0===l||null===(l=l.serviceContext)||void 0===l?void 0:l.rubyEverSelected;return p&&this.mapperHelper.setRubyEverSelected(p),this.handleResponseMapForSuperFeed(f,e,d,o,s,a,c)}async fetchWidgets(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"widgets",o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=this.config.initialRequest;if(t&&(t.feedId||t.nextPageUrl||!a||(t.feedId=a.feedId),a={...a,...t}),!a)return(0,i.vV)(r.TwZ,"default WpoService widgets fetch configuration was invalid"),this.responseStatus=O.EY.InvalidRequest,{status:this.responseStatus,isStatic:this.isStatic,regions:void 0,rawAdRegionTupleMap:new Map};await Kt.ensureLock();try{e=await this.fetchWidgetSectionFeedLayoutData(a,n,o,s)}finally{Kt.releaseLock()}return 0!==o||(0,P.S)()||(e?Ot.V_.saveSSRPartResponse(e,n):(0,i.vV)(r.OLu,"No response for widget request",void 0,{...r.OLu.pb,requestId:a.requestId})),this.handleResponseMapForWidgets(a,e,n,s)}overrideAppErrorSeverity(t){if("hub"===B.T3.AppType&&[r.PUH,r.iXH,r.Amp,r.wsO].includes(t))return s.A.Critical}sendAppErrorWithSeverityOverride(t,e){const n=this.overrideAppErrorSeverity(t);n&&(e.severity=n),e.pb.pageAge=Math.round(performance.now()),c.YT.sendAppErrorEvent(e)}handleResponseMapForSuperFeed(t,e,n,o,s,a,c){var u;if(this.isPartialResponse(n))return{status:this.responseStatus,isStatic:!1,rawAdRegionTupleMap:new Map([["rightRail",[]],["Rail",[]],["infopane",[]],["river",[]],["resinfopane",[]],["resriver",[]],["infopane-tab",[]]]),isPartial:n.isPartial,serviceContext:n.serviceContext,previews:n.previews};const l=new Set(["msft-dense-nine-card"]);var d;(null==n||null===(u=n.sections)||void 0===u?void 0:u.length)>0&&"river"===n.sections[0].region&&(null===(d=n.sections[0].subSections)||void 0===d||d.forEach((t,e)=>{var i;t.layoutTemplate&&l.has(t.layoutTemplate)&&(n.sections[0].subSections[e].cards=[{type:"densetab",isLocalContent:!1,galleryItemCount:0,subCards:t.cards}]),(null==t||null===(i=t.cards)||void 0===i?void 0:i.length)>0&&t.cards.forEach((t,i)=>{var r;if((null==t?void 0:t.type)===G.pL.Infopane&&(null==t||null===(r=t.subCards)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.type)===G.pL.TabbedInfopaneCardTab){const r=function(t){const e=[];let n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.type==G.pL.TabbedInfopaneCardTab)n.push(r);else if(r.type==G.pL.TopicFeed)n.push(r);else{if(n.length>0){const t={type:G.pL.TabbedInfopaneCard,subCards:n};e.push(t),n=[]}e.push(r)}}return e}(null==t?void 0:t.subCards);n.sections[0].subSections[e].cards[i]={...t,subCards:r}}})}));const f=0===e||2===e&&"winWidgets"===B.T3.AppType&&"ruby"===B.T3.UxMode||this.config.enableWpoAdRank&&2===e&&!c.size,h=this.mapperHelper.mapRegionBasedWpoResponseForSuperFeed(n,this.config.useRelativeAdPlacement,o,s,this.config.auctionRidOverride&&!(0,C.EZ)(),this.config.enableHeroWaterfall,a,f,this.config.enableWpoAdRank,c),{nextPageUrl:p,regions:m,rawAdRegionTupleMap:g,raw1sAdRegionTupleMap:v,previews:w,pageContext:y,debugId:b}=h;let S;this.responseStatus===O.EY.Success?(S={...t,nextPageUrl:p},Kt.updateRenderedSegments(p),this.noContentRetryCount=0):this.responseStatus===O.EY.Failed?(S={...t},this.noContentRetryCount=0):this.responseStatus===O.EY.NoContent&&(this.noContentCannotRetry()||(S={...t},this.noContentRetryCount++),t.disableContent||(0,i.vV)(r.T8$,"",void 0,{...r.T8$.pb,isFirstPage:!t.nextPageUrl,url:t.nextPageUrl,requestId:t.requestId,status:this.responseStatus,noContentRetryCount:this.noContentRetryCount})),B.T3.IsHeroNTP&&S&&(S.segment=null,S.pageOcid=null,S.scenario=null),this.config.validateDuplicateCards&&(0,P.S)()&&ot(m,b,e);return{regions:m,nextPageRequest:S,rawAdRegionTupleMap:g,raw1sAdRegionTupleMap:v,status:this.responseStatus,isStatic:(null==n?void 0:n.isStatic)||this.isStatic,traceIdIndex:null==n?void 0:n.traceIdIndex,metadata:null==n?void 0:n.metadata,userType:null==n?void 0:n.userType,previews:w,pageContext:y,debugId:b,serviceContext:null==n?void 0:n.serviceContext,responseSource:null==n?void 0:n.responseSource,locationContextDictionary:null==n?void 0:n.locationContextDictionary,isFromCache:null==n?void 0:n.isFromCache,settings:null==n?void 0:n.settings}}handleResponseMapForWidgets(t,e,n,i){if(!e)return;if(this.isPartialResponse(e))return{status:this.responseStatus,isStatic:!1,isPartial:e.isPartial,serviceContext:e.serviceContext,previews:e.previews};let r;r=i?this.mapperHelper.mapRegionBasedWpoResponseForSuperFeed(e):this.mapperHelper.mapRegionBasedWpoResponseForWidgets(e,n);const{nextPageUrl:o,regions:s,previews:a,pageContext:u,debugId:l}=r;let d;this.responseStatus===O.EY.Success?(d={...t,nextPageUrl:o},Kt.updateRenderedSegments(o),this.noContentRetryCount=0):this.responseStatus===O.EY.Failed?(d={...t},this.noContentRetryCount=0):this.responseStatus===O.EY.NoContent&&(this.noContentCannotRetry()||(d={...t},this.noContentRetryCount++),c.YT.addOrUpdateTmplProperty(`${n}SectionEmpty`,"1")),B.T3.IsHeroNTP&&d&&(d.segment=null,d.pageOcid=null,d.scenario=null);return{regions:s,nextPageRequest:d,status:this.responseStatus,isStatic:this.isStatic,traceIdIndex:e?e.traceIdIndex:void 0,metadata:e?e.metadata:void 0,userType:e?e.userType:void 0,previews:a,pageContext:u,debugId:l,serviceContext:e?e.serviceContext:void 0,responseSource:e?e.responseSource:void 0}}async fetchRiverSectionFeedLayoutData(t,e,n){const s=(null===g.Rb||void 0===g.Rb?void 0:g.Rb.IsPrerender)||this.config.disableWorker||B.T3.IsHeroNTP,a=0===e||2===e;if((0,P.S)()&&a){var l;const e=qt(),n=this.trySaveAndConsumePreloadedResponse(e,"feed");if(n)return n&&n&&n.sections&&n.sections.length>0?this.responseStatus=O.EY.Success:this.responseStatus=O.EY.NoContent,c.YT.addOrUpdateTmplProperty("SSRFeedConsumed","1"),_.vv.set("__isSSRWpoFeedConsumed__",!0),{...n,responseSource:O.Py.FromSSR};if(!_.vv.has("__isSSRWpoFeedConsumed__")&&null!==(l=window.ssrLayoutState)&&void 0!==l&&l.selectedFeedDisplaySetting){const e=window.ssrLayoutState.selectedFeedDisplaySetting;["off","onscroll","headingsonly"].includes(e)||window.staleSSRFeed||(0,i.vV)(r.Gc0,"",void 0,{...r.Gc0.pb,requestId:t.requestId})}}if(0!==e||this.isXFeed||s||t.feedName===Lt&&t.dontUseWorkerForFeed)this.checkWebWorkerUrl=!1;else{this.checkWebWorkerUrl=!1;let e="myfeed";t.feedName===Lt&&(e="gaming"),t.feedName===Bt&&(e="following");const i=this.config.removeTimeoutWebworker?void 0:1e3;n&&n();const r=await(0,W.H$)({id:e},i),s=r&&r.payload;if(s){const t=p.xT.MultiColumn;if(p.xT.MultiColumn===t&&r.fetched){this.checkWebWorkerUrl=!0,this.responseStatus=O.EY.Success;(0,o.ZF)().isFeedFromWW=1;const t=s.traceId;if(s.traceIdIndex=this.addOrUpdateIdxId(t,a),(0,P.S)()){const t=this.getAuthTrail();A(s.traceId,s.debugId,t)}return s.tmpl&&c.YT.addOrUpdateTmplString(s.tmpl),d.g.publish(d.m.userIsSignedIn,{isSignedIn:s.isSignedIn,src:"WW-wcp"}),{...s,responseSource:O.Py.FromWW}}}}const f=(0,o.ZF)();if((Ot.V_.enableEarlyMainFeedRequest||Kt.preloadedResponses.feed)&&(0===e||2===e)){const e=(0,P.S)()?Ut:void 0,i=Kt.preloadedResponses.feed?void 0:await Ot.V_.getEarlyWpoFeedData(e),r=this.trySaveAndConsumePreloadedResponse(i,"feed");if(Gt("earlyFeedCall"),this.responseStatus=null==r?void 0:r.responseStatus,r&&r&&r.sections&&r.sections.length>0){var h;this.responseStatus=O.EY.Success;const t=null===(h=r.serviceContext)||void 0===h?void 0:h.serviceActivityId;t&&(r.traceIdIndex=this.addOrUpdateIdxId(t,a)),Gt("earlyFeedSuccess")}else this.responseStatus=O.EY.NoContent;Ot.V_.enableEarlyMainFeedRequest=!1;const o=B.T3.IsHeroNTP&&(null==r?void 0:r.isStatic),s=this.responseStatus!==O.EY.Success||o;if(t.skipRetry||!(0,P.S)()||!s)return Gt("ssrEarlyFeedUsed"),f.responseSource=O.Py.FromEarlyResponse,(0,Dt.DZ)(null==r?void 0:r.authContext),{...r,responseSource:O.Py.FromEarlyResponse};{const e=await this.fetchFromWpoService(t,a,n,o,void 0,this.feedResponseCache);if(e)return f.responseSource=(0,R.D)(e)?O.Py.FromCache:O.Py.FromServer,{...e,responseSource:O.Py.FromServer}}}else{const i=await this.fetchFromWpoService(t,a,n,void 0,void 0,this.feedResponseCache,e);if(t.widgetsOn&&a&&this.trySaveAndConsumePreloadedResponse(i,"feed"),i)return f.responseSource=(0,R.D)(i)?O.Py.FromCache:O.Py.FromServer,{...i,responseSource:O.Py.FromServer}}if(this.shouldRetryInOtherDomain){t.domainOverride=u.iw,t.requestPathOverride=u.nm;const e=await this.fetchFromWpoService(t,a,void 0,!0);if(e)return f.responseSource=O.Py.FromServer,{...e,responseSource:O.Py.FromServer}}return this.getCachedResponse(t)}async fetchWidgetSectionFeedLayoutData(t,e,n,i){const r=0===n||2===n;if((0,P.S)()&&r&&!i){const t=qt(),n=this.trySaveAndConsumePreloadedResponse(t,e);if(n)return n&&n&&n.sections&&n.sections.length>0?this.responseStatus=O.EY.Success:this.responseStatus=O.EY.NoContent,{...n,responseSource:O.Py.FromSSR}}const s=(0,o.ZF)();if((Ot.V_.enableEarlyMainFeedRequest||Kt.preloadedResponses[e])&&(0===n||2===n)&&!i){const n=(0,P.S)()?Ut:void 0,i=Kt.preloadedResponses[e]?void 0:await Ot.V_.getEarlyWpoFeedData(n);Gt("earlyFeedCall");const o=this.trySaveAndConsumePreloadedResponse(i,e);this.responseStatus=null==o?void 0:o.responseStatus,o&&o&&o.sections&&o.sections.length>0?(this.responseStatus=O.EY.Success,Gt("earlyFeedSuccess")):this.responseStatus=O.EY.NoContent,Ot.V_.enableEarlyMainFeedRequest=!1;const a=this.responseStatus!==O.EY.Success;if(t.skipRetry||!(0,P.S)()||!a)return Gt("ssrEarlyFeedUsed"),s.responseSource=O.Py.FromEarlyResponse,{...o,responseSource:O.Py.FromEarlyResponse};{const e=await this.fetchFromWpoService(t,r);if(e)return s.responseSource=O.Py.FromServer,{...e,responseSource:O.Py.FromServer}}}else{const e=await this.fetchFromWpoService(t,r);if(e)return s.responseSource=O.Py.FromServer,{...e,responseSource:O.Py.FromServer}}if(this.shouldRetryInOtherDomain){t.domainOverride=u.iw,t.requestPathOverride=u.nm;const e=await this.fetchFromWpoService(t,r,void 0,!0);if(e)return s.responseSource=O.Py.FromServer,{...e,responseSource:O.Py.FromServer}}return this.getCachedResponse(t)}trySaveAndConsumePreloadedResponse(t,e){var n,i;if(Kt.preloadedResponses[e]){const t=Kt.preloadedResponses[e];return delete Kt.preloadedResponses[e],t}if(!t)return null;const r=t.sections,o=this.isPartialResponse(t),s=B.T3.IsHeroNTP&&!g.Rb.CurrentFlightSet.has("prg-hero-abnav")&&!(null!==(n=(0,M.iA)())&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("ocid=wind_spot_2")||null!==(i=(0,M.iA)())&&void 0!==i&&null!==(i=i.toLowerCase())&&void 0!==i&&i.includes("ocid=wind_spot_desktop")),a=t=>"widgets"===t||"cardData_widgets"===t,c=null==r?void 0:r.filter(t=>{let{region:e}=t;return s?!a(e):!a(e)&&"hero"!==e}),u=null==r?void 0:r.filter(t=>{let{region:e}=t;return"hero"===e}),l=null==r?void 0:r.filter(t=>{let{region:e}=t;return"widgets"===e});Kt.preloadedResponses={feed:null!=c&&c.length||o&&"feed"===e?{...t,sections:c}:null,hero:null!=u&&u.length?{...t,sections:u}:null,widgets:null!=l&&l.length?{...t,sections:l}:null};const d=Kt.preloadedResponses[e];return delete Kt.preloadedResponses[e],d}async fetchFromWpoService(t,e,n){var s,d,p,m;let v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],w=arguments.length>4?arguments[4]:void 0,b=arguments.length>5?arguments[5]:void 0,S=arguments.length>6?arguments[6]:void 0;if(_.vv.get("ssrRequestClosed"))throw new Jt("Fetch aborted due to SSR request close",!0);const x=null===g.Rb||void 0===g.Rb?void 0:g.Rb.IsPrerender,k=(0,C.EZ)();!(0,P.S)()&&this.config.requestToOrigin&&(t.domainOverride=u.iw,t.requestPathOverride=u.nm),this.config.enableResetServiceURL&&(t.domainOverride=u.Eh);const T=!e&&t.paginationTimeoutMs?t.paginationTimeoutMs:t.timeoutMs,$=k&&e?2e3:T,I=B.T3.ShouldUseFdheadQsp?null===(s=B.T3.CurrentRequestTargetScope)||void 0===s||null===(s=s.pageExperiments)||void 0===s?void 0:s.join(","):void 0;let R;c.YT.addOrUpdateTmplProperty("fdHeadWpoCardProv",null===(d=B.T3.ShouldUseFdheadQsp)||void 0===d?void 0:d.toString()),(0,P.S)()&&(R=!(window&&window.chrome&&window.chrome.embeddedSearch),c.YT.addOrUpdateTmplProperty("privatew",`${R}`));const N=window&&`${window.innerWidth}x${window.innerHeight}`;Kt.renderedSegments&&(t.renderedSegments=Kt.renderedSegments);const U={...t,audienceMode:null===(p=B.T3.CurrentRequestTargetScope)||void 0===p?void 0:p.audienceMode,enableRightRailColumn:t.powerRightRailWithWpo,fdhead:I,isXFeed:this.isXFeed,nextPageUrl:t.useNextPageUrl&&t.nextPageUrl,requestType:f.Yw.wpoService,timeoutMs:t.query&&t.customFeedTimeoutMs?t.customFeedTimeoutMs:$,refreshType:k?"bgtask":void 0,isDhp:this.isDhp(),isRetry:v,private:R,viewportSize:N,enableWpoAdPlacements:this.config.auctionRidOverride&&!k,adsTimeout:this.config.auctionRidOverride&&600,uxMode:B.T3.UxMode};if(e&&B.T3.IsHeroNTP){var L,G,K;U.pageOcid=H._3.getQueryParameterByName("ocid",(0,M.iA)());const t=H._3.getQueryParameterByName("segment",(0,M.iA)());U.segment=t,("edgeChromium"===B.T3.AppType&&null!==(L=g.Rb.CurrentFlightSet)&&void 0!==L&&L.has("ntp-cxtfd-hero")||"homePage"===B.T3.AppType&&null!==(G=g.Rb.CurrentFlightSet)&&void 0!==G&&G.has("hp-cxtfd-hero"))&&(U.context=H._3.getQueryParameterByName("context",(0,M.iA)())??t),U.scenario=H._3.getQueryParameterByName("scenario",(0,M.iA)()),"wind_spot_2"!==U.pageOcid&&"wind_spot_desktop"!==U.pageOcid&&"cegrowth"!==(null===(K=U.segment)||void 0===K?void 0:K.toLowerCase())||(U.assetId=H._3.getQueryParameterByName("assetId",(0,M.iA)())),U.timeoutMs=this.config.heroTimeoutMs||1500;const e=H._3.getQueryParameterByName("Date",(0,M.iA)()),n=(0,Mt.PJ)(e,this.config.enableStartMonday);Array.isArray(n)&&n.length>0&&(U.calendarDate=e.split("-").join(""),U.calendarStartDate=n[0],U.calendarEndDate=n[1]),U.scenario&&(0,P.S)()&&"Weather"===U.segment&&"Calendar"!==U.scenario&&setTimeout(()=>{const t=this.updateQSParam(window.location.href,"scenario");window.history.replaceState({},"",t)},3e3)}var Q;if("winWidgets"===B.T3.AppType&&"ruby"===B.T3.UxMode)if("startfeed"!==(null===g.Rb||void 0===g.Rb||null===(Q=g.Rb.ClientSettings)||void 0===Q?void 0:Q.pagetype))U.enableRuby=!0;else{const t=Nt.F_.get(2)?"api":"bgRefresh";U.refreshType=0===S?"init":t}const Z=H._3.getQueryParameterByName("ssrFeedTimeOut",window.location.href);!(0,P.S)()&&Z&&(U.timeoutMs=parseInt(Z)),U.dprValue=Math.round(100*(0,M.mZ)())/100;const it=await h.h.requestInit(U),ot=await h.h.buildServiceRequestURL(U);g.Rb.CurrentFlightSet.has("1s-pagefeed-post")&&(t.enablePOSTFeedRequest?function(t){jt(t,{}),c.YT.addOrUpdateTmplProperty("postfeedreq","1")}(it):t.enableContentSeenTracking&&await async function(t){const e=await y();var n;e&&(jt(t,e),c.YT.addOrUpdateTmplProperty("seenids",e.NewsImpressedDocIds.length.toString()),(null===(n=e.SegmentImpressedDocIds)||void 0===n?void 0:n.length)&&c.YT.addOrUpdateTmplProperty("seensegids",e.SegmentImpressedDocIds.join(",")))}(it)),E.WR.addTelemetryTracingQueryParam(ot);const at=decodeURIComponent(ot.href);this.requestQueryParams=new V.m(ot.search),t.serviceUrl=at;if("1"===H._3.getQueryParameterByName("logwporeq",window.location.href)){const t={};new Headers(null==it?void 0:it.headers).forEach((e,n)=>{"Cookie"!==n&&(t[n]=e)}),(0,i.vV)(r.TBf,"",void 0,{...r.TBf.pb,headers:JSON.stringify(t),url:at,credentials:it.credentials,referrer:it.referrer})}const ut=(0,o.ZF)();let lt;if(ut.WpoCallStart=Math.round((0,o.gU)()),(0,P.S)()||(ut.wpoSSRCallStart=ut.WpoCallStart),ot.search=this.requestQueryParams.toString(),this.checkWebWorkerUrl){const t=(0,W.wJ)("WebWorkerInitFeedUrl");t&&t.payload&&t.payload!==ot.href&&(0,i.vV)(r.$3R,"Wpo feed fetch url does not match web worker")}const dt=t.useNextPageUrl&&t.nextPageUrl,ft=!dt;let ht,pt,mt,gt,vt,wt;try{var yt;let s,u,d,f,h,p;if((0,P.S)()?(s=(null==t?void 0:t.overrideCSRTimeoutInMs)||Ut,vt=Math.round(performance.now())):s=(null==t?void 0:t.overrideSSRTimeoutInMs)||800,n&&n(),b&&(ft||this.isFeedFirstPageFromCache)&&"reload"!==(null===(yt=performance.getEntriesByType("navigation"))||void 0===yt||null===(yt=yt[0])||void 0===yt?void 0:yt.type)&&(u=await b.tryReadCache(t),ft&&(this.isFeedFirstPageFromCache=!!u)),!u){wt=(()=>{let t=0;const e=ft?r.ckq:r.mbM;return window.setInterval(()=>{t+=1,(0,i.vV)(e,`Request didn't finish in ${5e3*t}ms`,void 0,{...e.pb,url:at,isFirstPage:ft,activityId:B.T3.ActivityId,isPrerender:k})},5e3)})();"header"===_.vv.get("oneSvcUniTunMode")&&it&&it.headers&&(it.headers[z.aS.uniFeatTun]=await E.WR.getUniFeatTunHeader());const e=(0,F.w)((e,n)=>{const i=n||at;return(0,P.S)()?(0,F.Y)(i,it,s,t.skipRetry):(0,j.hv)(i,s,it,void 0,void 0,!0)},"WpoCardProvider.fetch",s,t.skipRetry,at);if(w&&setTimeout(()=>w.set(),0),u=await e,wt&&(clearInterval(wt),wt=null),(b||this.canUseWpoCache())&&u&&u.ok&&!Qt(u)){const e=u.clone();window.requestIdleCallback(()=>{this.addResponseToCache(at,e),b&&b.writeCache(e,t)})}}if(u){if("1"===H._3.getQueryParameterByName("logwpores",window.location.href)){var bt;const t={};null===(bt=u.headers)||void 0===bt||bt.forEach((e,n)=>t[n]=e),(0,i.vV)(r.faL,"",void 0,{...r.faL.pb,headers:JSON.stringify(t),reqHeaders:JSON.stringify(it.headers),ok:u.ok,status:u.statusText,body:u.body})}const{ok:n,status:o,statusText:s,headers:a}=u;if(ht=a&&a.get("ddd-debugid"),pt=a&&a.get("x-ceto-ref"),mt=a&&a.get("x-msedge-ref"),gt=a&&a.get("ddd-auth-features"),this.rawFetchCallResponse=`{ status: ${o}, url: ${u.url}, debugId: ${ht} }`,_.vv.set("OneServiceResponseDebugId",ht),t.feedName===Bt){const n=new URLSearchParams(ot.search),s="activityId",a=n.get(s)||"";if(a&&a!=B.T3.ActivityId&&(0,i.vV)(r.jNX,"ActivityId mismatched",void 0,{...r.jNX.pb,clientActivityId:B.T3.ActivityId,serviceSideActivityId:a,debugId:ht}),(204===o||404===o)&&ft&&e&&!t.feedId){var St;const t=ct;return 204===o&&null!=t&&null!==(St=t.sections)&&void 0!==St&&null!==(St=St[0].subSections)&&void 0!==St&&null!==(St=St[0].cards)&&void 0!==St&&St[0]&&(t.sections[0].subSections[0].cards[0].isShowSelectMoreMessage=!0),t}}n?t.disableContent||204!==o||(d=ft?r.F2m:r.rWX,p=!1):(d=t.disableContent?r.AxD:ft?r.PUH:r.Upu,"outlookchannels"===t.feedName&&500===o&&(d=r.wvp),f=o,h=s,p=!0)}else d=t.disableContent?r.AxD:ft?r.PUH:r.Upu,p=!0;const m=Qt(u);if(d){var xt;const t=(0,Ft.A)(it,"headers.Authorization"),e=null===(xt=u)||void 0===xt||null===(xt=xt.headers)||void 0===xt?void 0:xt.get("ddd-auth-features"),n=null==e?void 0:e.includes("IsBot:1"),i={...d,pb:{...d.pb,url:decodeURIComponent(ot.href),requestHeaders:JSON.stringify(t&&t.headers),status:f,statusText:h,isFirstPage:ft,activityId:B.T3.ActivityId,isBot:n,isStatic:m,isInitializedAsPrerenderPage:x,isPrerender:k,isRetriedRequest:v,debugId:ht,requestStart:vt}};if(this.sendAppErrorWithSeverityOverride(d,i),p)return void(this.responseStatus=O.EY.Failed);if(!(0,P.S)()&&d===r.F2m)return void(this.responseStatus=O.EY.NoContent)}let g,y,S;if(u.headers){if(m){const e=u.headers&&u.headers.get("X-Staticfallback-Reason");let n=r.o2X;k?n=r.BTk:B.T3.IsHeroNTP&&!v&&(n=r.ah_),!t.disableContent&&(0,i.vV)(n,"Fell back to static content on the feeds call",void 0,{...n.pb,url:decodeURIComponent(ot.href),isFirstPage:ft,activityId:B.T3.ActivityId,isPrerender:k,isInitializedAsPrerenderPage:x,debugId:ht,isRetriedRequest:v,staticsFallbackReason:e}),this.isStatic=!0}else{var Ct;const t=null===(Ct=u.headers)||void 0===Ct?void 0:Ct.get(z.pc.digitalId);(0,Dt.DZ)(t)}if(y=u.headers.get(z.pc.userType),t.feedName!==Wt&&t.feedName!==Ht){c.YT.addOrUpdateCustomProperty("debugId",ht),c.YT.addOrUpdateTmplProperty("1s-usertype",y),c.YT.addOrUpdateTmplProperty("1s-authFeatures",gt);const t=u.headers.get(z.pc.traceId);if(g=this.addOrUpdateIdxId(t,e),(0,Pt.Ig)(ht,!1),(0,P.S)()){A(t,ht,this.getAuthTrail())}}e&&function(t){var e,n;if(!t)return;const i=(0,o.ZF)(),r=(null===(e=t.match(/wpo;\s*dur=(\d+)(,|$)/))||void 0===e?void 0:e[1])||"";r&&(i.wpoServerTiming=parseInt(r));const s=(null===(n=t.match(/1s;\s*dur=(\d+)(,|$)/))||void 0===n?void 0:n[1])||"";s&&(i.oneServiceServerTiming=parseInt(s))}(u.headers.get("server-timing")||"")}if(!dt){const t=ut.WpoCallStart,e=ut.WpoResponseBack=Math.round((0,o.gU)());ut["FeedRequest.FG"]=e-t,(0,a.Ww)({name:"FeedRequest.FG",startTime:t,endTime:e})}if(![r.F2m,r.rWX,r.JK9].includes(d)){var kt,Tt,$t,At,It,_t;const n=(0,P.S)()&&(0,o.gU)();if(lt=await u.json(),ut&&n&&(ut.FeedResponseJsonReadTime=Math.round((0,o.gU)()-n)),(0,Dt.DZ)(null===(kt=lt)||void 0===kt?void 0:kt.authContext),null!==(Tt=lt)&&void 0!==Tt&&Tt.serviceContext){const{tmpl:t,responseCreationDateTime:n}=lt.serviceContext;t&&(S=t,c.YT.addOrUpdateTmplString(S));const i=new Date(n).getTime();!isNaN(i)&&ut&&(ut.FeedResponseCreationTimestamp=i),e&&!(0,Et.C6)()&&n&&(0,q.Lg)().setItem("ruby"===B.T3.UxMode?"RubyFeedGenTime":"NTPFeedGenTime",n)}if(lt&&u&&(lt.isFromCache=u.isFromCache),m&&(lt.isStatic=!0),null!==($t=lt)&&void 0!==$t&&$t.swCacheEnabled){var Rt;const t={url:decodeURIComponent(ot.href),isFirstPage:ft,activityId:B.T3.ActivityId,isPrerender:k,isInitializedAsPrerenderPage:x,isRetriedRequest:v,cacheAgeSeconds:lt.cacheAgeSeconds,originalStatusCode:lt.originalStatusCode,originalDebugId:lt.originalDebugId,requestMethod:lt.requestMethod,cachedResponseDebugId:ht,staticsFallbackReason:lt.staticsFallbackReason};(0,i.vV)(r.QFX,"Service Worker Cached Data Triggered",void 0,{...r.QFX.pb,...t});let e=null,n="";switch(null===(Rt=lt)||void 0===Rt?void 0:Rt.cacheTriggeredReason){case r.b6v.id:e=r.b6v,n="Service Worker Triggered due to fetch error: "+lt.cacheTriggeredErrorMessage;break;case r.EuX.id:e=r.EuX,n="Service Worker Triggered due to wpo service error";break;case r.T0u.id:e=r.T0u,n="Service Worker Triggered due to Status 204 no content";break;case r.byY.id:e=r.byY,n="Service Worker Triggered due to static content loaded";break;case r.fIj.id:e=r.fIj,n="Service Worker Triggered due to wpo service returns empty section";break;case r.oOL.id:e=r.oOL,n="Service Worker Triggered due to static fallback returns empty section";break;case r.kwp.id:e=r.kwp,n="Service Worker Triggered due to network timeout"}e&&(0,i.vV)(e,n,void 0,{...e.pb,...t})}if(lt.traceIdIndex=g,lt.userType=y,lt.debugId=ht,lt.cetoRef=pt,lt.msEdgeRef=mt,lt.authFeatures=gt,lt.dddTmpl=S,null!==(At=lt.serviceContext)&&void 0!==At&&null!==(At=At.debugInfo)&&void 0!==At&&null!==(It=At.includes)&&void 0!==It&&It.call(At,l.hs)&&(0,i.vV)(r.L61,"WPO returned static layout fallback",void 0,{isFirstPage:ft,isPrerender:k,debugId:ht,isRetriedRequest:v,serviceContext:lt.serviceContext}),t.feedName===Bt&&200===u.status&&ft&&e){const t=ct;if(!(lt.sections&&lt.sections.some(t=>"river"===t.region))&&lt.sections&&t&&t.sections&&t.sections.length){const e=lt.sections.filter(t=>"overlay"===t.region);e&&e.length&&lt.sections.push(t.sections[0])}}if(t.feedName===Lt&&200===u.status&&ft&&e&&(0,P.S)()&&null!==(_t=lt.serviceContext)&&void 0!==_t&&_t.tmpl&&!(0,q.Lg)().getObject("gaming-feed-engagement"))try{const t=Math.floor((new Date).getTime()/1e3),e=lt.serviceContext.tmpl.split(";"),n={};for(let t=0;t<e.length;t++)e[t].includes("gamingFeedEngagementCount30D")&&e[t].split(",").forEach(t=>{const e=t.split(":"),[i,r]=e,o=r?Number.parseInt(r,10):null;"gamingFeedEngagementSum7D"!==i&&"gamingFeedEngagementCount7D"!==i&&"gamingFeedEngagementSum30D"!==i&&"gamingFeedEngagementCount30D"!==i||null===o||(n[i]=o)});n.lastUpdated=t;const i=5;Object.keys(n).length===i&&(0,q.Lg)().setObject("gaming-feed-engagement",n)}catch(t){}if(!(t.feedName===Bt||t.feedName===Wt||t.feedName===Ht||t.disableContent||this.isPartialResponse(lt)||lt.sections&&lt.sections.length>0)){const t=m?r.M_y:r.T4e;(0,i.vV)(t,"Empty Section on the feed call",void 0,{...t.pb,url:decodeURIComponent(ot.href),isFirstPage:ft,activityId:B.T3.ActivityId,isPrerender:k,isInitializedAsPrerenderPage:x,debugId:ht,isRetriedRequest:v})}}}catch(e){wt&&(clearInterval(wt),wt=null);const n=["Service Request Timed out","Fetch for https://"],i=["TypeError: Failed to fetch"];let o;const s=(0,D.dx)();if(this.shouldRetryInOtherDomain=ft&&!t.domainOverride&&!s&&!(!(0,P.S)()&&this.config.requestToOrigin),n.some(t=>{var n;return null==e||null===(n=e.message)||void 0===n?void 0:n.includes(t)})){const t=k?r.xlx:r.Amp;o=ft?t:r.GtY,o===r.Amp&&this.shouldRetryInOtherDomain&&!v&&(o=r.Dhq)}else o=i.some(t=>{var n;return null==e||null===(n=e.message)||void 0===n?void 0:n.includes(t)})?this.shouldRetryInOtherDomain?r.Ffs:r.iXH:this.shouldRetryInOtherDomain?r.bqh:r.wsO;const a=(0,Ft.A)(it,"headers.Authorization"),c={...o,message:"Error while fetching WpoService response",pb:{...o.pb,customMessage:`Error: ${e}`,url:decodeURIComponent(ot.href),requestHeaders:JSON.stringify(a.headers),isFirstPage:ft,activityId:B.T3.ActivityId,isPrerender:k,isInitializedAsPrerenderPage:x,domainOverride:t.domainOverride??"",isRetry:this.shouldRetryInOtherDomain,debugId:ht,isRetriedRequest:v,isRetryBackupDomainFlight:s,requestStart:vt}};return this.sendAppErrorWithSeverityOverride(o,c),void(this.responseStatus=O.EY.Failed)}this.jsonResponseFromWPO=null;const Ot=this.isPartialResponse(lt);if(Kt.isPrerenderDsiabled=Ot,st(lt,this.isStatic,Ot,this.config.needValidateApiResp,ht,t.disableContent||Boolean(null===(m=lt)||void 0===m||null===(m=m.serviceContext)||void 0===m?void 0:m.disableContent)),lt&&lt&&lt.sections&&lt.sections.length>0||Ot){var Vt,zt;this.responseStatus=O.EY.Success;const n=null===(Vt=lt)||void 0===Vt||null===(Vt=Vt.sections)||void 0===Vt?void 0:Vt.map((t,e)=>null==t?void 0:t.region);var qt;if(this.jsonResponseFromWPO=JSON.stringify(n),!this.isStatic&&e&&"default"===t.feedName&&B.T3.IsHeroNTP&&((t,e)=>{var n;const o=(H._3.getQueryParameterByName("segment",(0,M.iA)())||"").toLowerCase(),s=t.sections.find(t=>"hero"===t.region);if(!s||null===(n=s.subSections)||void 0===n||!n.length){var a;const n=t.sections.find(t=>"river"===t.region)?"Missing hero section in WPO response.":"Missing hero and river section in WPO response.",r=Y(o);if((0,i.vV)(r,"Missing Hero Region",`${n} Debug id: ${t.debugId}`,{...r.pb,requestUrl:e,statusCode:t.statusCode}),"homePage"===B.T3.AppType&&(0,J.Er)(null===g.Rb||void 0===g.Rb||null===(a=g.Rb.ClientSettings)||void 0===a?void 0:a.ocid)){const t=new URL(window.location.href),e=t.searchParams.get("cm");t.search="",t.searchParams.set("ocid","windirect"),e&&t.searchParams.set("cm",e),window.location.href=t.toString()}return}try{var c,u,l;if((t=>{var e,n;return!(null!=t&&null!==(e=t.subSections)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.dataTemplate||null!=t&&null!==(n=t.subSections)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.layoutTemplate)})(s))return X({jsonResponse:t,heroSection:s,segment:o,decodedServiceUrl:e});const n=s.subSections[0].layoutTemplate,a=nt.get(n),d=null==a||null===(c=a.supportedSegments)||void 0===c?void 0:c.includes(o),f=(null==a?void 0:a.cardCount)===(null===(u=s.subSections[0].cards)||void 0===u?void 0:u.length),h=tt.get(o);let p=!0,m=!1;null==a||a.cardCount,null===(l=s.subSections[0].cards)||void 0===l||l.map(t=>{h&&h.has(t.type)||(et.includes(t.type)?m=!0:p=!1)}),m&&(0,i.vV)(r.qQs,`Hero card backfilled - ${o}`,void 0,{...r.qQs.pb,templateName:n,cardsInResponse:JSON.stringify(s.subSections[0].cards.map(t=>t.type)),debugId:t.debugId,isValidTemplateForThisSegment:d,isCorrectCardCount:f,isValidCardTypes:p}),d&&f&&p||(0,i.vV)(r.J$q,"Invalid Hero Response",void 0,{...r.J$q.pb,templateName:n,cardsInResponse:JSON.stringify(s.subSections[0].cards.map(t=>t.type)),debugId:t.debugId,isValidTemplateForThisSegment:d,isCorrectCardCount:f,isValidCardTypes:p,hasBackfilled:m})}catch(e){(0,i.vV)(r.J$q,"Invalid Hero Response",e.message,{...r.J$q.pb,debugId:t.debugId})}})(lt,at),!this.isStatic&&t.widgetsOn&&!t.renderedSegments&&null!==(zt=this.config)&&void 0!==zt&&zt.enableWidgetsRegion)rt(lt,e),null===(qt=lt.sections)||void 0===qt||qt.forEach(t=>{var e,n;"widgets"===t.region&&null!==(e=t.subSections)&&void 0!==e&&e.length&&null!==(n=t.subSections[0].cards)&&void 0!==n&&n.length&&t.subSections[0].cards.length>0&&t.subSections[0].cards.length<5&&(t.subSections[0].dataTemplate+="-"+t.subSections[0].cards.length,t.subSections[0].layoutTemplate+="-"+t.subSections[0].cards.length)})}else{var Gt;this.responseStatus=O.EY.NoContent;const n=e&&t.disableContent&&t.widgetsOn&&!B.T3.IsHeroNTP;var Xt;if(t.widgetsOn&&(!t.renderedSegments||n)&&null!==(Gt=this.config)&&void 0!==Gt&&Gt.enableWidgetsRegion&&rt(lt,e),!(0,P.S)())return null!==(Xt=lt)&&void 0!==Xt&&null!==(Xt=Xt.serviceContext)&&void 0!==Xt&&null!==(Xt=Xt.emptyFeedReasons)&&void 0!==Xt&&Xt.includes("InsufficientResponseCausedByMutePub")?lt:void 0}return!this.config.auctionRidOverride||(0,C.EZ)()||(0,P.S)()||this.mapperHelper.backfill1SAdWithNews(lt),lt}async getCachedResponse(t){if(this.canUseWpoCache())try{const n=await caches.open("edgenext-river-V1");if(!n)return;const s=this.normalizeUrl(t.serviceUrl),a=await n.keys()||[],c=a.filter(t=>t.url&&this.normalizeUrl(t.url)===s);for(const t of c)try{const s=await n.match(t.url);if(!s)return;const a=await s.json();if(a){var e;const t=Date.parse(null===(e=s.headers)||void 0===e?void 0:e.get("date")),n=isNaN(t)?"":(Date.now()-t)/1e3;return(0,i.vV)(r.O7A,"Cached WPO response returned in main thread",void 0,{...r.O7A.pb,cacheAgeSeconds:n}),this.responseStatus=O.EY.Success,(0,o.ZF)().responseSource=O.Py.FromCache,{...a,responseSource:O.Py.FromCache,appError:r.O7A}}}catch(t){}(0,i.vV)(r.sWn,"",void 0,{...r.sWn.pb,numCachedRequests:a.length,numMatches:c.length,serviceUrl:t.serviceUrl})}catch(e){(0,i.vV)(r.sWn,"An error occurred while retrieving a cached response. "+e.message,void 0,{...r.sWn.pb,isFirstPage:!t.nextPageUrl,url:t.serviceUrl,requestId:t.requestId,stack:e.stack})}}normalizeUrl(t){try{const e=new URL(t);Vt.forEach(t=>e.searchParams.delete(t));return decodeURIComponent(e.toString()).replace("/serviceak/","/service/").replace("api.msn.com/","assets.msn.com/").replace("api.msn.cn/","assets.msn.cn/")}catch(t){return""}}clearCache(){this.mapperHelper.resetCardCountForSuperFeed()}static clearRenderedSegments(){Kt.renderedSegments=""}initializeRequest(){const{initialRequest:t}=this.config;null!==t&&(0,Rt.isNullOrUndefined)(t.useNextPageUrl)&&(t.useNextPageUrl=!0)}addOrUpdateIdxId(t,e){return c.YT.addOrUpdateIdxId(t,e)}getResponseStatus(){return this.responseStatus}getIsStatic(){return this.isStatic}_requestQueryParams(){return this.requestQueryParams}isDhp(){var t;return(null===(t=window.location.search)||void 0===t?void 0:t.indexOf("startpage=1"))>-1}noContentCannotRetry(){return this.noContentRetryCount>=this.maxContentRetryCount}static updateRenderedSegments(t){t&&(Kt.renderedSegments=new URL(t).searchParams.get("renderedSegments"))}updateMapperHelperIsNTPPeek(t){this.mapperHelper.updateAdRegionToPeek(t)}getWpoIdResponseIndex(){return this.mapperHelper.wpoIdResponseIndex}addResponseToCache(t,e){this.canUseWpoCache()&&caches.open("edgenext-river-V1").then(n=>{if(!n)return;const i=this.normalizeUrl(t);n.put(i,e.clone())}).catch(()=>{})}canUseWpoCache(){return(0,P.S)()&&!!(0,I.Cw)()}}Kt.preloadedResponsesKey=Symbol("preloadedResponses"),Kt.renderedSegmentsKey=Symbol("renderedSegments"),Kt.fetchingLockKey=Symbol("fetchingLock"),Kt.isPrerenderDsiabledKey=Symbol("isPrerenderDsiabled");const Qt=t=>{var e;return null==t||null===(e=t.headers)||void 0===e?void 0:e.get("X-Statics-Fallback")}},94425:function(t,e,n){n.d(e,{HZ:function(){return l},M:function(){return h},Rq:function(){return u},bI:function(){return f},t7:function(){return d}});var i=n(69259),r=n(19548),o=n(17254),s=n(27261);const a="{hostName}",c=/\{localeCode\}|\{0\}/;function u(t,e){const n=r._3.encodeURIComponentForPrime(e).toLowerCase(),{HostPage:i}=o.T3;if(i){const e=new URL(i.originalUrl);return e.origin+"/"+i.verticalKey+"/"+i.categoryKey+"/interests/"+n+"/"+o.T3.CurrentMarket+"/f-"+t+e.search}return"https://www.msn.com"}function l(){return`${o.T3.NavTargetUrlWithLocale}/${i.ei}`}function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.$q;return`${o.T3.NavTargetUrlWithLocale}/${t}`}function f(t){return t&&(t=t.replace(a,o.T3.NavTargetHostName).replace(c,o.T3.CurrentMarket)),t||""}function h(t){if(!t)return;const{Environment:e,EnvInstanceOverride:n}=o.T3;n===e&&(t.host=(0,s.ou)(),t.searchParams.set("instance",n))}},94444:function(t,e,n){n.d(e,{x:function(){return r}});const i=[];function r(t){i.push(t)}},94569:function(t,e,n){n.d(e,{V:function(){return o}});var i=n(76166),r=n(77246);function o(){return(0,r.S)()?window.fetch.bind(window):i.GC}},94672:function(t,e,n){var i;function r(){return o}n.d(e,{B:function(){return i},V:function(){return r}}),function(t){t.RemovePersonalizeBtn="prg-1sw-remper",t.ForceSingleColumn="prg-1sw-frsincol",t.Clarity="prg-1sw-clarity",t.Tenorite="prg-tenorite",t.RefreshRR="prg-winrefreshrr",t.AmplifyRiver="prg-wpo-ampwhpriv",t.AmplifyRR="prg-wpo-ampwhprr",t.FontDisplay="prg-hp-display",t.FontMinus2="prg-hp-minus2",t.FontDisplaym2="prg-hp-displaym2",t.ColdStartP1="prg-1sw-cldp1",t.ColdStartP4="prg-1sw-cldp4",t.ColdStartS1="prg-1sw-clds1",t.ColdStartS4="prg-1sw-clds4",t.ColdStartC="prg-1sw-cld",t.GrayMode="prg-hp-gray",t.SectionHeaderTopStories="prg-tsec-ts",t.SectionHeaderGreetingTopStories="prg-tsec-tsg",t.SectionHeaderTrendingNow="prg-tsec-trend",t.SectionHeaderGreetingTrendingNow="prg-tsec-trendg",t.ForceSuperLinear="prg-1sw-frsplin",t.DeferralReverseFlight="prg-hp-no-defer",t.FiveColumn="prg-hp-fivecol",t.MsnHPOCIDFlight="prg-whpocidhpmsn",t.MSNMeStripeFlight="prg-whpmestripe",t.MSNDisplayAdsFlight="prg-whpdisplayad",t.MSNDisplayAdsFeedFlight="prg-whpdisadfeed",t.MSNHeaderFlight="prg-whpmsnheader"}(i||(i={}));const o={[i.SectionHeaderTrendingNow]:{markets:["en-us"]},[i.SectionHeaderGreetingTrendingNow]:{markets:["en-us"]},[i.ColdStartP1]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartP4]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartS1]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartS4]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartC]:{markets:["en-us","en-in","en-ca","en-au"]}}},94706:function(t,e,n){function i(t,e,n,i,r,o,s,a,c,u){return{...{name:e||"",action:r,behavior:n,content:a,destinationUrl:o,ext:u,overrideDestinationUrl:s,type:i,feed:c},...t||{}}}n.d(e,{J:function(){return s},R:function(){return a}});var r=n(61522);const o=void 0;function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<2||!(0,r.Rx)(e[0])||!(0,r.P5)(e[1]))throw new Error("Invalid arguments");const s=e[0],a=e[1],c=(0,r.pF)(e[2])?e[2]:o,u=(0,r.Rx)(e[3])?e[3]:o,l=(0,r.pF)(e[3])?e[3]:(0,r.pF)(e[4])?e[4]:o,d=(0,r.Rx)(e[4])?e[4]:(0,r.Rx)(e[5])?e[5]:o,f=(0,r.Rx)(e[6])?e[6]:o,h=(0,r.P5)(e[4])?e[4]:(0,r.P5)(e[5])?e[5]:(0,r.P5)(e[6])?e[6]:(0,r.P5)(e[7])?e[7]:o;return i(o,s,c,l,u,f,d,a,o,h)}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<1||!(0,r.Rx)(e[0]))throw new Error("Invalid arguments");const s=e[0],a=(0,r.pF)(e[1])?e[1]:o,c=(0,r.Rx)(e[2])?e[2]:o,u=(0,r.pF)(e[2])?e[2]:(0,r.pF)(e[3])?e[3]:o,l=(0,r.P5)(e[3])?e[3]:o;return i(o,s,a,u,c,o,o,o,o,l)}},95125:function(t,e,n){n.d(e,{Yg:function(){return a},ft:function(){return s}});var i=n(56911),r=n(44449),o=n(65022);const s={EventType:"uat",Timestamp:"uats",Duration:"uad",Element:"uae",Message:"uam"};class a{fireImpressionLog(t,e,n){null!=t&&t.id&&!a.impressionNativeAdIdSet.has(null==t?void 0:t.id)&&a.impressionLog&&(a.impressionLog(t,e,n),a.impressionNativeAdIdSet.add(null==t?void 0:t.id))}fireClickLog(t,e,n){a.clickLog&&a.clickLog(t,e,n)}saveUserActionBeacon(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"srtb.msn.com";const i=JSON.parse(e),r=i&&i.trb;if(t&&r)for(let e=0;e<r.length;e++){if(!r[e].includes(n))continue;const i=new URL(r[e]);i.pathname=i.pathname.replace("served","useraction"),a.userActionBeaconsMap.set(t,i),a.startTimestampMap.set(t,(new Date).getTime())}}getUserActionBeacon(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.userActionBeaconsMap.get(t)}populateBeaconUrl(t,e,n,i,r,o){const c=this.getUserActionBeacon(t);if(!c)return"";for(const t of Object.values(s)){var u;null===(u=c.searchParams)||void 0===u||u.delete(t)}if(n){var l,d,f,h,p,m;const u=a.startTimestampMap.get(t),g={m:i,f:e};null===(l=c.searchParams)||void 0===l||l.set(s.EventType,n),null===(d=c.searchParams)||void 0===d||d.set(s.Timestamp,String(u?(new Date).getTime()-u:0)),null===(f=c.searchParams)||void 0===f||f.set(s.Duration,r||0),null===(h=c.searchParams)||void 0===h||h.set(s.Message,JSON.stringify(g)),null===(p=c.searchParams)||void 0===p||p.set(s.Element,(null==o||null===(m=o.tagName)||void 0===m?void 0:m.toLowerCase())||"")}return c}}a.impressionNativeAdIdSet=new Set,a.userActionBeaconsMap=new Map,a.startTimestampMap=new Map,(0,i.Cg)([(0,r.sx)(o.SuG,"UserActionLog.fireImpressionLog")],a.prototype,"fireImpressionLog",null),(0,i.Cg)([(0,r.sx)(o.SuG,"UserActionLog.fireClickLog")],a.prototype,"fireClickLog",null),(0,i.Cg)([(0,r.sx)(o.SuG,"UserActionLog.saveUserActionBeacon")],a.prototype,"saveUserActionBeacon",null),(0,i.Cg)([(0,r.sx)(o.SuG,"UserActionLog.getUserActionBeacon")],a.prototype,"getUserActionBeacon",null),(0,i.Cg)([(0,r.sx)(o.SuG,"UserActionLog.populateBeaconUrl")],a.prototype,"populateBeaconUrl",null)},95999:function(t,e,n){n.d(e,{q:function(){return i}});const i={name:"default-infopane-template",children:[{name:"product-image",layout:{position:"absolute",left:"0",top:"0",zIndex:1,width:"100%",height:"304"},imageMaskOn:!0,imageMaskOpacity:"0.1"},{name:"gradient-mask",height:"176",paddingBottom:"0",paddingTop:"0",layout:{position:"absolute",bottom:"0",width:"100%",zIndex:2},useDynamicStyle:!0},{name:"ad-title",lineHeight:"36",titleFontSize:"28",layout:{position:"absolute",bottom:"53",width:"100%",zIndex:2}},n(38870).o]}},96048:function(t,e,n){n.d(e,{g:function(){return s},m:function(){return a}});var i=n(86676),r=n(16091),o=n(17720);const s=(0,r.G)({getInstance:()=>o.vv.get("__feed-card-provider__serviceRequestAuthSubscription__",()=>new i.Q)}),a={userIsSignedIn:"userIsSignedIn"}},96163:function(t,e,n){n.d(e,{_d:function(){return L}});var i=n(56911),r=n(92011),o=n(23429),s=n(38493),a=n(60815),c=n(84471),u=n(55230),l=n(81949),d=n(17254),f=n(98216),h=n(89710);class p extends r.L{constructor(){super(...arguments),this.isMenuVisible=!1,this.navItems=[],this.onSelectedChange=t=>{t.stopPropagation();const e=t.target||{},n=e.id;if("personalize"==n&&(f.YT.addOrUpdateTmplProperty("ChannelStoreLaunched","1"),(0,h.wl)(d.T3.CurrentMarket)))return window.dispatchEvent(new CustomEvent("launchChannelStore")),void this.closeMenu();const i=l.QB.getRouteById(n);i&&(0,c.W)(e)&&e.selected&&(this.$emit("change",{event:t,selectedNav:i}),this.selectedNavId=n,this.closeMenu())},this.handleDocumentKeydown=t=>{t.defaultPrevented||t.key!==u.F9||this.closeMenu()},this.onOverlayClick=t=>{const e=t.target.getAttribute("class");e&&e.includes("overlay")&&this.closeMenu()}}openMenu(){this.isMenuVisible=!0,document.addEventListener("keydown",this.handleDocumentKeydown),o.L.enqueue(()=>{this.closeButton&&this.closeButton.focus(),this.menuOverlay&&this.menuOverlay.addEventListener("click",this.onOverlayClick)})}closeMenu(){this.isMenuVisible=!1,document.removeEventListener("keydown",this.handleDocumentKeydown),this.menuOverlay&&this.menuOverlay.removeEventListener("click",this.onOverlayClick),this.menuButton&&this.menuButton.focus()}}(0,i.Cg)([(0,s.CF)({attribute:"menu-button-tooltip"})],p.prototype,"menuButtonTooltip",void 0),(0,i.Cg)([(0,s.CF)({attribute:"close-button-tooltip"})],p.prototype,"closeButtonTooltip",void 0),(0,i.Cg)([a.sH],p.prototype,"isMenuVisible",void 0),(0,i.Cg)([a.sH],p.prototype,"selectedNavId",void 0),(0,i.Cg)([a.sH],p.prototype,"hamburgerMenuButtonTelemetryTag",void 0),(0,i.Cg)([a.sH],p.prototype,"closeButtonTelemetryTag",void 0),(0,i.Cg)([a.sH],p.prototype,"navItems",void 0);var m=n(64187),g=n(22131),v=n(48196),w=n(48751),y=n(10735),b=n(45476),S=n(37998),x=n(74838),C=n(74849),k=n(50882);const T=C.A`
${(0,m.V)("flex")}
:host{--elevation:11;width:fit-content}fluent-button{height:calc(${v.D} * 1px);
    width: calc(${v.D} * 1px)}.button-glyph{fill:${w.l};height:16px;width:16px}.close-button{align-items:center;background:${y.T};display:flex;justify-content:center;justify-self:end}.close-button:hover{background:${b.oO}}.hidden{display:none}.logo{margin-inline-start:24px;fill:${w.l}}.menu{${S.ET}
    background: ${y.T};display:flex;flex-direction:column;height:100%;min-width:300px;top:0;width:fit-content}.menu-button{align-items:center;justify-content:center}.menu-content{align-self:flex-start;overflow-y:auto;width:100%}.menu-header{align-items:center;display:grid;grid-template-columns:auto auto;justify-content:stretch;padding:20px}.mobile{justify-content:flex-end}.overlay{align-items:flex-start;background-color:transparent;display:flex;flex-direction:row;height:100%;left:0;position:fixed;right:0;top:0;width:100%}.separator{margin:calc(${x.vR} * 1px) 24px}.tree-view[hidden]{display:none}.tree-view{align-items:stretch;flex-direction:column;font-size:0;min-width:fit-content}.tree-view:focus-visible{outline:none}`.withBehaviors((0,g.mr)(C.A` .button-glyph{fill:${k.A.ButtonText}}.menu-button:hover .button-glyph .close-button:hover .button-glyph{fill:${k.A.HighlightText};
                }
            `));var $=n(14642),A=n(96950),I=n(91640),P=n(32625),_=n(39957),M=n(60402),R=n(84751),E=n(62292);$.A;const F=A.qy`
${t=>t.display}
${(0,I.z)(t=>t.glyph,A.qy`<div slot="start" :innerHTML=${(0,P.a)(t=>t.glyph,E.k)}></div>`)}
`,D=A.qy`<msn-start-hamburger-menu-item id=${t=>t.id} nested data-t="${t=>t.telemetryMetadata?JSON.stringify(t.telemetryMetadata):null}" :selected="${(t,e)=>t.id===e.parentContext.parent.selectedNavId}">${F}</msn-start-hamburger-menu-item>`,O=A.qy`<msn-start-hamburger-menu-item id=${t=>t.id} data-t="${t=>t.telemetryMetadata?JSON.stringify(t.telemetryMetadata):null}" :selected="${(t,e)=>t.id===e.parent.selectedNavId}">${F} ${(0,I.z)(t=>t.childItems,A.qy` ${(0,_.ux)(t=>t.childItems||[],D)} `)}</msn-start-hamburger-menu-item>${(0,I.z)(t=>t.showDivider,A.qy`<fluent-divider class="separator" role="presentation"></fluent-divider>`)}
`,N=A.qy`<div class="overlay" part="overlay" ${(0,M.K)("menuOverlay")}><div class="menu" part="menu" ${(0,M.K)("menuRef")}><div class="menu-header"><slot name="logo"><span class="logo"></span></slot><fluent-button appearance="stealth" class="close-button" @click="${t=>t.closeMenu()}" aria-label="${t=>t.closeButtonTooltip}" title="${t=>t.closeButtonTooltip}" tabindex="0" data-t="${t=>t.closeButtonTelemetryTag}" ${(0,M.K)("closeButton")}>${R.fw}</fluent-button></div><div class="menu-content" part="menu-content"><fluent-tree-view @selected-change="${(t,e)=>t.onSelectedChange(e.event)}" ${(0,M.K)("treeView")} part="tree-view">${(0,_.ux)(t=>t.navItems,O)}</fluent-tree-view></div></div></div>`,U=A.qy`<template><fluent-button appearance="stealth" class="menu-button ${t=>t.isMenuVisible?"hidden":""}" part="menu-button" @click="${t=>t.openMenu()}" aria-label="${t=>t.menuButtonTooltip}" aria-expanded="${t=>t.isMenuVisible}" title="${t=>t.menuButtonTooltip}" data-t="${t=>t.hamburgerMenuButtonTelemetryTag}" ${(0,M.K)("menuButton")}>${R.lJ}</fluent-button>${(0,I.z)(t=>t.isMenuVisible,N)}</template>`,L=p.compose({name:"msn-start-hamburger-menu",template:U,styles:T,shadowOptions:{delegatesFocus:!0}})},96241:function(t,e,n){n.d(e,{$:function(){return r}});var i=n(68480);class r{}r.pageVisibilityChange=new i.P("PageVisibilityChange"),r.timeForPageReveal=new i.P("TimeForPageReveal"),r.forcePageReload=new i.P("ForcePageReload"),r.updateCurrentPageRefreshState=new i.P("UpdateCurrentPageRefreshState"),r.updateDidRenderStartInBackgroundRenderFlag=new i.P("UpdateDidRenderStartInBackgroundRenderFlag")},96302:function(t,e,n){n.d(e,{U:function(){return r}});var i=n(54355);function r(){return(0,i.rS)(...arguments).class||""}},96592:function(t,e,n){n.d(e,{m:function(){return i}});class i{constructor(t){this.searchParams=Object.create(null),this.parseQueryString(t)}set(t,e){return null!=e&&(this.searchParams[t]=e),this}get(t){return this.searchParams[t]}getAllSearchParams(){return this.searchParams}delete(t){delete this.searchParams[t]}toString(){const t=Object.keys(this.searchParams);return t.length?t.sort().map(t=>`${t}=${this.searchParams[t]}`).join("&"):""}parseQueryString(t){if(!t)return;const e=t.indexOf("?");e>-1&&(t=t.substring(e+1)),t.split("&").forEach(t=>{const e=t.split("="),n=e[0];this.get(n)||(this.searchParams[n]=e[1])})}}},96643:function(t,e,n){n.d(e,{Ko:function(){return r}});var i=n(34713);const r=()=>{var t;if((0,i.cH)())return!0;const[e]=performance.getEntriesByType("navigation");return!(null==e||null===(t=e.serverTiming)||void 0===t||!t.find(t=>"cache"===(null==t?void 0:t.name)))}},97130:function(t,e,n){n.d(e,{lZ:function(){return r},xY:function(){return o}});var i=n(26093);function r(t,e){s("property",t,e)}function o(t,e){s("name",t,e)}function s(t,e,n){if(!(0,i.o)(e)){let i=a(t,e);i?i.setAttribute("content",n):(i=document.createElement("meta"),i.setAttribute(t,e),i.setAttribute("content",n),document.querySelector("head").appendChild(i))}}function a(t,e){return document.head.querySelector(`meta[${t}='${e}']`)}},97364:function(t,e,n){n.d(e,{TZ:function(){return c},YV:function(){return u},vi:function(){return a}});var i,r=n(17254);!function(t){t.MatchMedia="MatchMedia",t.BaseLayerLuminance="BaseLayerLuminance",t.External="External",t.Defalut="MatchMedia"}(i||(i={}));const o="DefaultConfig",s=Object.freeze(new Map([["bingHomepage",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["windows",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["edgeChromium",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["winWidgets",{notifyThemeSwitch:!0,themeSwitchNotifier:"External"}],["superApp",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["homePage",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["distribution",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["channelmobile",{notifyThemeSwitch:!0,themeSwitchNotifier:"External"}],[o,{notifyThemeSwitch:!0,themeSwitchNotifier:"MatchMedia"}]]));function a(){return!!s.has(r.T3.AppType)}function c(){const t=r.T3.AppType,e=s.get(t)||s.get(o);return(null==e?void 0:e.notifyThemeSwitch)??!0}function u(){const t=r.T3.AppType,e=s.get(t)||s.get(o);return(null==e?void 0:e.themeSwitchNotifier)??"MatchMedia"}},97444:function(t,e,n){n.d(e,{A:function(){return v}});var i=n(57759),r=n(19993),o=n(45181),s=n(2462),a=n(84397),c=n(33918),u=n(99893),l=n(9774),d=n(12870),f=n(16091),h=n(17720),p=n(65022),m=n(93468);class g{constructor(){this.fetchCalled=!1,this.baseUrl="https://api.msn.com/msn/v0/pages/LiveRamp/getLiveRampId",this.oneServiceOcid="peregrine",this.noEnvelopeIdConst="_"}static getInstance(){return h.vv.get("__LiverampService__",()=>new g)}fetchAndOutputEnvelopeId(){var t;if(this.fetchCalled)return;if(this.fetchCalled=!0,null!==d.Rb&&void 0!==d.Rb&&null!==(t=d.Rb.CurrentFlightSet)&&void 0!==t&&t.has(c.HN))return;const e=this.hasAdvertisingConsent();if(!(0,s.Ri)(a.wf.LiverampEnvelopeId)&&this.isCookieSetAllowed())if(e){const t=this.fetchEnvelopeIdFromObjectStore();this.liverampCookieSetPromise=this.setCookie(a.wf.LiverampEnvelopeId,t)}else this.deleteCookie(a.wf.LiverampEnvelopeId)}getEnvelopeIdFromCookie(){const t=(0,s.Ri)(a.wf.LiverampEnvelopeId);return t===this.noEnvelopeIdConst?null:t}async finishLiverampCookieSet(){this.liverampCookieSetPromise&&await this.liverampCookieSetPromise}async getRampIdAsync(){this.fetchAndOutputEnvelopeId(),await this.finishLiverampCookieSet();const t=this.getEnvelopeIdFromCookie();return t&&t!==this.noEnvelopeIdConst?t:void 0}async fetchEnvelopeIdFromObjectStore(){const t={method:"GET",headers:await r.WR.getOneServiceHeaders(),credentials:"include"},e=this.getServiceUrl();let n,o;try{n=await(0,i.w)(async()=>{const n=await fetch(e.href,t);if(o=n.headers.get("ddd-debugid"),200!=n.status)return 404==n.status||204==n.status||(0,m.vV)(p.vyN,`Unexpected response from OneService call. Status: ${n.status}`,void 0,{...p.vyN.pb,debugId:o}),null;try{const t=await n.text();let e=JSON.parse(t).liveRampId;return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),e}catch{return(0,m.vV)(p.vyN,"OneService response is not in expected format.",void 0,{...p.vyN.pb,debugId:o}),null}},"liverampObjectStoreCall")}catch(t){return(0,m.vV)(p.vyN,`Error sending OneService request. Error: ${t}`,void 0,{...p.vyN.pb,debugId:o}),null}return n}async setCookie(t,e){let n=await e;n||(n=this.noEnvelopeIdConst);(0,s.Ub)(t,n,1,".msn.com","/",!0)||(0,m.vV)(p.Ozz,"Unable to set LiverampEnvelopeId Cookie.",void 0,{...p.vyN.pb})}deleteCookie(t){try{(0,s.Ub)(t,"",-1,".msn.com","/",!0)}catch(t){(0,m.vV)(p.Ozz,"Unable to delete LiverampEnvelopeId Cookie.",void 0,{...p.Ozz.pb})}}getServiceUrl(){const t=new URL(this.baseUrl);return[...r.WR.getCommonParams2(this.oneServiceOcid,!0)].forEach(e=>{e.value&&t.searchParams.set(e.key,e.value)}),t.searchParams.set("ocid",this.oneServiceOcid),t}isCookieSetAllowed(){try{return(0,s.Ub)(a.wf.LiverampEnvelopeId,this.noEnvelopeIdConst,1,".msn.com","/",!0)}catch(t){return!1}}hasAdvertisingConsent(){try{if(this.getBrowserOptoutStatus())return!1;if(!o.n.get(o.Y.Initialized))return!0;if(o.n.get(o.Y.CookieConsentProvider)===u.O.OneTrustBanner){const t=o.n.get(o.Y.ActiveCookieCategories);if(!t||0===t.length)return!1;return t.includes(l.j.Advertising)}return!0}catch(t){return(0,m.vV)(p.Ozz,"Error checking advertising consent, denying access",void 0,{...p.Ozz.pb}),!1}}getBrowserOptoutStatus(){const t=(0,s.Ri)(a.wf.BrowserOptOut);return!(!t||"1"!==t)}}const v=(0,f.G)(g)},97643:function(t,e,n){function i(t,e){const n=parseInt(t);return isNaN(n)?e:n}function r(t){try{return decodeURIComponent(t)}catch(t){}}n.d(e,{AY:function(){return i},RC:function(){return r}})},97852:function(t,e,n){var i,r;n.d(e,{Jr:function(){return s},cs:function(){return c},hs:function(){return u},py:function(){return o},vj:function(){return a}}),function(t){t.Weather="Weather",t.Weather_Nowcast="Weather_Nowcast",t.Weather_TeaserRain="Weather_TeaserRain",t.Sports="Sports",t.Finance="Finance",t.CasualGame="CasualGame",t.Shopping="Shopping",t.DailyBrief="DailyBrief",t.DailyMoment="DailyMoment",t.CreatorSpotlight="CreatorSpotlight"}(i||(i={})),function(t){t.Weather_SevereWeather="Weather_SevereWeather",t.News_CatchUpStack="News_CatchUpStack",t.News_TopStories="News_TopStories",t.News_TrendingNow="News_TrendingNow",t.News_SaveForLater="News_SaveForLater",t.News_CopilotDaily="News_CopilotDaily",t.News_BreakingNews="News_BreakingNews",t.News_ForYouNews="News_ForYouNews",t.Finance_PriceMovement="Finance_PriceMovement",t.Sports_SportsMatch="Sports_ScoreUpdates",t.MomentInTime="MomentInTime",t.News_CreatorSpotlight="News_CreatorSpotlight",t.News_DailyWonder="News_DailyWonder",t.News_WatchGoldShorts="News_WatchGoldShorts",t.News_WatchVideoHeavy="News_WatchVideoHeavy"}(r||(r={}));const o=["msnruby","edgntpruby","edgdhpruby","edgentntpruby","edgentdhpruby","ma13x3","cp_msn_cmc"],s=Object.freeze([{id:"watch",localizationKey:"watchText",href:"https://www.msn.com/video"},{id:"weather",localizationKey:"weatherText",href:"https://www.msn.com/weather"},{id:"money",localizationKey:"moneyText",href:"https://www.msn.com/money"},{id:"games",localizationKey:"gamesText",href:"https://www.msn.com/play"}]),a="gemSnapshotKey",c="uxmode",u="layout:l4xapfallback"},98165:function(t,e,n){n.d(e,{T:function(){return r}});var i=n(19548);function r(){return"vp"===i._3.getQueryParameterByName("reqsrc",location.href)||"1"===i._3.getQueryParameterByName("vptest",location.href)}},98216:function(t,e,n){let i;n.d(e,{GI:function(){return c},RO:function(){return o},YT:function(){return s},km:function(){return a}});const r=new Promise(t=>{i=t});let o=()=>r,s=null;function a(t){s=t,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i)()}const c="uxmode"},98288:function(t,e,n){n.d(e,{G:function(){return i}});const i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},98763:function(t,e,n){n.d(e,{MV:function(){return f},QW:function(){return h},Xe:function(){return u},bP:function(){return d},pV:function(){return l}});var i=n(17720);let r=0;function o(){return r>1e8&&(r=0),"__mlv-"+r++}const{get:s,set:a,delete:c}=i.vv,u=()=>v(p()),l=t=>v(m(t));function d(){const t=p();return v(t,{call:function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.get())||void 0===e?void 0:e(...i)}})}function f(){const t=m(()=>new Map);return v(g(t),{getObj:()=>t.get(),set:(e,n)=>t.get().set(e,n),get:e=>t.get().get(e)})}function h(){const t=m(()=>new Set);return v(g(t),{getObj:()=>t.get(),add:e=>t.get().add(e)})}function p(){const t=o();return{get:()=>s(t),set:e=>(a(t,e),e),unset:()=>{c(t)}}}function m(t){const e=o();return{get:()=>s(e,t),unset:()=>{c(e)}}}function g(t){const e=()=>t.get();return{has:t=>e().has(t),get size(){return e().size},delete:t=>e().delete(t),unset:()=>t.unset()}}function v(t,e){return Object.freeze(e?Object.assign(t,e):t)}},98793:function(t,e,n){n.d(e,{Q:function(){return c}});var i=n(16091),r=n(17720),o=n(15507),s=n(65022);class a extends o.M{constructor(){super("ntp.record_user_choices","setting","value",{setting:"default",source:"default layout",timestamp:0,value:-1})}static getInstance(){return r.vv.get("__RecordUserChoicesManager__",()=>new a)}async deleteKeyValueFromPSL(t){return this.deleteEntriesFromPSL([t])}async deleteEntriesFromPSL(t){try{if(null==t||!t.length)return;const e=(await this.getPreferenceSettingValueArray()||[]).filter(e=>e&&!t.includes(e[this.searchForKeyName]));return this.setAndSavePreferenceSetting(e)}catch(e){const n="Failed to delete user preference setting";return this.logAppError(s.NVY,n,`Key:${t.join(",")}.Error:${e}`),!1}}}const c=(0,i.G)(a)},98909:function(t,e,n){n.d(e,{h:function(){return m},r:function(){return p}});var i=n(12426),r=n(46261),o=n(71200),s=n(48622),a=n(65022),c=n(93468),u=n(17254),l=n(12870),d=n(97643),f=n(52684),h=n(42992);var p;!function(t){t[t.AutoDetectLoc=1]="AutoDetectLoc",t[t.SpecifyLoc=2]="SpecifyLoc"}(p||(p={}));class m{constructor(){this.instance=s.d}async getUserDefaultLocation(t){let e,n;try{const n=await this.instance.getUserDefaultLocation(t);if(null==n)throw"Location response returned null or undefined";e=await n.json()}catch(n){(0,c.c_)(n,a.MBe,`User's default location fetch request failed. Autodetect forced: ${!0===t}`),e=null}return e&&e.length&&e[0]&&(n={latitude:`${e[0].latitude}`,longitude:`${e[0].longitude}`,isDetected:t,isBlisDetected:t,locality:e[0].city,region:f.abbreviateUSState(e[0].state,l.Rb.Locale,e[0].countryCode),country:e[0].country,isoCode:e[0].countryCode,language:u.T3.CurrentMarket,accuracy:e[0].accuracy},n.displayName=(0,r.Mn)(n)),n}getGeoLocation(){const t=(0,i.iw)();return(0,r.fn)(t)?t:((0,c.vV)(a.r_M,"Failed to get valid user geo location from PCS head data"),null)}async updateUserSettings(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=!1;try{r=await this.instance.updateWeatherSettings(t,e,n,i)}catch(t){(0,c.c_)(t,a.HyQ,"error in library [location-service],Weather or location user settings update failed"),r=!1}return r}async setHomeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!1;const s=(0,o.Go)()&&t.isDetected?p.AutoDetectLoc:p.SpecifyLoc;try{await Promise.all([this.instance.updateWeatherSettings(null,`${s}`),this.instance.updatePdpHomeLocation(m.buildMetaData(t),t.definitionName||`${t.latitude},${t.longitude}`,e,n,i)]),r=!0}catch(t){(0,c.c_)(t,a.yeQ,"error in library [location-service],Home Location Update Failed"),r=!1}return r&&(0,h.BX)(t),r}async setSpecifyLocationMode(){let t=!1;try{t=await this.instance.updateWeatherSettings(null,`${p.SpecifyLoc}`)}catch(e){(0,c.c_)(e,a.HyQ,"error in library [location-service],Weather user settings update failed"),t=!1}return t}async setAutoDetectLocationMode(){let t=!1;try{t=await this.instance.updateWeatherSettings(null,`${p.AutoDetectLoc}`)}catch(e){(0,c.c_)(e,a.HyQ,"error in library [location-service],Weather user settings update failed"),t=!1}return t}async addFavoriteLocation(t){const e=`${t.latitude},${t.longitude}`,n=await this.instance.addToFavoriteLocation(m.buildMetaData(t),e);return n||(0,c.vV)(a.HyQ,"error in library [location-service],Weather user add favorite location failed"),n}async removeFavoriteLocation(t){const e=t.definitionName||`${t.latitude},${t.longitude}`,n=await this.instance.removeFavoriteLocation(e);return n?t.definitionName=null:(0,c.vV)(a.HyQ,"error in library [location-service],Weather user remove favorite location failed"),n}async removeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.definitionName||`${t.latitude},${t.longitude}`,i=await this.instance.removeLocation(n,e);return i?t.definitionName=null:(0,c.vV)(a.HyQ,"error in library [location-service],Weather user remove favorite location failed"),i}static buildMetaData(t){const e=t.language||l.Rb.Locale||"";return JSON.parse(JSON.stringify({geoCoordinates:{latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude)},addressLine:t.addressLine,subRegion:t.subRegion,readLink:t.readLink,city:t.locality,state:t.region,countryRegion:t.country,postalCode:t.postalCode,isoCode:t.isoCode,locationType:"number"==typeof t.locationType?t.locationType||1:(0,d.AY)(""+t.locationType,1),locationTypeId:[t.locality,t.region,t.country].filter(t=>!!t).join(","),language:e||void 0,properties:{locationType:t.typeV6,entitySubTypeHints:t.subType,confirmed:t.confirmed,tag:t.tag,reportTime:t.reportTime}}))}}},99271:function(t,e,n){n.d(e,{I:function(){return mn}});var i=n(56911),r=n(45084),o=n(65431),s=n(65022),a=n(93468),c=n(63456),u=n(62966),l=n(29307),d=n(60544),f=n(693),h=n(78285),p=n(26555),m=n(6383),g=n(39972),v=n(5283),w=n(4891);const y={configType:"prg-d-rating-n-y",region:[w.Tp.river],template:(t,e)=>"msn-default-rating-nondr-yellow-static",requiredAssetsAll:[r.eO.rating],supportedAssets:[r.eO.rating]},b={configType:"prg-h-rating-n-r",region:[w.Tp.river],template:(t,e)=>"msn-highlight-rating-nondr-red",requiredAssetsAll:[r.eO.rating],supportedAssets:[r.eO.rating]},S={configType:"prg-h-rating-n-y",region:[w.Tp.river],template:(t,e)=>"msn-highlight-rating-nondr-yellow",requiredAssetsAll:[r.eO.rating],supportedAssets:[r.eO.rating]},x={configType:"prg-h-rating-nys",region:[w.Tp.river],template:(t,e)=>"msn-highlight-rating-nondr-yellow-static",requiredAssetsAll:[r.eO.rating],supportedAssets:[r.eO.rating]},C={configType:"prg-promo-ndr",region:[...w.mL],template:(t,e)=>"msn-special-offer-nondr",requiredAssetsAll:[r.eO.specialOffer],supportedAssets:[r.eO.specialOffer]},k={configType:"prg-promo-ndr2",region:[...w.mL],template:(t,e)=>"msn-special-offer-nondr-with-exp",requiredAssetsAll:[r.eO.specialOffer],supportedAssets:[r.eO.specialOffer]},T={configType:"prg-ad-condition",region:[w.Tp.river],template:"msn-condition-nondr",requiredAssetsAll:[r.eO.condition]},$={configType:"prg-ad-return",region:[w.Tp.river],template:"msn-return-policy-nondr",requiredAssetsAll:[r.eO.returnPolicy]},A={configType:"prg-ad-sold",region:[w.Tp.river],template:"msn-sold-nondr",requiredAssetsAll:[r.eO.sold]},I={configType:"prg-fship-in-b-n",region:[w.Tp.river],template:"msn-freeshipping-inline-nondr",requiredAssetsAll:[r.eO.freeShipping],supportedAssets:[r.eO.freeShipping]},P={configType:"prg-fship-in-t-n",region:[w.Tp.river],template:"msn-freeshipping-plain-text-nondr",requiredAssetsAll:[r.eO.freeShipping],supportedAssets:[r.eO.freeShipping]},_={configType:"prg-fship-tl-n",region:[w.Tp.river],template:"msn-freeshipping-top-left-nondr",requiredAssetsAll:[r.eO.freeShipping],supportedAssets:[r.eO.freeShipping]},M={configType:"prg-fship-tr-n",region:[w.Tp.river],template:"msn-freeshipping-top-right-nondr",requiredAssetsAll:[r.eO.freeShipping],supportedAssets:[r.eO.freeShipping]};var R=n(20048);const E={name:"gamification-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...R._,{name:"gradient-mask",paddingTop:"120",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2}},{name:"gamification",layout:{mode:"pixel",bottom:"35",width:"300",zIndex:4}}]}]},F=(t,e,n)=>({modifier:(t,e)=>{e.template.useClickInGamify=n},configType:t,region:[w.Tp.river],template:"msn-gamification",discountThreshold:e,requiredAssetsAll:[r.eO.price,r.eO.salePrice],supportedAssets:[r.eO.price,r.eO.salePrice,r.eO.discount],dynamicRenderingConfig:()=>E}),D=F("prg-wpo-gamify-c",w.vz.gamification,!0),O=F("prg-wpo-gamify-h",w.vz.gamification,!1),N={name:"hotspot-single-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...R._,{layout:{mode:"pixel",bottom:"0",zIndex:2},children:[{name:"gradient-mask",paddingTop:"30",children:[{name:"div-wrapper",marginBottom:"10",children:[{name:"animation-decorator",animationType:"scale-up",animationConfig:{scaleFrom:0,scaleTo:1,durationString:".3s",delayTimeMs:0},children:[{name:"hotspot-single"}]}]},{name:"ad-title"}]}]}]}]},U=(t,e)=>({configType:t,region:[w.Tp.river],requiredAssetsAll:[r.eO.price,r.eO.salePrice],template:"msn-hotspot-single",supportedAssets:[r.eO.price,r.eO.salePrice,r.eO.discount],discountThreshold:e,dynamicRenderingConfig:()=>N}),L=U("prg-wpo-hs",w.vz.default),B=U("prg-wpo-hs10",w.vz.hotspotSingle10),W={configType:"prg-ad-ctav3",region:[...w.IT,...w.mL],maxAdCount:3,template:(t,e)=>"msn-call-to-action-v3"},H={configType:"prg-ad-cta-pa",region:[...w.mL],requiredAssetsAll:[r.eO.price],maxAdCount:3,template:(t,e)=>"msn-call-to-action-v3-pa"};var V=n(38870),z=n(64281);const j={name:"feedv2-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"302",height:"157",zIndex:1}},{name:"color-mask",alwaysPresent:!0,feedV2:!0,layout:{mode:"pixel",left:"0",top:"157",width:"300",height:"147",zIndex:1}},{name:"ad-title",isFeedV2:!0,titleFontSize:18,layout:{mode:"pixel",top:"169",zIndex:1}},{name:"see-more",isFeedV2:!0,layout:{mode:"pixel",top:"8",height:"31",left:"260",zIndex:5}},(0,z.zo)((0,z.Gy)(V.o,"end-action-part",2,[],1),["ad-label","provider-name","ad-choice"],[{isFeedV2:!0},{isFeedV2:!0},{isFeedV2:!0,layout:{zIndex:5,marginInlineEnd:10}}])]}]},q={configType:"prg-scards",region:[...w.mL],template:"feedv2-template",dynamicRenderingConfig:()=>j},G=(0,z.BA)(j,"ad-title",{name:"ad-title",isFeedV2:!0,titleFontSize:18,customStyleHovered:"text-decoration:underline;",layout:{mode:"pixel",top:"169",zIndex:1}}),J={configType:"prg-scardsul",region:[...w.mL],template:"feedv2-template",dynamicRenderingConfig:()=>G},K=(0,z.BA)(j,"ad-title",{name:"ad-title",isFeedV2:!0,titleFontSize:20,customStyleHovered:"text-decoration:underline;",layout:{mode:"pixel",top:"169",zIndex:1}}),Q={configType:"prg-scardshov",region:[...w.mL],template:"feedv2-template",dynamicRenderingConfig:()=>K};var X,Y,Z,tt,et,nt;!function(t){t.ROW="row",t.ROW_REVERSE="row-reverse",t.COLUMN="column",t.COLUMN_REVERSE="column-reverse"}(X||(X={})),function(t){t.FLEX="flex",t.INLINE_FLEX="inline-flex"}(Y||(Y={})),function(t){t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.CENTER="center",t.SPACE_BETWEEN="space-between",t.SPACE_AROUND="space-around",t.SPACE_EVENLY="space-evenly"}(Z||(Z={})),function(t){t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.CENTER="center",t.STRETCH="stretch",t.BASELINE="baseline"}(tt||(tt={})),function(t){t.NOWRAP="nowrap",t.WRAP="wrap",t.WRAP_REVERSE="wrap-reverse"}(et||(et={})),function(t){t.AUTO="auto",t.STRETCH="stretch",t.CENTER="center",t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.BASELINE="baseline",t.INITIAL="initial",t.INHERIT="inherit"}(nt||(nt={}));const it={name:"ad-slug-v3-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-label",layout:{mode:"pixel",top:"270",height:"31",zIndex:5,marginInlineStart:"16",marginInlineEnd:"8"}},{name:"ad-choice",layout:{mode:"pixel",top:"267",height:"31",zIndex:5,marginInlineStart:"231",marginInlineEnd:"8"}},{name:"see-more",layout:{mode:"pixel",top:"262",height:"31",zIndex:5,marginInlineStart:"256"}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"background-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:0}},{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"div-wrapper",marginBottom:"6",marginLeft:"16",marginRight:"16",width:"260",children:[{name:"favicon-provider-name",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER},children:[{name:"ad-favicon",layout:{mode:"flex"}},{name:"provider-name",layout:{mode:"flex",flex:1,marginInline:"6",minWidth:"0"},customStyleClass:"white-12-flex-layout",keepOpacity:!0}]}]},{name:"ad-title",twoLine:!0}]}]}]},rt={configType:"prg-wpo-ad-slug3",region:[w.Tp.river,w.Tp.rivercms,w.Tp.resriver],template:"msn-ad-slug-v3",dynamicRenderingConfig:()=>it},ot={configType:"prg-wpo-ad-slug4",region:[w.Tp.river,w.Tp.resriver,w.Tp.rivercms],template:"msn-ad-slug-v4",dynamicRenderingConfig:()=>it};var st=n(95999),at=n(2692);const ct={maxAdCount:3,template:(t,e)=>w.IT.includes(e.region)?"msn-info-pane-dynamic-rendering":"msn-decoration-dynamic",region:[...w.Ph],dynamicRenderingConfig:t=>w.IT.includes(t.region)?st.q:at.w},ut=[{...ct,configType:"prg-ads-deco",supportedAssets:[r.eO.rating,r.eO.freeShipping,r.eO.review]},{...ct,configType:"prg-ads-no-deco"}],lt={name:"default-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"div-text",inlineStyle:"font-size:14px;line-height:16px;letter-spacing:0.7px",text:"nativeAdBingRewardsText",layout:{mode:"pixel",left:"16",top:"16",zIndex:2}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]},{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"footer-wrapper",layout:{mode:"pixel",top:"264",height:"31",width:"100%",zIndex:5},children:[{name:"footer",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,alignItems:tt.CENTER,height:"31"},children:[{name:"start-action-part",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER},children:[{name:"join-now",layout:{mode:"pixel",left:"16",zIndex:2}}]},{name:"end-action-part",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW_REVERSE,alignItems:tt.CENTER},children:[{name:"ad-choice",layout:{mode:"flex",paddingRight:"6"}},{name:"div-text",inlineStyle:"font-size:12px;color:rgba(255,255,255,0.7);padding-right:11px",text:"nativeAdPromotedByText",layout:{mode:"flex"}}]}]}]}]}]},dt={configType:"prg-amplify",region:[w.Tp.riverAmplify,w.Tp.rightRailAmplify],template:"msn-amplify",dynamicRenderingConfig:()=>lt},ft=t=>({name:"animation-decorator",animationType:"scale-up",animationConfig:{scaleFrom:1.5,scaleTo:1,durationString:"1s",duration:1500,delayTimeMs:500},intersectionRootMargin:"0px 0px 0px 0px",children:[t]}),ht=t=>(0,z.aU)(t,z.kw.byName("product-image"),ft),pt=ht(at.w),mt=ht(st.q);var gt,vt,wt,yt,bt,St,xt;!function(t){t[t["Segoe UI"]=1]="Segoe UI",t[t.Tenorite=2]="Tenorite",t[t.Lora=3]="Lora"}(gt||(gt={})),function(t){t[t["scale-up"]=1]="scale-up",t[t["scale-down"]=2]="scale-down",t[t["scale-up-down"]=3]="scale-up-down"}(vt||(vt={})),function(t){t[t["#036AC4"]=1]="#036AC4",t[t["#B26200"]=2]="#B26200",t[t["#508128"]=3]="#508128",t[t["#158389"]=4]="#158389",t[t["#C84C56"]=5]="#C84C56",t[t["#12875E"]=6]="#12875E",t[t["#666666"]=7]="#666666"}(wt||(wt={})),function(t){t[t.cube=2]="cube",t[t.box=3]="box",t[t.truck=4]="truck"}(yt||(yt={})),function(t){t[t.normal=1]="normal",t[t.small=2]="small",t[t.large=3]="large"}(bt||(bt={})),function(t){t[t.default=1]="default",t[t["5-star-with-button"]=2]="5-star-with-button",t[t["1-star-with-button"]=3]="1-star-with-button",t[t["1-star-with-shadow"]=4]="1-star-with-shadow"}(St||(St={})),function(t){t.normal="265",t.small="270",t.large="255"}(xt||(xt={}));var Ct=n(44449);const kt=(0,Ct.sx)(s._0l,"personalizedV2Override")(t=>{var e;(0,f.A)(null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.ext)||void 0===e?void 0:e.adCreativeV2)||(t.items[0].ext.adCreative=JSON.parse(t.items[0].ext.adCreativeV2))}),Tt=(0,Ct.sx)(s._0l,"isPersonalizedAvailable")((t,e)=>{var n,i;return(null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n?void 0:n.templateId)===e&&!(null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.ext)||void 0===i||null===(i=i.adCreative)||void 0===i||!i.templateConfig)}),$t=(0,Ct.sx)(s._0l,"isShippingConfig")(t=>{var e,n,i;return!(null===(e=t.items[0])||void 0===e||null===(e=e.assets)||void 0===e||!e.freeShipping||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n||null===(n=n.templateConfig)||void 0===n||!n.shipping||null!==(i=t.items)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&null!==(i=i.adCreative)&&void 0!==i&&null!==(i=i.templateConfig)&&void 0!==i&&null!==(i=i.shipping)&&void 0!==i&&i.suppress)}),At=(0,Ct.sx)(s._0l,"isRatingConfig")(t=>{var e,n,i;return!(null===(e=t.items[0])||void 0===e||null===(e=e.assets)||void 0===e||!e.rating||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n||null===(n=n.templateConfig)||void 0===n||!n.ratings||null!==(i=t.items)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&null!==(i=i.adCreative)&&void 0!==i&&null!==(i=i.templateConfig)&&void 0!==i&&null!==(i=i.ratings)&&void 0!==i&&i.suppress)}),It=(0,Ct.sx)(s._0l,"getPersonalizedConfig")((t,e)=>{if(Tt(t,e)){const[e]=t.items;return e.ext.adCreative.templateConfig}return null});var Pt;!function(t){const e=(0,Ct.sx)(s._0l,"processDecorations");t.processDecorations=e((t,e)=>{var n,i;return(0,z.Wh)(e,"ad-decoration",{fontSizes:{price:null===(n=t.price)||void 0===n?void 0:n.fontSize,salePrice:null===(i=t.saleprice)||void 0===i?void 0:i.fontSize},fontFamily:gt[t.font]})});const n=(0,Ct.sx)(s._0l,"getAnimationDuration")(t=>t?{duration:t,durationString:t/1e3+"s"}:{}),i=(0,Ct.sx)(s._0l,"getAnimationScale")((t,e)=>t&&e?{scaleFrom:t,scaleTo:t-e}:{}),r=(0,Ct.sx)(s._0l,"getLocationAlignRight")(t=>{if(2==t)return{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,justifyContent:Z.FLEX_END}}),o=(0,Ct.sx)(s._0l,"getLocation")((t,e)=>3==t?{mode:"pixel",bottom:xt[e||"normal"]}:4==t?{mode:"pixel",bottom:xt[e||"normal"],right:"16"}:void 0),a=(0,Ct.sx)(s._0l,"getDelayTime")(t=>t?{delayTimeMs:t}:{}),c=(0,Ct.sx)(s._0l,"processAnimationImage");t.processAnimationImage=c((t,e)=>{if(!t.image)return e;return(0,z.aU)(e,z.kw.byName("animation-decorator"),e=>{if(t.image.suppress)return{};const{animation:r}=t.image,o={...e,animationType:vt[null==r?void 0:r.type]||e.animationType,animationConfig:{...e.animationConfig,...i(null==r?void 0:r.scaleFrom,null==r?void 0:r.scaleBy),...n(null==r?void 0:r.duration),...a(null==r?void 0:r.delayTimeMS)}};if((null==r||!r.scaleFrom)&&"scale-down"===o.animationType){const t=e.animationConfig.scaleFrom;e.animationConfig.scaleFrom=e.animationConfig.scaleTo,e.animationConfig.scaleTo=t}return o})});const u=(0,Ct.sx)(s._0l,"processFreeShipping");t.processFreeShipping=u((t,e)=>{if(!t.shipping||t.shipping.suppress)return e;const{color:n,location:i}=t.shipping,s=yt[t.shipping.icon],a=(0,z.Wh)(e,"div-wrapper",{layout:{...r(i)}});return(0,z.Wh)(a,"free-shipping",{fontFamily:gt[t.font],color:wt[n||"1"],icon:s,layout:{...o(i)}})});const l=(0,Ct.sx)(s._0l,"processRating");t.processRating=l((t,e)=>{if(!t.ratings||t.ratings.suppress)return e;const{color:n,elementStyle:i,elementSize:s,location:a,displayReviewCount:c}=t.ratings,u=bt[s],l=(0,z.Wh)(e,"div-wrapper",{layout:{...r(a)}});return(0,z.Wh)(l,"rating",{fontFamily:gt[t.font],color:wt[n||"1"],elementStyle:St[i],elementSize:u,displayReviewCount:c,layout:{...o(a,u)}})});const d=(0,Ct.sx)(s._0l,"processTitle");t.processTitle=d((t,e)=>(0,z.Wh)(e,"ad-title",{fontFamily:gt[t.font]}))}(Pt||(Pt={}));const _t=[Pt.processDecorations,Pt.processTitle],Mt=(0,Ct.sx)(s._0l,"processPersonalizedConfig")(function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_t;const r=It(t,e);return r?(0,m.A)(i,(t,e)=>e(r,t),n):n}),Rt=(0,Ct.sx)(s._0l,"removeAssets")(t=>{for(const s of t.items){var e,n;if(!(t.enableNativeAdWC||null!=t&&null!==(e=t.template)&&void 0!==e&&e.enableVA)){var i,r;null===(i=s.assets)||void 0===i||delete i.price,null===(r=s.assets)||void 0===r||delete r.salePrice;continue}const a=null===(n=s.ext)||void 0===n||null===(n=n.adCreative)||void 0===n?void 0:n.templateConfig;if(a){const{price:t,saleprice:e}=a;var o;if(null!=t&&t.suppress)null===(o=s.assets)||void 0===o||delete o.price;null!=e&&e.suppress&&delete s.assets.salePrice}}return t}),Et=(0,Ct.sx)(s._0l,"processConfig")((t,e,n)=>Mt(t,e,n,[Pt.processTitle,Pt.processAnimationImage,Pt.processDecorations,Pt.processFreeShipping,Pt.processRating])),Ft={configType:"prg-ani-img",qualifier:(t,e)=>Tt(e,"animatedimageryinf")||Tt(e,"animatedimageryriver"),region:[w.Tp.river,w.Tp.resriver,w.Tp.infopane,w.Tp.resinfopane],template:"msn-animated-imagery",supportedAssets:[r.eO.price,r.eO.salePrice],dynamicRenderingConfig:t=>"infopane"===t.region||"resinfopane"===t.region?Et(t,"animatedimageryinf",mt):Et(t,"animatedimageryriver",pt),modifier:(t,e)=>{Rt(e)}},Dt=(0,z.BA)(at.w,"gradient-mask",{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"div",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER},children:[{name:"ad-title",lineHeight:"28",titleFontSize:"20",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER,bottom:"52",zIndex:2}},{name:"call-to-action",layout:{mode:"flex",display:Y.FLEX,paddingRight:"16"}}]}]}),Ot={configType:"prg-ad-cta",region:[...w.mL],requiredAssetsAll:[r.eO.price],template:"msn-ad-cta",supportedAssets:[r.eO.price,r.eO.salePrice],dynamicRenderingConfig:()=>Dt},Nt=(0,z.BA)(at.w,"gradient-mask",{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:4},children:[{name:"div",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER},children:[{name:"ad-title",lineHeight:"28",titleFontSize:"20",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER,bottom:"52",zIndex:2}},{name:"ad-title-mask"},{name:"call-to-action",ctaMode:"arrow",backgroundColor:"#C6C0BA",color:"#000000;",layout:{mode:"flex",display:Y.FLEX,paddingRight:"16"}}]}]}),Ut={configType:"prg-ad-cta-ic",region:[...w.mL],requiredAssetsAll:[r.eO.price],template:"msn-ad-cta-icon",dynamicRenderingConfig:()=>Nt},Lt={configType:"prg-ad-cta-lm",region:[...w.mL],requiredAssetsAll:[r.eO.price],template:"msn-ad-cta-learn-more",dynamicRenderingConfig:()=>Dt},Bt=(0,z.BA)(Dt,"call-to-action",{name:"call-to-action",backgroundColor:"#C6C0BA",color:"#000000;",layout:{mode:"flex",display:Y.FLEX,paddingRight:"16"}}),Wt={configType:"prg-ad-cta-lmd",region:[...w.mL],requiredAssetsAll:[r.eO.price],template:"msn-ad-cta-learn-more-dark-mode",dynamicRenderingConfig:()=>Bt},Ht=(0,z.cs)(Dt,["call-to-action","product-image"],[{name:"call-to-action",ctaMode:"mask"},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!1}]),Vt={configType:"prg-ad-cta-m",region:[...w.mL],requiredAssetsAll:[r.eO.price],template:"msn-ad-cta-mask-mode",supportedAssets:[r.eO.price,r.eO.salePrice],dynamicRenderingConfig:()=>Ht},zt={configType:"prg-ad-cta-st",region:[...w.mL],requiredAssetsAll:[r.eO.price,r.eO.shortTitle],template:"msn-ad-cta-short-title",dynamicRenderingConfig:()=>Bt},jt={configType:"prg-ad-ctav2",region:[...w.mL],template:"msn-call-to-action-v2",dynamicRenderingConfig:()=>Nt},qt=[{configType:"prg-ad-logo-c",template:"msn-logo-c",region:[...w.mL],qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},requiredAssetsAll:[r.eO.logo]},{configType:"prg-ad-z-c",template:"msn-z-index-c",region:[w.Tp.river],qualifier:(t,e)=>(0,w.h8)(e),requiredAssetsAll:[r.eO.transparentImage]},{configType:"prg-promo-ndr-c",template:"msn-special-offer-c",region:[...w.mL],requiredAssetsAll:[r.eO.specialOffer]},{configType:"prg-fship-c",template:"msn-freeshipping-c",region:[w.Tp.river],requiredAssetsAll:[r.eO.freeShipping]},{configType:"prg-rating-c",template:"msn-rating-c",region:[w.Tp.river],requiredAssetsAll:[r.eO.rating]},{configType:"prg-trendingc",template:"msn-trending-c",region:[...w.mL],requiredAssetsAll:[r.eO.viewed]},{configType:"prg-ad-sh-v1-c",template:"msn-sale-highlight-v1-c",region:[...w.mL,...w.IT],requiredAssetsAll:[r.eO.price,r.eO.salePrice,r.eO.discount],discountThreshold:w.vz.saleHighlight15,maxAdCount:1},{configType:"prg-ad-sh-v3v4-c",template:"msn-sale-highlight-v3v4-c",region:[...w.mL],qualifier:(t,e)=>(0,w.h8)(e),requiredAssetsAll:[r.eO.price,r.eO.salePrice,r.eO.discount,r.eO.transparentImage],discountThreshold:w.vz.saleHighlight15,maxAdCount:1},{configType:"prg-ad-combo-c",region:[...w.mL],template:(t,e)=>(0,w.n5)(e),requiredAssetsAny:[r.eO.rating,r.eO.specialOffer,r.eO.freeShipping]},{configType:"prg-ad-condition-c",region:[w.Tp.river],template:"msn-condition-nondr-c",requiredAssetsAll:[r.eO.condition]},{configType:"prg-ad-return-c",region:[w.Tp.river],template:"msn-return-policy-nondr-c",requiredAssetsAll:[r.eO.returnPolicy]},{configType:"prg-ad-sold-c",region:[w.Tp.river],template:"msn-sold-nondr-c",requiredAssetsAll:[r.eO.sold]},{configType:"prg-ad-combo-t-c",region:[...w.mL],template:(t,e)=>(0,w.wu)(e),requiredAssetsAny:[r.eO.sold,r.eO.returnPolicy,r.eO.condition]},{configType:"prg-ad-ris1-c",region:w.mL,supportedAssets:[r.eO.price],modifier:(t,e)=>{(0,w.vq)(e,!0)}},{configType:"prg-ad-desc-c",region:w.mL,template:(t,e)=>(0,w.q0)(e)},{configType:"prg-ad-align-rf",region:w.mL,template:(t,e)=>"msn-native-ad-align-rf"},{configType:"prg-ad-ai-imgs-c",region:[...w.mL,...w.IT],template:"msn-native-ad-ai-img",requiredAssetsAll:[r.eO.transparentImage]},{configType:"prg-ad-ai-imgf-c",region:[...w.mL,...w.IT],template:"msn-native-ad-ai-img",requiredAssetsAll:[r.eO.transparentImage]}],Gt={configType:"default",region:[w.Tp.infopane,w.Tp.resinfopane],maxAdCount:2,template:(t,e)=>e.enableNativeAdWC?"msn-animated-imagery":"msft-content-card",supportedAssets:[],dynamicRenderingConfig:t=>{if(t.enableNativeAdWC)return Et(t,"animatedimageryinf",mt)},modifier:(t,e)=>{Rt(e)}},Jt={configType:"default",region:[w.Tp.river,w.Tp.resriver],template:"msft-content-card"},Kt={configType:"prg-dr-combined",region:w.Ph,template:(t,e)=>w.IT.includes(e.region)?"msn-info-pane-dynamic-rendering":"msn-decoration-dynamic",dynamicRenderingConfig:t=>w.IT.includes(t.region)?st.q:at.w,modifier:(t,e)=>{e.enableNativeAdWC=!0}},Qt={configType:"prg-ad-combo",region:[w.Tp.river],template:(t,e)=>(0,w.JH)(e),requiredAssetsAny:[r.eO.freeShipping,r.eO.rating,r.eO.specialOffer],dynamicRenderingConfig:t=>(0,w.zg)(t),modifier:(t,e)=>(0,w.I$)(e,!0)},Xt={configType:"prg-dr-infopane",region:[w.Tp.infopane,w.Tp.resinfopane],maxAdCount:3,template:"msn-info-pane-dynamic-rendering",supportedAssets:[r.eO.rating,r.eO.freeShipping,r.eO.review],dynamicRenderingConfig:()=>st.q},Yt=[{configType:"prg-ads-tel-i",region:w.IT,template:"msn-ad-dr-perf",dynamicRenderingConfig:()=>st.q},{configType:"prg-ads-tel-r",region:w.mL,template:"msn-ad-dr-perf",dynamicRenderingConfig:()=>at.w}],Zt={configType:"prg-ad-eb",region:[...w.mL,...w.IT],template:"msn-elite-badge",requiredAssetsAll:[r.eO.eliteBadge],supportedAssets:[r.eO.eliteBadge],maxAdCount:3,dynamicRenderingConfig:t=>w.IT.includes(t.region)?st.q:at.w},te=(0,z.Gy)(at.w,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"free-shipping",color:"#036ac4",layout:{mode:"pixel",bottom:"265"}}]}]),ee={configType:"prg-dr-fship",qualifier:(t,e)=>Tt(e,"shippingriver"),region:[w.Tp.river],template:"msn-freeshipping-dr",requiredAssetsAll:[r.eO.freeShipping],dynamicRenderingConfig:t=>Et(t,"shippingriver",te)},ne={name:"highlight-rating-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...R._,{layout:{mode:"pixel",bottom:"0",zIndex:2},children:[{name:"gradient-mask",paddingTop:"30",children:[{name:"div-wrapper",marginBottom:"10",children:[{name:"highlight-rating"}]},{name:"ad-title",oneLineTitle:!0}]}]}]}]},ie={configType:"prg-wpo-h-rating",region:[w.Tp.river],requiredAssetsAll:[r.eO.rating],template:"msn-highlight-rating-card",supportedAssets:[r.eO.rating],dynamicRenderingConfig:()=>ne},re=(0,z.zo)(st.q,["hover-mask","product-image"],[{layout:{mode:"pixel",filter:"contrast(115%)",left:"0",top:"0",width:"100%",height:"100%"}},{imageMaskOn:!1}]),oe=(0,z.zo)(at.w,["hover-mask","product-image"],[{layout:{mode:"pixel",filter:"contrast(115%)",left:"0",top:"0",width:"100%",height:"100%"}},{imageMaskOn:!1}]),se={configType:"prg-ad-hover",region:[...w.Ph],template:"msft-content-card",dynamicRenderingConfig:t=>w.IT.includes(null==t?void 0:t.region)?re:oe},ae={name:"default-infopane-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:4}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",zIndex:1,width:"100%",height:"304"},imageMaskOn:!0,imageMaskOpacity:"0.1",trimBottom:!0},{name:"gradient-mask",paddingTop:"90",layout:{mode:"pixel",bottom:"0",width:"100%",zIndex:2},children:[{name:"ad-title",lineHeight:"36",titleFontSize:"28",oneLineTitle:!0}]},V.o]}]},ce={configType:"prg-infopaneDoubleCard19",region:w.IT,maxAdCount:3,template:"msn-card-19-by-10",dynamicRenderingConfig:()=>ae},ue=(0,z.zo)(ae,["footer","ad-title"],[{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"17",height:"31",width:"100%"}},{lineHeight:"44"}]),le={configType:"prg-infopane-db",region:[w.Tp.riverdb],maxAdCount:3,template:"msn-card-19-by-10",dynamicRenderingConfig:()=>ue,modifier:(t,e)=>{e.enableNativeAdWC=!0}},de=(0,z.L5)(at.w,"end-action-part",0,[{name:"like-button",layout:{zIndex:5}}]),fe={configType:"prg-ad-like",region:[w.Tp.river,w.Tp.resriver],template:"msn-like-button",dynamicRenderingConfig:()=>de},he={name:"logo-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...R._,{name:"gradient-mask",paddingTop:"120",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2}},{name:"logo",width:"42",height:"42",layout:{mode:"pixel",left:"16",bottom:"49",zIndex:2}},{name:"logo-title-wrapper",layout:{mode:"pixel",left:"54",bottom:"54",zIndex:2},children:[{name:"logo-title-flex-wrapper",layout:{mode:"flex",height:"42",display:Y.FLEX,flexDirection:X.ROW,flex:1,alignItems:tt.CENTER},children:[{name:"ad-title",titleFontSize:"20",twoLine:!0}]}]}]}]},pe={qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},configType:"prg-ad-logo",region:[...w.mL],template:"msn-native-ad-logo",requiredAssetsAll:[r.eO.logo],dynamicRenderingConfig:()=>he,modifier:(t,e)=>{e.items&&e.items[0]}},me=(0,z.BA)(he,"logo",{name:"logo",width:"42",height:"42",borderRadius:"6",layout:{mode:"pixel",left:"16",bottom:"49",zIndex:2}}),ge={qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},configType:"prg-ad-logo-r",region:[...w.mL],template:"msn-native-ad-logo-radius",requiredAssetsAll:[r.eO.logo],dynamicRenderingConfig:()=>me},ve={configType:"prg-ad-combo2",region:w.mL.concat(w.IT),template:(t,e)=>(0,w.mw)(e),requiredAssetsAny:[r.eO.rating,r.eO.specialOffer,r.eO.freeShipping,r.eO.discount],maxAdCount:1,modifier:(t,e)=>(0,w.I$)(e)},we=(t,e)=>{const n=(0,z.cs)(at.w,["gradient-mask","provider-name","ad-label"],[{name:"gradient-mask",peSeasonalColorMode:`peSeasonalColorMode${t}`,layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]},{name:"provider-name",layout:{flex:1,minWidth:0,zIndex:5},customStyleClass:"white-12-flex-layout",adLabelTextOpacity:"1",isSeasonal:!0},{name:"ad-label",layout:{marginInlineStart:"16",marginInlineEnd:"6",zIndex:5},adLabelTextOpacity:"1",isSeasonal:!0}]);return(0,z.L5)(n,"default-template",3,[{name:"product-image",patternMode:`patternMode${e}`,useTransparentImage:!0,layout:{position:"absolute",bottom:0,width:"100%",height:121,zIndex:2,pointerEvents:"none"}}])},ye=(we("1","1"),we("2","1"),we("3","1"),we("4","1"),we("1","2"),we("2","2"),we("3","2"),we("4","2"),{configType:"prg-ads-seasonal",qualifier:(t,e)=>be(e),region:[...w.mL],template:(t,e)=>"msn-pe-seasonal",dynamicRenderingConfig:t=>{const e=(0,c.A)(t,"items[0].ext.adCreative.templateConfig.seasonal.color"),n=(0,c.A)(t,"items[0].ext.adCreative.templateConfig.seasonal.elementStyle");return we(e,n)}}),be=(0,Ct.sx)(s._0l,"isPersonalizedAvailable")(t=>{var e;return"seasonal"===(0,c.A)(t,"items[0].ext.adCreative.templateId")&&!(null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.ext)||void 0===e||null===(e=e.adCreative)||void 0===e||!e.templateConfig)&&!1===(0,c.A)(t,"items[0].ext.adCreative.templateConfig.seasonal.suppress")}),Se={configType:"prg-ads-seav1",region:[...w.mL],template:(t,e)=>"msn-pe-seasonal-v1",dynamicRenderingConfig:t=>we("3","1")},xe={configType:"prg-ads-seav1-p",region:w.mL,template:(t,e)=>"msn-pe-seasonal-v1p",qualifier:(t,e)=>e.providerId&&"bing"===e.providerId.toLowerCase(),dynamicRenderingConfig:t=>we("3","1")},Ce=(0,z.L5)(at.w,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"rating"}]}]),ke={name:"default-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...R._.filter(t=>"product-image"!==t.name),{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]}]},Te=t=>Tt(t,"shippingriver"),$e={configType:"prg-ads-personal",qualifier:(t,e)=>Te(e)||Tt(e,"ratingsriver"),region:[w.Tp.river],template:(t,e)=>Te(e)?"msn-freeshipping-dr":"msn-rating-dr",supportedAssets:[r.eO.freeShipping,r.eO.rating,r.eO.review],dynamicRenderingConfig:t=>{const e=$t(t)?te:ke,n=At(t)?Ce:ke;return Te(t)?Et(t,"shippingriver",e):Et(t,"ratingsriver",n)}},Ae={configType:"prg-wpo-deco-dr",region:[w.Tp.river,w.Tp.infopane,w.Tp.resriver,w.Tp.resinfopane],template:"msn-decoration-dynamic",requiredAssetsAny:[r.eO.rating,r.eO.freeShipping,r.eO.review],dynamicRenderingConfig:()=>at.w},Ie={configType:"prg-dr-rating",qualifier:(t,e)=>Tt(e,"ratingsriver"),region:[w.Tp.river],template:"msn-rating-dr",requiredAssetsAll:[r.eO.rating],supportedAssets:[r.eO.rating,r.eO.review],dynamicRenderingConfig:t=>Et(t,"ratingsriver",Ce)},Pe=t=>(0,z.L5)(t?st.q:at.w,t?"default-infopane-template":"default-template",0,[{name:"sale-highlight-badge",layout:{mode:"pixel",top:"16",left:"16",zIndex:2}}]),_e=Pe(!1),Me=Pe(!0),Re={configType:"prg-ad-sh-v1",region:[...w.mL,...w.IT],template:"msn-sale-highlight-v1",requiredAssetsAll:[r.eO.price,r.eO.salePrice,r.eO.discount],discountThreshold:w.vz.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>w.IT.includes(t.region)?Me:_e},Ee={name:"sale-highlight-v3-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...R._.filter(t=>"product-image"!==t.name&&"background-image"!==t.name),{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"sh-content-wrapper",layout:{mode:"pixel",zIndex:1},children:[{name:"sale-highlight-flex-wrapper",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,width:"300",height:"304"},children:[{name:"sale-highlight-title",layout:{mode:"flex",display:Y.FLEX,alignItems:tt.CENTER,width:"126",height:"183",marginInline:"8",marginTop:"10"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:"0",imageMaskTop:"0",layout:{width:"150",height:"183",marginTop:"10"}}]}]},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3},children:[{name:"ad-title"}]}]}]},Fe={name:"sale-highlight-v3-template",children:[...R._.filter(t=>"product-image"!==t.name),{name:"sale-highlight-horizontal-title",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,alignItems:tt.CENTER,justifyContent:Z.CENTER,width:"300",marginInline:"8",marginBottom:"10",zIndex:1,marginTop:19,position:"absolute"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:0,imageMaskTop:0,imageMaskHeight:304,imageMaskWidth:300,layout:{position:"absolute",width:"236",height:"118",left:"32",top:"77",zIndex:1}},{name:"color-mask",layout:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]},De={configType:"prg-ad-sh-v3",region:[...w.mL],template:"msn-sale-highlight-v3",qualifier:(t,e)=>(0,w.h8)(e),requiredAssetsAll:[r.eO.price,r.eO.salePrice,r.eO.discount,r.eO.transparentImage],discountThreshold:w.vz.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>(0,w.A9)(t)?Ee:Fe},Oe={name:"sale-highlight-v4-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"sh-content-wrapper",layout:{mode:"pixel",zIndex:1},children:[{name:"sale-highlight-flex-wrapper",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,width:"300",height:"304"},children:[{name:"sale-highlight-title",layout:{mode:"flex",display:Y.FLEX,alignItems:tt.CENTER,width:"126",height:"183",marginInline:"8",marginTop:"10"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:"0",imageMaskTop:"0",layout:{adBackgroundColor:"#2E2E2E",width:"150",height:"183",marginTop:"10"}}]}]},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.7",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",background:"linear-gradient(var(--gradient-end-color) 0%, var(--gradient-mid-color) 20%, var(--ad-background-color) 30%, var(--ad-background-color) 100%)",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3,neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF",adBackgroundColor:"#2E2E2E",gradientMidColor:"rgba(46, 46, 46, 0.8)",gradientEndColor:"rgba(46, 46, 46, 0)"},children:[{name:"ad-title"}]},(0,z.Wh)(V.o,"footer",{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%",neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF"}})]}]},Ne={name:"sale-highlight-v4-template",children:[...R._.filter(t=>"product-image"!==t.name),{name:"sale-highlight-horizontal-title",layout:{mode:"flex",display:Y.FLEX,flexDirection:X.ROW,alignItems:tt.CENTER,justifyContent:Z.CENTER,width:"300",marginInline:"8",marginBottom:"10",zIndex:1,marginTop:19,position:"absolute"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:0,imageMaskTop:0,imageMaskHeight:304,imageMaskWidth:300,layout:{position:"absolute",width:"236",height:"118",left:"32",top:"77",zIndex:1,adBackgroundColor:"#2E2E2E"}},{name:"color-mask",layout:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",background:"linear-gradient(var(--gradient-end-color) 0%, var(--gradient-mid-color) 20%, var(--ad-background-color) 30%, var(--ad-background-color) 100%)",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3,neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF",adBackgroundColor:"#2E2E2E",gradientMidColor:"rgba(46, 46, 46, 0.8)",gradientEndColor:"rgba(46, 46, 46, 0)"},children:[{name:"ad-title"}]},(0,z.Wh)(V.o,"footer",{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%",neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF"}})]},Ue={configType:"prg-ad-sh-v4",region:[...w.mL],template:"msn-sale-highlight-v4",qualifier:(t,e)=>(0,w.h8)(e),requiredAssetsAll:[r.eO.price,r.eO.salePrice,r.eO.discount,r.eO.transparentImage],discountThreshold:w.vz.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>(0,w.A9)(t)?Oe:Ne},Le={configType:"prg-wpo-ss",region:[w.Tp.river],template:"msn-slideshow-card",modifier:(t,e)=>{e.slideshowProps=e.template.slideshowProps={autoScroll:!0,autoScrollIntervalMs:3e3,maxImageCount:5,enableSlideshowMediaControls:!0}},multiImage:!0},Be={name:"spotlight-image-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...R._.filter(t=>"product-image"!==t.name),{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:1},imageMaskOn:!0},{name:"spotlight-background",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:0}},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},paddingBottom:"0"}]}]},We={configType:"prg-wpo-sl",region:[w.Tp.river],template:"msn-spotlight-image",supportedAssets:[],supportedImageRatios:["1x1","3x4","4x3"],targetImageRatio:"1x1",dynamicRenderingConfig:()=>Be},He={...at.w,userActionLogger:"PrgTitle2"},Ve={configType:"prg-title-2",region:w.mL,template:"msn-title-max-line-2",dynamicRenderingConfig:()=>He},ze={...at.w,userActionLogger:"PrgTitle2C"},je={configType:"prg-title-2-c",region:w.mL,template:"msn-title-max-line-2-c",dynamicRenderingConfig:()=>ze},qe=(0,z.BA)(at.w,"gradient-mask",{name:"gradient-mask",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"trending",layout:{position:"relative",zIndex:5}},{name:"ad-title"}]}),Ge={configType:"prg-trending",region:[...w.mL],template:"msn-trending",requiredAssetsAll:[r.eO.viewed],dynamicRenderingConfig:()=>qe},Je={name:"zindex-v2-original-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...R._.filter(t=>"product-image"!==t.name&&"background-image"!==t.name),{name:"product-image",layout:{mode:"pixel",left:"24",top:"20",width:"252",height:"150",zIndex:2},useTransparentImage:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",height:"304",zIndex:1},isFullGradient:!0},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:2},opacity:"0.3"},{name:"div",layout:{mode:"pixel",bottom:"45",width:"300",zIndex:2},children:[{name:"ad-title"}]}]}]},Ke={configType:"prg-ad-zv2-o",region:[w.Tp.river],qualifier:(t,e)=>(0,w.h8)(e),template:"msn-ad-zindex-v2-original",requiredAssetsAll:[r.eO.transparentImage],dynamicRenderingConfig:()=>Je},Qe={name:"zindex-v2-polygon-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...R._.filter(t=>"product-image"!==t.name&&"background-image"!==t.name),{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:1},opacity:"0.4",alwaysPresent:!0},{name:"product-image",layout:{mode:"pixel",left:"24",top:"20",width:"252",height:"150",zIndex:2},useTransparentImage:!0},{name:"polygon-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:2}},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:2},opacity:"0.3"},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}],isRadialMask:!0}]}]},Xe={configType:"prg-ad-zv2-p",region:[w.Tp.river],qualifier:(t,e)=>(0,w.h8)(e),template:"msn-ad-zindex-v2-polygon",requiredAssetsAll:[r.eO.transparentImage],dynamicRenderingConfig:()=>Qe},Ye={configType:"prg-ad-combo-txt",region:[...w.mL],template:(t,e)=>(0,w.v7)(e),requiredAssetsAny:[r.eO.sold,r.eO.returnPolicy,r.eO.condition],modifier:(t,e)=>(0,w.bR)(e)},Ze={configType:"prg-ad-ris1",region:w.mL,supportedAssets:[r.eO.price],modifier:(t,e)=>{(0,w.vq)(e)}},tn=[{configType:"prg-ad-desc-wide-1",region:w.jo,template:(t,e)=>(0,w.q0)(e)},{configType:"prg-ad-desc-wide-2",region:w.jo,template:(t,e)=>(0,w.q0)(e)}],en=["msn-geometric-ad-waves-1","msn-geometric-ad-waves-3","msn-geometric-ad-waves-4","msn-geometric-ad-nature-3","msn-geometric-ad-sparkles-1","msn-geometric-ad-sparkles-2","msn-geometric-ad-sparkles-3","msn-geometric-ad-sparkles-4","msn-geometric-ad-sparkles-5"],nn=[{configType:"prg-ad-geometric",region:[...w.mL],modifier:(t,e)=>{(0,w.t3)(e,en,"msft-content-card",e.template.seasonalAdTemplateConfig.density)}}],rn={configType:"prg-ad-ai-img",region:[...w.mL,...w.IT],template:"msn-native-ad-ai-img",requiredAssetsAll:[r.eO.transparentImage],modifier:(t,e)=>{(0,w.jO)(e)}},on=[D,O,L,B,Gt,Jt,Ae,Ft,Le,Ve,je,ie,pe,ge,Ot,Ut,Lt,Wt,zt,Vt,jt,Xt,ce,le,Ke,Xe,We,J,Q,q,rt,ot,dt,...ut,...Yt,C,k,I,P,_,M,b,S,x,y,A,T,$,Kt,ee,Zt,Ie,$e,fe,se,Ge,Re,De,Ue,Qt,ve,W,H,ye,Se,xe,Ye,Ze,rn,...nn,...tn,...qt];var sn=n(63988),an=n(27220),cn=n(57957),un=n(27791);class ln{constructor(){this.filterConfigs=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,an.A)([...on,...e],e=>(0,cn.A)([...sn.MV,e.qualifier],n=>!n||n(e,t)))},this.fallbackConfig=t=>w.IT.includes(t.region)?Gt:Jt,this.pickConfigByWeight=t=>{let e=0;(0,p.A)(t,t=>{e=e+t.weight||w.CY});const n=Math.floor(Math.random()*e);let i=0;for(let e=0;e<t.length;++e)if(i+=t[e].weight||w.CY,n<i)return t[e]},this.preProcess=t=>{var e;null!=t&&null!==(e=t.template)&&void 0!==e&&e.enableVAPhase2||((0,p.A)(t.items,t=>{t.assets&&(this.calculateDiscount(t.assets),this.filterRatings(t.assets))}),(0,un.cs)(t))},this.postProcess=(t,e)=>{(0,p.A)([...sn.j5,t.modifier],n=>null==n?void 0:n(t,e))},this.calculateDiscount=t=>{const e=t.price,n=t.salePrice;if(e&&n){const i=Number(e.replace(/[^0-9.-]+/g,"")),r=Number(n.replace(/[^0-9.-]+/g,""));t.discount=Math.floor((i-r)/i*100)}},this.filterRatings=t=>{t&&t.rating&&(isNaN(parseInt(t.rating))||parseInt(t.rating)<=6)&&(t.rating=void 0)}}selectTemplate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.preProcess(t);const n=this.filterConfigs(t,e),i=n&&n.length>0?this.pickConfigByWeight(n):this.fallbackConfig(t);this.postProcess(i,t)}}var dn=n(19548);class fn{}fn.concat=(t,e)=>`${t}.${e}`,fn.identity=t=>e=>fn.concat(t,e),fn.boolean=t=>e=>e?fn.concat(t,"1"):null;class hn{constructor(){this._availableAssets="",this._displayedAssets=""}get availableAssets(){return this._availableAssets}get displayedAssets(){return this._displayedAssets}setAvailableAssets(t){var e;(null!==(e=t.items)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.assets||(0,c.A)(t,"items[0].ext.adCreative.templateConfig"))&&(this._availableAssets=this.concatAssets(t))}setDisplayedAssets(t){var e;null!==(e=t.items)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.assets&&(this._displayedAssets=this.concatAssets(t))}concatAssets(t){let e="";(0,c.A)(t,"items[0].assets")&&(e=(0,u.A)(Object.keys(t.items[0].assets),t=>{const e=r.eO[t].split("-");return"data"==(null==e?void 0:e[0])?e[1]:"image"==(null==e?void 0:e[0])?`i${e[1]}`:void 0}).join("_"));const n=(0,c.A)(t,"items[0].ext.adCreative.templateConfig");if(!n)return e;let i="";n&&(i=(0,u.A)(Object.keys(n),t=>r.PZ[t]).join("_"));return e+(e&&i?"_":"")+i}}(0,i.Cg)([(0,Ct.sx)(s.ys,"setAvailableAssets")],hn.prototype,"setAvailableAssets",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"setDisplayedAssets")],hn.prototype,"setDisplayedAssets",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"concatAssets")],hn.prototype,"concatAssets",null);const pn={templateType:fn.identity("type"),animatedImage:fn.identity("ani"),flipZIndex:fn.boolean("fz"),landscapeOverlay:fn.boolean("lo")};class mn{constructor(){this.hasAnyInlineDecoration=t=>{if(t.items&&0!==t.items.length){if(t.items[0]&&t.items[0].assets){const e=t.items[0].assets;return!!(e.price||e.salePrice||e.installmentPrice||e.rating||e.review||e.priceDrop||e.viewed||e.freeShipping||e.discount)}return!1}return!1}}updateTemplate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,l.A)(t);try{this.updateTemplateInternal(t,e)}catch(e){(0,a.c_)(e,s.ys,"Fail to apply template service on placement"),t=void 0,t=(0,l.A)(n)}}updateTemplateInternal(t,e){var n;if(!t)return;kt(t),this.decorationBeaconBuilder=new hn,this.decorationBeaconBuilder.setAvailableAssets(t);const i=(0,d.A)({},e,o.Nh);if(i.configType){t.template=i;(new ln).selectTemplate(t)}else t.template=this.processConfig(t,i),this.resetTempateTypeForInfopaneInMultiAds(t),this.filterAssetByFlight(t),this.updatePlacementImageSize(t),this.updateTemplateTypeForPriceDiscount(t);this.updateBeacon(t),null!=t&&null!==(n=t.template)&&void 0!==n&&n.templateType&&t.template.templateType.endsWith("-c")&&(t.template.templateType="msft-content-card",this.filterAssetByFlight(t))}processConfig(t,e){const n=e;if(this.updateAllowedAssetsAndTemplateForInfopane(t,n),this.updateTemplateInfoForDRInfopane(t,n),"msn-slideshow-card"!==n.templateType&&"msn-pseudo-video-card"!==n.templateType||this.updateSlideshowTemplateType(t,e,n),"msn-pattern-overlay-card"===n.templateType){"225"===this.getItemImageSize(t).height?n.landscapeOverlay=!1:n.templateType="msft-content-card"}return"msft-content-card"===n.templateType&&t.items&&t.items.length>3&&n.adCarousel&&(n.templateType="msn-ad-carousel"),this.updateTemplateInfoForBrandStory(t,n),n}updatePlacementImageSize(t){if("msn-pattern-overlay-card"===t.template.templateType){const e=this.getItemImageSize(t);t.imageWidth=(0,c.A)(t,"imageWidth",e.width),t.imageHeight=(0,c.A)(t,"imageHeight",e.height)}}updateBeacon(t){const e=e=>{if(e.includes("srtb.msn.com")){const n=new URL(e);return this.addOrUpdateUrlQueryParam(n,"t",this.serializeTemplateConfig(t)),this.decorationBeaconBuilder.setDisplayedAssets(t),this.decorationBeaconBuilder.availableAssets&&this.addOrUpdateUrlQueryParam(n,"dec",this.decorationBeaconBuilder.availableAssets+"-"+this.decorationBeaconBuilder.displayedAssets),n.href}return e};if(!(0,f.A)(t.beaconsJson)){const n=JSON.parse(t.beaconsJson);n&&((0,h.A)(n.trb)&&(n.trb=n.trb.map(t=>e(t))),(0,h.A)(n.tvb)&&(n.tvb=n.tvb.map(t=>e(t))),t.beaconsJson=JSON.stringify(n))}t&&(0,h.A)(t.items)&&(0,p.A)(t.items,t=>{if(!(0,f.A)(t.clickBeacons)){const n=JSON.parse(t.clickBeacons);n&&((0,h.A)(n.tcb)&&(n.tcb=n.tcb.map(t=>e(t))),t.clickBeacons=JSON.stringify(n))}})}serializeTemplateConfig(t){return t.items&&t.items.length>0&&t.items[0].video?t.items[0].verificationParameters?"msn-video-ias":"msn-video":(0,m.A)(pn,(e,n,i)=>{const r=(0,c.A)(t.template,i);if(r){const t=n(r);if(t)return""===e?t:`${e}_${t}`}return e},"")}addOrUpdateUrlQueryParam(t,e,n){return dn._3.getQueryParameterByName(e,t.href)?dn._3.updateSearchParam(t,e,n):dn._3.appendSearchParam(t,e,n)}updateSlideshowTemplateType(t,e,n){t&&t.items&&t.items[0]&&t.items[0].images&&t.items[0].images.length>1?(n.templateType=e.templateType,t.slideshowProps=n.slideshowProps):(n.templateType="msft-content-card",n.slideshowProps=void 0)}getItemImageSize(t){const e=(0,g.A)(t.items);return(0,f.A)(e)?{}:{width:`${(0,c.A)(e,"imageWidth")}`,height:`${(0,c.A)(e,"imageHeight")}`}}calculateDiscount(t){const e=t.price,n=t.salePrice;if(e&&n){const i=Number(e.replace(/[^0-9.-]+/g,"")),r=Number(n.replace(/[^0-9.-]+/g,""));t.discount=Math.floor((i-r)/i*100)}}filterAssetByFlight(t){var e;if((null===(e=t.template)||void 0===e||!e.enableVAPhase2)&&t&&t.items&&t.items[0]&&t.items[0].assets){var n,i;this.calculateDiscount(t.items[0].assets);const e=(0,v.A)([...r.rQ,...(null===(n=t.template)||void 0===n?void 0:n.allowedAssets)||[],...(null===(i=t.template)||void 0===i?void 0:i.auctionCallAssets)||[]]),o=(0,m.A)(t.items[0].assets,(t,n,i)=>(e.includes(r.eO[i])&&(t[i]=n),t),{});t.items[0].assets=o}}resetTempateTypeForInfopaneInMultiAds(t){"infopane"===t.region&&t.items&&t.items.length>1&&"msn-info-pane-dynamic-rendering"!==t.template.templateType&&(t.template.templateType="msft-content-card",t.template.animatedImage="")}isValidProviderNameForBrand(t){if(!(t&&t.items&&t.items[0]&&t.items[0].providerName))return!1;const e=t.items[0].providerName;return-1===e.indexOf("/")&&e.length<20}updateAllowedAssetsAndTemplateForInfopane(t,e){"msn-brand-story"!==e.templateType&&"msn-brand-story-no-deco"!==e.templateType&&"msn-brand-story-no-progressive-display"!==e.templateType&&"msn-hotspot-single"!==e.templateType&&"msn-discount-scribble"!==e.templateType&&"msn-content-reveal"!==e.templateType&&"msn-gamification"!==e.templateType||"infopane"===t.region&&(e.allowedAssets=void 0,e.templateType="msft-content-card")}updateTemplateInfoForBrandStory(t,e){var n,i;"msn-brand-story"!==e.templateType&&"msn-brand-story-no-deco"!==e.templateType&&"msn-brand-story-no-progressive-display"!==e.templateType||((null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.description)===(null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.providerName)&&(t.items[0].description=null),this.isValidProviderNameForBrand(t)||(e.templateType="msft-content-card",e.allowedAssets=void 0))}updateTemplateTypeForPriceDiscount(t){var e,n,i,r,o;if(!((null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.assets)||void 0===e?void 0:e.discount)>=(null===(n=t.template)||void 0===n?void 0:n.discountThreshold))){var s,a,c,u,l;if(["msn-hotspot-single","msn-discount-scribble","msn-gamification"].includes(null===(i=t.template)||void 0===i?void 0:i.templateType)&&(t.template.templateType="msft-content-card",t.template.allowedAssets=void 0,t.items[0].assets={}),"msn-content-reveal"===(null===(r=t.template)||void 0===r?void 0:r.templateType))null===(s=t.items)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.assets)||void 0===s||delete s.discount,(null===(a=t.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.description)===(null===(c=t.items)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.providerName)&&(t.items[0].description=null),null!==(u=t.items)&&void 0!==u&&null!==(u=u[0])&&void 0!==u&&u.description||this.hasAnyInlineDecoration(t)||(t.template.templateType="msft-content-card",t.template.allowedAssets=void 0);if("msn-brand-story"===(null===(o=t.template)||void 0===o?void 0:o.templateType))null===(l=t.items)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.assets)||void 0===l||delete l.discount}}updateTemplateInfoForDRInfopane(t,e){"river"===t.region||"infopane"==t.region&&"msn-info-pane-dynamic-rendering"===e.templateType||(e.templateType="msft-content-card"),"river"===t.region&&"msn-info-pane-dynamic-rendering"===e.templateType&&(e.templateType="msft-content-card")}}(0,i.Cg)([(0,Ct.sx)(s.ys,"updateTemplate")],mn.prototype,"updateTemplate",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateTemplateInternal")],mn.prototype,"updateTemplateInternal",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"processConfig")],mn.prototype,"processConfig",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updatePlacementImageSize")],mn.prototype,"updatePlacementImageSize",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateBeacon")],mn.prototype,"updateBeacon",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"serializeTemplateConfig")],mn.prototype,"serializeTemplateConfig",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"addOrUpdateQueryParam")],mn.prototype,"addOrUpdateUrlQueryParam",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateSlideshowTemplateType")],mn.prototype,"updateSlideshowTemplateType",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"getItemImageSize")],mn.prototype,"getItemImageSize",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"calculateDiscount")],mn.prototype,"calculateDiscount",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"filterAssetByFlight")],mn.prototype,"filterAssetByFlight",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"resetTempateTypeForInfopaneInMultiAds")],mn.prototype,"resetTempateTypeForInfopaneInMultiAds",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"isValidProviderNameForBrand",()=>!1)],mn.prototype,"isValidProviderNameForBrand",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateAllowedAssetsAndTemplateForInfopane")],mn.prototype,"updateAllowedAssetsAndTemplateForInfopane",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateTemplateInfoForBrandStory")],mn.prototype,"updateTemplateInfoForBrandStory",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateTemplateTypeForPriceDiscount")],mn.prototype,"updateTemplateTypeForPriceDiscount",null),(0,i.Cg)([(0,Ct.sx)(s.ys,"hasAnyInlineDecoration")],mn.prototype,"hasAnyInlineDecoration",void 0),(0,i.Cg)([(0,Ct.sx)(s.ys,"updateTemplateInfoForDRInfopane")],mn.prototype,"updateTemplateInfoForDRInfopane",null)},99382:function(t,e,n){var i;n.d(e,{j:function(){return i}}),function(t){t.connectorStateKey="_@STATE@_",t.renderAction="@@connector-view/RENDER",t.dataConnectorMergeInitAction="@@data-connector/MERGE-INIT"}(i||(i={}))},99700:function(t,e,n){n.d(e,{_:function(){return g}});var i=n(17254),r=n(98216),o=n(76166),s=n(89980),a=n(93468),c=n(65022),u=n(77246);const l="TS_QUERIES";class d{constructor(t){this.config=t}buildURL(){return""}parseResponse(t){return[]}formatData(t){return t&&Array.isArray(t)?t.map(t=>("string"==typeof t&&(t={query:t}),this.config.landingPageBaseUrl&&t.query&&(t.href=this.config.landingPageBaseUrl+encodeURIComponent(t.query)+"&form="+this.config.formCode+"&refig="+r.YT.getRequestId()),t)):[]}async fetchTrendingSearches(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credentials:"same-origin",method:"GET",mode:"cors"},n=[];if(!this.config||!this.config.apiEndpoint)return n;const i={};try{var s,u;r.YT.addOrUpdateTmplProperty("fetchTrendingsearch","1");const a=this.buildURL(),c=this.config.apiTimeout||1e4,l=await(0,o.hv)(decodeURIComponent(a),c,e);if(i.tIdInHeader=null===(s=l.headers)||void 0===s?void 0:s.has("bingapis-traceid"),i.traceId=null===(u=l.headers)||void 0===u?void 0:u.get("bingapis-traceid"),!l||!l.ok){if(404===l.status)return r.YT.addOrUpdateTmplProperty("tsResponse","0"),n;throw new Error("Error response: "+l.status)}t=await l.json()}catch(t){return(0,a.vV)(c.pkK,`${t}`,"",i),n}try{if(!t)throw new Error("Invalid format of response.");if(n=this.parseResponse(t),!n||!Array.isArray(n))throw new Error("Invalid format of response.");return 0===n.length&&(r.YT.addOrUpdateTmplProperty("tsResponse","0"),this.config.allowEmptyResponse||(0,a.vV)(c._SJ,"Empty trending search content","",i)),n.slice(0,this.config.cacheCount||5)}catch(t){(0,a.vV)(c.SgR,`${t}`,"",i)}return n}async getTrendingSearches(){r.YT.addOrUpdateTmplProperty("trendingsearch","1");let t=[];if((0,u.S)())try{const t=(0,s.Lg)().getItem(l);if(t){const e=JSON.parse(t),n=((null==e?void 0:e.cacheTime)||0)+1e3*(this.config.cacheTimeout||60),r=null==e?void 0:e.queries;if((null==e?void 0:e.mkt)===i.T3.CurrentMarket&&r&&r.length&&n>Date.now())return this.formatData(r)}}catch(t){(0,a.vV)(c.SgR,`${t}`)}if(t=await this.fetchTrendingSearches(),(0,u.S)())if(t&&t.length){const e={cacheTime:Date.now(),mkt:i.T3.CurrentMarket,queries:t};(0,s.Lg)().setItem(l,JSON.stringify(e))}else(0,s.Lg)().removeItem(l);return this.formatData(t)}}class f extends d{buildURL(){return this.config.apiEndpoint+"?qry=&ascv=json&pt="+this.config.partnerEndpoint+"&features="+this.config.features+"&mkt="+i.T3.CurrentMarket+"&cvid="+r.YT.getRequestId()}parseResponse(t){return t.suggestions&&Array.isArray(t.suggestions)?t.suggestions.filter(t=>!!t.q&&"PN"==t.t).map(t=>({query:t.q})):[]}}class h extends d{buildURL(){return this.config.apiEndpoint+"?apikey="+this.config.apikey+"&market="+i.T3.CurrentMarket+"&fdhead="+this.config.features}parseResponse(t){var e;const n=JSON.parse(null===(e=t[0])||void 0===e?void 0:e.data);return(null==n?void 0:n.map(t=>({query:null==t?void 0:t.Query,isAds:null==t?void 0:t.IsAds})))||[]}}class p extends d{buildURL(){let t=this.config.apiEndpoint+"?appid="+this.config.appId+"&features="+this.config.features+"&mkt="+i.T3.CurrentMarket;return this.config.cc&&(t+="&cc="+this.config.cc),this.config.strictMode&&(t+="&IsStrictMode=1"),t}parseResponse(t){var e;return(null===(e=t.value)||void 0===e?void 0:e.map(t=>{var e;return{query:null===(e=t.query)||void 0===e?void 0:e.text}}))||[]}}class m extends d{buildURL(){return this.config.apiEndpoint}parseResponse(t){var e;const n=null===(e=t.suggestedQueries)||void 0===e?void 0:e.sort((t,e)=>parseFloat(e.metadata.similarityScore)-parseFloat(t.metadata.similarityScore));return(null==n?void 0:n.map(t=>({query:t.query})))||[]}}function g(t){let e;switch(t.apiVersion){case 4:e=new m(t);break;case 3:e=new f(t);break;case 2:e=new p(t);break;default:e=new h(t)}return e}},99863:function(t,e,n){n.d(e,{X3:function(){return r},_z:function(){return a},iO:function(){return s}});var i=n(87405);const r=t=>{const{clientHeight:e,clientWidth:n}=document.documentElement,r=(0,i.pr)(t);if(!r)throw new Error("River element is not defined");const o=r.getBoundingClientRect();return{contentInViewport:{height:e-o.y,width:n},river:o}},o=(t,e,n)=>c(t,e).reduce((t,e,i)=>t+e+(0===i?0:n),0),s=function(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const{contentInViewport:c}=r(t),u=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return n?n.map(n=>{const r=t[null==n?void 0:n.layoutTemplate];return o(r,e,i)}):[]}(e,n,i,s);let l=0,d=0;for(let t=0;t<u.length&&!(l>=c.height-a);t++)l+=u[t]+s,d++;return d},a=function(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const{contentInViewport:u}=r(t),l=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return n?n.map(n=>{if(void 0!==n.templateId){const r=t[n.templateId];return o(r,e,i)}return 0}):[]}(e,n,i,s);let d=0,f=0,h=0;for(let t=0;t<l.length;t++){if(d+=l[t]+s,d>=u.height-a){var p;const r=null===(p=i[t])||void 0===p?void 0:p.templateId;if(void 0===r)break;const o=e[r],f=c(o,n);d=d-l[t]-s;for(let t=0;t<f.length&&(d+=f[t]+(0==t?0:s),!(d>=u.height-a));t++)h++;break}f++}return{lastSectionIndex:f,lastRowIndex:h}},c=(t,e)=>{if(!t||!t.rowHeightPx)throw new Error("Invalid layout template");const{rowHeightPx:n}=t;return n[e]??[]}},99893:function(t,e,n){var i;n.d(e,{O:function(){return i}}),function(t){t.MSCCBanner="mscc",t.OneTrustBanner="onetrust",t.WidgetHost="widgethost",t.None="none"}(i||(i={}))},99928:function(t,e,n){var i;n.d(e,{MG:function(){return s},rp:function(){return l},vI:function(){return c}}),function(t){t[t.none=0]="none",t[t.default=16]="default",t[t.medium=20]="medium",t[t.large=24]="large"}(i||(i={}));var r,o;!function(t){t[t.xsmall=472]="xsmall",t[t.small=600]="small",t[t.medium=768]="medium",t[t.large=834]="large",t[t.xlarge=1024]="xlarge"}(r||(r={})),function(t){t[t.xsmall=472]="xsmall",t[t.small=600]="small",t[t.medium=643]="medium",t[t.large=834]="large",t[t.xlarge=1024]="xlarge"}(o||(o={}));const s=324;var a;!function(t){t[t.medium=440]="medium",t[t.large=335]="large",t[t.xlarge=384]="xlarge"}(a||(a={}));const c=["FailedToCreate","NotEnoughRiverCards","SuccessfullyCreated","SuccessfullyPartiallyFilled"];var u;!function(t){t.BingHomepageMobile="bingHomepageMobile",t.Launcher="launcher",t.SwiftKey="swiftKey",t.EdgeMobile="mobilefeededge",t.SAAndroid="mobilefeedsaa",t.SAIOS="mobilefeedsai",t.Outlook="outlookfeed",t.Office="officefeed",t.Default="mobilefeed"}(u||(u={}));const l=t=>"infopane-card"===t||"responsive-infopane"===t}}]);