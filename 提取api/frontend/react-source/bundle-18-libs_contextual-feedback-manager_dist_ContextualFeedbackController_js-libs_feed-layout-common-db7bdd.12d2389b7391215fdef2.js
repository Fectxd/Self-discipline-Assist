"use strict";(self.homePageWebpackChunks=self.homePageWebpackChunks||[]).push([["libs_contextual-feedback-manager_dist_ContextualFeedbackController_js-libs_feed-layout-common-db7bdd"],{2632:function(e,i,a){a.d(i,{u:function(){return t}});var n=a(11372);const t=function(e,i,a){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!i)return;const o="amplifyad"===e.type||"EventSDCardAmplifyAds"==e.type||"BoostAd"==e.type,r="ShoppingInfopane1"==e.type||"ShoppingInfopane2"==e.type||"ShoppingInfopane3"==e.type||"ShoppingInfopane4"==e.type;let d;d=o?i.addOrUpdateChild({name:"AmplifyCard",content:{type:n.b5.StructuredData},ext:l}):r?i.addOrUpdateChild({name:"Shopping1688",type:n.MJ.Headline,ext:l}):i.addOrUpdateChild({name:"NativeAd",type:n.MJ.Headline,ext:l});const s=e&&e.placement||{},c=s.providerId||"",u=a||s.region||"",v=s.items&&s.items[t]&&s.items[t].title||"";let p;if(s.isBackfill){const e=`Backup_NativeAdItem_${u}`;p=d.addOrUpdateChild({name:e,type:n.MJ.Module,behavior:n.MS.Navigate,content:{headline:v,type:n.b5.CmsPromotions},ext:l})}else if("cmsad"===e.type){const e=`${u}_CMSBasicCardstore`;p=d.addOrUpdateChild({name:e,type:n.MJ.Module,behavior:n.MS.Navigate,content:{headline:v,type:n.b5.CmsPromotions},ext:l})}else if(o)p=d.addOrUpdateChild({name:"header",behavior:n.MS.Navigate,content:{headline:v,type:n.b5.StructuredData},ext:l});else if(r)p=d.addOrUpdateChild({name:"destination",behavior:n.MS.Navigate,content:{headline:v,type:n.b5.StructuredData},ext:l});else{const e=`${c}sponcon`;p=d.addOrUpdateChild({name:e,behavior:n.MS.Navigate,action:n.EG.Click,content:{headline:v,type:n.b5.SponsoredContent},ext:l})}const b=d.addOrUpdateChild({name:"amplify_options_show",behavior:n.MS.More,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),g=d.addOrUpdateChild({name:"amplify_privacy",behavior:n.MS.Navigate,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),A=(d.addOrUpdateChild({name:"amplify_hide",behavior:n.MS.Navigate,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),d.addOrUpdateChild({name:"callToAction",behavior:n.MS.Click,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l})),m=d.addOrUpdateChild({name:"logo",behavior:n.MS.Click,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),C=d.addOrUpdateChild({name:"disclaimer",behavior:n.MS.Click,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),h=d.addOrUpdateChild({name:"undoHide",behavior:n.MS.Click,action:n.EG.Click,content:{type:n.b5.StructuredData},ext:l}),f={componentRoot:i,nativeAdCard:d,destination:p,moreOptionsClick:b,privacyClick:g,callToAction:A,logo:m,adDisclaimer:C,cancelButton:h};return o||(f.adChoice=d.addOrUpdateChild({name:"AdChoice",action:n.EG.Click,behavior:n.MS.Navigate,type:n.MJ.Headline,ext:l}),f.adLabel=d.addOrUpdateChild({name:"AdLabel",action:n.EG.Click,behavior:n.MS.Navigate,type:n.MJ.Headline,ext:l}),f.seeMore=d.addOrUpdateChild({name:"NativeAdSeeMore",behavior:n.MS.More,type:n.MJ.ActionButton,ext:l})),f}},3471:function(e,i,a){a.d(i,{n$:function(){return h},nL:function(){return C}});var n=a(77246),t=a(44449),l=a(98216),o=a(17254),r=a(12870),d=a(1732),s=a(65022),c=a(93468);const u={},v={original:"latest/js/thirdparty/ias/fw.js",v2:"latest/js/thirdparty/ias/v2/fw.js",v3:"latest/js/thirdparty/ias/v3/fw.js"},p="https://assets.msn.com/staticsb/statics/latest/js/thirdparty/ias/fw.js";let b;function g(){var e,i,a;return(null===r.Rb||void 0===r.Rb||null===(e=r.Rb.CurrentFlightSet)||void 0===e?void 0:e.has("prg-ad-iasv3tt"))||!1===(null===r.Rb||void 0===r.Rb||null===(i=r.Rb.CurrentFlightSet)||void 0===i?void 0:i.has("prg-ad-iasv3ratt-rf"))||(null===r.Rb||void 0===r.Rb||null===(a=r.Rb.CurrentFlightSet)||void 0===a?void 0:a.has("prg-ad-iasv2ra"))}function A(e,i,a){const{hasV3TrustedTypes:n,hasV3ResponsiveAdTrustedTypes:t,hasV2ResponsiveAd:l}={hasV3TrustedTypes:null===r.Rb||void 0===r.Rb||null===(d=r.Rb.CurrentFlightSet)||void 0===d?void 0:d.has("prg-ad-iasv3tt"),hasV3ResponsiveAdTrustedTypes:!1===(null===r.Rb||void 0===r.Rb||null===(u=r.Rb.CurrentFlightSet)||void 0===u?void 0:u.has("prg-ad-iasv3ratt-rf")),hasV2ResponsiveAd:null===r.Rb||void 0===r.Rb||null===(p=r.Rb.CurrentFlightSet)||void 0===p?void 0:p.has("prg-ad-iasv2ra")};var d,u,p;const b=(0,o.rA)().StaticsUrl;return i&&a?function(e,i){let a=null;const n=/https:\/\/adsdkprod\.azureedge\.net\/assets\/ias\/(v\d+)\/fw\.js/i,t="latest/js/thirdparty/ias/{version}/fw.js";try{const l=e.match(n);if(l&&l[1]){const e=l[1];return`${i}${t.replace("{version}",e)}`}a=`URL does not match expected IAS script pattern: ${e}`}catch(e){a=`Error occurred while overriding IAS script URL: ${e.message}`,(0,c.vV)(s.icq,a)}return""}(a,b):n||t?`${b}${v.v3}`:l||e?`${b}${v.v2}`:`${b}${v.original}`}function m(e,i,a){if(void 0===b){const n=A(e,i,a);if("edgeChromium"===o.T3.AppType){const e=(0,d.TK)(n,"IasUrlPolicy"),i=e||void 0;if(!i||"about:blank#error"===i)return void(0,c.vV)(s.icq,"IAS fw.js script url is not trusted type compliant.");b=i}else b=n}return b}function C(e,i,a){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0,n.S)()||!e||!i)return;const r=l.YT.getRequestId();if(u[r]&&u[r].has(i))return;u[r]||(u[r]=new Set),u[r].add(i);const v=(0,t.sx)(a,"attachIasScript")((e,i,a,n)=>{const t=e.split(";"),l=t[0]&&t[0].split(":")[1],o=t[1]&&t[1].split(":")[1];if(l&&o){if(globalThis.isSingleIASInstance=!0,globalThis.__IntegralASAdPush)return void b(i,l,o);const e=document.createElement("script");let t;if(n||g()){if(t=m(n),!t)return}else{const e=(0,d.TK)(p,"IasUrlPolicy");if(t=e||void 0,!t||"about:blank#error"===t)return void(0,c.vV)(s.icq,"IAS fw.js script url is not trusted type compliant.")}e.async=!0,e.src=t,e.onload=()=>{b(i,l,o,a)},e.onerror=e=>{(0,c.vV)(s.BNF,"Failed to download IAS FW JS")},document.head.appendChild(e)}}),b=(0,t.sx)(a,"IASAdPush")((e,i,a)=>{const n="%23"+e;globalThis.__IntegralASAdPush([{adSelector:n,iasParameters:JSON.stringify({host:"",config:"/rjss/st/"+i+"/"+a+"/skeleton.js?iasProxyPartnerId=2&ias_adpath="+n,contentType:"application/json"})}]),l.YT.addOrUpdateTmplProperty("marqueeAdContainer"===e?"MarqueeIASTriggered":`NativeIASTriggered_${n}`,"1")});v(e,i,null==a?void 0:a.id,o)}function h(e,i,a){var o;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0,n.S)()||!e||"IAS-omid"!==(null===(o=e.ext)||void 0===o?void 0:o.vendorKey)||!i)return;const d=l.YT.getRequestId();if(u[d]&&u[d].has(i))return;u[d]||(u[d]=new Set),u[d].add(i);(0,t.sx)(a,"attachIasScript")(f)(e,i,a,r)}function f(e,i,a,n){var l;globalThis.isSingleIASInstance=!0;const o=JSON.parse((null===(l=e.ext)||void 0===l?void 0:l.verification_parameters)||"{}");if(null==o||!o.config)return void(0,c.vV)(s.icq,"IAS verification parameters missing config for Xandr ads.");const r=(0,t.sx)(a,"IASAdPushForXandr")(S);if(globalThis.__IntegralASAdPush)return void r(i,o.config);const u=document.createElement("script");let v;if(n||g()){if(v=m(n,!0,e.url),!v)return void(0,c.vV)(s.icq,"IAS sanitization failed for Xandr ads. URL: "+e.url)}else{const e=(0,d.TK)(p,"IasUrlPolicy");if(v=e||void 0,!v||"about:blank#error"===v)return void(0,c.vV)(s.icq,"IAS fw.js script url is not trusted type compliant.")}u.async=!0,u.src=v,u.onload=()=>{r(i,o.config)},u.onerror=()=>{(0,c.vV)(s.BNF,"Failed to download IAS FW JS for Xandr ads, URL: "+v)},document.head.appendChild(u)}function S(e,i){const a="%23"+e;globalThis.__IntegralASAdPush([{adSelector:a,iasParameters:JSON.stringify({host:"",config:i.includes("ias_adpath")?i:`${i}&ias_adpath=${a}`,contentType:"application/json"})}]),l.YT.addOrUpdateTmplProperty("marqueeAdContainer"===e?"MarqueeIASTriggered":`NativeIASTriggered_${a}`,"1")}},23676:function(e,i,a){a.d(i,{m:function(){return n}});const n=["H","W","c","roil","roit","roir","roib"]},30422:function(e,i,a){a.d(i,{li:function(){return n}});const n=(e,i,a,n,t,l,o)=>{if(!e.startsWith("https://www.bing.com/th")||!n.startsWith("https://www.bing.com/api/v1/mediation/tracking")||-1!==n.toLocaleLowerCase().indexOf("linkedin.com"))return;const r=(e=>{const i=decodeURI(e);return new URLSearchParams(i).get("rlink")})(n),d=(e=>{const i=e.split("?")[1],a=new URLSearchParams(i),n={};let t=0;return a.forEach((e,i)=>{switch(i){case"w":n.w=parseFloat(e);break;case"h":n.h=parseFloat(e);break;case"c":n.c=parseFloat(e),t+=1;break;case"roil":n.roil=parseFloat(e);break;case"roit":n.roit=parseFloat(e);break;case"roib":n.roib=parseFloat(e);break;case"roir":n.roir=parseFloat(e)}}),t>1?{}:n})(e),s={imageUrl:e,placementSize:i,imageOriginalSize:a,rLink:r,region:t,regionIndex:l,landingUrl:n},c=[];let u="";if(0===Object.keys(d).length)return c.push("multiple-cropping-parameter-detected"),u=c.join(","),{logInfo:s,message:u};if(d){if(d.w===i.w&&d.h===i.h||c.push("image-ratio-mismatch"),16===d.c){const e=parseFloat((a.w*(d.roir-d.roil)).toFixed(0)),i=parseFloat((a.h*(d.roib-d.roit)).toFixed(0));((e,i,a)=>{const n=a||.02;if(0===e||0===i)return!(Math.abs(e-i)>n);return!(parseFloat((Math.abs(e-i)/Math.abs(Math.min(e,i))).toFixed(2))>n)})(parseFloat((e/i).toFixed(2)),parseFloat((d.w/d.h).toFixed(2)),o)||c.push("unexpected-image-padding-issue")}d.c<16&&c.push("potential-cropping-padding-issue"),0===c.length&&c.push("correct-displayed-image")}return u=c.join(","),{logInfo:s,message:u}}},43922:function(e,i,a){a.d(i,{z:function(){return n}});const n={image:"image",video:"video"}},77512:function(e,i,a){function n(e){return!e.mapRawData}a.d(i,{Yd:function(){return n},wc:function(){return t}});const t=e=>({defaultLayout:e?[e]:[],C6:[],C5:[],C4:[],C3:[],C2:[],C1:[]})},79765:function(e,i,a){var n;a.d(i,{j:function(){return n}}),function(e){e.image="image",e.provider="provider",e.socialBar="socialBar"}(n||(n={}))},85288:function(e,i,a){a.d(i,{B:function(){return r}});var n=a(65022),t=a(48566),l=a(63456),o=a(38667);const r=(0,a(44449).sx)(n.nxh,"postProcessAssetsDataAndAttach")(e=>{if(e.assets&&(e.assets.curbsidePickup?e.badge={type:"CurbsidePickup",text:e.localizedStrings.nativeAdCurbsidePickupText}:e.template&&e.assets.discount&&e.assets.discount>=e.template.discountThreshold&&(e.badge={type:"OnSale",text:t.Qf.Format(e.localizedStrings.nativeAdOnSaleText,e.assets.discount)}),e.template&&"msn-pattern-overlay-card"===e.template.templateType&&delete e.badge,e.template&&e.assets.discount&&e.assets.discount<e.template.discountThreshold&&e.assets.price&&e.assets.salePrice&&(e.assets.price=e.assets.salePrice,delete e.assets.salePrice),e.assets.installmentPrice?(delete e.assets.salePrice,delete e.assets.price,delete e.assets.priceDrop):e.assets.priceDrop&&(0,l.A)(e,"template.progressiveDisplay")&&(delete e.assets.salePrice,delete e.assets.price),e.hasAnyInlineDecoration=!!(e.assets.price||e.assets.salePrice||e.assets.installmentPrice||e.assets.rating||e.assets.review||e.assets.priceDrop||e.assets.viewed||e.assets.specialOffer||e.assets.freeShipping||e.assets.condition||e.assets.sold||e.assets.returnPolicy||e.assets.discount),e.isClarityEnabled)){const i=e.badge&&e.badge.type||"NoBadge";o.n.writeCustomTag("NativeAdBadgeType",i),o.n.writeCustomTag("NativeAdHasInlineDecoration",e.hasAnyInlineDecoration)}})},88985:function(e,i,a){a.d(i,{C2:function(){return t},M3:function(){return l},i_:function(){return n},qb:function(){return r},vz:function(){return o}});const n="M6.75 10a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0m5 0a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M15 11.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5",t="M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",l="M10.481 17.296c-.798.837-2.091.387-2.43-.59-.28-.807-.644-1.772-.998-2.483-1.06-2.126-1.679-3.336-3.385-4.85a2.8 2.8 0 0 0-.84-.49C1.698 8.438.637 7.269.914 5.88l.353-1.765a2.5 2.5 0 0 1 1.794-1.922l5.6-1.527A4.5 4.5 0 0 1 14.272 4.2l.684 3.762a3 3 0 0 1-2.951 3.537h-.884l.01.052c.08.408.177.97.241 1.583.065.61.099 1.284.048 1.912-.049.617-.184 1.25-.504 1.73a4 4 0 0 1-.435.519",o="M10.481.704c-.798-.837-2.091-.387-2.43.59-.28.806-.644 1.772-.998 2.483-1.06 2.126-1.679 3.335-3.385 4.849-.226.2-.518.363-.84.49-1.13.446-2.191 1.616-1.914 3.005l.353 1.765a2.5 2.5 0 0 0 1.794 1.922l5.6 1.527a4.5 4.5 0 0 0 5.611-3.537l.684-3.761A3 3 0 0 0 12.005 6.5h-.884l.01-.052c.08-.409.177-.97.241-1.583.065-.61.099-1.285.048-1.913-.049-.616-.184-1.249-.504-1.73a4 4 0 0 0-.435-.518",r="M11.14 2.53a1.5 1.5 0 0 0-2.28 0l-6.62 7.8A1 1 0 0 0 3 11.98h3V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-5.02h3a1 1 0 0 0 .76-1.65z"},89594:function(e,i,a){a.d(i,{EJ:function(){return oe},JE:function(){return be},M8:function(){return de},O_:function(){return re},Po:function(){return ce},Yu:function(){return se},ZA:function(){return Ae},d6:function(){return ve}});var n=a(30216),t=a(23676),l=a(45084),o=a(33918),r=a(8701),d=a(65022),s=a(93468),c=a(30817),u=a(89151),v=a(18570),p=a(22573),b=a(63581),g=a(930),A=a(19608),m=a(2543),C=a(3471),h=a(52063),f=a(31774),S=a(54193),T=a(4891),y=a(98216),k=a(11372),I=a(44449),w=a(95125),F=a(26555),L=a(693),M=a(51787),D=a(51275),P=a(30422),B=a(71507),x=a(669),H=a(43922),R=a(18731),O=a(69089),V=a(47149),z=a(82286),U=a(77246),_=a(77512),N=a(50180),$=a(56639),E=a(18750),j=a(64884),W=a(2632),J=a(38667),G=a(60815),Q=a(48622),q=a(85288),X=a(12870),K=a(2429);const Y=/.msn.cn/i.test(window.location.href),Z=`https://assets.msn.${Y?"cn":"com"}/staticsb/statics/latest/icons-wc/icons/HideV2.svg`,ee=`https://assets.msn.${Y?"cn":"com"}/staticsb/statics/latest/icons-wc/icons/PersonLock.svg`,ie=`https://assets.msn.${Y?"cn":"com"}/staticsb/statics/pr-5127696/icons-wc/icons/ChatMultiple.svg`,ae=`https://assets.msn.${Y?"cn":"com"}/staticsb/statics/latest/icons-wc/icons/dark-mode/HideV2.svg`;let ne=!1;const te=new Map,le=e=>"partners-stripe"===e||"promotion-stripe"===e||"recommended-stripe"===e||"shopping-stripe"===e;function oe(e,i){const{enableSafeAds:a=!1}=i||{};return a&&null!==z.A&&void 0!==z.A&&z.A.getAdbStatus()?z.A.appendAdbStatusToUrl(e):e}function re(e,i,a){if(i&&e.wpoAdRank){const l="cmsad"===e.type?"nativead":e.type;let o="cmsad"===e.type?"resriver":i;var n;if(["resriverlock","riverlock"].includes(e.regionType))(!e.id||null!==(n=e.id)&&void 0!==n&&n.match(/lock/))&&(o="cmsad"===e.type?"resriverlock":"riverlock");const r=e.regionType||e.placement.region;var t;if(["peekriver"].includes(r))(!e.id||null!==(t=e.id)&&void 0!==t&&t.match(/peek/))&&(o="cmsad"===e.type?"resriver":"peekriver");return a?`${o}-${e.regionIndex}`:`${l}-${o}-${e.regionIndex}`}return e.id||`${e.type}-${e.regionIndex}`}function de(e){var i,a,l,o,r,s,c;const{cardActionBitMask:u,cardMetadata:v,configOptions:p,immersiveCard:b,initCardAction:C,isAdFeedbackV1Enabled:h,isAnaheimDesign:f,isAdProviderInHeader:S,parentTelemetryObject:T,activeItemChangedHandler:k,cardActionClickHandler:I,sdCardActionClickHandler:w,refreshFeedCallback:F,layoutGap:L,isClarityEnabled:M,isIASEnabled:D,visualReadinessCallback:B,displaySettings:O,adCardClickCallback:V,isDarkModeForMobile:z,disableActionMenuOnAds:U,nativeAdCardTitleSize:N,isThirdParty:$,enableTopAdCard:E,region:J,clearAdCache:G}=e,{useArticleCardTemplate:Q,useHomepageCardTemplate:q,usePreviewCardTemplate:X,useAmplifyCardTemplate:K,useSuperAdCard:Y,adBgColorDarkMode:ie,adBackgroundColorLightMode:ae,adBeaconServiceConfig:ne,feedFontSize:te,headingLineHeight:le,gradientType:de,imagePriority:se,invertSlugPosition:ce,isAdBackgroundColorRandom:be,isRightBottomAdsBingIcon:ge,enableNativeAdWC:me,childExperienceReferencesWC:Ce,isThreeLineHeading:he,localizedStrings:fe,useLargeFontSize:Se,useSmallFontSize:Te,enableAdsColorBleed:ye,useTitleFontSize:ke,noBackPlateOnRest:Ie,alignFooters:we,fixedCardHeight:Fe,renderFlattenedDesign:Le,disableCardTitleTooltip:Me,useLightShadow:De,useMobile:Pe,isMsnMobile:Be,enableDynamicHeightCard:xe,enableNativeAdCardsSolidColor:He,enableFeedSuperCardsSingleColor:Re,enableHover:Oe,enableSafeAds:Ve,enableLazyImage:ze,enableLightDensefeedMobile:Ue,nativeAdImageQuality:_e,appendToLowPower:Ne,lightShadowVal:$e,adTemplateConfig:Ee,openAdInSameTab:je,enableHalfUCardForAll:We,enableDenseHalfUCardForMobile:Je,auctionRidOverride:Ge,enableLargerSizeSocialBar:Qe,enableSmallerContentPadding:qe,enableAdCardClickCbInAdSlug:Xe,enableCTA:Ke,enableCTAVariant:Ye,enableLogo:Ze,disableCTADisplay:ei,disableLogoDisplay:ii,ctaLogoSimplification:ai,enableCashback:ni,enableTitleForTruncate:ti,enableBlendInAdSlugStyle:li,enhanceAdMonitorLog:oi,imageOnRight:ri,providerOnTopHalfU:di,enableAdSponsoredText:si,enableFeedbackPopup:ci}=p||{},{enableVA:ui,enableVAPhase2:vi,enableVAPhase2WithShimmer:pi,supportedAdScenarioTypes:bi}=Ee||{},gi=(0,x.cZ)(v),{cardContent:{id:Ai}}=gi,mi=(0,x.H8)(v,u),Ci=0!==(mi&n.J.hide)&&h,hi=Ci?(0,j.Eb)(e,mi,Ai,T,h,Ae(e)):ve({activeItemChangedHandler:k,adBgColorDarkMode:ie,adBackgroundColorLightMode:ae,adBeaconServiceConfig:ne,cardActionClickHandler:I,sdCardActionClickHandler:w,refreshFeedCallback:F,cardMetadata:v,feedFontSize:te,headingLineHeight:le,gradientType:de,imagePriority:se,immersiveCard:b,initCardAction:C,invertSlugPosition:ce,isAdBackgroundColorRandom:be,isAdFeedbackV1Enabled:h,isAdProviderInHeader:S,isAnaheimDesign:f,isClarityEnabled:M,isIASEnabled:D,isRightBottomAdsBingIcon:ge,nativeAdWC:(me||v&&v.placement&&v.placement.enableNativeAdWC)&&(null==Ce?void 0:Ce.nativeAdWC),isThreeLineHeading:he,layoutGap:L,localizedStrings:fe,useArticleCardTemplate:Q,useHomepageCardTemplate:q,useLargeFontSize:Se,usePreviewCardTemplate:X,useAmplifyCardTemplate:K,useSuperAdCard:Y,useSmallFontSize:Te,visualReadinessCallback:B,enableAdsColorBleed:ye,useTitleFontSize:ke,noBackPlateOnRest:Ie,alignFooters:we,fixedCardHeight:Fe,renderFlattenedDesign:Le,disableCardTitleTooltip:Me,displaySettings:O,useLightShadow:De,useMobile:Pe,isMsnMobile:Be,adCardClickCallback:V,isThirdParty:$,enableDynamicHeightCard:xe,isDarkModeForMobile:z,enableNativeAdCardsSolidColor:He,enableFeedSuperCardsSingleColor:Re,enableSafeAds:Ve,enableLazyImage:ze,enableLightDensefeedMobile:Ue,disableActionMenuOnAds:U,nativeAdCardTitleSize:N,nativeAdImageQuality:_e,appendToLowPower:Ne,lightShadowVal:$e,disableAdChoice:null==Ee?void 0:Ee.disableAdChoice,openAdInSameTab:je||$,enableHalfUCardForAll:We,enableDenseHalfUCardForMobile:Je,enableVA:ui,enableVAPhase2:vi,enableVAPhase2WithShimmer:pi,supportedAdScenarioTypes:bi,enableCTA:Ke,enableCTAVariant:Ye,enableLogo:Ze,disableCTADisplay:ei,disableLogoDisplay:ii,ctaLogoSimplification:ai,auctionRidOverride:Ge,enableLargerSizeSocialBar:Qe,enableSmallerContentPadding:qe,enableAdCardClickCbInAdSlug:Xe,enableCashback:ni,enableTopAdCard:E,enableTitleForTruncate:ti,enableBlendInAdSlugStyle:li,responsiveWidth:p&&p.enableResponsiveWidth,configOptions:p,clearAdCache:G,enableAdSponsoredText:si,enableFeedbackPopup:ci});Y&&function(e){e.imageData&&e.imageData.source&&(e.mediaType=["video","webcontent"].includes(e.contentType)?H.z.video:H.z.image);e.disableHideStory=!0}(hi);const fi={},Si={...hi,adSlugGA:p&&p.adSlugGA,adLabelTextOpacity:p&&p.adLabelTextOpacity,template:v.template?v.template:v.placement.template,isGreyAdsLabelEnabled:p&&p.isGreyAdsLabelEnabled,isNotNtpRiver:p&&p.isNotNtpRiver,isMsnHPAdSlug:p&&p.isMsnHPAdSlug,adLabelFontSize:p&&p.adLabelFontSize,disableAdsUXExperiment:p&&p.disableAdsUXExperiment,disableRenderDecoration:p&&p.disableRenderDecoration,enableNativeAdImageVisualQualityChecker:p&&p.enableNativeAdImageVisualQualityChecker,enableNativeAdDescription:p&&p.enableNativeAdDescription,enableSafeAds:p&&p.enableSafeAds,enableGeometricAds:p&&p.enableGeometricAds,enableAdCardProviderAlignment:p&&p.enableAdCardProviderAlignment,enableProviderAlignmentV2:p&&p.enableProviderAlignmentV2,nativeAdImageQuality:p&&p.nativeAdImageQuality,appendToLowPower:p&&p.appendToLowPower,enableHover:Oe,maxDescriptionLines:p&&p.maxDescriptionLines,toggleBoostActionMenu:e=>function(e,i,a,n,t){if(e){var l,o;const r=[];r.push({id:"hide",glyph:Z,title:n.nativeAdHideCardText,ariaLabel:n.nativeAdHideCardText,clickAction:()=>pe(i),telemetryTag:null==t||null===(l=t.hideCard)||void 0===l?void 0:l.getMetadataTag()});const d="https://account.microsoft.com/privacy/ad-settings";r.push({id:"adChoice",glyph:ee,title:n.nativeAdPrivacySettingsText,clickAction:()=>window.open(d,"_blank"),telemetryTag:null==t||null===(o=t.privacyClick)||void 0===o?void 0:o.getMetadataTag()}),r.push({isDivider:!0}),r.push({id:"poweredBy",isText:!0,title:n.nativeAdPoweredByText,ariaLabel:n.nativeAdPoweredByText});a({menuItems:r,referrerButton:e.currentTarget,requestContext:new R.bb},"boost-ad-card")}}(e,F,w,fe,fi),...ue(hi.region,hi.regionIndex,null==p||null===(i=p.adTemplateConfig)||void 0===i?void 0:i.placementLevelOverride)};if(Si.enableAdaptiveRectangleImage&&null!==(a=Si.items)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&null!==(a=a.imageUrl)&&void 0!==a&&a.startsWith("https://www.bing.com/th")&&null!==(l=Si.items)&&void 0!==l&&null!==(l=l[0])&&void 0!==l&&l.originalImageWidth&&null!==(o=Si.items)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.originalImageHeight){const e=new URL(Si.items[0].imageUrl),i=Number(Si.items[0].originalImageWidth)/Number(Si.items[0].originalImageHeight);i>=1&&i<=1.22&&(e.searchParams.set("w",(220*i).toFixed(0)),e.searchParams.set("h","220"),t.m.forEach(i=>e.searchParams.delete(i)),Si.items[0].imageUrl=e.toString(),Si.imageData.source=e.toString(),Si.useAdaptiveImageStyle=!0,Si.enableAdCardProviderAlignment=!1,Si.enableProviderAlignmentV2=!1)}if(null!==(r=(null==p?void 0:p.enableNativeAdImageVisualQualityChecker)&&Si)&&void 0!==r&&null!==(r=r.items)&&void 0!==r&&r[0]&&null!=p&&null!==(s=p.adTemplateConfig)&&void 0!==s&&s.imageSizeConfig){var Ti;const e=Si.items[0].imageUrl,i=Si.region,a=Si.regionIndex,n={w:Si.items[0].originalImageWidth,h:Si.items[0].originalImageHeight},t=p.adTemplateConfig.imageSizeConfig.river,l=oe(Si.items[0].destinationUrl,{enableSafeAds:Ve}),o=(0,P.li)(e,t,n,l,i,a),r=null==Si||null===(Ti=Si.items)||void 0===Ti||null===(Ti=Ti[0])||void 0===Ti?void 0:Ti.title,s=(0,m.NT)(r);if(o){const e=o.logInfo;y.YT.sendClientLogEvent({message:o.message,pb:{...d.Gq_.pb,logInfo:e,title:r,predictedTitleLine:s},type:"warning"})}}if(Ci)return(0,_.wc)(Si);return oi&&Si.title&&v.regionIndex>=1&&v.regionIndex<11&&y.YT.addOrUpdateTmplString(`mp-${re(v,J,!0)}`),(0,A.bw)({id:re(v,J),experienceType:null===(c=p&&p.childExperienceReferencesWC)||void 0===c||null===(c=c.configRef)||void 0===c?void 0:c.experienceType,mapperArgs:e},Si,(e,i)=>{const a=i.telemetryExt,n=(0,W.u)(v,T,"river",0,a);Object.assign(fi,n);const t={imagePosition:ri?"end":"start",adTelemetryContext:n,telemetryContext:n};return i.cardSize===g.uE._1x_1y&&(t.providerAboveHeader=di,t.headerMaxLines=di?2:void 0),t},!0)}function se(e,i,a,n,t){if(!e.placement&&e.data){var l;if(a)return y.YT.addOrUpdateTmplString(`1sadsev-${e.regionIndex||""}-${e.id||""}`),void function(e,i){let a;try{a=JSON.parse(e.data)}catch(i){(0,s.vV)(d.BKY,"Invalid JSON sent to card mapper from WPO Amplify",void 0,{...d.BKY.pb,customMessage:`${i&&i.message}`,wpoJson:e.data})}e.placement=(0,D.OA)(a,i),(0,D.J)(e.placement,i),e.useProng2AmplifyCardTemplate=!0,"11730609"===a.tagid&&(e.isProng2Promotion=!0)}(e);let n;y.YT.addOrUpdateTmplString(`1sads-${e.regionIndex||""}-${e.id||""}`);try{n=JSON.parse(e.data)}catch(i){(0,s.vV)(d.BKY,"Invalid JSON sent to card mapper from WPO",void 0,{...d.BKY.pb,customMessage:`${i&&i.message}`,wpoJson:e.data}),n={region:"default",index:1,items:[]}}if(null!==X.Rb&&void 0!==X.Rb&&null!==(l=X.Rb.CurrentFlightSet)&&void 0!==l&&l.has("prg-ad-rmauctype")||(n.adAuctionType=e.adAuctionType),e.placement=(0,D.Yt)(n,i,t),!((0,U.S)()||null!=t&&t.rowsInSectionNonPrerender)){var o;const i={id:e.id,crids:e.placement.crids,beaconsJson:e.placement.beaconsJson,clickBeaconJson:null===(o=e.placement.items)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.clickBeacons};return void(window.ssrAdData?window.ssrAdData.push(i):window.ssrAdData=[i])}(0,D.J)(e.placement,i),(0,u.tD)("TTNativeAd.Serve",performance.now());(0,c.zq)().IsServerAd=1}}function ce(e,i,a){let n=1;const t=["title","img","logo","providerName"],o=Object.keys(e).reduce((i,n)=>{const t=e[n];return!(n in l.vI)||a&&"price"===n?i[n]=t:i[n]=l.vI[n](t),i},{}),r=Object.keys(o).filter(e=>!t.includes(e));if(T.mL.includes(i))n=2;else{if(!T.IT.includes(i))return[];n=Math.min(r.length,4)}const d=Array.from({length:n},()=>[]);return r.forEach((e,i)=>{const a=i%n,t=o[e];d[a].push({assetType:e,assetValue:t})}),d}function ue(e,i,a){return a&&a.length?a.reduce((a,n)=>{let{region:t,indices:l,...o}=n;return e!==t||l&&!l.includes(i)?a:{...a,...o}},{}):{}}function ve(e){var i,n,t,c,u,g,A,m;let{activeItemChangedHandler:T,adBgColorDarkMode:k="#2E2E2E",adBackgroundColorLightMode:I="#F5F5F5",adBeaconServiceConfig:F,cardActionClickHandler:L,sdCardActionClickHandler:D,refreshFeedCallback:P,cardMetadata:H,enableDynamicHeightCard:R,feedFontSize:O,headingLineHeight:V,gradientType:z,imagePriority:_=!0,immersiveCard:j,initCardAction:W,invertSlugPosition:G,isAdBackgroundColorRandom:Q=!1,isAdFeedbackV1Enabled:K,isAdProviderInHeader:Y,isAnaheimDesign:Z,isClarityEnabled:ee,isIASEnabled:ie,isRightBottomAdsBingIcon:ae,nativeAdWC:te,isThreeLineHeading:de,layoutGap:ue,localizedStrings:ve,useArticleCardTemplate:pe,useHomepageCardTemplate:Ae,useLargeFontSize:Se,usePreviewCardTemplate:Te,useAmplifyCardTemplate:ye,useSuperAdCard:ke,useSmallFontSize:Ie,visualReadinessCallback:we,displaySettings:Fe,useMobile:Le,isMsnMobile:Me,adCardClickCallback:De,isThirdParty:Pe,enableAdsColorBleed:Be=!1,useTitleFontSize:xe,noBackPlateOnRest:He=!1,fixedCardHeight:Re=!1,renderFlattenedDesign:Oe=!1,alignFooters:Ve=!1,disableCardTitleTooltip:ze=!1,useLightShadow:Ue=!1,isDarkModeForMobile:_e=!1,enableSafeAds:Ne=!1,enableLazyImage:$e,enableFeedSuperCardsSingleColor:Ee,enableNativeAdCardsSolidColor:je,enableLightDensefeedMobile:We=!1,disableActionMenuOnAds:Je,nativeAdCardTitleSize:Ge,nativeAdImageQuality:Qe,appendToLowPower:qe,disableAdChoice:Xe=!1,openAdInSameTab:Ke,lightShadowVal:Ye,enableHalfUCardForAll:Ze=!1,enableDenseHalfUCardForMobile:ei=!1,enableVA:ii,enableVAPhase2:ai,enableVAPhase2WithShimmer:ni,supportedAdScenarioTypes:ti,enableCTA:li,enableArticleAdCapitalizeCTA:oi,enableArticleAdPillCTA:ri,enableArticleAdBottomCTA:di,enableArticleAdDynamicFont:si,enableArticleAdCenterAlign:ci,enableArticleAdRightAlign:ui,enableCTAVariant:vi,enableDisclaimerOverCTA:pi,enableLogo:bi,disableCTADisplay:gi,disableLogoDisplay:Ai,ctaLogoSimplification:mi,auctionRidOverride:Ci,enableLargerSizeSocialBar:hi,enableSmallerContentPadding:fi,enableAdCardClickCbInAdSlug:Si=!1,enableCashback:Ti,enableTopAdCard:yi,enableTitleForTruncate:ki,enableBlendInAdSlugStyle:Ii,responsiveWidth:wi,hideCardActions:Fi,lightGradientClass:Li,configOptions:Mi,clearAdCache:Di,enableAdSponsoredText:Pi,enableFeedbackPopup:Bi=!1,enableIASResponsiveAdCardFix:xi=!1,enableResponsiveAdAndTrustedTypes:Hi=!1,enableNonLinearStyles:Ri=!1,enableArticleAdFullBleedBCTA:Oi=!1}=e;const Vi=ie||(null==Mi?void 0:Mi.isIASEnabled),zi=H.type&&("EventSDCardAmplifyAds"==H.type||"BoostAd"==H.type);se(H,void 0,zi,0,Mi),H.placement=H.placement||{items:[]};const Ui=H.placement,_i=H.activeIndexForMultiAds?Number(H.activeIndexForMultiAds):0,Ni=null==Ui||null===(i=Ui.items)||void 0===i||null===(i=i[_i])||void 0===i||null===(i=i.images)||void 0===i||null===(i=i[0].ext)||void 0===i?void 0:i.colorSamples,$i=null==ve?void 0:ve.cardActionsTooltips;let Ei="";Ei=Q?he(H):Be&&Ni?Ni.find(e=>e.isDarkMode===(0,E.ud)()).hexColor:(0,E.ud)()?k:I;const ji=H.id&&H.id.indexOf("amplifyad")>=0,Wi=(0,$.cE)();!yi&&null!=Wi&&Wi.isOEM&&(yi="top"===H.placement.region);let Ji="";null!=Mi&&Mi.enableFontTrackingV1&&(Ji="font-tracking-v1"),null!=Mi&&Mi.enableFontTrackingV2&&(Ji="font-tracking-v2");let Gi="";null!=Mi&&Mi.enableFontWeightNormal&&(Gi="font-weight-normal");const Qi={id:re(H,Ui.region),adBackgroundColor:Ei,adBeaconServiceConfig:F,showAdLabel:!ji&&!zi,disableAdChoice:zi||Xe,childTemplateType:yi?"native-top-ad-card":"native-ad-card",cardActionsTooltips:$i,isNativeAd:!0,imagePriority:_,immersiveCard:j,isAnaheimDesign:!!Z,isAdFeedbackV1Enabled:!!K,useSmallFontSize:!!Ie,useLargeFontSize:!!Se,gradientType:z,useArticleCardTemplate:pe,useHomepageCardTemplate:Ae,usePreviewCardTemplate:Te,useAmplifyCardTemplate:ye,useSuperAdCard:ke,activeItemChangedHandler:T,isProviderInHeader:!!Y,feedFontSize:O,headingLineHeight:V,isClarityEnabled:ee,nativeAdWC:te,isThreeLineHeading:de,useTitleFontSize:xe,noBackPlateOnRest:He,useWhiteGradient:null==Ui?void 0:Ui.shouldUseWhiteGradient,alignFooters:Ve,fixedCardHeight:Re,renderFlattenedDesign:Oe,disableCardTitleTooltip:!!ze,displaySettings:Fe,colorSamples:Ni,useLightShadow:Ue,useProng2AmplifyCardTemplate:H.useProng2AmplifyCardTemplate,isProng2Promotion:H.isProng2Promotion,useMobile:Le,isMsnMobile:Me,enableNativeAdCardsSolidColor:je,enableFeedSuperCardsSingleColor:Ee,adCardClickCallback:De,isThirdParty:Pe,enableDynamicHeightCard:R,isDarkModeForMobile:_e,enableSafeAds:Ne,enableLazyImage:$e,enableLightDensefeedMobile:We,nativeAdImageQuality:Qe,appendToLowPower:qe,openAdInSameTab:Ke,lightShadowVal:Ye,enableHalfUCardForAll:Ze,enableDenseHalfUCardForMobile:ei,enableVA:ii,enableVAPhase2:ai,enableVAPhase2WithShimmer:ni,supportedAdScenarioTypes:ti,enableCTA:li,enableCTAVariant:vi,enableLogo:bi,enableLargerSizeSocialBar:hi,enableSmallerContentPadding:fi,enableAdCardClickCbInAdSlug:Si,enableCashback:Ti,enableTitleForTruncate:ki,enableBlendInAdSlugStyle:Ii,hideAdLabelAndAdChoice:(0,x.tO)(null==Ui?void 0:Ui.providerId,null==Ui||null===(n=Ui.items)||void 0===n||null===(n=n[_i])||void 0===n?void 0:n.noAdLabel),responsiveWidth:wi,hideCardActions:Fi,lightGradientClass:Li,fontTrackingStyle:Ji,fontWeightStyle:Gi,onClickLink:Di,enableAdSponsoredText:Pi,enableFeedbackPopup:Bi,enableInfopaneDVBeacon:null==Mi?void 0:Mi.enableInfopaneDVBeacon,enableRubyVerticalAds:null==Mi?void 0:Mi.enableRubyVerticalAds},{imageHeight:qi,imageWidth:Xi,slideshowProps:Ki,region:Yi,crids:Zi,adAuctionType:ea,dtsTemplateId:ia}=Ui,{adTemplateConfig:aa}=Mi||{},{enableBlockingQueue:na,disablePriceTruncation:ta}=aa||{};if(null!==X.Rb&&void 0!==X.Rb&&null!==(t=X.Rb.CurrentFlightSet)&&void 0!==t&&t.has("prg-ad-serverauc")&&ea==r.T.oneServiceAd&&(0,s.vV)(d.V_P,"OneService ad call detected in placement","",Ui),null===X.Rb||void 0===X.Rb||null===(c=X.Rb.CurrentFlightSet)||void 0===c||!c.has("prg-ad-rmauctype")){var la;const e=new Set(Object.values(r.T));na&&(null==Ui||null===(la=Ui.items)||void 0===la?void 0:la.length)>0&&!e.has(ea)&&(0,s.vV)(d.IYc,"isClientAuctionCall value is missing in the placement","",Ui)}!(0,U.S)()||na&&(null!==X.Rb&&void 0!==X.Rb&&null!==(u=X.Rb.CurrentFlightSet)&&void 0!==u&&u.has("prg-ad-rmauctype")||ea!=r.T.oneServiceAd)||B.x.addDedupeIds(Zi,Yi);const{images:oa,destinationUrl:ra,adChoiceIconUrl:da,clickBeacons:sa,feedbackUrl:ca,verificationParameters:ua,description:va,prong2AmplifyBusinessName:pa,assets:ba,adScenarioType:ga,cashback:Aa,assetRanks:ma,eventtrackers:Ca,adSelectionCriteria:ha}=Ui.items[_i]||{};let{title:fa,providerName:Sa,imageUrl:Ta}=Ui.items[_i]||{};Qi.providerName=ji||zi?ve.nativeAdPromotedByText:Sa,Qi.attribution=ji||zi?va:void 0,Qi.adSelectionCriteria=ha;const ya=new w.Yg,ka="river-half-textonly"!==(Yi&&Yi.toLowerCase())?(0,M.cG)(Ui,_i):null;ka&&(Qi.adBackgroundColor=k,Qi.videoProps=ka),!ne&&ka&&(Promise.all([a.e("node_modules_video_js_dist_video_es_js"),a.e("web-components_content-video-player_dist_index_js"),a.e("libs_ads-utils_dist_GDPRHelper_js-web-components_native-ad-video_dist_index_js")]).then(a.bind(a,80833)),ne=!0);const Ia=null===X.Rb||void 0===X.Rb||null===(g=X.Rb.CurrentFlightSet)||void 0===g?void 0:g.has(o.pL);let wa=null;if(Ia&&(wa=null==Ca?void 0:Ca.find(e=>{var i;return"IAS-omid"===(null===(i=e.ext)||void 0===i?void 0:i.vendorKey)})),Vi&&Qi.id&&(ua||wa)){var Fa;const e=(null==Mi?void 0:Mi.enableIASFix)||xi||Hi?"":"native_ad_",i=Te&&!le(null==H||null===(Fa=H.placement)||void 0===Fa?void 0:Fa.region)?`contentcard_${Qi.id}`:`${e}${Qi.id}`;wa?(0,C.n$)(wa,i,d.nxh,null==Mi?void 0:Mi.enableIASFix):(0,C.nL)(ua,i,d.nxh,null==Mi?void 0:Mi.enableIASFix)}const La=!(null!==X.Rb&&void 0!==X.Rb&&null!==(A=X.Rb.CurrentFlightSet)&&void 0!==A&&A.has("prg-ad-dv-on-rf")),Ma=Ca&&Qi.id;if(!Ca||La&&null!=Qi&&Qi.id||(0,f.xs)(Ca,null==Qi?void 0:Qi.id,La),La&&Ma){const e=Te&&!le(H.placement.region)?`contentcard_${Qi.id}`:`${Qi.id}`,i=(0,f.Q3)(Ca),a=(0,f.yR)(e),n=(null==Qi?void 0:Qi.enableInfopaneDVBeacon)&&a;Ia&&i.has("doubleverify.com-omid")&&!n?(0,f.Mb)(i.get("doubleverify.com-omid"),e,d.nxh):i.has("DV")&&!n&&(0,f.Mb)(i.get("DV"),e,d.nxh)}let Da=Xi||b.L._300x156.width,Pa=qi||b.L._300x156.height,Ba=fa,xa=null,Ha=null,Ra=null,Oa=null,Va=!1;const za=ii&&!ai&&ba&&ga&&l.JP.includes(ga),Ua=ai&&ba&&0!==Object.keys(ba).length&&(null==ti?void 0:ti.includes(ga));var _a,Na,$a,Ea,ja,Wa;za||Ua?(Da=(null===(_a=ba.img)||void 0===_a?void 0:_a.w)??Da,Pa=(null===(Na=ba.img)||void 0===Na?void 0:Na.h)??Pa,Ta=(null===($a=ba.img)||void 0===$a?void 0:$a.url)??Ta,Ba=(null===(Ea=ba.img)||void 0===Ea||null===(Ea=Ea.ext)||void 0===Ea?void 0:Ea.alt)??Ba,fa=ba.title??fa,Sa=ba.providerName??Sa,xa=null===(ja=ba.logo)||void 0===ja?void 0:ja.url,za?Ha=ce(ba,Yi,ta):Ua&&((0,h.FM)(ba,ta),Ra=(0,h.Ng)(ba,ma),y.YT.addOrUpdateTmplProperty("hasVAv2","1"),y.YT.addOrUpdateTmplString("hasVAv2"))):Ti&&Aa&&(fa=(0,N.GP)(null==ve?void 0:ve.nativeAdCashbackText,Aa)??fa,Sa="Microsoft");Ri&&(null!=ba&&ba.callToAction&&(Oa=ba.callToAction),null!=ba&&null!==(Wa=ba.logo)&&void 0!==Wa&&Wa.url&&(xa=ba.logo.url));const Ja=function(e,i,a,n){var t,l;if(null==a||!a.enableNativeAdDTS||!e||e<=0)return null;const o=(0,S.Y)(null==a?void 0:a.nativeAdDTSRequestConfig,n),r=null==o||null===(t=o.templates)||void 0===t?void 0:t.find(i=>i.templateId===e);if(!r)return null;const d=null==a||null===(l=a.nativeAdDTSRequestConfig)||void 0===l?void 0:l.prodFallbackTemplates,s=(0,p.B)(e,r.subTemplateType,d);if(!s)return null;const c=new Map([[v.u.Title,{text:i}]]);return y.YT.addOrUpdateTmplProperty("nativeaddts",`${n}${e}`),{adDTSStyleKey:s.styleKey,adDTSTemplateConfig:s,adDTSComponentDataMap:c,shouldUseAdDTSTemplate:!0}}(ia,fa,Mi,Yi);var Ga;(null!=Ja&&Ja.shouldUseAdDTSTemplate||pi&&null!=ba&&ba.callToAction&&(null!=ba&&ba.popupDisclaimer||null!=ba&&ba.disclaimer)&&(ba.callToAction=null),!gi&&li&&ba&&(Oa=ba.callToAction??Oa,Oa&&!mi&&(Va=!0)),(oi||ri||di||si||ci||ui)&&(Oa=(null==ba?void 0:ba.callToAction)??(null==ve?void 0:ve.intraArticleUpperCTA)),!Ai&&bi&&ba)&&(xa=null===(Ga=ba.logo)||void 0===Ga?void 0:Ga.url,xa&&!mi&&(Va=!0));return li&&ba&&ba.callToAction&&(y.YT.addOrUpdateTmplProperty("hasCallToAction","1"),y.YT.addOrUpdateTmplString("hasCallToAction")),bi&&ba&&null!==(m=ba.logo)&&void 0!==m&&m.url&&(y.YT.addOrUpdateTmplProperty("hasLogo","1"),y.YT.addOrUpdateTmplString("hasLogo")),fa&&ra&&(Ae?(Da=b.L._300x225.width,Pa=b.L._300x225.height):Te&&(Da=b.L._104x84.width,Pa=b.L._104x84.height),Object.assign(Qi,{...Ui,adChoiceIconUrl:da,clickBeacons:sa,destinationUrl:oe(ra,{enableSafeAds:Ne}),imageData:{altText:Ba,source:Ta,imageWidth:Da,imageHeight:Pa,visualReadinessCallback:we},visualReadinessCallback:we,images:ge(oa,Ki),invertSlugPosition:G,isRightBottomAdsBingIcon:ae,slideshowProps:Ki,providerData:{logoImage:xa,name:Sa},disableHideStory:Je,title:fa,description:va,toggleCardActionMenu:(e,i,a,n,t)=>be(e,i,L,W,null,null,n,t),feedbackUrl:ca,assets:ba,assetColumns:Ha,assetOrder:Ra,localizedStrings:ve,carouselData:me(Ui.items),layoutGap:ue,videoProps:ka,hoverState:Ce(),isProviderInHeader:!!Y,layoutColor:fe(oa),prong2AmplifyBusinessName:pa,nativeAdCardTitleSize:Ge,openAdInSameTab:Ke,enableCTA:li,enableCTAVariant:vi,enableLogo:bi,callToAction:Oa,logoImageUrl:xa,hasCTALogoAssets:Va,hasLoaded:!0,enableAdSponsoredText:Pi,enableArticleAdFullBleedBCTA:Oi}),ya.saveUserActionBeacon(Qi.id,Ui.beaconsJson),(0,q.B)(Qi)),Ja&&Object.assign(Qi,Ja),ee&&J.n.logAdTemplateConfig(Qi.template),Qi}const pe=async e=>{const i=await async function(){try{return await Q.d.updateSegmentCardsEnableStatus([{cardType:O.s.BoostCard,enabled:!1}]),!0}catch(e){return(0,s.c_)(e,d.kBB,"Native Ad unable to hide card"),!1}}();return i&&e(),i};function be(e,i,a,t){var l,o,r;let d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,v=i,p=e,b=[n.X.ReportAd];i.detail&&i.detail.event&&i.detail.data&&(v=i.detail.event,p=this.getListCardMetadata(i.detail.data),d=!0);const{id:g,title:A,destinationUrl:m,imageData:C,providerData:h,cardActionStatus:f,feedbackUrl:S,privacyUrl:T,enableFeedbackPopup:y,ruby:k}=p,I=null===(l=p.template)||void 0===l?void 0:l.enableNewAdChoice,w=null===(o=p.template)||void 0===o?void 0:o.enableAdChoiceInCardActions,F=null===(r=p.items)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.advertiserDomain;w&&T&&(b=[n.X.ReportAd,n.X.AdChoice]),I&&(b=[n.X.ReportAd,n.X.Divider,n.X.AdPrivacy]);const L={enabled:!0,buttonElement:v.currentTarget,fromRightClick:u,article:{id:g,headlineTitle:A,href:m,image:{alt:null==C?void 0:C.altText,src:null==C?void 0:C.source},provider:{id:null==h?void 0:h.id,name:null==h?void 0:h.name,image:{alt:null==h?void 0:h.name,src:null==h?void 0:h.logoImage},advertiserDomain:F},feedbackUrl:S,privacyUrl:T},onStatusChange:a,cardStatus:f,updateFeedOnHide:d,showToast:s,isAdActionMenu:!0,actionsArrayOverride:b,interactCard:c,dialogToOpen:y&&k?"reportad":void 0};return u?window.dispatchEvent(new CustomEvent("contentCardRightClick",{detail:{actionState:L,event:v,initCardAction:t}})):t(L),L}const ge=(0,I.sx)(d.nxh,"getMultipleImages")((e,i)=>{const a=[];if(e&&e.length&&i){const n=i.maxImageCount||5;e.slice(0,n).forEach(e=>{a.push({source:e.url,altText:e.alt})})}return a}),Ae=(0,I.sx)(d.nxh,"getAdFeedbackProps")(e=>{const{cardMetadata:i,handleAdFeedbackSubmit:a,cardActionClickHandler:t,cardActionBitMask:l,localizedStrings:o,configOptions:r}=e,d=i.placement,{feedbackUrl:s,destinationUrl:c,adSelectionCriteria:u,advertiserDomain:v,assets:p}=d.items[0]||{},b=i.id,g=(0,x.H8)(i,l),A=v||Se(u,p,null==d?void 0:d.providerId),m=!!A;let C=[{value:"RepeatedAd",text:o.reportAdDialogRepeatedAdText},{value:"InappropriateAd",text:o.reportAdDialogInappropriateAdText},{value:"NotInterested",text:o.reportAdDialogNotInterestedText},{value:"MisleadingAd",text:o.reportAdDialogMisleadingAdText}];null!=r&&r.enableAdFeedbackV1UpdatePhase1&&(C=[{value:"InappropriateAd",text:o.reportAdDialogInappropriateAdText},{value:"MisleadingAd",text:o.reportAdDialogMisleadingAdText}]),null!=r&&r.enableAdBlockAdvertiser&&(C=[{value:"RepeatedAd",text:(null==o?void 0:o.feedbackRepeatedAdOption)??o.reportAdDialogRepeatedAdText},{value:"InappropriateAd",text:o.feedbackOffensiveText},{value:"NotInterested",text:o.feedbackNotRelevantOption},{value:"MisleadingAd",text:o.feedbackMisleadingOption},{value:"VisuallyPoorAd",text:o.feedbackPoorvisualOption}]);const h={selectedFeedbackType:null,blockedAdvertiserChecked:!1,icons:{titleIcon:ie,hiddenIcon:Z,hiddenIconDark:ae},showBlockAdvertiser:m,configOptions:r,feedbackTypes:C,localizedStrings:{saveButtonText:o.reportDialogSaveButtonText,confirmationText:o.reportDialogConfirmationText,reportIssueTitleText:o.cardActionMenuItemReport,feedbackReportAdTitle:o.feedbackReportAdTitle,feedbackAdHidden:o.feedbackAdHidden,feedbackUpdatingFeed:o.feedbackUpdatingFeed,feedbackBlockAdvertiserCheck:o.feedbackBlockAdvertiserCheck,undoText:o.reportAdDialogCloseButtonText||o.undoHideButtonText,cancelText:o.cancelText,feedbackAdBlocked:o.feedbackAdBlocked},chooseFeedbackOption:function(e){e.preventDefault(),this.selectedFeedbackType=e.target.value,this.disableSubmitButton&&(this.disableSubmitButton=!1)},submitFeedback:function(){if(!this.disableSubmitButton){const e=function(e){if((0,K.bJ)(e.feedbackUrl)){let i=e.feedbackUrl;const a=(0,K.JQ)(e.destinationUrl);i=a&&e.enableAdFeedbackRlink?(0,K.Re)(i,"${RLINK}",encodeURIComponent(a),"rlink"):(0,K.Be)(i,"rlink","${RLINK}");const n=e.adBlockOptions;if(null!=n&&n.enableAdBlockAdvertiser&&n.showBlockAdvertiser&&n.blockedAdvertiserChecked){const e=n.adDomain||"";i=(0,K.Re)(i,"${ADVERTISER_DOMAIN}",encodeURIComponent(e),"ad")}else i=(0,K.Be)(i,"ad","${ADVERTISER_DOMAIN}");return i}{const i=new URL(e.feedbackUrl),a=new URL(e.destinationUrl).searchParams.get("rlink");if(null===a)return i.toString();const n=new URLSearchParams(i.search),t=e.adBlockOptions;if(null!=t&&t.enableAdBlockAdvertiser&&t.showBlockAdvertiser&&t.blockedAdvertiserChecked){const e=t.adDomain;n.append("ad",e)}return e.enableAdFeedbackRlink&&n.append("rlink",a),i.search=n.toString(),i.toString()}}({destinationUrl:c,feedbackUrl:s,enableAdFeedbackRlink:r.enableAdFeedbackRlink,adBlockOptions:{enableAdBlockAdvertiser:r.enableAdBlockAdvertiser,adSelectionCriteria:u,blockedAdvertiserChecked:this.blockedAdvertiserChecked,showBlockAdvertiser:this.showBlockAdvertiser,adDomain:A}});let i;a(e,this.selectedFeedbackType),i=r.enableNativeAdReplaceWithNews?g^n.J.hidden^n.J.hideAds:g^n.J.adFeedbackSubmitted,t(b,i,"ReportAd")}},toggleBlockAdvertiser:function(e){e.preventDefault();const i=e.target;this.blockedAdvertiserChecked=i.checked},generateTelemetryData:function(e){let i=this.selectedFeedbackType??"";return"adFeedbackSubmit"===e&&void 0!==this.blockedAdvertiserChecked&&(i+=this.blockedAdvertiserChecked?"-Blocked advertiser":""),new V.$({name:e,action:k.EG.Click,content:{headline:i},type:k.MJ.ActionButton,behavior:k.MS.Click})},disableSubmitButton:!1};return(0,G.sH)(h,"disableSubmitButton"),(0,G.sH)(h,"selectedFeedbackType"),(0,G.sH)(h,"blockedAdvertiserChecked"),h.disableSubmitButton=!0,h}),me=(0,I.sx)(d.nxh,"getCarouselData")(e=>{if((0,L.A)(e))return[];const i=[];return(0,F.A)(e,e=>{i.push({imageUrl:e.imageUrl})}),i}),Ce=(0,I.sx)(d.nxh,"getHoverState")(()=>{const e={isHovered:!1,isDecorationLinesExpanded:!1};return(0,G.sH)(e,"isHovered"),(0,G.sH)(e,"isDecorationLinesExpanded"),e}),he=(0,I.sx)(d.nxh,"getAdBackgroundColorRandom")(e=>{let i="",a=null==e?void 0:e.regionIndex;if(a&&"number"==typeof a||(a=-1),te.has(a))i=te.get(a);else{const e="#2E2E2E",n="#F5F5F5";i=0===Math.floor(2*Math.random())?e:n,te.set(a,i)}return i});const fe=(0,I.sx)(d.nxh,"getLayoutColor")(e=>e&&e[0]&&e[0].ext&&e[0].ext.layoutColor?e[0].ext.layoutColor:"");const Se=(e,i,a)=>{if("bing"===a){if(e)try{const i=JSON.parse(e);if(null!=i&&i.adDomain)return i.adDomain}catch(e){(0,s.vV)(d.nxh,"Error parsing adSelectionCriteria: "+e.message)}if(null!=i&&i.providerName&&"Sponsored Collections"!==i.providerName)return i.providerName}}},90795:function(e,i,a){a.d(i,{X:function(){return k},t:function(){return I}});var n=a(2632),t=a(89594),l=a(19608),o=a(30422),r=a(2543),d=a(79765),s=a(98216),c=a(11372),u=a(12870),v=a(59646),p=a(669),b=a(63150),g=a(85889),A=a(65022),m=a(30216),C=a(21629),h=a(64884),f=a(32542);const S=`${(0,a(17254).rA)().StaticsUrlWithBuild}fluent-icons/globe_provider_16_regular.svg`;let T,y;function k(e){var i,a;const{configOptions:o,cardMetadata:r,cardSlot:d,parentTelemetryObject:s,region:c,visualReadinessCallback:v}=e,p={},b=I(e);null!==(i=e.configOptions)&&void 0!==i&&i.enableIntraNativeAds&&b.id.includes("intra-nativead")&&(b.isIntraNativeAd=!0);const g=""!==u.Rb.MarketDir?u.Rb.MarketDir:"ltr",A={...b,dir:g};T&&(d.layouts=[]);const m=o&&o;return(0,l.bw)({id:(0,t.O_)(r,c),experienceType:null==m||null===(a=m.configRef)||void 0===a?void 0:a.experienceType,mapperArgs:e},A,(e,i)=>{const a=i.telemetryExt;var t;null!=o&&o.logThumbnailUrl&&(a.tmb=null===(t=b.mediaData)||void 0===t?void 0:t.src);const l=(0,n.u)(r,s,"river",0,a);return Object.assign(p,l),{adTelemetryContext:l,visualReadinessCallback:v,telemetryContext:l}},!1)}function I(e){var i,a,n,l,k;const{cardActionBitMask:I,cardMetadata:w,cardSlot:F,configOptions:L,immersiveCard:M,initCardAction:D,isAdFeedbackV1Enabled:P,isAnaheimDesign:B,isAdProviderInHeader:x,parentTelemetryObject:H,activeItemChangedHandler:R,cardActionClickHandler:O,sdCardActionClickHandler:V,refreshFeedCallback:z,layoutGap:U,isClarityEnabled:_,isIASEnabled:N,visualReadinessCallback:$,displaySettings:E,adCardClickCallback:j,isDarkModeForMobile:W,disableActionMenuOnAds:J,nativeAdCardTitleSize:G,isThirdParty:Q,region:q,ruby:X,clearAdCache:K,attachViewBeaconToResponsiveAdCard:Y}=e,{useArticleCardTemplate:Z,useHomepageCardTemplate:ee,usePreviewCardTemplate:ie,useAmplifyCardTemplate:ae,adBgColorDarkMode:ne,adBackgroundColorLightMode:te,adBeaconServiceConfig:le,feedFontSize:oe,headingLineHeight:re,gradientType:de,imagePriority:se,invertSlugPosition:ce,isAdBackgroundColorRandom:ue,isRightBottomAdsBingIcon:ve,enableNativeAdWC:pe,childExperienceReferencesWC:be,isThreeLineHeading:ge,localizedStrings:Ae,useLargeFontSize:me,useSmallFontSize:Ce,enableAdsColorBleed:he,useTitleFontSize:fe,noBackPlateOnRest:Se,alignFooters:Te,fixedCardHeight:ye,renderFlattenedDesign:ke,disableCardTitleTooltip:Ie,useLightShadow:we,useMobile:Fe,isMsnMobile:Le,enableDynamicHeightCard:Me,enableFeedSuperCardsSingleColor:De,enableSafeAds:Pe,enableLazyImage:Be,enableLightDensefeedMobile:xe,nativeAdImageQuality:He,appendToLowPower:Re,lightShadowVal:Oe,adTemplateConfig:Ve,openAdInSameTab:ze,enableHalfUCardForAll:Ue,enableDenseHalfUCardForMobile:_e,auctionRidOverride:Ne,enableLargerSizeSocialBar:$e,enableSmallerContentPadding:Ee,enableAdCardClickCbInAdSlug:je,enableCashback:We,enableAdShimmerEffect:Je,openLinksInCurrentTab:Ge,enableCTA:Qe,enableCTAVariant:qe,enableLogo:Xe,disableCTADisplay:Ke,disableLogoDisplay:Ye,ctaLogoSimplification:Ze,enablePopupDisclaimer:ei,enableDisclaimerOverCTA:ii,enableAdSponsoredText:ai,enableInfopaneDVBeacon:ni,enableNonLinearStyles:ti,enableResponsiveIntraAd:li}=L||{},oi=(0,p.cZ)(w,L.enableIntraNativeAds),{cardContent:{id:ri}}=oi,{grid_area:di}=F;y=(0,p.H8)(w,I),T=0!==(y&m.J.hide)&&P;let si="";L.enableLightGradientV1&&(si="light-gradient-v1"),L.enableLightGradientV2&&(si="light-gradient-v2"),L.enableLightGradientV3&&(si="light-gradient-v3");const ci=null===u.Rb||void 0===u.Rb||null===(i=u.Rb.CurrentFlightSet)||void 0===i?void 0:i.has("prg-ad-iasv2ra"),ui=!1===(null===u.Rb||void 0===u.Rb||null===(a=u.Rb.CurrentFlightSet)||void 0===a?void 0:a.has("prg-ad-iasv3ratt-rf")),vi=null===u.Rb||void 0===u.Rb||null===(n=u.Rb.CurrentFlightSet)||void 0===n?void 0:n.has("prg-ad-disc"),pi=T?(0,h.Eb)(e,y,ri,H,P,(0,t.ZA)(e)):(0,t.d6)({activeItemChangedHandler:R,adBgColorDarkMode:ne,adBackgroundColorLightMode:te,adBeaconServiceConfig:le,cardActionClickHandler:O,sdCardActionClickHandler:V,refreshFeedCallback:z,cardMetadata:w,feedFontSize:oe,headingLineHeight:re,gradientType:de,gridArea:di,imagePriority:se,immersiveCard:M,initCardAction:D,invertSlugPosition:ce,isAdBackgroundColorRandom:ue,isAdFeedbackV1Enabled:P,isAdProviderInHeader:x,isAnaheimDesign:B,isClarityEnabled:_,isIASEnabled:N,isRightBottomAdsBingIcon:ve,nativeAdWC:(pe||w&&w.placement&&w.placement.enableNativeAdWC)&&(null==be?void 0:be.nativeAdWC),isThreeLineHeading:ge,layoutGap:U,localizedStrings:Ae,useArticleCardTemplate:Z,useHomepageCardTemplate:ee,useLargeFontSize:me,usePreviewCardTemplate:ie,useAmplifyCardTemplate:ae,useSmallFontSize:Ce,visualReadinessCallback:$,enableAdsColorBleed:he,useTitleFontSize:fe,noBackPlateOnRest:Se,alignFooters:Te,fixedCardHeight:ye,renderFlattenedDesign:ke,disableCardTitleTooltip:Ie,displaySettings:E,useLightShadow:we,useMobile:Fe,isMsnMobile:Le,adCardClickCallback:j,isThirdParty:Q,enableDynamicHeightCard:Me,isDarkModeForMobile:W,enableFeedSuperCardsSingleColor:De,enableSafeAds:Pe,enableLazyImage:Be,enableLightDensefeedMobile:xe,disableActionMenuOnAds:J,nativeAdCardTitleSize:G,nativeAdImageQuality:He,appendToLowPower:Re,lightShadowVal:Oe,disableAdChoice:null==Ve?void 0:Ve.disableAdChoice,openAdInSameTab:ze||Q,enableHalfUCardForAll:Ue,enableDenseHalfUCardForMobile:_e,enableVA:null==Ve?void 0:Ve.enableVA,enableVAPhase2:null==Ve?void 0:Ve.enableVAPhase2,enableVAPhase2WithShimmer:null==Ve?void 0:Ve.enableVAPhase2WithShimmer,supportedAdScenarioTypes:null==Ve?void 0:Ve.supportedAdScenarioTypes,enableCTA:Qe,enableCTAVariant:qe,enableDisclaimerOverCTA:ii,enableLogo:Xe,disableCTADisplay:Ke,disableLogoDisplay:Ye,ctaLogoSimplification:Ze,auctionRidOverride:Ne,enableLargerSizeSocialBar:$e,enableSmallerContentPadding:Ee,enableAdCardClickCbInAdSlug:je,responsiveWidth:L.enableResponsiveFeed,enableCashback:We,wpoRank:null==oi?void 0:oi.wpoRank,wpoAdRank:null==oi?void 0:oi.wpoAdRank,wpoId:null==oi?void 0:oi.wpoId,openLinksInCurrentTab:Ge,hideCardActions:L.hideAdCardActions,lightGradientClass:si,configOptions:L,enableAdSponsoredText:ai,enableInfopaneDVBeacon:ni,enableIASResponsiveAdCardFix:ci,enableResponsiveAdAndTrustedTypes:ui,enableNonLinearStyles:ti,enableResponsiveIntraAd:li});if(pi.loading=!0,pi.ruby=X,!T){var bi,gi;pi.childTemplateType="responsive-ad-card";let e=!1;const i=()=>$(3,d.j.image),a=(a,n,t)=>{e||(e=!0,(0,f.T)({id:n,rLink:t,imgLink:a}),i())},n={altText:pi.imageData&&pi.imageData.altText,loadCallback:i,errorCallback:a,src:pi.imageData&&pi.imageData.source};let t;pi.providerData&&(t={altText:pi.providerData.name,name:pi.providerData.name,src:pi.providerData.logoImage??(((0,b.oh)()||(0,g.aD)())&&X?S:void 0)}),pi.attributionData=t,pi.mediaData=n,pi.mouseEnterCallback=e=>{(0,v.kM)("SuperNativeAdCard",()=>s.YT.sendActionEvent(e,c.EG.Hover,c.MS.Open))},pi.mouseLeaveCallback=e=>{(0,v.pS)("SuperNativeAdCard",()=>s.YT.sendActionEvent(e,c.EG.MouseLeave,c.MS.Open))},pi.onClickLink=K;const l=[];if(pi.enableVA&&pi.assetColumns)pi.assetColumns.forEach(e=>{e.forEach(e=>{l.push({assetType:e.assetType,assetValue:e.assetValue})})}),pi.adAttributes=l,pi.adVA=!0;else if(pi.enableVAPhase2&&pi.assetOrder){var Ai,mi;pi.assetOrder.forEach(e=>{vi&&"popupDisclaimer"===e||l.push({assetType:e,assetValue:pi.assets[e],hoursOpenValue:Boolean(pi.assets.workingHoursIsOpen),hoursStatusValue:pi.assets.workingHoursStatus,reviewValue:pi.assets.review})}),vi&&null!=pi&&null!==(Ai=pi.assets)&&void 0!==Ai&&Ai.popupDisclaimer?pi.popoverData={data:pi.assets.popupDisclaimer,type:"dialog"}:null!=pi&&null!==(mi=pi.assets)&&void 0!==mi&&mi.disclaimer&&(pi.popoverData={data:{text:pi.assets.disclaimer},type:"tooltip"}),pi.adAttributes=l,pi.adVA2=!0}else ei&&null!=pi&&null!==(bi=pi.assets)&&void 0!==bi&&bi.popupDisclaimer&&(pi.popoverData={data:null==pi?void 0:pi.assets.popupDisclaimer,type:"dialog"});if(null!=L&&L.enableNativeAdImageVisualQualityChecker&&null!==(gi=pi.imageData)&&void 0!==gi&&gi.source){const{region:e,regionIndex:i,imageData:a,items:n=[]}=pi||{},{source:t,imageWidth:l,imageHeight:d}=a||{},{title:c,destinationUrl:u,originalImageWidth:v,originalImageHeight:p}=n[0]||{},b={w:Number(l),h:Number(d)},g={w:Number(v),h:Number(p)},m=(0,o.li)(t,b,g,u,e,i);m&&s.YT.sendClientLogEvent({message:m.message,pb:{...A.Gq_.pb,logInfo:m.logInfo,title:c,predictedTitleLine:(0,r.NT)(c)},type:"warning"})}}if(null!==(l=pi.attributionData)&&void 0!==l&&l.name&&(pi.loading=!1),null!==(k=pi.items)&&void 0!==k&&null!==(k=k[0])&&void 0!==k&&null!==(k=k.dts)&&void 0!==k&&k.templateid){const e=pi.items[0].dts.templateid;pi.adDtsTemplateName=(0,C.X)(pi,e)}const{wpoId:Ci,wpoRank:hi,wpoAdRank:fi}=oi;return Ci&&(pi.wpoId=Ci),hi&&(pi.wpoRank=hi),fi&&(pi.wpoAdRank=fi),pi}},96244:function(e,i,a){a.d(i,{V:function(){return m}});var n=a(56911),t=a(16813),l=a(17720),o=a(16091),r=a(60815),d=a(69583),s=a(98216),c=a(89980),u=a(54761),v=a(93468),p=a(65022),b=a(10117);var g=a(83003);class A{constructor(){this.config={},this.shouldDisplayFeedLevelCF=!1,this.forceDisableCoolDown=!1,this.forceFeedLevelCSATsignal=!1,this.setConfig=e=>{this.config=e},this.triggerFeedLevelCFDisplayIfConditionMet=async()=>{var e;const i=this.forceFeedLevelCSATsignal||(null===(e=await async function(e){try{var i;const a=await b.V_.getWpoOptimizationData(e);if(!a)return null;const n=a.filter(e=>(null==e?void 0:e.type)===u.Ar.feedContextualFeedback),t=(null==n?void 0:n.length)>0&&!(null===(i=n[0])||void 0===i||null===(i=i.properties)||void 0===i||!i.showFeedCF);if(t)return s.YT.addOrUpdateTmplProperty("wpopromflcf","1"),{showFeedCF:t}}catch(e){const i="Error in getting wpo feed-level contextual feedback promotion data";(0,v.vV)(p.nwt,i,`error:${e}`)}return null}())||void 0===e?void 0:e.showFeedCF),a=this.getInCoolDown();i&&a&&s.YT.addOrUpdateTmplProperty("feedCFBlocked","1"),i&&!a&&(this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF("feedLevelCF"),this.shouldDisplayFeedLevelCF=!0)},this.triggerCFDisplayIfConditionMet=(e,i)=>{if(this.thumbnailCardData)return;const a=e.defaultLayout[0],n=a.wpoMetadata;let t=(null==n?void 0:n.cFMetadataType)||(null==a?void 0:a.type);const l=null==n?void 0:n.isGA,o=this.getInCoolDown();if(l&&o&&s.YT.addOrUpdateTmplProperty("cardCFBlocked",n.cfId||"1"),l&&!o){var r;n.cfId||(n.cfId="00002",t=g.pL.Article);let l=null===(r=e.C1)||void 0===r?void 0:r[0];l&&l.mapRawData&&(l=l.mapRawData()),this.thumbnailCardData={...a,...l,cardSize:"1u",colSpan:1,cFMetadataType:t},this.thumbnailCardTemplate=i,this.isThumbnailCardInWhiteList()&&this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF(n.cfId)}},this.shouldDisplayCSAT=e=>this.getInCoolDown()?(s.YT.addOrUpdateTmplProperty("cardCFBlocked",e||"1"),!1):(this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF(e),!0),this.callNurturingToTriggerCF=e=>{const i={id:"popupCF",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"ContextualFeedbackCardLevel"},contentModel:{title:"cf title",description:"cf description",contentType:t.r.CallToChoice,choiceOptions:[]}};(0,d.sn)().then(a=>{a.sendInternalPlacement(i),s.YT.addOrUpdateTmplProperty("cfNurturingCalled",e||"1")})};const e=new URLSearchParams(window.location.search);this.forceDisableCoolDown=!(null==e||!e.get("forceCSATCoolDown")),this.forceFeedLevelCSATsignal=!(null==e||!e.get("forceCSATSignal"))}static getInstance(){return l.vv.get("__contextualFeedbackController__",()=>new A)}getInCoolDown(){return!this.forceDisableCoolDown&&(void 0===this.inCoolDown&&(this.inCoolDown=this.hasRecentShown()),this.inCoolDown)}resetInCoolDown(){this.inCoolDown=void 0}hasRecentShown(){const e=(0,c.Lg)().getObject("isGAShow");if(!e)return!1;const i=new Date(e.universal);return((new Date).getTime()-i.getTime())/864e5<=14}isThumbnailCardInWhiteList(){var e;return this.config.thumbnailCardType===(null===(e=this.thumbnailCardData)||void 0===e?void 0:e.childTemplateType)}}(0,n.Cg)([r.sH],A.prototype,"shouldDisplayFeedLevelCF",void 0),(0,n.Cg)([r.sH],A.prototype,"thumbnailCardData",void 0),(0,n.Cg)([r.sH],A.prototype,"thumbnailCardTemplate",void 0);const m=(0,o.G)(A)}}]);