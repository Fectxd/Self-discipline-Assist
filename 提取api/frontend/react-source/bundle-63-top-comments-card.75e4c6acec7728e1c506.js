"use strict";(self.homePageWebpackChunks=self.homePageWebpackChunks||[]).push([["top-comments-card"],{4968:function(t,e,o){o.d(e,{f:function(){return l}});var i=o(64187),n=o(74849),r=o(42792),s=o(99657),a=o(36452);const l=n.A.partial`position: relative; z-index: ${s.D};`;n.A`
    ${r.e}
    ${r.nH}

    ${(0,i.V)("grid")} :host {
        grid-template-rows: auto 1fr minMax(16px, auto);
        grid-template-columns: 100%;
        ${l}
    }

    .content {
        padding: 0 var(--sd-card-content-padding-inline, 16px);
        overflow: hidden;
    }

    ::slotted([slot="header"]) {
        grid-row: 1;
    }
    ::slotted([slot="footer"]) {
        grid-row: 3;
    }

    ::slotted([slot="image"]) {
        position: absolute;
        bottom: 0;
        right: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
    }

    /* Ensure neutral buttons have a stroke per the design */
    ::slotted(fluent-button[appearance="neutral"]),
    ::slotted(fluent-anchor[appearance="neutral"]) {
        border: 1px solid ${a.I2};
    }

    ::slotted(fluent-button[appearance="neutral"]:hover),
    ::slotted(fluent-anchor[appearance="neutral"]:hover) {
        border-color: ${a.mb};
    }

    ::slotted(fluent-button[appearance="neutral"]:active),
    ::slotted(fluent-anchor[appearance="neutral"]:active) {
        border-color: ${a.MY};
    }

    .header-overlay,
    .footer-overlay {
        position: absolute;
        background: rgba(255, 255, 255, 0.46);
        height: 100%;
        width: 100%;
        opacity: 0;
    }

    .header-overlay {
        grid-row: 1 / span 1;
    }

    .footer-overlay {
        grid-row: 3 / span 1;
    }

    .gradient {
        position: absolute;
        grid-row: 2 / span 1;
        height: 100%;
        width: 100%;
        opacity: 0;
        background: linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.46) 0%,
            rgba(255, 255, 255, 0) 22%,
            rgba(255, 255, 255, 0) 86%,
            rgba(255, 255, 255, 0.46) 100%
        );
    }

    @media (prefers-color-scheme: dark) {
        .header-overlay,
        .footer-overlay {
            background: rgba(0, 0, 0, 0.54);
        }

        .gradient {
            background: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.54) 0%,
                rgba(0, 0, 0, 0) 22%,
                rgba(0, 0, 0, 0) 86%,
                rgba(0, 0, 0, 0.54) 100%
            );
        }
    }

    :host([immersive-card]) .header-overlay,
    :host([immersive-card]) .footer-overlay,
    :host([immersive-card]) .gradient {
        opacity: 1;
    }
`.withBehaviors(r.kc)},6241:function(t,e,o){o.r(e),o.d(e,{sendContentReaction:function(){return n}});var i=o(6817);const n=t=>{const{actionPosition:e,reset:o,id:n,localStorageSave:r,reactionType:s,url:a}=t,l=t.item||i.ll.contents;o?i.l.sendResetReaction({actionPosition:e,item:l,id:n,localStorageSave:r,reactionType:null,url:a}):i.l.sendReaction({actionPosition:e,item:l,id:n,reactionType:s,localStorageSave:r,url:a})}},21868:function(t,e,o){o.d(e,{BinaryReactionType:function(){return n.hr},ItemTypes:function(){return r.ll},SocialServiceAdapter:function(){return i}});var i=o(6241),n=o(88312),r=o(6817)},25717:function(t,e,o){o.d(e,{T:function(){return n}});var i=o(96950);function n(){return i.qy`
        <slot></slot>
    `}},37256:function(t,e,o){o.d(e,{R:function(){return p}});var i=o(64187),n=o(22131),r=o(74849),s=o(50882),a=o(37998),l=o(57416),c=o(95239),d=o(48751);const p=r.A`
    ${(0,i.V)("block")} :host {
        --elevation: 4;
        display: block;
        contain: content;
        height: var(--card-height, 100%);
        width: var(--card-width, 100%);
        box-sizing: border-box;
        background: ${c.p};
        color: ${d.l};
        border-radius: calc(${l.JU} * 1px);
        ${a.ET}
    }

    :host(:hover) {
        --elevation: 8;
    }

    :host(:focus-within) {
        --elevation: 8;
    }

    :host {
        content-visibility: auto;
    }
`.withBehaviors((0,n.mr)(r.A`
            :host {
                forced-color-adjust: none;
                background: ${s.A.Canvas};
                box-shadow: 0 0 0 1px ${s.A.CanvasText};
            }
        `))},38380:function(t,e,o){o.d(e,{v:function(){return i}});const i=(0,o(25717).T)()},53210:function(t,e,o){o.d(e,{$l:function(){return S},C5:function(){return i},E8:function(){return m},Ej:function(){return z},KC:function(){return I},NW:function(){return C},YO:function(){return f},YP:function(){return P},Yj:function(){return k},_k:function(){return d},ai:function(){return $},eu:function(){return x},lq:function(){return y},me:function(){return w},tf:function(){return v},vA:function(){return p},vP:function(){return b},vt:function(){return u},zM:function(){return g}});class i extends TypeError{constructor(t,e){let o;const{message:i,explanation:n,...r}=t,{path:s}=t,a=0===s.length?i:`At path: ${s.join(".")} -- ${i}`;super(n??a),null!=n&&(this.cause=a),Object.assign(this,r),this.name=this.constructor.name,this.failures=()=>o??(o=[t,...e()])}}function n(t){return"object"==typeof t&&null!=t}function r(t){return n(t)&&!Array.isArray(t)}function s(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function a(t,e,o,i){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:n,branch:r}=e,{type:a}=o,{refinement:l,message:c=`Expected a value of type \`${a}\`${l?` with refinement \`${l}\``:""}, but received: \`${s(i)}\``}=t;return{value:i,type:a,refinement:l,key:n[n.length-1],path:n,branch:r,...t,message:c}}function*l(t,e,o,i){var r;n(r=t)&&"function"==typeof r[Symbol.iterator]||(t=[t]);for(const n of t){const t=a(n,e,o,i);t&&(yield t)}}function*c(t,e,o={}){const{path:i=[],branch:r=[t],coerce:s=!1,mask:a=!1}=o,l={path:i,branch:r,mask:a};s&&(t=e.coercer(t,l));let d="valid";for(const i of e.validator(t,l))i.explanation=o.message,d="not_valid",yield[i,void 0];for(let[p,u,h]of e.entries(t,l)){const e=c(u,h,{path:void 0===p?i:[...i,p],branch:void 0===p?r:[...r,u],coerce:s,mask:a,message:o.message});for(const o of e)o[0]?(d=null!=o[0].refinement?"not_refined":"not_valid",yield[o[0],void 0]):s&&(u=o[1],void 0===p?t=u:t instanceof Map?t.set(p,u):t instanceof Set?t.add(u):n(t)&&(void 0!==u||p in t)&&(t[p]=u))}if("not_valid"!==d)for(const i of e.refiner(t,l))i.explanation=o.message,d="not_refined",yield[i,void 0];"valid"===d&&(yield[void 0,t])}class d{constructor(t){const{type:e,schema:o,validator:i,refiner:n,coercer:r=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=o,this.entries=s,this.coercer=r,this.validator=i?(t,e)=>l(i(t,e),e,this,t):()=>[],this.refiner=n?(t,e)=>l(n(t,e),e,this,t):()=>[]}assert(t,e){return p(t,this,e)}create(t,e){return u(t,this,e)}is(t){return h(t,this)}mask(t,e){return function(t,e,o){const i=v(t,e,{coerce:!0,mask:!0,message:o});if(i[0])throw i[0];return i[1]}(t,this,e)}validate(t,e={}){return v(t,this,e)}}function p(t,e,o){const i=v(t,e,{message:o});if(i[0])throw i[0]}function u(t,e,o){const i=v(t,e,{coerce:!0,message:o});if(i[0])throw i[0];return i[1]}function h(t,e){return!v(t,e)[0]}function v(t,e,o={}){const n=c(t,e,o),r=function(t){const{done:e,value:o}=t.next();return e?void 0:o}(n);if(r[0]){return[new i(r[0],function*(){for(const t of n)t[0]&&(yield t[0])}),void 0]}return[void 0,r[1]]}function m(t,e){return new d({type:t,schema:null,validator:e})}function f(t){return new d({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[o,i]of e.entries())yield[o,i,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${s(t)}`})}function g(){return m("boolean",t=>"boolean"==typeof t)}function b(t){const e={},o=t.map(t=>s(t)).join();for(const o of t)e[o]=o;return new d({type:"enums",schema:e,validator:e=>t.includes(e)||`Expected one of \`${o}\`, but received: ${s(e)}`})}function x(t){const e=s(t),o=typeof t;return new d({type:"literal",schema:"string"===o||"number"===o||"boolean"===o?t:null,validator:o=>o===t||`Expected the literal \`${e}\`, but received: ${s(o)}`})}function w(t){return new d({...t,validator:(e,o)=>null===e||t.validator(e,o),refiner:(e,o)=>null===e||t.refiner(e,o)})}function $(){return m("number",t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${s(t)}`)}function y(t){return new d({...t,validator:(e,o)=>void 0===e||t.validator(e,o),refiner:(e,o)=>void 0===e||t.refiner(e,o)})}function k(){return m("string",t=>"string"==typeof t||`Expected a string, but received: ${s(t)}`)}function C(t){const e=Object.keys(t);return new d({type:"type",schema:t,*entries(o){if(n(o))for(const i of e)yield[i,o[i],t[i]]},validator:t=>r(t)||`Expected an object, but received: ${s(t)}`,coercer:t=>r(t)?{...t}:t})}function I(t){const e=t.map(t=>t.type).join(" | ");return new d({type:"union",schema:null,coercer(e,o){for(const i of t){const[t,n]=i.validate(e,{coerce:!0,mask:o.mask});if(!t)return n}return e},validator(o,i){const n=[];for(const e of t){const[...t]=c(o,e,i),[r]=t;if(!r[0])return[];for(const[e]of t)e&&n.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${s(o)}`,...n]}})}function T(t){return t instanceof Map||t instanceof Set?t.size:t.length}function S(t){return P(t,"nonempty",e=>T(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function z(t,e,o=e){const i=`Expected a ${t.type}`,n=e===o?`of \`${e}\``:`between \`${e}\` and \`${o}\``;return P(t,"size",t=>{if("number"==typeof t||t instanceof Date)return e<=t&&t<=o||`${i} ${n} but received \`${t}\``;if(t instanceof Map||t instanceof Set){const{size:r}=t;return e<=r&&r<=o||`${i} with a size ${n} but received one with a size of \`${r}\``}{const{length:r}=t;return e<=r&&r<=o||`${i} with a length ${n} but received one with a length of \`${r}\``}})}function P(t,e,o){return new d({...t,*refiner(i,n){yield*t.refiner(i,n);const r=l(o(i,n),n,t,i);for(const t of r)yield{...t,refinement:e}}})}},62481:function(t,e,o){o.r(e),o.d(e,{ToolingInfo:function(){return Nt},TopCommentsCard:function(){return $t},TopCommentsCardConfigSchema:function(){return f},TopCommentsCardStyles:function(){return jt},TopCommentsCardTemplate:function(){return Dt}});var i,n,r=o(75003),s=o(37180),a=o(45899),l=o(4731),c=o(44767),d=o(73079),p=o(4151),u=o(19249),h=o(31753);!function(t){t.object="object",t.string="string",t.number="number",t.boolean="boolean",t.array="array",t.null="null"}(i||(i={})),function(t){t.anyOf="anyOf",t.additionalProperties="additionalProperties",t.const="const",t.default="default",t.description="description",t.enum="enum",t.filter="filter",t.id="id",t.items="items",t.oneOf="oneOf",t.pattern="pattern",t.properties="properties",t.propertyNames="propertyNames",t.required="required",t.title="title",t.type="type"}(n||(n={}));const v=(t,e,o,r,s)=>{const a=r?{[n.required]:r}:null;return{[n.title]:t,[n.type]:i.object,[n.description]:e||t,[n.properties]:o,...a,...s||{}}};var m=o(84855);const f=(g=m.DZv,{...v(g,"TopCommentsCard Web Component experience",{},b,x),$id:g,$schema:"http://json-schema.org/schema#"});var g,b,x,w=o(56911),$=o(60815),y=o(38493),k=o(21481),C=o(930),I=o(48622),T=o(65022),S=o(70177),z=o(98216),P=o(11372),U=o(54030),D=o(87518);const A="TopCommentsCard",E="destination";var O,M,W,V,F,L,R,j,N=o(5044),_=o(63150),B=o(94425),H=o(53210),q=o(17254);const Y=["zh-cn","id-id","th-th"];var K,J;!function(t){t.cricket="cricket",t.music="music",t.movie="movie"}(K||(K={})),function(t){t.default="top-cmts-default",t.oss="top-cmts-oss",t.shortTitle="top-cmts-oss",t.popularTitle1="top-cmts-oss",t.populartitle2="top-cmts-oss-2",t.popularTitlePL="top-cmts-pl",t.popularTitlePR="top-cmts-pr"}(J||(J={}));const X=["Icon","IconAtt","UpVoteIconDark","UpVoteIconLight","CmtsIcon","CricketIcon","MovieIcon","MusicIcon"],G=new Map([["Icon",`${(null===(O=(0,q.rA)())||void 0===O?void 0:O.StaticsUrl)??""}latest/icons/TopCmtsLogo.svg`],["IconAtt",`${(null===(M=(0,q.rA)())||void 0===M?void 0:M.StaticsUrl)??""}latest/icons/TopCmtsLogoAttract.svg`],["UpVoteIconDark",`${(null===(W=(0,q.rA)())||void 0===W?void 0:W.StaticsUrl)??""}latest/icons/upVoteIcon_dark.svg`],["UpVoteIconLight",`${(null===(V=(0,q.rA)())||void 0===V?void 0:V.StaticsUrl)??""}latest/icons/upVoteIcon_light.svg`],["CmtsIcon",`${(null===(F=(0,q.rA)())||void 0===F?void 0:F.StaticsUrl)??""}latest/icons/cmtsIcon_light.svg`],["CricketIcon",`${(null===(L=(0,q.rA)())||void 0===L?void 0:L.StaticsUrl)??""}latest/icons/TopCmtsCricket.svg`],["MovieIcon",`${(null===(R=(0,q.rA)())||void 0===R?void 0:R.StaticsUrl)??""}latest/icons/TopCmtsMovie.svg`],["MusicIcon",`${(null===(j=(0,q.rA)())||void 0===j?void 0:j.StaticsUrl)??""}latest/icons/TopCmtsMusic.svg`]]),Q=(0,H.NW)({commentSummary:(0,H.lq)((0,H.NW)({totalCount:(0,H.ai)(),subCommentSummaries:(0,H.lq)((0,H.YO)((0,H.NW)({totalCount:(0,H.ai)(),type:(0,H.Yj)()})))}))}),Z=(0,H.NW)({reactionSummary:(0,H.lq)((0,H.NW)({totalCount:(0,H.ai)(),subReactionSummaries:(0,H.lq)((0,H.YO)((0,H.NW)({totalCount:(0,H.ai)(),type:(0,H.Yj)()})))}))}),tt=(0,H.NW)({title:(0,H.Yj)(),url:(0,H.Yj)(),id:(0,H.Yj)(),provider:(0,H.NW)({id:(0,H.Yj)(),logoUrl:(0,H.Yj)(),name:(0,H.Yj)(),profileId:(0,H.Yj)()}),locale:(0,H.Yj)()}),et=(0,H.YO)((0,H.NW)({...tt.schema,...Z.schema})),ot=(0,H.YO)((0,H.NW)({...tt.schema,...Q.schema})),it=((0,H.lq)((0,H.NW)({feed:(0,H.NW)({feedName:(0,H.Yj)(),id:(0,H.Yj)(),canonicalName:(0,H.Yj)()})})),new Map([["TopCommentsToHideCardError",{msg:"TopComments hide card error",code:T.FE0}],["TopCommentsInitTelemetryError",{msg:"TopComments init telemetry context is failed",code:T.noR}],["TopCommentsDataFormatError",{msg:"TopComments data format error in Service context response",code:T.TT_}],["TopCommentsDataMissError",{msg:"TopComments missing data in Service context response",code:T.ATb}],["TopCommentsCanonicalNameError",{msg:"TopComments missing canonical name in Service context response",code:T.jWv}],["TopCommentsFeedsError",{msg:"TopComments Feeds type is wrong in Service context response",code:T.thp}]]));var nt=o(93468);const rt=(t,e)=>{var o,i;return t?((null==e||null===(o=e.reactionSummary)||void 0===o||null===(o=o.subReactionSummaries)||void 0===o||null===(o=o.filter(t=>"upvote"===t.type))||void 0===o||null===(o=o[0])||void 0===o?void 0:o.totalCount)??0)+"":((null==e||null===(i=e.commentSummary)||void 0===i?void 0:i.totalCount)??0)+""};function st(t){return!!(t&&(null==t?void 0:t.scrollHeight)>(null==t?void 0:t.offsetHeight)+2)}function at(t,e,o){const i=o.value;o.value=function(t){try{return i.call(this,t)}catch(t){const e=t,o=it.get(e);o&&(0,nt.vV)(o.code,o.msg)}}}var lt=o(6241),ct=o(88312);class dt{constructor(t,e){this.flihgtIdObj=t,this.target=e}excludeObject2Arr(t,e){const o={...t};return delete o[e],Object.keys(o).reduce((t,e)=>(t.push(o[e]??!1),t),[])}checkExKeyAndOthers(t,e){if(!t[e])return!1;const o={...t};return delete o[e],delete o.enableOSS,Object.values(o).every(t=>!t)}flightIdDataTransferHelp(t,e,o,i){var n,r,s;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mpstories";this.target.sizeInPage=t,this.target.topCmtsData=null===(n=this.target.topCmtsData)||void 0===n?void 0:n.slice(0,e),this.target.topCmtsDataLength=this.target.topCmtsData?this.target.topCmtsData.length:0,this.target.getUXClassName=`top-cmts-${o}`;const l=void 0!==(null===(r=this.target)||void 0===r||null===(r=r.strings)||void 0===r?void 0:r[a])&&"string"==typeof a?null===(s=this.target)||void 0===s||null===(s=s.strings)||void 0===s?void 0:s[a]:a;if(void 0!==this.target.superCardData){var c;const t=((null===(c=this.target.superCardData)||void 0===c||null===(c=c.headerData)||void 0===c?void 0:c.titleNavigationLink)??"").replace(/(?<=channel\/topic\/)(.*?)(?=\/tp-)/,l);this.target.superCardData.headerData={...this.target.superCardData.headerData,headerLogo:G.get(i),title:l},this.target.superCardData.footerData.paginationData.pageCount=Math.ceil(this.target.topCmtsData.length/this.target.sizeInPage),this.target.superCardData.headerData.titleNavigationLink=t,this.target.superCardData&&this.target.superCardData.footerData&&this.target.superCardData.footerData.footerLink&&this.target.superCardData.footerData.footerLink.navigationUrl&&(this.target.superCardData.footerData.footerLink.navigationUrl=t)}}}var pt=class extends dt{constructor(t,e){super(t,e)}handle(){if(this.checkExKeyAndOthers(this.flihgtIdObj,"enableShortTitle")&&this.target.enableShortTitle&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData){this.flightIdDataTransferHelp(3,9,"pr","IconAtt"),this.target.topCmtsData=this.target.topCmtsData.filter(t=>Array.isArray(t.images)&&t.images.length>0);const t=this.target.topCmtsData.reduce((t,e)=>(null!=e.shortTitle&&(t[e.shortTitle]?t[e.shortTitle]+=1:t[e.shortTitle]=1),t),{}),e=Object.entries(t);if(Array.isArray(e)&&e.length>0){const t=e.sort((t,e)=>parseInt(e[1])-parseInt(t[1]));return parseInt((this.target.topCmtsData.length/2).toFixed(0))<=t[0][1]&&t[0][1]>=2&&(this.target.superCardData.headerData={...this.target.superCardData.headerData,title:t[0][0]},this.flightIdDataTransferHelp(3,9,"pr","IconAtt",t[0][0])),!0}}return!1}};var ut=class extends dt{constructor(t,e){super(t,e)}handle(){return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enablePopularTitle2")&&this.target.enablePopularTitle2&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.target.topCmtsData.every(t=>t.shortTitle===K.cricket)?this.flightIdDataTransferHelp(1,3,"oss-2","CricketIcon","mpcricket"):this.target.topCmtsData.every(t=>t.shortTitle===K.movie)?this.flightIdDataTransferHelp(1,3,"oss-2","MovieIcon","mpmovies"):this.target.topCmtsData.every(t=>t.shortTitle===K.music)?this.flightIdDataTransferHelp(1,3,"oss-2","MusicIcon","mpmusic"):this.flightIdDataTransferHelp(1,3,"oss-2","IconAtt"),!0)}};var ht=class extends dt{constructor(t,e){super(t,e)}handle(){return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enablePopularTitlePR")&&this.target.enablePopularTitlePR&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.target.topCmtsData.every(t=>t.shortTitle===K.cricket)?this.flightIdDataTransferHelp(3,9,"pr","CricketIcon","mpcricket"):this.target.topCmtsData.every(t=>t.shortTitle===K.movie)?this.flightIdDataTransferHelp(3,9,"pr","MovieIcon","mpmovies"):this.target.topCmtsData.every(t=>t.shortTitle===K.music)?this.flightIdDataTransferHelp(3,9,"pr","MusicIcon","mpmusic"):this.flightIdDataTransferHelp(3,9,"pr","IconAtt"),!0)}};var vt=class extends dt{constructor(t,e){super(t,e)}handle(){return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enablePopularTitlePL")&&this.target.enablePopularTitlePL&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.target.topCmtsData.every(t=>t.shortTitle===K.cricket)?this.flightIdDataTransferHelp(3,9,"pl","CricketIcon","mpcricket"):this.target.topCmtsData.every(t=>t.shortTitle===K.movie)?this.flightIdDataTransferHelp(3,9,"pl","MovieIcon","mpmovies"):this.target.topCmtsData.every(t=>t.shortTitle===K.music)?this.flightIdDataTransferHelp(3,9,"pl","MusicIcon","mpmusic"):this.flightIdDataTransferHelp(3,9,"pl","IconAtt"),!0)}};var mt=class extends dt{constructor(t,e){super(t,e)}handle(){return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enablePopularTitle1")&&this.target.enablePopularTitle1&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.target.topCmtsData.every(t=>t.shortTitle===K.cricket)?this.flightIdDataTransferHelp(3,9,"oss","CricketIcon","mpcricket"):this.target.topCmtsData.every(t=>t.shortTitle===K.movie)?this.flightIdDataTransferHelp(3,9,"oss","MovieIcon","mpmovies"):this.target.topCmtsData.every(t=>t.shortTitle===K.music)?this.flightIdDataTransferHelp(3,9,"oss","MusicIcon","mpmusic"):this.flightIdDataTransferHelp(3,9,"oss","IconAtt"),!0)}};var ft=class extends dt{constructor(t,e){super(t,e)}handle(){var t;return!!(this.excludeObject2Arr(this.flihgtIdObj,"enableOSS").every(t=>!t)&&this.target.enableOSS&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.flightIdDataTransferHelp(3,9,"oss","Icon",(null===(t=this.target)||void 0===t||null===(t=t.cardMetadata)||void 0===t||null===(t=t.feed)||void 0===t?void 0:t.feedName)??""),!0)}};var gt=class extends dt{constructor(t,e){super(t,e)}handle(){return!(!this.checkExKeyAndOthers(this.flihgtIdObj,"enableUxPd")||!this.target.enableUxPd)&&("top-cmts-default"!==this.target.getUXClassName||!this.target.enableUxPd||(this.target.getUXClassName="top-cmts-default-reaction",!0))}};var bt=class extends dt{constructor(t,e){super(t,e)}handle(){var t;return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enableOSSP")&&this.target.enableOSSP&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.flightIdDataTransferHelp(3,9,"oss-p","Icon",(null===(t=this.target)||void 0===t||null===(t=t.cardMetadata)||void 0===t||null===(t=t.feed)||void 0===t?void 0:t.feedName)??""),!0)}};var xt=class extends dt{constructor(t,e){super(t,e)}handle(){var t;return!!(this.checkExKeyAndOthers(this.flihgtIdObj,"enableUpVote")&&this.target.enableUpVote&&Array.isArray(this.target.topCmtsData)&&this.target.superCardData&&void 0!==this.target.superCardData.headerData)&&(this.flightIdDataTransferHelp(3,9,"uv","Icon",(null===(t=this.target)||void 0===t||null===(t=t.cardMetadata)||void 0===t||null===(t=t.feed)||void 0===t?void 0:t.feedName)??""),!0)}};var wt=class{constructor(){this.flightIdsQueue=[]}init(t){const e={enableOSS:t.enableOSS,enableShortTitle:t.enableShortTitle,enablePopularTitle2:t.enablePopularTitle2,enablePopularTitle1:t.enablePopularTitle1,enableUxPd:t.enableUxPd,enablePopularTitlePR:t.enablePopularTitlePR,enablePopularTitlePL:t.enablePopularTitlePL,enableUpVote:t.enableUpVote,enableOSSP:t.enableOSSP};this.flightIdsQueue=[new pt(e,t),new ut(e,t),new ht(e,t),new vt(e,t),new mt(e,t),new ft(e,t),new bt(e,t),new gt(e,t),new xt(e,t)]}flightIdConfiguration(t,e){e.forEach(e=>{t[e]=t.config[e]??!1}),this.init(t)}flightIdPolling(){for(const t of this.flightIdsQueue)if(null!=t&&t.handle())break}};class $t extends k.U{constructor(){super(),this.isHalfCard=!1,this.currentIndex=0,this.isLight=!0,this.target="_blank",this.getUXClassName="top-cmts-default",this.reactionMkt=!1,this.enableUnderLine=!1,this.enableUxPd=!1,this.enableUpVote=!1,this.enableOSS=!1,this.enableShortTitle=!1,this.enablePopularTitle1=!1,this.enablePopularTitle2=!1,this.enablePopularTitlePL=!1,this.enablePopularTitlePR=!1,this.enableOSSP=!1,this.topCmtsDataLength=0,this.sizeInPage=6,this.handleSetTitleOnMouseEnter=t=>{var e;const o=t.target;if(!o)return;const i=null===(e=o.childNodes)||void 0===e?void 0:e.length;if(i)for(let t=i-1;t>=0;t--)if(o.childNodes[t].className.includes("topCmtsNewsTitle")){!st(o.childNodes[t])&&o.setAttribute("title","");break}},this.hideCard=this.hideCard.bind(this),this.moreSettingsAction=this.moreSettingsAction.bind(this)}experienceConnected(){var t;this.extractFeedData(),this.topCmtsDataLength=this.topCmtsData?this.topCmtsData.length:0,this.cardLayout||(this.cardLayout=this.isWidgetRegion?C.uE._1x_1y:C.uE._1x_2y),this.isHalfCard=this.cardLayout===C.uE._1x_1y,this.isHalfCard&&(this.sizeInPage=3),this.superCardData=((t,e)=>{var o,i,n,r,s,a,l,c,d,p,u,h;const v=null===z.YT||void 0===z.YT?void 0:z.YT.getRequestId(),m=(0,N.En)(),f=null!==_.U0&&void 0!==_.U0&&_.U0.isDhpPage()?"msedgdhp":"msedgntp",g=m??f,b=(null==e||null===(o=e.feed)||void 0===o?void 0:o.feedName)??"",x=`${(0,B.t7)(`channel/topic/${b}/tp-${null==e||null===(i=e.feed)||void 0===i?void 0:i.id}`)}?ocid=${g}&cvid=${v}`,w={text:null==t||null===(n=t.strings)||void 0===n?void 0:n.seeMore,navigationUrl:`${x}`};return{id:null==t?void 0:t.id,gridArea:"",childTemplateType:"",cardSize:null==t?void 0:t.cardLayout,headerData:{headerLogo:G.get("Icon"),isEventCard:!0,title:b,titleNavigationLink:x,actionMenuData:{hideCardCallback:null==t?void 0:t.hideCard,moreSettingsPersonalizeCallback:null==t?void 0:t.moreSettingsAction,turnOffWidgetsRegionCallback:()=>{var e;null==t||null===(e=t.turnOffWidgetsRegion)||void 0===e||e.call(t)},manageWidgetsRegionCallback:()=>{var e;null==t||null===(e=t.manageWidgetsRegion)||void 0===e||e.call(t)}},isActionMenuAvailable:!t.config.hideActionMenu,isWidgetRegion:(null==t?void 0:t.isWidgetRegion)??!1},footerData:{footerLink:null!==(r=t.config)&&void 0!==r&&r.enableUxPd||!(null!==(s=t.config)&&void 0!==s&&s.enableOSS||null!==(a=t.config)&&void 0!==a&&a.enablePopularTitlePR||null!==(l=t.config)&&void 0!==l&&l.enablePopularTitle2||null!==(c=t.config)&&void 0!==c&&c.enablePopularTitle1||null!==(d=t.config)&&void 0!==d&&d.enablePopularTitlePL||null!==(p=t.config)&&void 0!==p&&p.enableShortTitle||null!==(u=t.config)&&void 0!==u&&u.enableOSSP||null!==(h=t.config)&&void 0!==h&&h.enableUpVote)?void 0:w,paginationData:{currentPageIndex:1,onFlipperClick:(e,o)=>{t.onFlipperClick(e)},onDotClick:(e,o)=>{t.onDotClick(e)},pageCount:Math.ceil((null==t?void 0:t.topCmtsDataLength)/(null==t?void 0:t.sizeInPage))},isWidgetRegion:t.isWidgetRegion},parentTelemetryObject:null==t?void 0:t.parentTelemetry,contextualFeedbackData:null!=t&&t.cardMetadata&&null!=t&&t.cardMetadata.wpoMetadata&&null!=t&&t.cardMetadata.wpoMetadata.isGA?{cFId:null==t?void 0:t.cardMetadata.wpoMetadata.cfId}:void 0}})(this,this.cardMetadata),this.initTelemetry(),this.flightIdDataTransfer(),window.setTimeout(()=>{var t,e,o;null==this||null===(t=this.shadowRoot)||void 0===t||null===(e=t.querySelector)||void 0===e||null===(e=e.call(t,"responsive-sd-card"))||void 0===e||null===(e=e.shadowRoot)||void 0===e||null===(o=e.querySelector)||void 0===o||null===(o=o.call(e,"responsive-header"))||void 0===o||o.setAttribute("style","position: relative")}),this.isLight=(null===(t=window)||void 0===t||null===(t=t.matchMedia("(prefers-color-scheme: light)"))||void 0===t?void 0:t.matches)??!0}shadowDomPopulated(){this.topCmtsData&&(this.flightIdDataTransfer(),this.markVisuallyReadyRaf()),(0,S._Z)(this).then(async()=>{this.config.enableOpenContentInSelf&&(this.target="_self")})}initTelemetry(){if(this.topCmtsTelemetryContext=((t,e,o)=>{var i;const n=(null==e||null===(i=e.contract)||void 0===i?void 0:i.ext)??{};Object.assign(n,{recoId:z.YT.getRequestId(),ri:z.YT.getRequestId(),cid1s:z.YT.getRequestId()});const r={componentRoot:e?(0,U.u)(A,{...e.contract,ext:n}):(0,U.u)(A,{type:P.MJ.Module})};return null==o||o.map(t=>{const e={headline:t.title,type:P.b5.Article,vertical:A,id:t.id},o=(0,D.g)(E,e,P.MS.Navigate,P.EG.Click,n,{destinationUrl:t.url}),i=(0,D.g)(t.isReaction?"Upvote":"Comment",{headline:t.isReaction?"Upvote":"Comment",type:P.b5.Article,vertical:A,id:t.id,category:t.isReaction?"other":"opinion"},P.MS.Navigate,P.EG.Click,{destinationUrl:t.url}),r=(0,D.g)("UndoUpVote",{headline:"UndoUpVote",type:P.b5.Article,vertical:A,id:t.id,category:"other"},P.MS.Navigate,P.EG.Click,{destinationUrl:t.url});t.telemetryTag=null==o?void 0:o.getMetadataTag(),t.telemetrySubTag=null==i?void 0:i.getMetadataTag(),t.telemetrySubTagUndoUpVote=null==r?void 0:r.getMetadataTag()}),r})(this.telemetryObject,this.parentTelemetry,this.topCmtsData),!this.topCmtsTelemetryContext)throw"TopCommentsInitTelemetryError"}extractFeedData(){var t,e,o;if(this.canonicalName=null===(t=this.cardMetadata)||void 0===t||null===(t=t.feed)||void 0===t?void 0:t.canonicalName,!Array.isArray(null===(e=this.cardMetadata)||void 0===e?void 0:e.subCards))throw"TopCommentsDataMissError";this.topCmtsData=this.transData(null===(o=this.cardMetadata)||void 0===o?void 0:o.subCards).map(t=>{var e;return{...t,logoUrl:(null==t||null===(e=t.logoUrl)||void 0===e?void 0:e.length)>0?`${t.logoUrl}?w=20&h=20`:""}}),this.reactionMkt&&(this.getUXClassName="top-cmts-default-reaction")}flightIdDataTransfer(){var t;this.flightIdPort=new wt,this.flightIdPort.flightIdConfiguration(this,["enableUxPd","enableUnderLine","enableUpVote","enableUxPd","enableOSS","enableShortTitle","enablePopularTitle1","enablePopularTitle2","enablePopularTitlePR","enableOSSP","enablePopularTitlePL"]),null===(t=this.flightIdPort)||void 0===t||t.flightIdPolling()}moreSettingsAction(){this.goToPersonalizeSettingsCallback?this.goToPersonalizeSettingsCallback():this.$emit("goToPersonalizeSettingsCallback")}async hideCard(){let t=!1;if(!this.canonicalName)throw"TopCommentsCanonicalNameWrong";return t=await I.d.disableSpotlightCard(this.canonicalName,T.HaU),t&&(this.isWidgetRegion?this.hideCardCallback?this.hideCardCallback():this.$emit("hideCardCallback"):this.refreshFeedCallback?this.refreshFeedCallback():this.$emit("refreshSDCardSection")),t}turnOffWidgetsRegion(){this.turnOffWidgetsRegionCallback?this.turnOffWidgetsRegionCallback():this.$emit("turnOffWidgetsRegion")}manageWidgetsRegion(){this.manageWidgetsRegionCallback?this.manageWidgetsRegionCallback():this.$emit("manageWidgetsRegion")}onFlipperClick(t){const e=Math.ceil(this.topCmtsDataLength/this.sizeInPage);if(t){let t=this.currentIndex+1;t>=e&&(t=0),this.currentIndex=t}else{let t=this.currentIndex-1;t<0&&(t=e-1),this.currentIndex=t}var o,i;this.superCardData&&this.superCardData.footerData&&this.superCardData.footerData.paginationData&&(this.superCardData={...this.superCardData,footerData:{...null===(o=this.superCardData)||void 0===o?void 0:o.footerData,paginationData:{...null===(i=this.superCardData)||void 0===i||null===(i=i.footerData)||void 0===i?void 0:i.paginationData,currentPageIndex:this.currentIndex+1}}})}getCmtsArticleContent(t){var e,o;const i=t*this.sizeInPage,n=t*this.sizeInPage+this.sizeInPage;return null===(e=this.topCmtsData)||void 0===e?void 0:e.slice(i,Math.min(n,null===(o=this.topCmtsData)||void 0===o?void 0:o.length))}getExperienceType(){return m.DZv}checkUpvote(t){return t.isReaction&&t.isLike}onReaction(t,e,o){var i,n,r;null!==(i=this.topCmtsData)&&void 0!==i&&i.length&&(((t,e)=>{var o;return Array.isArray(t)&&(null==t||null===(o=t[e])||void 0===o?void 0:o.isReaction)})(this.topCmtsData,e)&&(this.topCmtsData[e].isLike=!this.topCmtsData[e].isLike,this.topCmtsData[e].isLike?(this.topCmtsData=this.topCmtsData.map((t,o)=>({...t,cmtsCount:e===o?Number(t.cmtsCount)+1+"":t.cmtsCount+""})),lt.sendContentReaction({id:`${t}_${null===(n=this.topCmtsData[e])||void 0===n?void 0:n.locale}`,reactionType:ct.hr.upvote,reset:!1,actionPosition:"EdgeChromiumPageWC>WaterfallViewFeed>River>TopCommentCard>Card>Upvote"})):(this.topCmtsData=this.topCmtsData.map((t,o)=>({...t,cmtsCount:e===o?Number(t.cmtsCount)-1+"":t.cmtsCount+""})),lt.sendContentReaction({id:`${t}_${null===(r=this.topCmtsData[e])||void 0===r?void 0:r.locale}`,reactionType:ct.hr.upvote,reset:!0,actionPosition:"EdgeChromiumPageWC>WaterfallViewFeed>River>TopCommentCard>UndoUpvote"}))));return!1}onDotClick(t){void 0!==t&&(this.currentIndex=t,this.superCardData&&this.refreshFooterData())}refreshFooterData(){var t;null!==(t=this.superCardData)&&void 0!==t&&null!==(t=t.footerData)&&void 0!==t&&t.paginationData&&(this.superCardData={...this.superCardData,footerData:{...this.superCardData.footerData,paginationData:{...this.superCardData.footerData.paginationData,currentPageIndex:this.currentIndex+1}}})}transData(t){return t.map((t,e)=>{this.reactionMkt=Y.includes(null==t?void 0:t.locale);const o={...t,index:e,className:`top-cmts-content-index-${e+1}`,cmtsCount:rt(this.reactionMkt,t),logoUrl:t.provider.logoUrl??"",isReaction:this.reactionMkt};return o.isReaction?{...o,isLike:!1}:o})}}(0,w.Cg)([$.sH],$t.prototype,"topCmtsData",void 0),(0,w.Cg)([$.sH],$t.prototype,"superCardData",void 0),(0,w.Cg)([$.sH],$t.prototype,"isHalfCard",void 0),(0,w.Cg)([(0,y.CF)({attribute:"current-index"})],$t.prototype,"currentIndex",void 0),(0,w.Cg)([$.sH],$t.prototype,"topCmtsTelemetryContext",void 0),(0,w.Cg)([$.sH],$t.prototype,"isLight",void 0),(0,w.Cg)([$.sH],$t.prototype,"target",void 0),(0,w.Cg)([$.sH],$t.prototype,"getUXClassName",void 0),(0,w.Cg)([$.sH],$t.prototype,"reactionMkt",void 0),(0,w.Cg)([at],$t.prototype,"initTelemetry",null),(0,w.Cg)([at],$t.prototype,"extractFeedData",null),(0,w.Cg)([at],$t.prototype,"hideCard",null),(0,w.Cg)([function(t,e,o){const i=o.value;o.value=function(t){try{var e,o;null!=Y&&null!==(e=Y.includes)&&void 0!==e&&e.call(Y,null==t||null===(o=t[0])||void 0===o?void 0:o.locale)?(0,H.vA)(t,et):(0,H.vA)(t,ot);return i.call(this,t)}catch(t){const e=it.get("TopCommentsDataFormatError");return e&&(0,nt.vV)(e.code,e.msg),[]}}}],$t.prototype,"transData",null);var yt=o(96950),kt=o(91640),Ct=o(39957),It=o(77246);const Tt=function(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return X.includes(t)?yt.qy`<img src=${e=>G.get(t)} width=${o} height=${o} alt=${e} aria-hidden="true" loading="lazy"/>`:yt.qy`<img src=${t} width=${o} height=${o} alt=${e} aria-hidden="true" loading="lazy"/>`},St=yt.qy`<div @click=${(t,e)=>e.parent.onReaction(t.id,t.index,t.url)} data-t=${(t,e)=>e.parent.checkUpvote(t)?t.telemetrySubTagUndoUpVote:t.telemetrySubTag} role="button">${t=>t.isLike?yt.qy` ${(t,e)=>e.parent.isLight?Tt("UpVoteIconDark","UpVoteIconLike"):Tt("UpVoteIconLight","UpVoteIconLike")}`:yt.qy` ${(t,e)=>e.parent.isLight?Tt("UpVoteIconLight","UpVoteIconUnLike"):Tt("UpVoteIconDark","UpVoteIconUnLike")} `} ${(0,kt.z)(t=>"0"!==t.cmtsCount,yt.qy`<p class="top-cmts-count-text">${t=>t.cmtsCount}</p>`)}</div>`,zt=yt.qy`<a href=${t=>`${t.url}#comments`} target="_blank" data-t=${t=>t.telemetrySubTag} aria-label="${(t,e)=>{var o;return`${t.cmtsCount} ${null===(o=e.parent.strings)||void 0===o?void 0:o.comments}`}}">${Tt("CmtsIcon","comments icon")} ${(0,kt.z)(t=>"0"!==t.cmtsCount,yt.qy`<p class="top-cmts-count-text">${t=>t.cmtsCount}</p>`)}</a>`,Pt=yt.qy` ${t=>void 0===t.isReaction||t.isReaction?yt.qy`<div class="top-cmts-count top-cmts-count-upvote">${St}</div>`:yt.qy`<div class="top-cmts-count top-cmts-count-cmt">${zt}</div>`}
`,Ut=yt.qy`<div class="${(t,e)=>e.parent.isHalfCard?`${e.parent.getUXClassName} topCmtsNews-hlafu`:`${e.parent.getUXClassName}`}"><a href=${t=>t.url} class="top-cmts-content" id=${t=>t.id} target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}><p class=${t=>`${t.className} top-cmts-content-index`}>${t=>t.index+1}</p><p class="top-cmts-content-title">${t=>t.title}</p>${(t,e)=>{var o;return yt.qy`${Tt(t.logoUrl,null===(o=e.parent.strings)||void 0===o?void 0:o.provider)}`}}</a><a href=${t=>t.url} class="top-cmts-content-oss" id=${t=>t.id} target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}><div>${(t,e)=>{var o;return yt.qy`${Tt(t.logoUrl,null===(o=e.parent.strings)||void 0===o?void 0:o.provider)}`}}<span>${t=>{var e;return null===(e=t.provider)||void 0===e?void 0:e.name}}</span>${(0,kt.z)(t=>void 0!==t.isReaction&&!t.isReaction&&parseInt(t.cmtsCount,10)>0&&(0,It.S)(),Pt)}</div><p class=${(t,e)=>e.parent.enableUnderLine?"top-cmts-content-title top-cmts-content-title-line":"top-cmts-content-title"}>${t=>t.title}</p></a><a href=${t=>t.url} class="top-cmts-content-oss-2" id=${t=>t.id} target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}>${t=>{var e;return yt.qy`${Tt(`${null===(e=t.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url}&w=268&h=140&qlt=90&c=1&rs=1&dpr=2&p=1`,"content thumbnail")}`}}<p>${(t,e)=>{var o;return yt.qy`${Tt(t.logoUrl,null===(o=e.parent.strings)||void 0===o?void 0:o.provider)}`}}<span>${t=>{var e;return null===(e=t.provider)||void 0===e?void 0:e.name}}</span></p><p class="top-cmts-content-title">${t=>t.title}</p></a><div class="top-cmts-content-p"><p class=${t=>`${t.className} top-cmts-content-index`}>${t=>t.index+1}</p><div class="top-cmts-content-thumbnail-start"><p class=${t=>`${t.className} top-cmts-content-index`}>${t=>t.index+1}</p>${t=>{var e;return Tt(`${null==t||null===(e=t.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url}&w=96&h=96&qlt=90&c=1&rs=`,"content thumbnail",96)}}</div><a href=${t=>t.url} id=${t=>t.id} class="top-cmts-content-popular" target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}><p class="top-cmts-content-p-title">${(t,e)=>{var o;return yt.qy`${Tt(t.logoUrl,null===(o=e.parent.strings)||void 0===o?void 0:o.provider)}`}}<span>${t=>{var e;return null===(e=t.provider)||void 0===e?void 0:e.name}}</span>${(0,kt.z)(t=>void 0!==t.isReaction&&!t.isReaction&&parseInt(t.cmtsCount,10)>0&&(0,It.S)(),Pt)}</p><p class="top-cmts-content-title">${t=>t.title}</p>${(0,kt.z)(t=>void 0!==t.isReaction&&!t.isReaction&&parseInt(t.cmtsCount,10)>0&&(0,It.S)(),Pt)}</a>${(t,e)=>{var o,i;return yt.qy`${Tt(`${null==t||null===(o=t.images)||void 0===o?void 0:o[0].url}&w=96&h=96&qlt=90&c=1&rs=`,null===(i=e.parent.strings)||void 0===i?void 0:i.provider,96)}`}}</div><div class="top-cmts-content-uv"><a href=${t=>t.url} id=${t=>t.id} target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}><div>${(t,e)=>{var o;return yt.qy`${Tt(t.logoUrl,null===(o=e.parent.strings)||void 0===o?void 0:o.provider)}`}}<span>${t=>{var e;return null===(e=t.provider)||void 0===e?void 0:e.name}}</span>${(0,kt.z)(t=>void 0!==t.isReaction&&!t.isReaction&&parseInt(t.cmtsCount,10)>0&&(0,It.S)(),Pt)}</div><p class=${(t,e)=>e.parent.enableUnderLine?"top-cmts-content-title top-cmts-content-title-line":"top-cmts-content-title"}>${t=>t.title}</p></a><div><a href=${t=>t.url} id=${t=>t.id} target=${(t,e)=>e.parent.target} title="${t=>t.title}" data-t=${t=>t.telemetryTag} @mouseenter=${(t,e)=>{e.parent.config.disableCardTitleTooltip&&e.parent.handleSetTitleOnMouseEnter(e.event)}}>${t=>{var e;return Tt(`${null==t||null===(e=t.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url}&w=56&h=56&qlt=90&c=1&rs=`,"content thumbnail",56)}}</a></div></div>${Pt}</div>`,Dt=yt.qy`<responsive-sd-card :data="${t=>t.superCardData}" size="${t=>t.cardLayout}"><div slot="card-content">${(0,kt.z)(t=>t.getCmtsArticleContent(t.currentIndex),yt.qy` ${(0,Ct.ux)(t=>t.getCmtsArticleContent(t.currentIndex)??[],Ut)} `)}</div></responsive-sd-card>`;var At=o(86856),Et=o(74849),Ot=o(22131),Mt=o(4968),Wt=o(43103);const Vt=Et.A`
:host{--base-color:#ffffff;--bdg-hover-1:rgb(69,69,69);--bdg-hover:#404040;--index-bg-base:#1f1f1f;--index-bg:#D3E1FB;--index-color:#2269EB;--oss-color:#f1f1f1f1;--upvote-like:#ffffff;--upvote-un-like:#333333;--oss-provider-name-width:185px}`,Ft=Et.A`
:host{--bdg-hover:#f5f5f5;--bdg-hover-1:#fff8ef;--base-color:#2b2b2b;--index-bg-base:#f7f7f7;--index-bg:#D3E1FB;--index-color:#2b2b2b;--upvote-like:#333333;--upvote-un-like:#ffffff;--oss-provider-name-width:185px}`,Lt=Et.A`
`,Rt=Et.A`
`,jt=Et.A`
:host{--cmt-size:50px;--emb:600;--height:20px;--icon-color:#767676;--info-color:#2269eb;--info-link-width-v2:275px;--info-link-width:250px;--info-size:16px;--md-font-size:14px;--oss-color:#2b2b2b;--oss-content-font-size:14px;--oss-height:60px;--oss-title-font-size:12px;--oss-title-size:16px;--radius:4px;--sm-font-size:12px;--tuo:4px;--upvote-icon-like:#000000;--upvote-ionc-un-like:#fffff;--baseSize:16px;--margin-bottom:18px;--height:19px;--cmtSize:50px;--contentWidth:156px;--contentOssWidth:268px;--contentOssHeight:60px;--contentImgWidth:56px;--contentUVHeight:75px;--contentUVWidth:200px}.top-cmts-count{width:var(--cmtSize);display:block;margin-top:2px;> div,a{display:grid;grid-auto-flow:row;grid-template-columns:auto auto;grid-template-rows:auto;width:var(--cmtSize);place-content:center start;place-items:center start;gap:8px;text-decoration:none}.top-cmts-count-text{color:var(--icon-color);font-size:var(--sm-font-size);max-width:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}}.top-cmts-default,.top-cmts-default-reaction{display:grid;grid-auto-flow:row;grid-template-areas:'content count';grid-template-columns:auto 50px;grid-template-rows:1fr;place-items:center start;height:calc(var(--height) * 2);line-height:calc(var(--height) * 2);& > a,.top-cmts-content-popular,.top-cmts-content-p,.top-cmts-content-uv{display:none}&:hover{background-color:var(--bdg-hover);border-radius:4px;height:calc(var(--height) * 2);line-height:calc(var(--height) * 2);margin:0 -4px;padding:0 4px}.top-cmts-content{display:grid;grid-area:content;grid-auto-flow:row;grid-template-columns:var(--baseSize) auto var(--height);place-items:center;place-content:start;gap:0px calc(var(--baseSize) / 2);text-decoration:none;width:var(--contentWidth);.top-cmts-content-title{-webkit-box-orient:vertical;-webkit-line-clamp:1;color:var(--base-color);display:-webkit-box;font-size:var(--md-font-size);font-weight:600;height:var(--height);line-height:var(--height);min-width:160px;overflow:hidden;text-overflow:ellipsis}.top-cmts-content-index{background:var(--index-bg-base);border-radius:var(--radius);color:var(--index-color);font-size:var(--sm-font-size);font-weight:600;height:var(--info-size);line-height:var(--info-size);text-align:center;width:var(--info-size);z-index:99}.top-cmts-content-index-1{background:#D3E1FB;color:var(--info-color)}.top-cmts-content-index{background:#D3E1FB;color:var(--info-color)}}& > img{border-radius:calc(var(--baseSize) / 4);margin-left:-6px}}.top-cmts-default-reaction{grid-template-areas:'content';grid-template-columns:auto;.top-cmts-content-title{width:217px}.top-cmts-count{display:none}}.top-cmts-oss,.top-cmts-oss-p{display:grid;place-items:center start;place-content:start;grid-template-rows:75px;grid-template-columns:1fr;gap:4px 0;grid-template-areas:"content-oss";width:var(--contentOssWidth);&:hover{background-color:var(--bdg-hover);border-radius:4px;margin:0 -4px;padding:0 4px}& > a,.top-cmts-count,.top-cmts-content-popular,.top-cmts-content-p,.top-cmts-content-uv{display:none}.top-cmts-content-oss{display:grid;grid-area:content-oss;grid-auto-flow:row;grid-template-columns:auto;grid-template-rows:16px 40px;gap:4px 0;width:var(--contentOssWidth);height:var(--contentOssHeight);text-decoration:none;& > div:nth-of-type(1){display:grid;grid-auto-flow:row;place-items:center start;place-content:start;height:16px;grid-template-rows:1fr;grid-template-columns:16px auto auto;gap:0 8px;& > img{width:16px;height:16px;border-radius:var(--radius)}& > span{color:var(--base-color);display:inline-block;font-size:12px;overflow:hidden;text-overflow:ellipsis;max-width:var(--oss-provider-name-width);white-space:nowrap}& > .top-cmts-count{display:block}}& > p:nth-of-type(1){-webkit-box-orient:vertical;-webkit-line-clamp:2;color:var(--oss-color);display:-webkit-box;font-size:var(--oss-content-font-size);font-weight:var(--emb);overflow:hidden;text-overflow:ellipsis;unicode-bidi:embed}}}.top-cmts-oss-p{.top-cmts-content-oss{& > div:nth-of-type(1){grid-template-columns:16px var(--oss-provider-name-width) auto}}}.top-cmts-oss-2{display:grid;place-items:start;place-content:start;grid-template-rows:1fr;grid-teimpate-columns:1fr;grid-template-areas:"content-oss-2";width:var(--contentOssWidth);height:100%;& > a,.top-cmts-count,.top-cmts-content-p,.top-cmts-content-uv{display:none}.top-cmts-content-oss-2{display:grid;grid-area:content-oss-2;grid-auto-flow:row;grid-template-columns:auto;grid-template-rows:140px 16px 40px;gap:10px 0;width:var(--contentOssWidth);text-decoration:none;& > img{object-fit:cover;width:100%;height:100%;border-radius:10px}& > p:nth-of-type(1){display:grid;grid-auto-flow:row;place-items:center start;place-content:start;height:16px;grid-template-rows:1fr;grid-template-columns:16px auto;gap:0 8px;& > img{width:16px;height:16px;border-radius:var(--radius)}& > span{font-size:12px;color:var(--base-color)}}& > p:nth-of-type(2){-webkit-box-orient:vertical;-webkit-line-clamp:2;color:var(--oss-color);display:-webkit-box;font-size:16px;font-weight:var(--emb);overflow:hidden;text-overflow:ellipsis;unicode-bidi:embed;line-height:20px}}}.top-cmts-pl,.top-cmts-pr{&:nth-of-type(3n+1){height:112px;padding-top:10px;.top-cmts-content-p{display:grid;grid-auto-flow:row;grid-template-columns:25px 140px 96px;;grid-template-rows:1fr;gap:0 4px;place-content:center start;place-items:start;height:100px;.top-cmts-content-index-1{place-self:start}.top-cmts-content-popular{display:grid;gap:5px 0;grid-template-rows:16px 60px 16px;.top-cmts-content-p-title .top-cmts-count{display:none}.top-cmts-content-title{-webkit-line-clamp:3}}.top-cmts-count{display:grid}.top-cmts-content-title{-webkit-box-orient:vertical;-webkit-line-clamp:3;color:var(--oss-color);display:-webkit-box;font-size:14px;font-weight:var(--emb);overflow:hidden;text-overflow:ellipsis;unicode-bidi:embed;word-break:break-all;height:60px;line-height:20px;width:130px}.top-cmts-content-index{background:#FFE1D4;color:#CE3838;width:16px;height:16px;font-size:12px;border-radius:4px;place-self:start;text-align:center}& > img{border-radius:8px}}.top-cmts-content-thumbnail-end{display:block;width:94px;height:94px;border-radius:10px;margin-top:5px}}&:nth-of-type(3n+2){height:52px}display:grid;place-items:start;place-content:start;grid-template-rows:1fr;grid-template-columns:1fr;width:var(--contentOssWidth);height:50px;.top-cmts-content-popular{& p{.top-cmts-count{display:grid}}gap:5px}.top-cmts-content-thumbnail-start{display:none}&:hover{background-color:var(--bdg-hover-1);border-radius:4px;margin:0 -8px;padding-left:8px;padding-right:8px}& > a,.top-cmts-count,.top-cmts-content-uv{display:none}& > img{grid-area:popular-img}.top-cmts-content-p{display:grid;place-items:center start;place-content:start;grid-template-rows:50px;grid-template-columns:28px 1fr;width:var(--contentOssWidth);.top-cmts-content-index{background:#FFDBB9;color:#DB7516;font-size:12px;width:16px;height:16px;border-radius:4px;place-self:center start;text-align:center}.top-cmts-content-popular{display:grid;grid-auto-flow:row;grid-template-columns:auto;grid-template-rows:16px auto;gap:8px 0;text-decoration:none;.top-cmts-content-p-title{display:grid;grid-auto-flow:row;place-items:center start;place-content:start;grid-template-rows:16px;grid-template-columns:16px auto 40px;gap:0 8px;& > img{width:16px;height:16px;border-radius:var(--radius)}& > span{font-size:12px;color:var(--base-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:90px}.top-cmts-count{display:grid}}.top-cmts-content-title{-webkit-box-orient:vertical;-webkit-line-clamp:1;color:var(--oss-color);display:-webkit-box;font-size:14px;font-weight:var(--emb);overflow:hidden;text-overflow:ellipsis;unicode-bidi:embed;word-break:break-all;line-height:20px}}& > img{display:none}}}.top-cmts-pl{&:nth-of-type(3n+1){.top-cmts-content-p{& > img{display:block}}}}.top-cmts-pr{&:nth-of-type(3n+1){.top-cmts-content-p{grid-template-columns:96px 140px;gap:0 10px;.top-cmts-content-thumbnail-end{display:none}.top-cmts-content-title{width:160px}>.top-cmts-content-index{display:none}}.top-cmts-content-thumbnail-start{display:block;width:96px;height:96px;margin:2px 0px 0 -4px;position:relative;img{position:absolute;top:0;left:0;border-radius:10px}.top-cmts-content-index{position:relative;z-index:999;top:5px;left:5px}}.top-cmts-content-thumbnail-start{display:block}}}.top-cmts-uv{& > a,.top-cmts-count,.top-cmts-content-popular,.top-cmts-content-p,.top-cmts-pr{display:none}.top-cmts-content-uv{display:grid;grid-template-rows:var(--contentUVHeight);grid-template-columns:var(--contentUVWidth) var(--contentImgWidth);grid-gap:0 12px;& > a{display:grid;grid-auto-flow:row;grid-template-columns:auto;grid-template-rows:16px 40px;gap:var(--radius) 0;width:100%;height:var(--contentOssHeight);text-decoration:none;& > div:nth-of-type(1){display:grid;grid-auto-flow:row;place-items:center start;place-content:start;height:16px;grid-template-rows:1fr;grid-template-columns:16px auto auto;gap:0 8px;& > img{width:16px;height:16px;border-radius:var(--radius)}& > span{color:var(--base-color);display:inline-block;font-size:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--oss-provider-name-width) - 60px);white-space:nowrap}& > .top-cmts-count{display:block}}& > p:nth-of-type(1){-webkit-box-orient:vertical;-webkit-line-clamp:2;color:var(--oss-color);display:-webkit-box;font-size:var(--oss-content-font-size);font-weight:var(--emb);overflow:hidden;text-overflow:ellipsis;unicode-bidi:embed}}& > div{padding-top:var(--radius);img{border-radius:calc( 2 * var(--radius))}}}}a{${Mt.f}}p{margin:0}.top-cmts-content-title-line{&:hover{text-decoration:underline}}.topCmtsNews-hlafu{padding:0 0}:host([hidden]){display:none}`.withBehaviors((0,Ot.G2)(Vt),new Wt.N(Ft,Vt),new At.t(Lt,Rt));r.m.define(s.c.registry),a.m.define(s.c.registry),l.m.define(s.c.registry),c.m.define(s.c.registry),d.m.define(s.c.registry),p.m.define(s.c.registry),u.m.define(s.c.registry),(0,h.d)();const Nt={experienceConfigSchema:f}},72526:function(t,e,o){o.d(e,{L:function(){return v}});var i=o(56911),n=o(96193),r=o(47429),s=o(60815),a=o(22870),l=o(38493),c=o(95239),d=o(31023),p=o(24458),u=o(5291),h=o(57606);class v extends n.z{cardFillColorChanged(t,e){if(e){const t=(0,a.Hs)(e);null!==t&&(this.neutralPaletteSource=e,c.p.setValueFor(this,u.q.create(t.r,t.g,t.b)))}}neutralPaletteSourceChanged(t,e){if(e){const t=(0,a.Hs)(e),o=u.q.create(t.r,t.g,t.b);d.r.setValueFor(this,h.p.create(o))}}handleChange(t,e){this.cardFillColor||c.p.setValueFor(this,t=>t(p.M3).evaluate(t,t(c.p)))}connectedCallback(){super.connectedCallback();const t=(0,r.Zo)(this);if(t){const e=s.cP.getNotifier(t);e.subscribe(this,"fillColor"),e.subscribe(this,"neutralPalette"),this.handleChange(t,"fillColor")}}}(0,i.Cg)([(0,l.CF)({attribute:"card-fill-color",mode:"fromView"}),(0,i.Sn)("design:type",String)],v.prototype,"cardFillColor",void 0),(0,i.Cg)([(0,l.CF)({attribute:"neutral-palette-source",mode:"fromView"}),(0,i.Sn)("design:type",String)],v.prototype,"neutralPaletteSource",void 0)},75003:function(t,e,o){o.d(e,{m:function(){return a}});var i=o(37180),n=o(72526),r=o(37256),s=o(38380);const a=n.L.compose({name:`${i.c.prefix}-card`,template:s.v,styles:r.R})}}]);