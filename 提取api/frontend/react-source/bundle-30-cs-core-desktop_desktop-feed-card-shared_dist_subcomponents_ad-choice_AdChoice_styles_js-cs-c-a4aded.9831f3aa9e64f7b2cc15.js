"use strict";(self.homePageWebpackChunks=self.homePageWebpackChunks||[]).push([["cs-core-desktop_desktop-feed-card-shared_dist_subcomponents_ad-choice_AdChoice_styles_js-cs-c-a4aded"],{8866:function(e,t,n){n.d(t,{Go:function(){return o},MN:function(){return a},WY:function(){return i}});var r=n(26362);const o={_05u:"0.5u",_1u:"1u",_2u:"_1x_4y",_2c:"_2x_2y",_3u:"_1x_6y",_shorts:"shorts"},i={"0.5u":{height:r.cP,width:1},"1u":{height:r.Sl,width:1},_2x_2y:{height:r.Sl,width:2},_1x_2y:{height:r.Sl,width:1}},a=(r.TX,r.gw,r.gw,r.gw,r.sF,{146:o._05u,304:o._1u,620:o._2u,936:o._3u})},10291:function(e,t,n){n.d(t,{Be:function(){return r},WI:function(){return a},h:function(){return o},y3:function(){return i}});const r="TTSR.FirstSection",o=12,i=304,a=.08},12610:function(e,t,n){n.d(t,{v:function(){return h}});var r=n(50866),o=n(43922),i=n(18750),a=n(80004),l=n(28381);function u(e,t){const n=e;return function(e){e.imageData&&e.imageData.source&&(e.mediaType=["video","webcontent"].includes(e.contentType)?o.z.video:o.z.image)}(n),function(e,t){e.immersiveCard||(e.immersiveCard=e.cardSize===r.qJ._2x_2y&&e.cardLayout!==a.Sv.infoPane||e.cardSize===r.qJ._2x_2y&&e.cardLayout===a.Sv.infoPane&&t.config&&!t.config.enableImmersiveInfopane||e.cardLayout===a.Sv.infoPane&&t.config&&t.config.enableSuperInfopane&&!t.config.disable1UImmersiveInfopane)}(n,t),n}function d(e,t){if(e.immersiveCard&&e.mediaType)return e.cardFillColor="#333",e.darkCardFillColor=e.cardFillColor,void(e.lightCardFillColor=e.cardFillColor);let n=!1;if(n=e.useMobile&&!e.isMsnMobile?(0,i.r0)(e):e.useWinSystemMode||e.isMsnMobile?l.y.appInDarkMode():(0,i.ud)(),t&&t.config&&t.config.enableFeedSuperCardsSingleColor)t.config.cardColorsOverride?(e.lightCardFillColor=t.config.cardColorsOverride.lightCardFillColor,e.darkCardFillColor=t.config.cardColorsOverride.darkCardFillColor):(e.lightCardFillColor="#FFFFFF",e.lightCardSecondaryColor=void 0,e.lightGradientAngle=void 0,e.darkCardFillColor="#292929",e.darkCardSecondaryColor=void 0,e.darkGradientAngle=void 0);else{var r,o;const t=null===(r=e.colorSamples)||void 0===r?void 0:r.find(e=>!1===e.isDarkMode),n=!t||!t.hexColor&&!t.secHexColor&&!t.gradientAngle;e.lightCardFillColor=n?"#FFFFFF":t.hexColor,e.lightCardSecondaryColor=n?"#E1E1E1":t.secHexColor,e.lightGradientAngle=n?"112.05deg":t.gradientAngle;const i=null===(o=e.colorSamples)||void 0===o?void 0:o.find(e=>!0===e.isDarkMode),a=!i||!i.hexColor&&!i.secHexColor&&!i.gradientAngle;e.darkCardFillColor=a?"#565656":i.hexColor,e.darkCardSecondaryColor=a?"#272727":i.secHexColor,e.darkGradientAngle=a?"112.05deg":i.gradientAngle}e.cardFillColor=n?e.darkCardFillColor:e.lightCardFillColor,e.cardSecondaryColor=n?e.darkCardSecondaryColor:e.lightCardSecondaryColor,e.gradientAngle=n?e.darkGradientAngle:e.lightGradientAngle}function c(e,t){if(!t||!t.config)return;if(!t.config.enableFeedSuperCardsSolidColor&&!e.enableNativeAdCardsSolidColor)return;if(!e.immersiveCard&&"#000000"!==e.cardFillColor||e.cardSize===r.qJ._2x_2y&&!e.imageData){e.lightCardFillColor="#FFF",e.lightCardSecondaryColor=void 0,e.lightGradientAngle=void 0,e.darkCardFillColor="#333",e.darkCardSecondaryColor=void 0,e.darkGradientAngle=void 0;const t=l.y.appInDarkMode();e.cardFillColor=t?e.darkCardFillColor:e.lightCardFillColor,e.cardSecondaryColor=void 0,e.gradientAngle=void 0}}function s(e,t){const n=t._config,r=u(e,t);return d(r,t),r.openLinksInNewTab=r.openLinksInNewTab||r.openArticleInNewTab,r.seeMoreOverride=n.seeMoreOverride,c(r,t),r}function f(e,t,n){var r,i,a;const l=u(e,t);return l.isInfopaneComplexAd=n,d(l,t),c(l,t),function(e,t){if(t&&t.config&&t.config.nativeAdImageQuality&&e.imageData&&e.mediaType===o.z.image&&e.imageData.source){const n=new URL(e.imageData.source),r=null==n?void 0:n.searchParams;r&&(r.set("qlt",t.config.nativeAdImageQuality),n.search=r.toString(),e.imageData.source=n.toString())}}(l,t),l.enableAdShimmerEffect=null==t||null===(r=t.config)||void 0===r?void 0:r.enableAdShimmerEffect,l.useFeeds3Designs=null==t||null===(i=t.config)||void 0===i?void 0:i.enableDynamicWaterfall,l.enableResponsiveWidth=null==t||null===(a=t.config)||void 0===a?void 0:a.enableResponsiveWidth,l}var v=n(55593);class h{static createViewModel(e,t){switch(e&&e.childTemplateType){case"article-card":case"content-card":case"web-content-card":return s(e,t);case"video-card":return function(e,t){const n=u(e,t);d(n,t),n.openLinksInNewTab=n.openLinksInNewTab||n.openArticleInNewTab,c(n,t);const o=t.config;return n.immersiveCard=n.cardSize===r.qJ._2x_2y&&n.immersiveCard,n.enableSuperVideoIconLarge=o.enableSuperVideoIconLarge,n}(e,t);case"native-ad-card":case"native-top-ad-card":return f(e,t);case"super-sd-card":return u(e,t);case"content-group":return function(e,t){let n=u(e,t);const o=t._config;n.cardData=e,n.lightCardFillColor="#FFFFFF",n.darkCardFillColor="#333";const i=l.y.appInDarkMode();n.cardFillColor=i?n.darkCardFillColor:n.lightCardFillColor,e.contentGroupMetadata.subCards.forEach((e,n)=>{e.isNativeAd&&e.nativeAds.length>0?e.nativeAds.forEach(n=>{f(n,t,e.nativeAds.length>1)}):(s(e,t),o.enableFeed3Cards&&"1u"===e.cardSize&&(e.cardSize="_1x_2y"))});const a=(0,v.a)().get("vpFreeze");n={...n,...o};const d=o.autoRotateIntervalMs;n.enableFlippersOnRest=o.enableInfopaneFlippersOnRest,n.enableTransparentFlippersOnRest=o.enableTransIfpFlippersOnRest,n.enableSlideShow=!o.disableSlideShow&&!a,n.enablePlayPauseButton=!o.disableInfopanePlayPauseButton,n.disableNavAnimation=o.disableNavAnimation,n.rotationDuration=d?d/1e3:3,n.enableSuperCardMemoize=t.getEnableSuperCardMemoize(),n.disableInfopaneComplexAds=o.disableInfopaneComplexAds,n.enableIpTransform=o.enableIpTransform,n.restartRotationTimer=o.restartRotationTimer;const c=o.enableOneCInfopaneNav&&n.cardSize===r.qJ._1x_2y;return n.tabCount=o.enableMaxInfopaneSlider&&!c?99:5,n}(e,t);case"infopane-card":return function(e,t){const n=u(e,t),o=t._config;n.cardData=e,n.lightCardFillColor="#FFFFFF",n.darkCardFillColor="#333";const i=l.y.appInDarkMode();n.cardFillColor=i?n.darkCardFillColor:n.lightCardFillColor,e.slideContentData.forEach((e,n)=>{e&&(e.isNativeAd?o.enableResponsiveInfopaneMap?f(e,t):e.nativeAds.length>0&&e.nativeAds.forEach(n=>{f(n,t,e.nativeAds.length>1)}):(s(e,t),o.enableFeed3Cards&&"1u"===e.cardSize&&(e.cardSize="_1x_2y")))});const a=(0,v.a)().get("vpFreeze"),d=o.autoRotateIntervalMs??n.cardData.autoRotateIntervalMs;o.autoRotateIntervalMs||n.wpoRotationDuration||(n.wpoRotationDuration=n.cardData.autoRotateIntervalMs/1e3),n.enableSlideShow=!o.disableSlideShow&&!a,n.enablePlayPauseButton=!o.disableInfopanePlayPauseButton,n.enableResponsiveInfopaneMap=o.enableResponsiveInfopaneMap,n.enableAutoPlayInfopaneVideos=o.enableAutoPlayInfopaneVideos,n.enableResponsiveCards=o.enableResponsiveComponent,n.disableNavAnimation=o.disableNavAnimation,n.shiftIpNavToRight=o.shiftIpNavToRight,n.rotationDuration=d?d/1e3:3,n.enableSingleRotation=n.cardData.enableRotateOnlyOnce,n.enableSuperCardMemoize=t.getEnableSuperCardMemoize(),n.disableInfopaneComplexAds=o.disableInfopaneComplexAds,n.enableFlippersOnRest=o.enableInfopaneFlippersOnRest,n.enableTransparentFlippersOnRest=o.enableTransIfpFlippersOnRest,n.enableIpTransform=o.enableIpTransform,n.enableInfopaneDenseCardInteraction=o.enableInfopaneDenseCardInteraction,n.restartRotationTimer=o.infopaneRestartRotationBuffer>0?n.wpoRotationDuration+o.infopaneRestartRotationBuffer:o.restartRotationTimer,n.cardData.flipperSize=o.ipFlipperCustomSize??"large",n.cardData.flipperColorInverted=o.invertIpFlipperColor,n.seeMoreOverride=o.seeMoreOverride,n.enableLazyInfopane=!!o.enableLazyInfopane,n.lazyInfopanePreloadCount=o.lazyInfopanePreloadCount;const c=o.enableOneCInfopaneNav&&n.cardSize===r.qJ._1x_2y;return o.enableBottomNav&&!c&&(n.navPosition="bottom"),n.tabCount=o.enableMaxInfopaneSlider&&!c?99:5,n}(e,t);case"carousel":return function(e,t){return u(e,t)}(e,t);default:return null}}}},16038:function(e,t,n){n.d(t,{m:function(){return v}});var r=n(65614),o=n(13312),i=n(55153),a=n(7896),l=n(74849),u=n(64187);const d=l.A`
    ${(0,u.V)("grid")}

    :host {
        font-family: ${a.O};
        width: auto;
        grid-auto-columns: calc(${i.QG} * 1px);
        grid-auto-row: calc(${i.l8} * 1px);
        grid-gap: calc(${i.Sn} * 1px);
    }
`;var c=n(39957),s=n(96950);const f=s.qy`
    <template @keydown="${(e,t)=>e.handleKeyDown(t.event)}">
        ${(0,c.ux)(e=>e.childrenLayout,s.qy`
                ${(e,t)=>t.parent.selectTemplate(e)}
            `)}
    </template>
`,v=o.tA.compose({name:`${r.G.prefix}-feed-layout`,styles:d,template:f})},26362:function(e,t,n){n.d(t,{DA:function(){return d},EF:function(){return g},IU:function(){return v},Lv:function(){return m},MY:function(){return $},P1:function(){return h},Qk:function(){return F},Sl:function(){return o},TX:function(){return i},U9:function(){return a},UJ:function(){return y},cP:function(){return r},cT:function(){return k},dd:function(){return w},fI:function(){return s},gY:function(){return b},gu:function(){return p},gw:function(){return l},k9:function(){return c},rC:function(){return f},sF:function(){return u},tM:function(){return x},xD:function(){return C},zn:function(){return _}});const r="158px",o="324px",i="146px",a="462px",l="304px",u="620px",d="300px",c="612px",s="12px",f="8px",v="8",h="var(--max-width-card-adaptive-1u)",p="var(--min-width-card-adaptive-2c)",g="var(--max-width-card-adaptive-2c)",m="var(--min-width-card-adaptive)",y="var(--min-height-adaptive)",b="var(--max-height-adaptive)",k="var(--gutter-size-adaptive)",w="var(--width-card-1u)",$="var(--width-card-2c)",C="var(--width-card-3c)",F="var(--height-card-1u-px)",_="var(--height-card-15u)",x="var(--height-card-15u-px)"},26498:function(e,t,n){n.d(t,{$:function(){return a}});var r=n(14475),o=n(96950),i=n(17254);const a=e=>o.qy`<a class="ad-choice" data-t=${e.telemetryTag||""} href=${e.href||""} target="${r.z._blank}" title=${e.text||""}><img alt=${e.text||""} aria-hidden="true" src="${(0,i.rA)().StaticsUrl}/latest/responsive-card/adChoiceIcon.svg"></img></a>`},32542:function(e,t,n){n.d(t,{T:function(){return i}});var r=n(65022),o=n(93468);const i=(0,n(44449).sx)(r.WQp,"sendAdImageLoadError")(e=>{let{isBoost:t,...n}=e;(0,o.vV)(t?r.H77:r.MxD,"Ads image is not loaded properly",a(n),{shouldSampleErrorsForTreatement1:!t})}),a=e=>{let{id:t,rLink:n,imgLink:r,event:o,retryCount:i,isRetrySuccessful:a,status:l,statusText:u,type:d,redirected:c,errorMessage:s}=e;return JSON.stringify({id:t,rLink:n,imgLink:r||o&&o.target.src,retryCount:i,isRetrySuccessful:a,status:l,statusText:u,type:d,redirected:c,errorMessage:s})}},37416:function(e,t,n){n.d(t,{D:function(){return l}});var r=n(16091),o=n(17720),i=n(74180);class a extends i.f{constructor(){super(...arguments),this.configRef={experienceType:"SuperComponentData",instanceSrc:"default"}}static getInstance(){return o.vv.get("__SuperComponentDataHelper__",()=>new a)}}const l=(0,r.G)(a)},39152:function(e,t,n){var r,o,i,a,l;n.d(t,{By:function(){return f},Et:function(){return i},Gi:function(){return g},IC:function(){return s},IL:function(){return d},QK:function(){return a},Vi:function(){return m},a7:function(){return c},bu:function(){return l},cj:function(){return u},dU:function(){return p},hO:function(){return v},hs:function(){return o},li:function(){return h},qr:function(){return r},sm:function(){return y}}),function(e){e.Email="email",e.Facebook="facebook",e.Line="line",e.LinkedIn="linkedin",e.Skype="skype",e.Twitter="twitter",e.VK="vk",e.WhatsApp="whatsapp"}(r||(r={})),function(e){e.Share="share",e.ShareV2="shareV2",e.Mute="mute",e.Report="report",e.ReportAd="reportad",e.WhyAmISee="whyAmISee",e.CuratedByCopilot="curatedByCopilot",e.LocationEdit="locationEdit",e.LocationManage="locationManage"}(o||(o={})),function(e){e.cancel="Cancel",e.cardAction="CardAction",e.closeHeadline="Close dialog",e.closeModule="Dismiss",e.copy="Copy",e.hideMenuItem="Hide",e.hideHeadline="Hide Story",e.manageInterestsMenuItem="ManageInterests",e.muteMenuItem="MutePublisher",e.muteWebVideoMenuItem="MuteWebVideo",e.muteButton="Mute",e.muteConfirmation="Hide Stories from Publisher",e.reportAdHeadline="Report an issue",e.reportAdMenuItem="ReportAd",e.reportButton="Submit",e.reportChecked="Checked",e.reportDialog="ReportedReason",e.reportHeadline="Report an issue",e.reportMenuItem="ReportArticle",e.reportUnchecked="Unchecked",e.reportDialogFeedbackText="Feedback",e.reportDialogPrivacyStatement="Privacy Statement",e.saveMenuItem="SaveContent",e.showFewerHeadline="Fewer stories like this",e.showFewerMenuItem="ShowFewer",e.showMoreHeadline="More stories like this",e.showMoreMenuItem="ShowMore",e.shareArticle="ShareArticle",e.shareDialog="Share",e.toastButton="ToastButton",e.upvote="Upvote",e.adPrivacy="AdPrivacy",e.adChoice="AdChoice",e.feedbackMenuItem="Feedback",e.whyAmISeeChannelStoreLink="WhyAmISeeChannelStoreLink",e.whyAmISeeMenuItem="ExplainableAlOverlay",e.whyAmISee="whyamiseeingthis",e.yes="yesbutton",e.no="nobutton",e.followTopic="FollowTopic",e.unfollowTopic="UnfollowTopic",e.followPublisher="FollowPublisher",e.unfollowPublisher="UnfollowPublisher",e.openNewTab="OpenNewTab",e.openNewWindow="OpenNewWindow",e.copyLink="CopyLink",e.copyImageLink="CopyImageLink",e.whyAmISeeMenuButton="WhyAmISeeingThis",e.saveTooltipButton="Personalize",e.curatedByCopilotMenuItem="CuratedByCopilotDisclaimer",e.curatedByCopilotButton="CuratedByCopilot"}(i||(i={})),function(e){e.breakingNews="breakingNews",e.followPublisher="followPublisher",e.followTopic="followTopic",e.interacted="interacted",e.local="local",e.trending="trending",e.explore="explore",e.u2u="u2U",e.default="default",e.explicitLike="explicitLike",e.userSearchSignal="userSearchSignal",e.cF_U2i="cF_U2i",e.cF_I2i="cF_I2i",e.cF_Swing_i2i="cF_Swing_i2i",e.cF_U2u="cF_U2u",e.cF_Topic_cf="cF_Topic_cf",e.cF_Cross_domain="cF_Cross_domain",e.cF_Ip="cF_Ip",e.cF_Topic_plus="cF_Topic_plus",e.trending_in_industry="trending_in_industry",e.trending_related_comp="trending_related_comp",e.trending_in_location="trending_in_location",e.trending_in_company="trending_in_company",e.contentExplore="contentExplore",e.fallback="fallback"}(a||(a={})),function(e){e.InappropriateAd="InappropriateAd",e.MisleadingAd="MisleadingAd",e.NotInterested="NotInterested",e.RepeatedAd="RepeatedAd",e.VisuallyPoorAd="VisuallyPoorAd"}(l||(l={}));const u=function(e,t){return`https://placehold.it/${e}x${t}/${(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"828282").replace("#","")}/`},d={personalize:"Personalize",myInterests:"MyInterests"},c=5e3,s="/{locale}/feed/personalize",f="/{locale}/feed/personalize/settings",v="/{locale}/feed/personalize#mutedPublishers",h="{locale}",p="https://www.msn.com",g="https://account.microsoft.com/privacy/ad-settings/",m="https://go.microsoft.com/fwlink/?LinkId=521839",y="toggleWidgetPicker"},43595:function(e,t,n){n.d(t,{U:function(){return o}});var r=n(4126);function o(e,t){return new r.o("color",e,t)}},43922:function(e,t,n){n.d(t,{z:function(){return r}});const r={image:"image",video:"video"}},49513:function(e,t,n){n.d(t,{RG:function(){return d},mQ:function(){return c}});var r=n(12870),o=n(65022),i=n(93468),a=n(17720);var l;!function(e){e.InterstitialNativeAdCard="InterstitialNativeAdCard",e.LinearFeedNativeAdCard="LinearFeedNativeAdCard",e.ViewsNativeAd="ViewsNativeAd",e.InfopaneCardTemplate="InfopaneCardTemplate",e.NativeAdCardTemplate="NativeAdCardTemplate",e.SuperNativeAdCard="SuperNativeAdCard",e.NativeAdCardT1Full="NativeAdCardT1Full",e.MobileAdCardTemplate="MobileAdCardTemplate",e.SuperMobileNativeAdCardNeutron="SuperMobileNativeAdCardNeutron",e.EdgeMobileInfopaneCard="EdgeMobileInfopaneCard",e.MobileEOABCard="MobileEOABCard"}(l||(l={}));const u=e=>{var t;let{id:n,destinationUrl:r,imgLink:l,renderAreaSize:u}=e;if(null==l||!l.startsWith("https://www.bing.com/th?")||!u)return;const d=function(e){const t=new URLSearchParams(e.split("?")[1]),n=Number(t.get("w")),r=Number(t.get("h"));return isNaN(n)||isNaN(r)||n<=0||r<=0?null:{width:n,height:r}}(l),c=null===(t=location)||void 0===t?void 0:t.href;if(!d){const e={id:n,currentPageUrl:c,destinationUrl:r,imgLink:l,renderAreaSize:u};return void(0,i.vV)(o.Ztd,"Ad Size Mismatch: Can not found proper image size from response image URL",void 0,e)}const s=a.vv.get("AdSizeMismatchRecord")||new Map,f=(e=>e?e.replace(/\d+$/,""):"")(n);if(!s.has(f)){if(s.set(f,1),a.vv.set("AdSizeMismatchRecord",s),0===u.height||0===d.height)return;const e=u.width!==d.width||u.height!==d.height,t=u.width/u.height,v=d.width/d.height,h=Math.round(100*Math.abs(t-v))/100;if(e&&h>.03){const e={id:n,currentPageUrl:c,destinationUrl:r,imgLink:l,renderAreaSize:u,renderAreaSizeRatio:t.toFixed(2),responseImageSize:d,responseImageSizeRatio:v.toFixed(2)};(0,i.vV)(o.Ztd,"Ad Size Mismatch: Detected size mismatch between response image VS render area",void 0,e)}}},d=(e,t,n,r)=>{if(!r||!n)return;const o=r.offsetWidth||Number(r.width),i=r.offsetHeight||Number(r.height);o&&i&&u({id:e,destinationUrl:t,imgLink:n,renderAreaSize:{width:o,height:i}})},c=(e,t,n)=>{var o,i,a,l,u,c,s,f,v,h,p;if(r.Rb.CurrentFlightSet.has("prg-ad-size-mis"))try{switch(n){case"LinearFeedNativeAdCard":case"NativeAdCardTemplate":case"SuperNativeAdCard":case"NativeAdCardT1Full":case"MobileAdCardTemplate":case"SuperMobileNativeAdCardNeutron":case"MobileEOABCard":d(e.id,e.destinationUrl,null===(o=e.imageData)||void 0===o?void 0:o.source,null===(i=t.parent)||void 0===i||null===(i=i.shadowRoot)||void 0===i||null===(a=i.querySelector)||void 0===a?void 0:a.call(i,`#${e.id}-img`));break;case"EdgeMobileInfopaneCard":d(e.id,e.destinationUrl,null===(l=e.imageData)||void 0===l?void 0:l.source,null===(u=t.parentContext)||void 0===u||null===(u=u.parent)||void 0===u||null===(u=u.shadowRoot)||void 0===u||null===(c=u.querySelector)||void 0===c?void 0:c.call(u,`#${e.id}-img`));break;case"ViewsNativeAd":d(e.id,e.destinationUrl,e.imageUrl,null===(s=t.parent)||void 0===s||null===(s=s.shadowRoot)||void 0===s||null===(f=s.querySelector)||void 0===f||null===(f=f.call(s,"msft-content-card"))||void 0===f?void 0:f.querySelector(`#${e.id}-img`));break;case"InfopaneCardTemplate":d(e.id,e.destinationUrl,null===(v=e.imageData)||void 0===v?void 0:v.source,null===(h=t.parentContext)||void 0===h||null===(h=h.parentContext)||void 0===h||null===(h=h.parent)||void 0===h||null===(h=h.shadowRoot)||void 0===h||null===(p=h.querySelector)||void 0===p?void 0:p.call(h,`#${e.id}-img`))}}catch(e){return null}}},50246:function(e,t,n){n.d(t,{B:function(){return l}});var r=n(74849),o=n(91459),i=n(43103);const a=r.A`
.ad-choice{filter:var(--filter-color)}`,l=r.A`
:host{--filter-color:invert(99%) sepia(10%) saturate(0%) hue-rotate(244deg) brightness(120%) contrast(100%)}.ad-choice{align-items:center;display:flex;width:12px;z-index:${o.I};
}
`.withBehaviors(new i.N(null,a))},50866:function(e,t,n){n.d(t,{L9:function(){return i},NZ:function(){return o},qJ:function(){return r}});const r={_1x_1y:"_1x_1y",_1x_2y:"_1x_2y",_2x_2y:"_2x_2y",_2x_1y:"_2x_1y"},o={DarkPlum:"dark-plum",DarkDesert:"dark-desert",DarkDawn:"dark-dawn",DarkSea:"dark-sea",DarkOrange:"dark-orange",DarkTropic:"dark-tropic",DarkMerlot:"dark-merlot",DarkPurple:"dark-purple",DarkGreen:"dark-green"},i={LightBlue:"light-blue",LightPurple:"light-purple",LightSky:"light-sky",LightPink:"light-pink",LightYellow:"light-yellow",LightBluebird:"light-bluebird",LightOrange:"light-orange",LightAqua:"light-aqua",LightGreen:"light-green"}},59646:function(e,t,n){n.d(t,{kM:function(){return s},pS:function(){return f}});var r=n(17254),o=n(19548);const i=[],a=1e3,l=1e3,u=new Map;function d(){return"vp"===o._3.getQueryParameterByName("reqsrc",location.href)||"1"===o._3.getQueryParameterByName("vptest",location.href)}function c(e){var t;return null===r.T3||void 0===r.T3||null===(t=r.T3.CurrentRequestTargetScope)||void 0===t?void 0:t.pageExperiments.some(t=>t.includes(e))}function s(e,t,n){e&&"function"==typeof t&&!i.includes(e)&&(d()||(c("prg-mousehovrev")?(i.push(e),setTimeout(()=>{!function(e,t){if(!i.includes(e))return;t();const n=i.indexOf(e);n>-1&&i.splice(n,1)}(e,t)},n??a)):function(e,t,n){const r=Date.now(),o=u.get(e)||{enterTimer:null,lastHoverTime:0,pendingLeave:!1};if(r-o.lastHoverTime<l)return;o.enterTimer&&clearTimeout(o.enterTimer);o.enterTimer=window.setTimeout(()=>{t(),o.lastHoverTime=Date.now(),o.enterTimer=null},n||a),u.set(e,o)}(e,t,n)))}function f(e,t){if(c("prg-mousehovrev")){if(!d())if(e&&i.includes(e)){const t=i.indexOf(e);t>-1&&i.splice(t,1)}else"function"==typeof t&&t()}else!function(e,t){if(!e||"function"!=typeof t||d())return;const n=u.get(e);if(!n)return void t();if(n.enterTimer)return clearTimeout(n.enterTimer),n.enterTimer=null,void u.delete(e);n.lastHoverTime>0&&t();u.delete(e)}(e,t)}},61352:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(4126),o=n(74849),i=n(91459);const a=o.A`
.ad-label{font-size:12px;border:unset;padding:unset}`,l=o.A`
.ad-label{align-items:center;border-radius:4px;border:0.5px solid var(--color-neutral-stroke-1,var(--neutral-foreground-rest));color:inherit;display:flex;font-size:11px;padding:0 4px 1px 4px;text-decoration:none;z-index:${i.I}}a[no-border]{border:unset;padding:unset;display:inline-flex}.dsa:hover{text-decoration:underline}`.withBehaviors(new r.o("ruby",!0,a))},74180:function(e,t,n){n.d(t,{f:function(){return o}});var r=n(56589);class o{constructor(){this.config={},this.strings={},this.initialized=!1}async initConfig(e){var t,n;this.initialized||(this.config=await this.getConfigFromRef(e)||{},this.strings=(null===(t=this.config)||void 0===t?void 0:t.localizedStrings)||{},this.initialized=!!this.config&&!(null===(n=this.config)||void 0===n||!n.localizedStrings))}getConfig(){return this.config}getLocStrings(){return this.strings}async getConfigFromRef(e){try{const t=(null==e?void 0:e.configRef)||this.configRef,n=await r.L.getConfig(t);return null==n?void 0:n.properties}catch(e){return{}}}}},74348:function(e,t,n){n.d(t,{Q:function(){return u}});var r=n(14475),o=n(96950),i=n(91640);const a=(e,t)=>{t.event.preventDefault(),window.dispatchEvent(new CustomEvent("dsaClick",{detail:{adSelectionCriteria:e.adSelectionCriteria,anchorElement:t.event.target,strings:e.config.localizedStrings},bubbles:!0,composed:!0}))},l=(e,t)=>("Enter"===t.event.key&&a(e,t),!0),u=e=>o.qy` ${(0,i.z)(!!e.enableDSADialog,o.qy`<a class="ad-label dsa" data-t=${e.telemetryTag||""} title=${e.dsaDialogTooltip||""} ?no-border=${Boolean(e.noBorder)} @click=${a} @keydown=${l} tabindex="0">${e.text||"Ad"}</a>`)} ${(0,i.z)(!e.enableDSADialog,o.qy`<a class="ad-label" data-t=${e.telemetryTag||""} href=${e.href||""} target="${r.z._blank}" title=${e.text||""} ?no-border=${Boolean(e.noBorder)}>${e.text||"Ad"}</a>`)} `},75974:function(e,t,n){n.d(t,{S:function(){return o},y:function(){return i}});var r=n(74849);const o=r.A`
:host{--color-card-background:#333333;--color-brand-background-2:#082338;--color-brand-background-2-hover:#0c3b5e;--color-neutral-background-2:#1f1f1f;--color-neutral-background-1-hover:#3d3d3d;--color-neutral-background-1:#292929;--color-neutral-background-2-hover:#292929;--color-neutral-background-2:#141414;--color-neutral-background-alpha-2:rgba(31,31,31,0.7);--color-neutral-foreground-1:#ffffff;--color-neutral-foreground-2:#d6d6d6;--color-neutral-foreground-3:#adadad;--color-neutral-stroke-1:#666666;--color-neutral-stroke-2:#525252;--color-neutral-stroke-3:#3d3d3d;--color-neutral-stroke-hover:#757575;--color-neutral-stroke-accessible-hover:#bdbdbd;--color-neutral-stroke-accessible:#adadad;--color-neutral-stroke-alpha:rgba(255,255,255,0.1);--color-neutral-stroke-1-pressed:#6b6b6b;--color-neutral-fill-secondary:#3b3b3b;--color-neutral-fill-secondary-hover:#383838}`,i=r.A`
:host{--color-card-background:#ffffff;--color-brand-background-2:#ebf3fc;--color-brand-background-2-hover:#cfe4fa;--color-neutral-background-2:#fafafa;--color-neutral-background-1-hover:#f5f5f5;--color-neutral-background-1:#ffffff;--color-neutral-background-2-hover:#ebebeb;--color-neutral-background-2:#f5f5f5;--color-neutral-background-alpha-2:rgba(255,255,255,0.8);--color-neutral-foreground-1:#242424;--color-neutral-foreground-2:#424242;--color-neutral-foreground-3:#616161;--color-neutral-stroke-1:#d1d1d1;--color-neutral-stroke-2:#e0e0e0;--color-neutral-stroke-3:#f0f0f0;--color-neutral-stroke-hover:#c7c7c7;--color-neutral-stroke-accessible-hover:#575757;--color-neutral-stroke-accessible:#616161;--color-neutral-stroke-alpha:rgba(0,0,0,0.05);--color-neutral-stroke-1-pressed:#b3b3b3;--color-neutral-fill-secondary:#f7f7f7;--color-neutral-fill-secondary-hover:#fcfcfc}`},76284:function(e,t,n){n.d(t,{V:function(){return r}});const r=n(64332).DI.createContext()},76331:function(e,t,n){var r=n(99747);(0,n(85083).O)(),(0,r.registerCSResponsiveCard)()},77512:function(e,t,n){function r(e){return!e.mapRawData}n.d(t,{Yd:function(){return r},wc:function(){return o}});const o=e=>({defaultLayout:e?[e]:[],C6:[],C5:[],C4:[],C3:[],C2:[],C1:[]})},79133:function(e,t,n){n.d(t,{$p:function(){return d},Dd:function(){return u},aR:function(){return l},k6:function(){return c}});var r=n(96950),o=n(91640),i=n(11622),a=n(96244);const l=r.qy`
    ${(0,o.z)(e=>e.config.childExperienceReferencesWC&&e.config.childExperienceReferencesWC.contextualFeedbackWC&&a.V.shouldDisplayFeedLevelCF,r.qy`${e=>(0,i.yN)(e.config.childExperienceReferencesWC.contextualFeedbackWC,{includeTelemetryTag:!1,properties:{cFId:"00000",surveyTemplate:"feed-level",cardType:"feed-level"}})}`)}
`,u=r.qy`
    ${(0,o.z)(e=>e.config.childExperienceReferencesWC&&e.config.childExperienceReferencesWC.contextualFeedbackWC&&a.V.thumbnailCardData&&a.V.thumbnailCardTemplate&&a.V.isThumbnailCardInWhiteList(),r.qy`${e=>{var t,n,r;return(0,i.yN)(e.config.childExperienceReferencesWC.contextualFeedbackWC,{includeTelemetryTag:!1,properties:{cFId:null===(t=a.V.thumbnailCardData)||void 0===t||null===(t=t.wpoMetadata)||void 0===t?void 0:t.cfId,cFMetadataType:null===(n=a.V.thumbnailCardData)||void 0===n?void 0:n.cFMetadataType,thumbnailCardData:a.V.thumbnailCardData,thumbnailCardTemplate:a.V.thumbnailCardTemplate,surveyTemplate:"thumbnail-popup",cardType:"thumbnail-popup",telemetryContent:null===(r=a.V.thumbnailCardData)||void 0===r||null===(r=r.telemetryContext)||void 0===r||null===(r=r.contentCard)||void 0===r||null===(r=r.contract)||void 0===r?void 0:r.content}})}}`)}
`,d=r.qy`
    ${(0,o.z)(e=>{var t,n,r;return(null===(t=e.data)||void 0===t?void 0:t.contextualFeedbackData)&&(null===(n=e.config)||void 0===n||null===(n=n.childRefs)||void 0===n?void 0:n.contextualFeedbackWC)&&a.V.shouldDisplayCSAT(null===(r=e.data)||void 0===r||null===(r=r.contextualFeedbackData)||void 0===r?void 0:r.cFId)},r.qy`${e=>{var t,n,r;return(0,i.yN)(null===(t=e.config)||void 0===t||null===(t=t.childRefs)||void 0===t?void 0:t.contextualFeedbackWC,{includeTelemetryTag:!1,properties:{surveyTemplate:"default",cFId:null===(n=e.data)||void 0===n||null===(n=n.contextualFeedbackData)||void 0===n?void 0:n.cFId,cFMetadataType:null===(r=e.data)||void 0===r||null===(r=r.contextualFeedbackData)||void 0===r?void 0:r.cFMetadataType,wideCardStyle:e.size&&!e.size.startsWith("_1x")&&!e.size.startsWith("_2x")&&!e.size.startsWith("1u"),cardType:e.cFId},attributes:{size:e.size}})}}`)}
`,c=r.qy`
    ${(0,o.z)(e=>{var t;return e.contextualFeedbackData&&(null===(t=e.config)||void 0===t||null===(t=t.childRefs)||void 0===t?void 0:t.contextualFeedbackWC)&&a.V.shouldDisplayCSAT(e.contextualFeedbackData.cFId)},r.qy`${e=>{var t;return(0,i.yN)(null===(t=e.config)||void 0===t||null===(t=t.childRefs)||void 0===t?void 0:t.contextualFeedbackWC,{includeTelemetryTag:!1,properties:{surveyTemplate:"popup",telemetryContent:e.contextualFeedbackData.telemetryContent,cFId:e.contextualFeedbackData.cFId,cFMetadataType:e.contextualFeedbackData.cFMetadataType,additionalContentData:e.contextualFeedbackData.additionalContentData,stateChangeCallback:e.contextualFeedbackData.stateChangeCallback,cardType:`${e.cFId}${e.contextualFeedbackData.telemetryContent?e.contextualFeedbackData.telemetryContent.id:""}`},attributes:{size:e.size}})}}`)}
`},85083:function(e,t,n){n.d(t,{O:function(){return P}});var r=n(65614),o=n(16038);var i=n(56911),a=n(92011),l=n(60815),u=n(76284);class d extends a.L{}(0,i.Cg)([u.V],d.prototype,"configProvider",void 0),(0,i.Cg)([l.sH],d.prototype,"feedLayouts",void 0),(0,i.Cg)([l.sH],d.prototype,"layout",void 0),(0,i.Cg)([l.sH],d.prototype,"placeholderFeedLayout",void 0);var c=n(96950),s=n(12610),f=n(17720);class v{static getViewTemplate(e,t){const n=t&&t.getSuperCardsTemplatesMap(),r=n&&n[e.childTemplateType];if(!r)return null;const o=()=>{const e=c.qy.partial(r);return c.qy`
            <${e}
                class="card-container"
                config-instance-src="${e=>e.configInstanceSrc||"default"}"
                :displaySettings=${e=>e.displaySettings}
                :data=${e=>s.v.createViewModel(e,t)}
                style="grid-area:${e=>e.gridArea}"
                size="${e=>e.cardSize}"
                tabIndex="${e=>e.customTabIndex??0}"
            >
            </${e}>
        `};if(!t.getEnableSuperCardMemoize())return o();const i="_SuperContainer__TagCreatorFactory_",a=f.vv.get(i)||{};return a[r]||(a[r]=o(),f.vv.set(i,a)),a[r]}}var h=n(38493);class p extends d{constructor(){super(...arguments),this.lastFeedLayoutPosition=-1}feedLayoutsChanged(){var e;if(null===(e=this.feedLayouts)||void 0===e||!e.length)return;const t=this.configProvider.getCardTemplatesMap(),n=this.configProvider.getSuperCardsTemplatesMap();for(let e=this.lastFeedLayoutPosition+1;e<this.feedLayouts.length;e++){this.feedLayouts[e].feedData.defaultLayout.forEach(e=>{if(n[e.childTemplateType]){const n=v.getViewTemplate(e,this.configProvider);n&&(t[e.childTemplateType]=n)}})}this.lastFeedLayoutPosition=this.feedLayouts.length-1}}(0,i.Cg)([(0,h.CF)({attribute:"responsive-width"})],p.prototype,"responsiveWidth",void 0);var g=n(75096),m=n(74849);const y=m.A``,b=m.A`
    ${y} :host{display:grid;flex-flow:row wrap;gap:12px;justify-content:center;--layer-corner-radius:8}cs-feed-layout{grid-auto-rows:146px;--card-base-gap:12}:host([responsive-width="true"]) cs-feed-layout{grid-auto-columns:minmax(271px,348px);grid-auto-rows:auto}`.withBehaviors(new g.X(["configProvider"],e=>{var t;let n=m.A``;if(null!==(t=e.configProvider)&&void 0!==t&&null!==(t=t.config)&&void 0!==t&&t.feedLayoutGap){var r;const t=null===(r=e.configProvider)||void 0===r||null===(r=r.config)||void 0===r?void 0:r.feedLayoutGap;n=m.A` :host{gap:${t}px}cs-feed-layout{--card-base-gap:${t}; }
                `}return n}),new g.X(["configProvider"],e=>{var t,n,r;return e.configProvider&&e.configProvider.config&&(null!==(t=e.configProvider.config)&&void 0!==t&&t.useMobileNoHoverCards||null!==(n=e.configProvider.config)&&void 0!==n&&n.useMobileNoHoverLightCards||null!==(r=e.configProvider.config)&&void 0!==r&&r.enableChannelCard)?m.A` cs-feed-layout{grid-auto-rows:auto;grid-auto-columns:auto;`:m.A``}));var k=n(91640),w=n(39957);const $=c.qy` ${(0,k.z)(e=>!!(e.feedData&&e.feedData.defaultLayout&&e.feedData.defaultLayout.length),c.qy`<cs-feed-layout :disabledKeyListeners="${(e,t)=>t.parent.configProvider.getDisabledKeyListeners()}" layout="${(e,t)=>t.parent.layout}" :isPlaceholder="${e=>e.isPlaceholder}" :data="${e=>e.feedData}" :childTemplateMap="${(e,t)=>t.parent.configProvider.getCardTemplatesMap()}" :layoutStyles="${(e,t)=>t.parent.configProvider.getLayoutTemplatesMap()[e.templateId].styles}" style="${(e,t)=>t.parent.configProvider.getOverrideStyles()}" t-card-size="${e=>e.baseCardSize}"></cs-feed-layout>`)}`,C=c.qy` ${(0,k.z)(e=>e.feedLayouts&&e.feedLayouts.length,c.qy` ${(0,w.ux)(e=>e.feedLayouts,$)}<slot name="abovePlaceholder"></slot>${(0,k.z)(e=>e.placeholderFeedLayout,c.qy` ${(0,w.ux)(e=>[e.placeholderFeedLayout],$)} `)} `)}`,F=p.compose({name:"cs-personalized-feed",styles:b,template:C});var _=n(13312),x=n(29307),T=n(77512);class S extends a.L{constructor(){super(...arguments),this.enableWFMonitor=!1,this.sentinelHeight=1}feedLayoutsChanged(){this.mutateCurrentFeedLayouts()}placeholderFeedLayoutChanged(){this.placeholderFeedLayout&&this.mutateFeedLayout(this.placeholderFeedLayout)}layoutChanged(){this.mutateCurrentFeedLayouts(),this.placeholderFeedLayout&&this.mutateFeedLayout(this.placeholderFeedLayout)}responsiveFeedLayoutsChanged(){var e;this.cardTemplateMap=null===(e=this.responsiveFeedLayouts)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.childTemplateMap}disconnectedCallback(){super.disconnectedCallback()}mutateCurrentFeedLayouts(){var e;null!==(e=this.feedLayouts)&&void 0!==e&&e.length&&this.layout&&this.feedLayouts.forEach(e=>this.mutateFeedLayout(e))}mutateFeedLayout(e){var t;const n=this.configProvider.getCardTemplatesMap();n["native-ad-card-video"]||(n["native-ad-card-video"]=(0,x.A)(n["native-ad-card"])),n["native-ad-card-boost"]||(n["native-ad-card-boost"]=(0,x.A)(n["native-ad-card"]));const r=null==e?void 0:e.feedData;null==r||null===(t=r.defaultLayout)||void 0===t||t.forEach((e,t)=>{const o=r[this.layout]&&r[this.layout].find(t=>(0,T.Yd)(t)&&t.id===e.id);o&&"video-card"===o.childTemplateType?e.childTemplateType="video-card":o&&"infopane-slide-card"===o.childTemplateType&&"infopane-slide-card"!==e.childTemplateType&&(r[this.layout].find(t=>(0,T.Yd)(t)&&t.id===e.id).childTemplateType=e.childTemplateType),this.updateTemplateForNotSupportedScenario(e,n)});for(const e in _._4)r[e]&&r[e].forEach(e=>e.childDOMOrder=e.card_dom_order)}personalizedFeedElementChanged(){this.onFeedLayoutElementsChanged&&!this.personalizedFeedElementMutationObserver&&this.personalizedFeedElement&&this.personalizedFeedElement.shadowRoot&&(this.personalizedFeedElementMutationObserver=new MutationObserver(()=>{if(this.personalizedFeedElement&&this.personalizedFeedElement.shadowRoot){const e=Array.from(this.personalizedFeedElement.shadowRoot.children).filter(e=>"CS-FEED-LAYOUT"===e.tagName&&!e.isPlaceholder);this.onFeedLayoutElementsChanged(e)}}),this.personalizedFeedElementMutationObserver.observe(this.personalizedFeedElement.shadowRoot,{childList:!0}))}updateTemplateForNotSupportedScenario(e,t){if(!(e&&"native-ad-card"===e.childTemplateType))return;if(e.videoProps||e.useProng2AmplifyCardTemplate)if(e.videoProps){const n=e.childTemplateType+"-v1";t[n]||(t[n]=t["native-ad-card-video"]),e.childTemplateType=n}else if(e.useProng2AmplifyCardTemplate){const n=e.childTemplateType+"-v2";t[n]||(t[n]=t["native-ad-card-boost"]),e.childTemplateType=n}}getResponsiveCardTemplates(e){if("widgetsWaterfall"===e)return this.cardTemplateMap;const t=this.configProvider.getCardTemplatesMap();t["infopane-card"]=v.getViewTemplate({id:"infopane",childTemplateType:"infopane-card"},this.configProvider),t["native-ad-card-video"]||(t["native-ad-card-video"]=(0,x.A)(t["native-ad-card"]));return t["native-ad-card"]=v.getViewTemplate({id:"nativead",childTemplateType:"native-ad-card"},this.configProvider),t}}(0,i.Cg)([u.V],S.prototype,"configProvider",void 0),(0,i.Cg)([l.sH],S.prototype,"feedLayouts",void 0),(0,i.Cg)([l.sH],S.prototype,"responsiveFeedLayouts",void 0),(0,i.Cg)([l.sH],S.prototype,"enableWFMonitor",void 0),(0,i.Cg)([l.sH],S.prototype,"enableFirstSectionFlush",void 0),(0,i.Cg)([l.sH],S.prototype,"cardTemplateMap",void 0),(0,i.Cg)([l.sH],S.prototype,"childTemplateSizeMap",void 0),(0,i.Cg)([l.sH],S.prototype,"layout",void 0),(0,i.Cg)([l.sH],S.prototype,"personalizedFeedElement",void 0),(0,i.Cg)([l.sH],S.prototype,"sentinelHeight",void 0),(0,i.Cg)([l.sH],S.prototype,"placeholderFeedLayout",void 0),(0,i.Cg)([l.sH],S.prototype,"responsiveWidth",void 0),(0,i.Cg)([l.sH],S.prototype,"seenContentHandler",void 0),(0,i.Cg)([(0,h.CF)({attribute:"enable-content-seen-tracking",mode:"boolean"})],S.prototype,"enableContentSeenTracking",void 0);const L=m.A``;var A=n(60402),M=n(10291);(0,n(56046).C)(M.Be);const z=c.qy`<cs-personalized-feed ${(0,A.K)("personalizedFeedElement")} :layout="${e=>e.layout}" :feedLayouts=${e=>e.feedLayouts} :placeholderFeedLayout=${e=>e.placeholderFeedLayout} :responsiveWidth="${e=>e.responsiveWidth}"><slot name="sentinel" slot="abovePlaceholder"></slot></cs-personalized-feed>`,I=c.qy` ${(0,w.ux)(e=>e.responsiveFeedLayouts,c.qy`<cs-responsive-feed-layout :childTemplateMap="${(e,t)=>t.parent.getResponsiveCardTemplates(e.id)}" :childTemplateSizeMap="${(e,t)=>{var n;return null===(n=t.parent)||void 0===n?void 0:n.childTemplateSizeMap}}" :wideCard="${e=>e.wideCard}" :wideCardSize="${e=>e.wideCardSize}" :onFeedElementsChanged="${(e,t)=>t.parent.onFeedLayoutElementsChanged}" :enableMonitor="${(e,t)=>t.parent.enableWFMonitor}" :onBlankMonitorResult="${e=>e.onBlankMonitorResult}" :sentinelHeight="${(e,t)=>t.parent.sentinelHeight}" :sentinelRenderedElements="${(e,t)=>t.parent.sentinelRenderedElements}" :sectionTrackerTag="${e=>e.sectionTrackerTag}" :renderingMode="${e=>e.rowRendering?"row":"column"}" :responsiveWidth="${(e,t)=>t.parent.responsiveWidth}" :columns="${e=>e.columns}" :customRowSection="${e=>e.customRowSection}" :id="${e=>e.id}" :seenContentHandler="${(e,t)=>t.parent.seenContentHandler}" ?enable-content-seen-tracking="${(e,t)=>t.parent.enableContentSeenTracking}">${void 0}</cs-responsive-feed-layout>`,{positioning:!0})}
`,D=c.qy` ${(0,k.z)(e=>{var t;return!e.responsiveFeedLayouts&&(null===(t=e.feedLayouts)||void 0===t?void 0:t.length)},z)} ${(0,k.z)(e=>{var t;return null===(t=e.responsiveFeedLayouts)||void 0===t?void 0:t.length},I)}
`,N=S.compose({name:"cs-super-container",styles:L,template:D}),P=()=>{F.define(r.G.registry),N.define(r.G.registry),o.m.define(r.G.registry)}},91459:function(e,t,n){n.d(t,{I:function(){return r}});const r="1"},96244:function(e,t,n){n.d(t,{V:function(){return m}});var r=n(56911),o=n(16813),i=n(17720),a=n(16091),l=n(60815),u=n(69583),d=n(98216),c=n(89980),s=n(54761),f=n(93468),v=n(65022),h=n(10117);var p=n(83003);class g{constructor(){this.config={},this.shouldDisplayFeedLevelCF=!1,this.forceDisableCoolDown=!1,this.forceFeedLevelCSATsignal=!1,this.setConfig=e=>{this.config=e},this.triggerFeedLevelCFDisplayIfConditionMet=async()=>{var e;const t=this.forceFeedLevelCSATsignal||(null===(e=await async function(e){try{var t;const n=await h.V_.getWpoOptimizationData(e);if(!n)return null;const r=n.filter(e=>(null==e?void 0:e.type)===s.Ar.feedContextualFeedback),o=(null==r?void 0:r.length)>0&&!(null===(t=r[0])||void 0===t||null===(t=t.properties)||void 0===t||!t.showFeedCF);if(o)return d.YT.addOrUpdateTmplProperty("wpopromflcf","1"),{showFeedCF:o}}catch(e){const t="Error in getting wpo feed-level contextual feedback promotion data";(0,f.vV)(v.nwt,t,`error:${e}`)}return null}())||void 0===e?void 0:e.showFeedCF),n=this.getInCoolDown();t&&n&&d.YT.addOrUpdateTmplProperty("feedCFBlocked","1"),t&&!n&&(this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF("feedLevelCF"),this.shouldDisplayFeedLevelCF=!0)},this.triggerCFDisplayIfConditionMet=(e,t)=>{if(this.thumbnailCardData)return;const n=e.defaultLayout[0],r=n.wpoMetadata;let o=(null==r?void 0:r.cFMetadataType)||(null==n?void 0:n.type);const i=null==r?void 0:r.isGA,a=this.getInCoolDown();if(i&&a&&d.YT.addOrUpdateTmplProperty("cardCFBlocked",r.cfId||"1"),i&&!a){var l;r.cfId||(r.cfId="00002",o=p.pL.Article);let i=null===(l=e.C1)||void 0===l?void 0:l[0];i&&i.mapRawData&&(i=i.mapRawData()),this.thumbnailCardData={...n,...i,cardSize:"1u",colSpan:1,cFMetadataType:o},this.thumbnailCardTemplate=t,this.isThumbnailCardInWhiteList()&&this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF(r.cfId)}},this.shouldDisplayCSAT=e=>this.getInCoolDown()?(d.YT.addOrUpdateTmplProperty("cardCFBlocked",e||"1"),!1):(this.config.enableNurturingTriggerCSAT&&this.callNurturingToTriggerCF(e),!0),this.callNurturingToTriggerCF=e=>{const t={id:"popupCF",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"ContextualFeedbackCardLevel"},contentModel:{title:"cf title",description:"cf description",contentType:o.r.CallToChoice,choiceOptions:[]}};(0,u.sn)().then(n=>{n.sendInternalPlacement(t),d.YT.addOrUpdateTmplProperty("cfNurturingCalled",e||"1")})};const e=new URLSearchParams(window.location.search);this.forceDisableCoolDown=!(null==e||!e.get("forceCSATCoolDown")),this.forceFeedLevelCSATsignal=!(null==e||!e.get("forceCSATSignal"))}static getInstance(){return i.vv.get("__contextualFeedbackController__",()=>new g)}getInCoolDown(){return!this.forceDisableCoolDown&&(void 0===this.inCoolDown&&(this.inCoolDown=this.hasRecentShown()),this.inCoolDown)}resetInCoolDown(){this.inCoolDown=void 0}hasRecentShown(){const e=(0,c.Lg)().getObject("isGAShow");if(!e)return!1;const t=new Date(e.universal);return((new Date).getTime()-t.getTime())/864e5<=14}isThumbnailCardInWhiteList(){var e;return this.config.thumbnailCardType===(null===(e=this.thumbnailCardData)||void 0===e?void 0:e.childTemplateType)}}(0,r.Cg)([l.sH],g.prototype,"shouldDisplayFeedLevelCF",void 0),(0,r.Cg)([l.sH],g.prototype,"thumbnailCardData",void 0),(0,r.Cg)([l.sH],g.prototype,"thumbnailCardTemplate",void 0);const m=(0,a.G)(g)}}]);