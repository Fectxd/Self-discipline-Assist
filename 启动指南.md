# 🚀 运行指南

## 中国大陆用户必读

由于网络原因，请先在 PowerShell 中设置镜像：

```powershell
$env:PUB_HOSTED_URL="https://pub.flutter-io.cn"
$env:FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"
```

## 快速启动步骤

### 1. 进入项目目录
```powershell
cd "d:\自律助手\self_discipline_assistant"
```

### 2. 安装依赖（如果还没安装）
```powershell
flutter pub get
```

### 3. 运行应用

**Windows 桌面版（推荐）：**
```powershell
flutter run -d windows
```

**Web 版本：**
```powershell
flutter run -d chrome
```

## 项目说明

✅ **已完成功能：**
1. ✅ 日程界面 - 创建、编辑、删除、标记完成
2. ✅ 日历界面 - 月视图、周视图切换
3. ✅ 中国节假日实时获取（API: https://timor.tech/api/holiday/）
4. ✅ 手动覆盖工作日/休息日（长按日历日期）
5. ✅ 本地 SQLite 数据库存储
6. ✅ 优先级系统：手动设置 > API数据 > 默认判断

## 使用方法

### 日程管理
- 点击右下角 ➕ 添加日程
- 点击日程项右侧菜单编辑或删除
- 勾选复选框标记完成

### 日历管理
- 查看月度日历，颜色标识：
  - 🔵 **蓝色** = 工作日
  - 🟢 **绿色** = 周末
  - 🔴 **红色** = 法定节假日
- **长按日期**可手动修改日期类型
- 手动设置优先级最高，不会被覆盖

## 后续开发

- [ ] 接入 GPT API 智能日程规划
- [ ] 突发情况智能调整
- [ ] 移动端适配
- [ ] 云端同步

## 常见问题

**Q: 启动报错？**
A: 确保已安装依赖：`flutter pub get`

**Q: 节假日数据加载失败？**
A: 检查网络，确保能访问 https://timor.tech

**Q: 想清空数据库？**
A: 删除文件：`$env:LOCALAPPDATA\SelfDiscipline\databases\self_discipline.db`
